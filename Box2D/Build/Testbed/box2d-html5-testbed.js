var g,ba=this;
function ca(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
c&&"undefined"==typeof a.call)return"object";return c}function p(a,c){var b=a.split("."),d=ba;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d=d[e]?d[e]:d[e]={}:d[e]=c}function q(a,c){function b(){}b.prototype=c.prototype;a.RE=c.prototype;a.prototype=new b;a.prototype.constructor=a;a.VD=function(a,b,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return c.prototype[b].apply(a,h)}};function da(){this.ub()}da.prototype.Gu=!1;da.prototype.ub=function(){this.Gu=!1};Object.defineProperty||(Object.defineProperty=function(a,c,b){Object.__defineGetter__&&("get"in b?a.__defineGetter__(c,b.get):"value"in b&&a.__defineGetter__(c,b.value));Object.__defineSetter__&&("set"in b?a.__defineSetter__(c,b.set):"value"in b&&a.__defineSetter__(c,b.value))});p("box2d.DEBUG",!1);p("box2d.ENABLE_ASSERTS",!1);p("box2d.b2Assert",function(){});p("box2d.b2_maxFloat",1E37);p("box2d.b2_epsilon",1E-5);var ea=1E-5*1E-5;p("box2d.b2_epsilon_sq",ea);var fa=Math.PI;p("box2d.b2_pi",fa);
p("box2d.b2_maxManifoldPoints",2);p("box2d.b2_maxPolygonVertices",8);p("box2d.b2_aabbExtension",.1);p("box2d.b2_aabbMultiplier",2);p("box2d.b2_linearSlop",.008);var ga=2/180*fa;p("box2d.b2_angularSlop",ga);p("box2d.b2_polygonRadius",.016);p("box2d.b2_maxSubSteps",8);p("box2d.b2_maxTOIContacts",32);p("box2d.b2_velocityThreshold",1);p("box2d.b2_maxLinearCorrection",.2);var ha=8/180*fa;p("box2d.b2_maxAngularCorrection",ha);p("box2d.b2_maxTranslation",2);p("box2d.b2_maxTranslationSquared",4);
var ja=.5*fa;p("box2d.b2_maxRotation",ja);var ka=ja*ja;p("box2d.b2_maxRotationSquared",ka);p("box2d.b2_baumgarte",.2);p("box2d.b2_toiBaumgarte",.75);p("box2d.b2_invalidParticleIndex",-1);p("box2d.b2_maxParticleIndex",2147483647);p("box2d.b2_particleStride",.75);p("box2d.b2_minParticleWeight",1);p("box2d.b2_maxParticlePressure",.25);p("box2d.b2_maxParticleForce",.5);p("box2d.b2_maxTriadDistance",2);p("box2d.b2_maxTriadDistanceSquared",4);p("box2d.b2_minParticleSystemBufferCapacity",256);
p("box2d.b2_barrierCollisionTime",2.5);p("box2d.b2_timeToSleep",.5);p("box2d.b2_linearSleepTolerance",.01);var la=2/180*fa;p("box2d.b2_angularSleepTolerance",la);p("box2d.b2Alloc",function(){return null});p("box2d.b2Free",function(){});function ma(a){ba.console.log.apply(null,arguments)}p("box2d.b2Log",ma);function oa(a,c,b){this.Su=a||0;this.Uu=c||0;this.Xu=b||0}p("box2d.b2Version",oa);oa.prototype.Su=0;oa.prototype.major=oa.prototype.Su;oa.prototype.Uu=0;oa.prototype.minor=oa.prototype.Uu;
oa.prototype.Xu=0;oa.prototype.revision=oa.prototype.Xu;oa.prototype.toString=function(){return this.Su+"."+this.Uu+"."+this.Xu};oa.prototype.toString=oa.prototype.toString;var pa=new oa(2,3,2);p("box2d.b2_version",pa);p("box2d.b2_changelist",313);function qa(a){return parseInt(a,10)}p("box2d.b2ParseInt",qa);p("box2d.b2ParseUInt",function(a){return ra(parseInt(a,10))});
function sa(a,c){a="number"===typeof a?a:0;var b=[];if("function"===typeof c)for(var d=0;d<a;++d)b.push(c(d));else for(d=0;d<a;++d)b.push(null);return b}p("box2d.b2MakeArray",sa);function ta(a){return sa(a,function(){return 0})}p("box2d.b2MakeNumberArray",ta);function va(){}p("box2d.b2ControllerEdge",va);va.prototype.Nt=null;va.prototype.controller=va.prototype.Nt;va.prototype.body=null;va.prototype.body=va.prototype.body;va.prototype.cm=null;va.prototype.prevBody=va.prototype.cm;va.prototype.Gf=null;va.prototype.nextBody=va.prototype.Gf;va.prototype.dm=null;va.prototype.prevController=va.prototype.dm;va.prototype.zk=null;va.prototype.nextController=va.prototype.zk;function wa(){}p("box2d.b2Controller",wa);wa.prototype.j=null;wa.prototype.m_world=wa.prototype.j;
wa.prototype.Cb=null;wa.prototype.m_bodyList=wa.prototype.Cb;wa.prototype.Vc=0;wa.prototype.m_bodyCount=wa.prototype.Vc;wa.prototype.qb=null;wa.prototype.m_prev=wa.prototype.qb;wa.prototype.Y=null;wa.prototype.m_next=wa.prototype.Y;wa.prototype.C=function(){};wa.prototype.Step=wa.prototype.C;wa.prototype.Hk=function(){};wa.prototype.Draw=wa.prototype.Hk;wa.prototype.ud=function(){return this.Y};wa.prototype.GetNext=wa.prototype.ud;wa.prototype.vz=function(){return this.qb};wa.prototype.GetPrev=wa.prototype.vz;
wa.prototype.Zs=function(){return this.j};wa.prototype.GetWorld=wa.prototype.Zs;wa.prototype.Cs=function(){return this.Cb};wa.prototype.GetBodyList=wa.prototype.Cs;wa.prototype.Ch=function(a){var c=new va;c.body=a;c.Nt=this;c.Gf=this.Cb;c.cm=null;this.Cb&&(this.Cb.cm=c);this.Cb=c;++this.Vc;c.zk=a.me;c.dm=null;a.me&&(a.me.dm=c);a.me=c;++a.qj};wa.prototype.AddBody=wa.prototype.Ch;
wa.prototype.lt=function(a){for(var c=this.Cb;c&&c.body!==a;)c=c.Gf;c.cm&&(c.cm.Gf=c.Gf);c.Gf&&(c.Gf.cm=c.cm);this.Cb===c&&(this.Cb=c.Gf);--this.Vc;c.zk&&(c.zk.dm=c.dm);c.dm&&(c.dm.zk=c.zk);a.me===c&&(a.me=c.zk);--a.qj};wa.prototype.RemoveBody=wa.prototype.lt;wa.prototype.Fk=function(){for(;this.Cb;)this.lt(this.Cb.body);this.Vc=0};wa.prototype.Clear=wa.prototype.Fk;function xa(a,c,b,d){this.Bb=a;this.yb=c;this.xb=b;this.o="number"===typeof d?d:1}p("box2d.b2Color",xa);xa.prototype.Bb=.5;xa.prototype.r=xa.prototype.Bb;xa.prototype.yb=.5;xa.prototype.g=xa.prototype.yb;xa.prototype.xb=.5;xa.prototype.b=xa.prototype.xb;xa.prototype.o=1;xa.prototype.a=xa.prototype.o;xa.prototype.jg=function(a,c,b){this.Bb=a;this.yb=c;this.xb=b;return this};xa.prototype.SetRGB=xa.prototype.jg;
xa.prototype.fg=function(a){var c=Math.round(Math.max(0,Math.min(255,255*this.Bb))),b=Math.round(Math.max(0,Math.min(255,255*this.yb))),d=Math.round(Math.max(0,Math.min(255,255*this.xb)));a="undefined"===typeof a?this.o:Math.max(0,Math.min(1,a));return ya(c,b,d,a)};xa.prototype.MakeStyleString=xa.prototype.fg;function ya(a,c,b,d){return 1>d?"rgba("+a+","+c+","+b+","+d+")":"rgb("+a+","+c+","+b+")"}xa.MakeStyleString=ya;var za=new xa(1,0,0);xa.RED=za;var Aa=new xa(0,1,0);xa.GREEN=Aa;
xa.BLUE=new xa(0,0,1);var Ba={yE:0,JE:1,uE:2,WD:4,AE:8,bE:16,hE:32,BE:64,XD:65535};p("box2d.b2DrawFlags",Ba);Ba.e_none=0;Ba.e_shapeBit=1;Ba.e_jointBit=2;Ba.e_aabbBit=4;Ba.e_pairBit=8;Ba.e_centerOfMassBit=16;Ba.e_controllerBit=32;Ba.e_particleBit=64;Ba.e_all=65535;function Ca(){}p("box2d.b2Draw",Ca);Ca.prototype.pl=0;Ca.prototype.m_drawFlags=Ca.prototype.pl;Ca.prototype.cq=function(a){this.pl=a};Ca.prototype.SetFlags=Ca.prototype.cq;Ca.prototype.Vp=function(){return this.pl};
Ca.prototype.GetFlags=Ca.prototype.Vp;Ca.prototype.Zx=function(a){this.pl|=a};Ca.prototype.AppendFlags=Ca.prototype.Zx;Ca.prototype.dy=function(a){this.pl&=~a};Ca.prototype.ClearFlags=Ca.prototype.dy;Ca.prototype.bo=function(){};Ca.prototype.PushTransform=Ca.prototype.bo;Ca.prototype.ao=function(){};Ca.prototype.PopTransform=Ca.prototype.ao;Ca.prototype.Kf=function(){};Ca.prototype.DrawPolygon=Ca.prototype.Kf;Ca.prototype.Jn=function(){};Ca.prototype.DrawSolidPolygon=Ca.prototype.Jn;
Ca.prototype.Ik=function(){};Ca.prototype.DrawCircle=Ca.prototype.Ik;Ca.prototype.Mp=function(){};Ca.prototype.DrawSolidCircle=Ca.prototype.Mp;Ca.prototype.In=function(){};Ca.prototype.DrawParticles=Ca.prototype.In;Ca.prototype.oc=function(){};Ca.prototype.DrawSegment=Ca.prototype.oc;Ca.prototype.Np=function(){};Ca.prototype.DrawTransform=Ca.prototype.Np;function Da(a){this.Xo=Array(a)}p("box2d.b2GrowableStack",Da);Da.prototype.Xo=null;Da.prototype.m_stack=Da.prototype.Xo;Da.prototype.n=0;Da.prototype.m_count=Da.prototype.n;Da.prototype.ub=function(){this.n=0;return this};Da.prototype.Reset=Da.prototype.ub;Da.prototype.Wd=function(a){this.Xo[this.n]=a;++this.n};Da.prototype.Push=Da.prototype.Wd;Da.prototype.xm=function(){--this.n;var a=this.Xo[this.n];this.Xo[this.n]=null;return a};Da.prototype.Pop=Da.prototype.xm;Da.prototype.Lk=function(){return this.n};
Da.prototype.GetCount=Da.prototype.Lk;var Ea=fa/180;p("box2d.b2_pi_over_180",Ea);var Ga=180/fa;p("box2d.b2_180_over_pi",Ga);var Ha=2*fa;p("box2d.b2_two_pi",Ha);var ra=Math.abs;p("box2d.b2Abs",ra);var Ia=Math.min;p("box2d.b2Min",Ia);var Ja=Math.max;p("box2d.b2Max",Ja);function Ka(a,c,b){return Math.min(Math.max(a,c),b)}p("box2d.b2Clamp",Ka);p("box2d.b2Wrap",function(a,c,b){return c<b?a<c?b-(c-a)%(b-c):c+(a-c)%(b-c):c===b?c:a});function La(a){return 0>a?(a-fa)%Ha+fa:(a+fa)%Ha-fa}p("box2d.b2WrapAngle",La);
p("box2d.b2Swap",function(a,c){var b=a[0];a[0]=c[0];c[0]=b});p("box2d.b2IsValid",function(a){return isFinite(a)});function Ma(a){return a*a}p("box2d.b2Sq",Ma);function Pa(a){return 1/Math.sqrt(a)}p("box2d.b2InvSqrt",Pa);function Qa(a){return Math.sqrt(a)}p("box2d.b2Sqrt",Qa);function Ra(a,c){return Math.pow(a,c)}p("box2d.b2Pow",Ra);p("box2d.b2DegToRad",function(a){return a*Ea});p("box2d.b2RadToDeg",function(a){return a*Ga});function Sa(a){return Math.cos(a)}p("box2d.b2Cos",Sa);
function Ta(a){return Math.sin(a)}p("box2d.b2Sin",Ta);p("box2d.b2Acos",function(a){return Math.acos(a)});function Ua(a){return Math.asin(a)}p("box2d.b2Asin",Ua);function Va(a,c){return Math.atan2(a,c)}p("box2d.b2Atan2",Va);p("box2d.b2NextPowerOfTwo",function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1});p("box2d.b2IsPowerOfTwo",function(a){return 0<a&&0===(a&a-1)});function Wa(){return 2*Math.random()-1}p("box2d.b2Random",Wa);
function Xa(a,c){return(c-a)*Math.random()+a}p("box2d.b2RandomRange",Xa);function r(a,c){this.x=a||0;this.y=c||0}p("box2d.b2Vec2",r);r.prototype.x=0;r.prototype.x=r.prototype.x;r.prototype.y=0;r.prototype.y=r.prototype.y;var ab=new r;p("box2d.b2Vec2_zero",ab);r.ZERO=new r;var cb=new r(1,0);r.UNITX=cb;r.UNITY=new r(0,1);var u=new r;r.s_t0=u;var db=new r;r.s_t1=db;var eb=new r;r.s_t2=eb;var fb=new r;r.s_t3=fb;function gb(a){return sa(a,function(){return new r})}r.MakeArray=gb;
r.prototype.za=function(){return new r(this.x,this.y)};r.prototype.Clone=r.prototype.za;r.prototype.ba=function(){this.y=this.x=0;return this};r.prototype.SetZero=r.prototype.ba;r.prototype.h=function(a,c){this.x=a;this.y=c;return this};r.prototype.Set=r.prototype.h;r.prototype.e=function(a){this.x=a.x;this.y=a.y;return this};r.prototype.Copy=r.prototype.e;r.prototype.Qa=function(a){this.x+=a.x;this.y+=a.y;return this};r.prototype.SelfAdd=r.prototype.Qa;
r.prototype.qt=function(a,c){this.x+=a;this.y+=c;return this};r.prototype.SelfAddXY=r.prototype.qt;r.prototype.Ob=function(a){this.x-=a.x;this.y-=a.y;return this};r.prototype.SelfSub=r.prototype.Ob;r.prototype.tt=function(a,c){this.x-=a;this.y-=c;return this};r.prototype.SelfSubXY=r.prototype.tt;r.prototype.Ia=function(a){this.x*=a;this.y*=a;return this};r.prototype.SelfMul=r.prototype.Ia;r.prototype.wa=function(a,c){this.x+=a*c.x;this.y+=a*c.y;return this};r.prototype.SelfMulAdd=r.prototype.wa;
r.prototype.mb=function(a,c){this.x-=a*c.x;this.y-=a*c.y;return this};r.prototype.SelfMulSub=r.prototype.mb;r.prototype.ny=function(a){return this.x*a.x+this.y*a.y};r.prototype.Dot=r.prototype.ny;r.prototype.ky=function(a){return this.x*a.y-this.y*a.x};r.prototype.Cross=r.prototype.ky;r.prototype.qc=function(){var a=this.x,c=this.y;return Math.sqrt(a*a+c*c)};r.prototype.Length=r.prototype.qc;r.prototype.Ze=function(){var a=this.x,c=this.y;return a*a+c*c};r.prototype.LengthSquared=r.prototype.Ze;
r.prototype.ic=function(){var a=this.qc();if(1E-5<=a){var c=1/a;this.x*=c;this.y*=c}return a};r.prototype.Normalize=r.prototype.ic;r.prototype.ig=function(){this.ic();return this};r.prototype.SelfNormalize=r.prototype.ig;r.prototype.Ew=function(a,c){var b=this.x,d=this.y;this.x=a*b-c*d;this.y=c*b+a*d;return this};r.prototype.SelfRotate=r.prototype.Ew;r.prototype.Fw=function(a){return this.Ew(Math.cos(a),Math.sin(a))};r.prototype.SelfRotateAngle=r.prototype.Fw;
r.prototype.Yn=function(){return isFinite(this.x)&&isFinite(this.y)};r.prototype.IsValid=r.prototype.Yn;r.prototype.tA=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this};r.prototype.SelfMin=r.prototype.tA;r.prototype.sA=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this};r.prototype.SelfMax=r.prototype.sA;r.prototype.fo=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);return this};r.prototype.SelfAbs=r.prototype.fo;
r.prototype.Pa=function(){this.x=-this.x;this.y=-this.y;return this};r.prototype.SelfNeg=r.prototype.Pa;r.prototype.st=function(){var a=this.x;this.x=-this.y;this.y=a;return this};r.prototype.SelfSkew=r.prototype.st;function hb(a,c){c.x=Math.abs(a.x);c.y=Math.abs(a.y);return c}p("box2d.b2Abs_V2",hb);function ib(a,c,b){b.x=Math.min(a.x,c.x);b.y=Math.min(a.y,c.y);return b}p("box2d.b2Min_V2_V2",ib);function jb(a,c,b){b.x=Math.max(a.x,c.x);b.y=Math.max(a.y,c.y);return b}p("box2d.b2Max_V2_V2",jb);
function kb(a,c,b,d){d.x=Math.min(Math.max(a.x,c.x),b.x);d.y=Math.min(Math.max(a.y,c.y),b.y);return d}p("box2d.b2Clamp_V2_V2_V2",kb);function v(a,c){return a.x*c.x+a.y*c.y}p("box2d.b2Dot_V2_V2",v);function w(a,c){return a.x*c.y-a.y*c.x}p("box2d.b2Cross_V2_V2",w);function nb(a,c,b){var d=a.x;b.x=c*a.y;b.y=-c*d;return b}p("box2d.b2Cross_V2_S",nb);function ob(a,c,b){var d=c.x;b.x=-a*c.y;b.y=a*d;return b}p("box2d.b2Cross_S_V2",ob);function pb(a,c,b){b.x=a.x+c.x;b.y=a.y+c.y;return b}
p("box2d.b2Add_V2_V2",pb);function x(a,c,b){b.x=a.x-c.x;b.y=a.y-c.y;return b}p("box2d.b2Sub_V2_V2",x);p("box2d.b2Add_V2_S",function(a,c,b){b.x=a.x+c;b.y=a.y+c;return b});p("box2d.b2Sub_V2_S",function(a,c,b){b.x=a.x-c;b.y=a.y-c;return b});function qb(a,c,b){b.x=c.x*a;b.y=c.y*a;return b}p("box2d.b2Mul_S_V2",qb);function rb(a,c,b){b.x=a.x*c;b.y=a.y*c;return b}p("box2d.b2Mul_V2_S",rb);p("box2d.b2Div_V2_S",function(a,c,b){b.x=a.x/c;b.y=a.y/c;return b});
function sb(a,c,b,d){d.x=a.x+c*b.x;d.y=a.y+c*b.y;return d}p("box2d.b2AddMul_V2_S_V2",sb);function tb(a,c,b,d){d.x=a.x-c*b.x;d.y=a.y-c*b.y;return d}p("box2d.b2SubMul_V2_S_V2",tb);function ub(a,c,b,d){var e=b.x;d.x=a.x-c*b.y;d.y=a.y+c*e;return d}p("box2d.b2AddCross_V2_S_V2",ub);function vb(a,c,b){b.x=.5*(a.x+c.x);b.y=.5*(a.y+c.y);return b}p("box2d.b2Mid_V2_V2",vb);function wb(a,c,b){b.x=.5*(c.x-a.x);b.y=.5*(c.y-a.y);return b}p("box2d.b2Ext_V2_V2",wb);
function xb(a,c){var b=a.x-c.x,d=a.y-c.y;return Math.sqrt(b*b+d*d)}p("box2d.b2Distance",xb);function yb(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d}p("box2d.b2DistanceSquared",yb);function zb(a,c,b){this.x=a||0;this.y=c||0;this.z=b||0}p("box2d.b2Vec3",zb);zb.prototype.x=0;zb.prototype.x=zb.prototype.x;zb.prototype.y=0;zb.prototype.y=zb.prototype.y;zb.prototype.z=0;zb.prototype.z=zb.prototype.z;zb.ZERO=new zb;var Ab=new zb;zb.s_t0=Ab;zb.prototype.za=function(){return new zb(this.x,this.y,this.z)};
zb.prototype.Clone=zb.prototype.za;zb.prototype.ba=function(){this.z=this.y=this.x=0;return this};zb.prototype.SetZero=zb.prototype.ba;zb.prototype.h=function(a,c,b){this.x=a;this.y=c;this.z=b;return this};zb.prototype.Set=zb.prototype.h;zb.prototype.e=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};zb.prototype.Copy=zb.prototype.e;zb.prototype.Pa=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};zb.prototype.SelfNeg=zb.prototype.Pa;
zb.prototype.Qa=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};zb.prototype.SelfAdd=zb.prototype.Qa;zb.prototype.oA=function(a,c){this.x+=a.x;this.y+=a.y;this.z+=c;return this};zb.prototype.SelfAddV2=zb.prototype.oA;zb.prototype.pA=function(a,c,b){this.x+=a;this.y+=c;this.z+=b;return this};zb.prototype.SelfAddXYZ=zb.prototype.pA;zb.prototype.Ob=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};zb.prototype.SelfSub=zb.prototype.Ob;
zb.prototype.xA=function(a,c){this.x-=a.x;this.y-=a.y;this.z-=c;return this};zb.prototype.SelfSubV2=zb.prototype.xA;zb.prototype.yA=function(a,c,b){this.x-=a;this.y-=c;this.z-=b;return this};zb.prototype.SelfSubXYZ=zb.prototype.yA;zb.prototype.Ia=function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this};zb.prototype.SelfMul=zb.prototype.Ia;zb.prototype.uA=function(a,c){this.x*=a.x;this.y*=a.y;this.z*=c;return this};zb.prototype.SelfMulV2=zb.prototype.uA;
zb.prototype.vA=function(a,c,b){this.x*=a;this.y*=c;this.z*=b;return this};zb.prototype.SelfMulXYZ=zb.prototype.vA;zb.prototype.aq=function(a){this.x*=a;this.y*=a;this.z*=a;return this};zb.prototype.SelfMulScalar=zb.prototype.aq;zb.prototype.qc=function(){var a=this.x,c=this.y,b=this.z;return Math.sqrt(a*a+c*c+b*b)};zb.prototype.Length=zb.prototype.qc;zb.prototype.Ze=function(){var a=this.x,c=this.y,b=this.z;return a*a+c*c+b*b};zb.prototype.LengthSquared=zb.prototype.Ze;
zb.prototype.ic=function(){var a=this.qc();if(1E-5<=a){var c=1/a;this.x*=c;this.y*=c;this.z*=c}return a};zb.prototype.Normalize=zb.prototype.ic;zb.prototype.ig=function(){this.ic();return this};zb.prototype.SelfNormalize=zb.prototype.ig;function Bb(a,c,b){b.x=a.x+c.x;b.y=a.y+c.y;b.z=a.z+c.z;return b}p("box2d.b2Add_V3_V3",Bb);function Cb(a,c,b){b.x=a.x+c.x;b.y=a.y+c.y;b.z=a.z+c.z;return b}p("box2d.b2Sub_V3_V3",Cb);function Db(a,c){return a.x*c.x+a.y*c.y+a.z*c.z}p("box2d.b2Dot_V3_V3",Db);
function Eb(a,c,b){var d=a.x,e=a.y;a=a.z;var f=c.x,h=c.y;c=c.z;b.x=e*c-a*h;b.y=a*f-d*c;b.z=d*h-e*f;return b}p("box2d.b2Cross_V3_V3",Eb);function Fb(a,c,b,d){this.x=a||0;this.y=c||0;this.z=b||0;this.M=d||0}p("box2d.b2Vec4",Fb);Fb.prototype.x=0;Fb.prototype.x=Fb.prototype.x;Fb.prototype.y=0;Fb.prototype.y=Fb.prototype.y;Fb.prototype.z=0;Fb.prototype.z=Fb.prototype.z;Fb.prototype.M=0;Fb.prototype.w=Fb.prototype.M;Fb.ZERO=new Fb(0,0,0,0);Fb.s_t0=new Fb;
Fb.prototype.za=function(){return new Fb(this.x,this.y,this.z,this.M)};Fb.prototype.Clone=Fb.prototype.za;Fb.prototype.ba=function(){this.M=this.z=this.y=this.x=0;return this};Fb.prototype.SetZero=Fb.prototype.ba;Fb.prototype.h=function(a,c,b,d){this.x=a;this.y=c;this.z=b;this.M=d;return this};Fb.prototype.Set=Fb.prototype.h;Fb.prototype.e=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.M=a.M;return this};Fb.prototype.Copy=Fb.prototype.e;function Gb(){this.$=new r(1,0);this.ca=new r(0,1)}
p("box2d.b2Mat22",Gb);Gb.prototype.$=null;Gb.prototype.ex=Gb.prototype.$;Gb.prototype.ca=null;Gb.prototype.ey=Gb.prototype.ca;Gb.IDENTITY=new Gb;Gb.prototype.za=function(){return(new Gb).e(this)};Gb.prototype.Clone=Gb.prototype.za;Gb.prototype.Ba=function(a){var c=Math.cos(a);a=Math.sin(a);this.$.h(c,a);this.ca.h(-a,c);return this};Gb.prototype.SetAngle=Gb.prototype.Ba;Gb.prototype.e=function(a){this.$.e(a.$);this.ca.e(a.ca);return this};Gb.prototype.Copy=Gb.prototype.e;
Gb.prototype.Pf=function(){this.$.h(1,0);this.ca.h(0,1);return this};Gb.prototype.SetIdentity=Gb.prototype.Pf;Gb.prototype.ba=function(){this.$.ba();this.ca.ba();return this};Gb.prototype.SetZero=Gb.prototype.ba;Gb.prototype.hc=function(){return Math.atan2(this.$.y,this.$.x)};Gb.prototype.GetAngle=Gb.prototype.hc;Gb.prototype.tm=function(a){var c=this.$.x,b=this.ca.x,d=this.$.y,e=this.ca.y,f=c*e-b*d;0!==f&&(f=1/f);a.$.x=f*e;a.ca.x=-f*b;a.$.y=-f*d;a.ca.y=f*c;return a};Gb.prototype.GetInverse=Gb.prototype.tm;
Gb.prototype.gh=function(a,c,b){var d=this.$.x,e=this.ca.x,f=this.$.y,h=this.ca.y,k=d*h-e*f;0!==k&&(k=1/k);b.x=k*(h*a-e*c);b.y=k*(d*c-f*a);return b};Gb.prototype.Solve=Gb.prototype.gh;Gb.prototype.fo=function(){this.$.fo();this.ca.fo();return this};Gb.prototype.SelfAbs=Gb.prototype.fo;Gb.prototype.qA=function(){return this.tm(this)};Gb.prototype.SelfInv=Gb.prototype.qA;Gb.prototype.Qa=function(a){this.$.Qa(a.$);this.ca.Qa(a.ca);return this};Gb.prototype.SelfAdd=Gb.prototype.Qa;
Gb.prototype.Ob=function(a){this.$.Ob(a.$);this.ca.Ob(a.ca);return this};Gb.prototype.SelfSub=Gb.prototype.Ob;p("box2d.b2Abs_M22",function(a,c){var b=a.$,d=a.ca;c.$.x=ra(b.x);c.$.y=ra(b.y);c.ca.x=ra(d.x);c.ca.y=ra(d.y);return c});function Hb(a,c,b){var d=a.$;a=a.ca;var e=c.x;c=c.y;b.x=d.x*e+a.x*c;b.y=d.y*e+a.y*c;return b}p("box2d.b2Mul_M22_V2",Hb);function Ib(a,c,b){var d=a.$;a=a.ca;var e=c.x;c=c.y;b.x=d.x*e+d.y*c;b.y=a.x*e+a.y*c;return b}p("box2d.b2MulT_M22_V2",Ib);
p("box2d.b2Add_M22_M22",function(a,c,b){var d=a.$;a=a.ca;var e=c.$;c=c.ca;b.$.x=d.x+e.x;b.$.y=d.y+e.y;b.ca.x=a.x+c.x;b.ca.y=a.y+c.y;return b});function Jb(a,c,b){var d=a.$.x,e=a.$.y,f=a.ca.x;a=a.ca.y;var h=c.$.x,k=c.$.y,l=c.ca.x;c=c.ca.y;b.$.x=d*h+f*k;b.$.y=e*h+a*k;b.ca.x=d*l+f*c;b.ca.y=e*l+a*c;return b}p("box2d.b2Mul_M22_M22",Jb);function Kb(a,c,b){var d=a.$.x,e=a.$.y,f=a.ca.x;a=a.ca.y;var h=c.$.x,k=c.$.y,l=c.ca.x;c=c.ca.y;b.$.x=d*h+e*k;b.$.y=f*h+a*k;b.ca.x=d*l+e*c;b.ca.y=f*l+a*c;return b}
p("box2d.b2MulT_M22_M22",Kb);function Mb(){this.$=new zb(1,0,0);this.ca=new zb(0,1,0);this.Va=new zb(0,0,1)}p("box2d.b2Mat33",Mb);Mb.prototype.$=null;Mb.prototype.ex=Mb.prototype.$;Mb.prototype.ca=null;Mb.prototype.ey=Mb.prototype.ca;Mb.prototype.Va=null;Mb.prototype.ez=Mb.prototype.Va;Mb.IDENTITY=new Mb;Mb.prototype.za=function(){return(new Mb).e(this)};Mb.prototype.Clone=Mb.prototype.za;Mb.prototype.e=function(a){this.$.e(a.$);this.ca.e(a.ca);this.Va.e(a.Va);return this};Mb.prototype.Copy=Mb.prototype.e;
Mb.prototype.Pf=function(){this.$.h(1,0,0);this.ca.h(0,1,0);this.Va.h(0,0,1);return this};Mb.prototype.SetIdentity=Mb.prototype.Pf;Mb.prototype.ba=function(){this.$.ba();this.ca.ba();this.Va.ba();return this};Mb.prototype.SetZero=Mb.prototype.ba;Mb.prototype.Qa=function(a){this.$.Qa(a.$);this.ca.Qa(a.ca);this.Va.Qa(a.Va);return this};Mb.prototype.SelfAdd=Mb.prototype.Qa;
Mb.prototype.po=function(a,c,b,d){var e=this.$.x,f=this.$.y,h=this.$.z,k=this.ca.x,l=this.ca.y,m=this.ca.z,n=this.Va.x,t=this.Va.y,z=this.Va.z,B=e*(l*z-m*t)+f*(m*n-k*z)+h*(k*t-l*n);0!==B&&(B=1/B);d.x=B*(a*(l*z-m*t)+c*(m*n-k*z)+b*(k*t-l*n));d.y=B*(e*(c*z-b*t)+f*(b*n-a*z)+h*(a*t-c*n));d.z=B*(e*(l*b-m*c)+f*(m*a-k*b)+h*(k*c-l*a));return d};Mb.prototype.Solve33=Mb.prototype.po;
Mb.prototype.Rj=function(a,c,b){var d=this.$.x,e=this.ca.x,f=this.$.y,h=this.ca.y,k=d*h-e*f;0!==k&&(k=1/k);b.x=k*(h*a-e*c);b.y=k*(d*c-f*a);return b};Mb.prototype.Solve22=Mb.prototype.Rj;Mb.prototype.Ks=function(a){var c=this.$.x,b=this.ca.x,d=this.$.y,e=this.ca.y,f=c*e-b*d;0!==f&&(f=1/f);a.$.x=f*e;a.ca.x=-f*b;a.$.z=0;a.$.y=-f*d;a.ca.y=f*c;a.ca.z=0;a.Va.x=0;a.Va.y=0;a.Va.z=0};Mb.prototype.GetInverse22=Mb.prototype.Ks;
Mb.prototype.hw=function(a){var c=Db(this.$,Eb(this.ca,this.Va,Ab));0!==c&&(c=1/c);var b=this.$.x,d=this.ca.x,e=this.Va.x,f=this.ca.y,h=this.Va.y,k=this.Va.z;a.$.x=c*(f*k-h*h);a.$.y=c*(e*h-d*k);a.$.z=c*(d*h-e*f);a.ca.x=a.$.y;a.ca.y=c*(b*k-e*e);a.ca.z=c*(e*d-b*h);a.Va.x=a.$.z;a.Va.y=a.ca.z;a.Va.z=c*(b*f-d*d)};Mb.prototype.GetSymInverse33=Mb.prototype.hw;function Nb(a,c,b){var d=c.x,e=c.y;c=c.z;b.x=a.$.x*d+a.ca.x*e+a.Va.x*c;b.y=a.$.y*d+a.ca.y*e+a.Va.y*c;b.z=a.$.z*d+a.ca.z*e+a.Va.z*c;return b}
p("box2d.b2Mul_M33_V3",Nb);function Ob(a,c,b,d,e){e.x=a.$.x*c+a.ca.x*b+a.Va.x*d;e.y=a.$.y*c+a.ca.y*b+a.Va.y*d;e.z=a.$.z*c+a.ca.z*b+a.Va.z*d;return e}p("box2d.b2Mul_M33_X_Y_Z",Ob);function Pb(a,c,b){var d=c.x;c=c.y;b.x=a.$.x*d+a.ca.x*c;b.y=a.$.y*d+a.ca.y*c;return b}p("box2d.b2Mul22_M33_V2",Pb);function Qb(a,c,b,d){d.x=a.$.x*c+a.ca.x*b;d.y=a.$.y*c+a.ca.y*b;return d}p("box2d.b2Mul_M33_X_Y",Qb);function Rb(a){a&&(this.fb=a,this.Lc=Math.sin(a),this.V=Math.cos(a))}p("box2d.b2Rot",Rb);Rb.prototype.fb=0;
Rb.prototype.angle=Rb.prototype.fb;Rb.prototype.Lc=0;Rb.prototype.s=Rb.prototype.Lc;Rb.prototype.V=1;Rb.prototype.c=Rb.prototype.V;Rb.IDENTITY=new Rb;Rb.prototype.za=function(){return(new Rb).e(this)};Rb.prototype.Clone=Rb.prototype.za;Rb.prototype.e=function(a){this.fb=a.fb;this.Lc=a.Lc;this.V=a.V;return this};Rb.prototype.Copy=Rb.prototype.e;Rb.prototype.h=function(a){1E-5<=Math.abs(this.fb-a)&&(this.fb=a,this.Lc=Math.sin(a),this.V=Math.cos(a));return this};Rb.prototype.Set=Rb.prototype.h;
Rb.prototype.Ba=Rb.prototype.h;Rb.prototype.SetAngle=Rb.prototype.Ba;Rb.prototype.Pf=function(){this.Lc=this.fb=0;this.V=1;return this};Rb.prototype.SetIdentity=Rb.prototype.Pf;Rb.prototype.hc=function(){return this.fb};Rb.prototype.GetAngle=Rb.prototype.hc;Rb.prototype.Pz=function(a){a.x=this.V;a.y=this.Lc;return a};Rb.prototype.GetXAxis=Rb.prototype.Pz;Rb.prototype.Qz=function(a){a.x=-this.Lc;a.y=this.V;return a};Rb.prototype.GetYAxis=Rb.prototype.Qz;
function Sb(a,c,b){var d=a.V,e=a.Lc,f=c.V,h=c.Lc;b.Lc=e*f+d*h;b.V=d*f-e*h;b.fb=La(a.fb+c.fb);return b}p("box2d.b2Mul_R_R",Sb);function Tb(a,c,b){var d=a.V,e=a.Lc,f=c.V,h=c.Lc;b.Lc=d*h-e*f;b.V=d*f+e*h;b.fb=La(a.fb-c.fb);return b}p("box2d.b2MulT_R_R",Tb);function y(a,c,b){var d=a.V;a=a.Lc;var e=c.x;c=c.y;b.x=d*e-a*c;b.y=a*e+d*c;return b}p("box2d.b2Mul_R_V2",y);function Ub(a,c,b){var d=a.V;a=a.Lc;var e=c.x;c=c.y;b.x=d*e+a*c;b.y=-a*e+d*c;return b}p("box2d.b2MulT_R_V2",Ub);
function Vb(){this.sa=new r;this.ha=new Rb}p("box2d.b2Transform",Vb);Vb.prototype.sa=null;Vb.prototype.p=Vb.prototype.sa;Vb.prototype.ha=null;Vb.prototype.q=Vb.prototype.ha;var Wb=new Vb;Vb.IDENTITY=Wb;Vb.prototype.za=function(){return(new Vb).e(this)};Vb.prototype.Clone=Vb.prototype.za;Vb.prototype.e=function(a){this.sa.e(a.sa);this.ha.e(a.ha);return this};Vb.prototype.Copy=Vb.prototype.e;Vb.prototype.Pf=function(){this.sa.ba();this.ha.Pf();return this};Vb.prototype.SetIdentity=Vb.prototype.Pf;
Vb.prototype.h=function(a,c){return this.Tk(a,c)};Vb.prototype.Nw=function(a,c){this.sa.e(a);this.ha.e(c);return this};Vb.prototype.SetPositionRotation=Vb.prototype.Nw;Vb.prototype.Tk=function(a,c){this.sa.e(a);this.ha.Ba(c);return this};Vb.prototype.SetPositionRotationAngle=Vb.prototype.Tk;Vb.prototype.gj=function(a){this.sa.e(a);return this};Vb.prototype.SetPosition=Vb.prototype.gj;Vb.prototype.zt=function(a,c){this.sa.h(a,c);return this};Vb.prototype.SetPositionXY=Vb.prototype.zt;
Vb.prototype.Bt=function(a){this.ha.e(a);return this};Vb.prototype.SetRotation=Vb.prototype.Bt;Vb.prototype.Pw=function(a){this.ha.Ba(a);return this};Vb.prototype.SetRotationAngle=Vb.prototype.Pw;Vb.prototype.ad=function(){return this.sa};Vb.prototype.GetPosition=Vb.prototype.ad;Vb.prototype.Vs=function(){return this.ha};Vb.prototype.GetRotation=Vb.prototype.Vs;Vb.prototype.xz=function(){return this.ha.hc()};Vb.prototype.GetRotationAngle=Vb.prototype.xz;Vb.prototype.hc=function(){return this.ha.hc()};
Vb.prototype.GetAngle=Vb.prototype.hc;function Xb(a,c,b){var d=a.ha.V,e=a.ha.Lc,f=c.x;c=c.y;b.x=d*f-e*c+a.sa.x;b.y=e*f+d*c+a.sa.y;return b}p("box2d.b2Mul_X_V2",Xb);function Yb(a,c,b){var d=a.ha.V,e=a.ha.Lc,f=c.x-a.sa.x;a=c.y-a.sa.y;b.x=d*f+e*a;b.y=-e*f+d*a;return b}p("box2d.b2MulT_X_V2",Yb);function Zb(a,c,b){Sb(a.ha,c.ha,b.ha);pb(y(a.ha,c.sa,b.sa),a.sa,b.sa);return b}p("box2d.b2Mul_X_X",Zb);function $b(a,c,b){Tb(a.ha,c.ha,b.ha);Ub(a.ha,x(c.sa,a.sa,b.sa),b.sa);return b}p("box2d.b2MulT_X_X",$b);
function cc(){this.hb=new r;this.Tc=new r;this.V=new r}p("box2d.b2Sweep",cc);cc.prototype.hb=null;cc.prototype.localCenter=cc.prototype.hb;cc.prototype.Tc=null;cc.prototype.c0=cc.prototype.Tc;cc.prototype.V=null;cc.prototype.c=cc.prototype.V;cc.prototype.$d=0;cc.prototype.a0=cc.prototype.$d;cc.prototype.o=0;cc.prototype.a=cc.prototype.o;cc.prototype.Qf=0;cc.prototype.alpha0=cc.prototype.Qf;cc.prototype.za=function(){return(new cc).e(this)};cc.prototype.Clone=cc.prototype.za;
cc.prototype.e=function(a){this.hb.e(a.hb);this.Tc.e(a.Tc);this.V.e(a.V);this.$d=a.$d;this.o=a.o;this.Qf=a.Qf;return this};cc.prototype.Copy=cc.prototype.e;cc.prototype.Wb=function(a,c){var b=1-c;a.sa.x=b*this.Tc.x+c*this.V.x;a.sa.y=b*this.Tc.y+c*this.V.y;a.ha.Ba(b*this.$d+c*this.o);a.sa.Ob(y(a.ha,this.hb,u));return a};cc.prototype.GetTransform=cc.prototype.Wb;
cc.prototype.Vi=function(a){var c=(a-this.Qf)/(1-this.Qf);this.Tc.x+=c*(this.V.x-this.Tc.x);this.Tc.y+=c*(this.V.y-this.Tc.y);this.$d+=c*(this.o-this.$d);this.Qf=a};cc.prototype.Advance=cc.prototype.Vi;cc.prototype.ic=function(){this.$d=La(this.$d);this.o=La(this.o)};cc.prototype.Normalize=cc.prototype.ic;p("box2d.b2Dot",function(a,c){if(a instanceof r&&c instanceof r)return v(a,c);if(a instanceof zb&&c instanceof zb)return Db(a,c);throw Error();});
p("box2d.b2Cross",function(a,c,b){if(a instanceof r&&c instanceof r)return w(a,c);if(a instanceof r&&"number"===typeof c&&b instanceof r)return nb(a,c,b);if("number"===typeof a&&c instanceof r&&b instanceof r)return ob(a,c,b);if(a instanceof zb&&c instanceof zb&&b instanceof zb)return Eb(a,c,b);throw Error();});p("box2d.b2Add",function(a,c,b){if(a instanceof r&&c instanceof r&&b instanceof r)return pb(a,c,b);if(a instanceof zb&&c instanceof zb&&b instanceof zb)return Bb(a,c,b);throw Error();});
p("box2d.b2Sub",function(a,c,b){if(a instanceof r&&c instanceof r&&b instanceof r)return x(a,c,b);if(a instanceof zb&&c instanceof zb&&b instanceof zb)return Cb(a,c,b);throw Error();});
p("box2d.b2Mul",function(a,c,b){if(a instanceof Gb&&c instanceof r&&b instanceof r)return Hb(a,c,b);if(a instanceof Gb&&c instanceof Gb&&b instanceof Gb)return Jb(a,c,b);if(a instanceof Mb&&c instanceof zb&&b instanceof zb)return Nb(a,c,b);if(a instanceof Rb&&c instanceof Rb&&b instanceof Rb)return Sb(a,c,b);if(a instanceof Rb&&c instanceof r&&b instanceof r)return y(a,c,b);if(a instanceof Vb&&c instanceof r&&b instanceof r)return Xb(a,c,b);if(a instanceof Vb&&c instanceof Vb&&b instanceof Vb)return Zb(a,
c,b);throw Error();});p("box2d.b2Mul22",function(a,c,b){if(a instanceof Mb&&c instanceof r)return Pb(a,c,b);throw Error();});
p("box2d.b2MulT",function(a,c,b){if(a instanceof Gb&&c instanceof r&&b instanceof r)return Ib(a,c,b);if(a instanceof Gb&&c instanceof Gb&&b instanceof Gb)return Kb(a,c,b);if(a instanceof Rb&&c instanceof Rb&&b instanceof Rb)return Tb(a,c,b);if(a instanceof Rb&&c instanceof r&&b instanceof r)return Ub(a,c,b);if(a instanceof Vb&&c instanceof r&&b instanceof r)return Yb(a,c,b);if(a instanceof Vb&&c instanceof Vb&&b instanceof Vb)return $b(a,c,b);throw Error();});function dc(){this.hs=new r(0,0)}q(dc,wa);p("box2d.b2ConstantAccelController",dc);dc.prototype.hs=null;dc.prototype.A=dc.prototype.hs;dc.prototype.C=function(a){a=qb(a.Ib,this.hs,dc.prototype.C.YB);for(var c=this.Cb;c;c=c.Gf){var b=c.body;b.uc&&b.Yd(pb(b.ie(),a,u))}};dc.prototype.Step=dc.prototype.C;dc.prototype.C.YB=new r;function ec(){this.As=new r(0,0)}q(ec,wa);p("box2d.b2ConstantForceController",ec);dc.prototype.As=null;dc.prototype.F=dc.prototype.As;ec.prototype.C=function(){for(var a=this.Cb;a;a=a.Gf){var c=a.body;c.uc&&c.He(this.As,c.Le())}};ec.prototype.Step=ec.prototype.C;function fc(){}q(fc,wa);p("box2d.b2GravityController",fc);fc.prototype.Bs=1;fc.prototype.G=fc.prototype.Bs;fc.prototype.rx=!0;fc.prototype.invSqr=fc.prototype.rx;
fc.prototype.C=function(){if(this.rx)for(var a=this.Cb;a;a=a.Gf)for(var c=a.body,b=c.Le(),d=c.je(),e=this.Cb;e!==a;e=e.Gf){var f=e.body,h=f.Le(),k=f.je(),l=h.x-b.x,m=h.y-b.y,n=l*l+m*m;1E-5>n||(l=fc.prototype.C.Tx.h(l,m),l.Ia(this.Bs/n/Qa(n)*d*k),c.uc&&c.He(l,b),f.uc&&f.He(l.Ia(-1),h))}else for(a=this.Cb;a;a=a.Gf)for(c=a.body,b=c.Le(),d=c.je(),e=this.Cb;e!==a;e=e.Gf)f=e.body,h=f.Le(),k=f.je(),l=h.x-b.x,m=h.y-b.y,n=l*l+m*m,1E-5>n||(l=fc.prototype.C.Tx.h(l,m),l.Ia(this.Bs/n*d*k),c.uc&&c.He(l,b),f.uc&&
f.He(l.Ia(-1),h))};fc.prototype.Step=fc.prototype.C;fc.prototype.C.Tx=new r;function gc(){this.Ht=new Gb;this.ip=0}q(gc,wa);p("box2d.b2TensorDampingController",gc);gc.prototype.Ht=new Gb;gc.prototype.T=gc.prototype.Ht;gc.prototype.ip=0;gc.prototype.maxTimestep=gc.prototype.ip;gc.prototype.C=function(a){a=a.Ib;if(!(1E-5>=a)){a>this.ip&&0<this.ip&&(a=this.ip);for(var c=this.Cb;c;c=c.Gf){var b=c.body;if(b.uc){var d=b.$i(Hb(this.Ht,b.Wp(b.ie(),u),db),gc.prototype.C.PB);b.Yd(pb(b.ie(),qb(a,d,u),db))}}}};gc.prototype.C.PB=new r;function hc(){this.wf=gb(2)}p("box2d.b2DistanceProxy",hc);hc.prototype.wf=null;hc.prototype.m_buffer=hc.prototype.wf;hc.prototype.Z=null;hc.prototype.m_vertices=hc.prototype.Z;hc.prototype.n=0;hc.prototype.m_count=hc.prototype.n;hc.prototype.N=0;hc.prototype.m_radius=hc.prototype.N;hc.prototype.ub=function(){this.Z=null;this.N=this.n=0;return this};hc.prototype.Reset=hc.prototype.ub;hc.prototype.Lh=function(a,c){a.no(this,c)};hc.prototype.SetShape=hc.prototype.Lh;
hc.prototype.Ok=function(a){for(var c=0,b=v(this.Z[0],a),d=1;d<this.n;++d){var e=v(this.Z[d],a);e>b&&(c=d,b=e)}return c};hc.prototype.GetSupport=hc.prototype.Ok;hc.prototype.Gz=function(a,c){for(var b=0,d=v(this.Z[0],a),e=1;e<this.n;++e){var f=v(this.Z[e],a);f>d&&(b=e,d=f)}return c.e(this.Z[b])};hc.prototype.GetSupportVertex=hc.prototype.Gz;hc.prototype.Ys=function(){return this.n};hc.prototype.GetVertexCount=hc.prototype.Ys;hc.prototype.Hd=function(a){return this.Z[a]};hc.prototype.GetVertex=hc.prototype.Hd;
function ic(){this.X=ta(3);this.aa=ta(3)}p("box2d.b2SimplexCache",ic);ic.prototype.Qr=0;ic.prototype.metric=ic.prototype.Qr;ic.prototype.count=0;ic.prototype.count=ic.prototype.count;ic.prototype.X=null;ic.prototype.indexA=ic.prototype.X;ic.prototype.aa=null;ic.prototype.indexB=ic.prototype.aa;ic.prototype.ub=function(){this.count=this.Qr=0;return this};ic.prototype.Reset=ic.prototype.ub;function jc(){this.fd=new hc;this.Dd=new hc;this.lm=new Vb;this.mm=new Vb}p("box2d.b2DistanceInput",jc);
jc.prototype.fd=null;jc.prototype.proxyA=jc.prototype.fd;jc.prototype.Dd=null;jc.prototype.proxyB=jc.prototype.Dd;jc.prototype.lm=null;jc.prototype.transformA=jc.prototype.lm;jc.prototype.mm=null;jc.prototype.transformB=jc.prototype.mm;jc.prototype.Bn=!1;jc.prototype.useRadii=jc.prototype.Bn;jc.prototype.ub=function(){this.fd.ub();this.Dd.ub();this.lm.Pf();this.mm.Pf();this.Bn=!1;return this};jc.prototype.Reset=jc.prototype.ub;function kc(){this.Mi=new r;this.Ni=new r}p("box2d.b2DistanceOutput",kc);
kc.prototype.Mi=null;kc.prototype.pointA=kc.prototype.Mi;kc.prototype.Ni=null;kc.prototype.pointB=kc.prototype.Ni;kc.prototype.vf=0;kc.prototype.distance=kc.prototype.vf;kc.prototype.Fq=0;kc.prototype.iterations=kc.prototype.Fq;kc.prototype.ub=function(){this.Mi.ba();this.Ni.ba();this.Fq=this.vf=0;return this};kc.prototype.Reset=kc.prototype.ub;var lc=0;p("box2d.b2_gjkCalls",lc);var mc=0;p("box2d.b2_gjkIters",mc);var oc=0;p("box2d.b2_gjkMaxIters",oc);
function pc(){this.ge=new r;this.eg=new r;this.M=new r}p("box2d.b2SimplexVertex",pc);pc.prototype.ge=null;pc.prototype.wA=pc.prototype.ge;pc.prototype.eg=null;pc.prototype.wB=pc.prototype.eg;pc.prototype.M=null;pc.prototype.w=pc.prototype.M;pc.prototype.o=0;pc.prototype.a=pc.prototype.o;pc.prototype.X=0;pc.prototype.indexA=pc.prototype.X;pc.prototype.aa=0;pc.prototype.indexB=pc.prototype.aa;
pc.prototype.e=function(a){this.ge.e(a.ge);this.eg.e(a.eg);this.M.e(a.M);this.o=a.o;this.X=a.X;this.aa=a.aa;return this};pc.prototype.Copy=pc.prototype.e;function qc(){this.eb=new pc;this.Fb=new pc;this.fe=new pc;this.Z=Array(3);this.Z[0]=this.eb;this.Z[1]=this.Fb;this.Z[2]=this.fe}p("box2d.b2Simplex",qc);qc.prototype.eb=null;qc.prototype.m_v1=qc.prototype.eb;qc.prototype.Fb=null;qc.prototype.m_v2=qc.prototype.Fb;qc.prototype.fe=null;qc.prototype.m_v3=qc.prototype.fe;qc.prototype.Z=null;
qc.prototype.m_vertices=qc.prototype.Z;qc.prototype.n=0;qc.prototype.m_count=qc.prototype.n;qc.prototype.Aw=function(a,c,b,d,e){this.n=a.count;for(var f=this.Z,h=0;h<this.n;++h){var k=f[h];k.X=a.X[h];k.aa=a.aa[h];var l=c.Hd(k.X),m=d.Hd(k.aa);Xb(b,l,k.ge);Xb(e,m,k.eg);x(k.eg,k.ge,k.M);k.o=0}1<this.n&&(a=a.Qr,h=this.Qs(),h<.5*a||2*a<h||1E-5>h)&&(this.n=0);0===this.n&&(k=f[0],k.X=0,k.aa=0,l=c.Hd(0),m=d.Hd(0),Xb(b,l,k.ge),Xb(e,m,k.eg),x(k.eg,k.ge,k.M),this.n=k.o=1)};qc.prototype.ReadCache=qc.prototype.Aw;
qc.prototype.jx=function(a){a.Qr=this.Qs();a.count=this.n;for(var c=this.Z,b=0;b<this.n;++b)a.X[b]=c[b].X,a.aa[b]=c[b].aa};qc.prototype.WriteCache=qc.prototype.jx;qc.prototype.gw=function(a){switch(this.n){case 1:return a.e(this.eb.M).Pa();case 2:var c=x(this.Fb.M,this.eb.M,a);return 0<w(c,u.e(this.eb.M).Pa())?ob(1,c,a):nb(c,1,a);default:return a.ba()}};qc.prototype.GetSearchDirection=qc.prototype.gw;
qc.prototype.Wv=function(a){switch(this.n){case 0:return a.ba();case 1:return a.e(this.eb.M);case 2:return a.h(this.eb.o*this.eb.M.x+this.Fb.o*this.Fb.M.x,this.eb.o*this.eb.M.y+this.Fb.o*this.Fb.M.y);case 3:return a.ba();default:return a.ba()}};qc.prototype.GetClosestPoint=qc.prototype.Wv;
qc.prototype.jw=function(a,c){switch(this.n){case 1:a.e(this.eb.ge);c.e(this.eb.eg);break;case 2:a.x=this.eb.o*this.eb.ge.x+this.Fb.o*this.Fb.ge.x;a.y=this.eb.o*this.eb.ge.y+this.Fb.o*this.Fb.ge.y;c.x=this.eb.o*this.eb.eg.x+this.Fb.o*this.Fb.eg.x;c.y=this.eb.o*this.eb.eg.y+this.Fb.o*this.Fb.eg.y;break;case 3:c.x=a.x=this.eb.o*this.eb.ge.x+this.Fb.o*this.Fb.ge.x+this.fe.o*this.fe.ge.x,c.y=a.y=this.eb.o*this.eb.ge.y+this.Fb.o*this.Fb.ge.y+this.fe.o*this.fe.ge.y}};qc.prototype.GetWitnessPoints=qc.prototype.jw;
qc.prototype.Qs=function(){switch(this.n){case 0:return 0;case 1:return 0;case 2:return xb(this.eb.M,this.Fb.M);case 3:return w(x(this.Fb.M,this.eb.M,u),x(this.fe.M,this.eb.M,db));default:return 0}};qc.prototype.GetMetric=qc.prototype.Qs;qc.prototype.Yw=function(){var a=this.eb.M,c=this.Fb.M,b=x(c,a,rc),a=-v(a,b);0>=a?this.n=this.eb.o=1:(c=v(c,b),0>=c?(this.n=this.Fb.o=1,this.eb.e(this.Fb)):(b=1/(c+a),this.eb.o=c*b,this.Fb.o=a*b,this.n=2))};qc.prototype.Solve2=qc.prototype.Yw;
qc.prototype.Zw=function(){var a=this.eb.M,c=this.Fb.M,b=this.fe.M,d=x(c,a,rc),e=v(c,d),f=-v(a,d),h=x(b,a,sc),k=v(b,h),l=-v(a,h),m=x(b,c,tc),n=v(b,m),m=-v(c,m),h=w(d,h),d=h*w(c,b),b=h*w(b,a),a=h*w(a,c);0>=f&&0>=l?this.n=this.eb.o=1:0<e&&0<f&&0>=a?(k=1/(e+f),this.eb.o=e*k,this.Fb.o=f*k,this.n=2):0<k&&0<l&&0>=b?(e=1/(k+l),this.eb.o=k*e,this.fe.o=l*e,this.n=2,this.Fb.e(this.fe)):0>=e&&0>=m?(this.n=this.Fb.o=1,this.eb.e(this.Fb)):0>=k&&0>=n?(this.n=this.fe.o=1,this.eb.e(this.fe)):0<n&&0<m&&0>=d?(e=1/
(n+m),this.Fb.o=n*e,this.fe.o=m*e,this.n=2,this.eb.e(this.fe)):(e=1/(d+b+a),this.eb.o=d*e,this.Fb.o=b*e,this.fe.o=a*e,this.n=3)};qc.prototype.Solve3=qc.prototype.Zw;var rc=new r,sc=new r,tc=new r;
function uc(a,c,b){++lc;var d=b.fd,e=b.Dd,f=b.lm,h=b.mm,k=xb.LC;k.Aw(c,d,f,e,h);for(var l=k.Z,m=xb.JC,n=xb.KC,t=0,z=0;20>z;){for(var t=k.n,B=0;B<t;++B)m[B]=l[B].X,n[B]=l[B].aa;switch(k.n){case 2:k.Yw();break;case 3:k.Zw()}if(3===k.n)break;var O=k.Wv(xb.Qi),B=k.gw(xb.qd);if(B.Ze()<ea)break;O=l[k.n];O.X=d.Ok(Ub(f.ha,u.e(B).Pa(),xb.RC));Xb(f,d.Hd(O.X),O.ge);O.aa=e.Ok(Ub(h.ha,B,xb.SC));Xb(h,e.Hd(O.aa),O.eg);x(O.eg,O.ge,O.M);++z;++mc;for(var ia=!1,B=0;B<t;++B)if(O.X===m[B]&&O.aa===n[B]){ia=!0;break}if(ia)break;
++k.n}oc=Ja(oc,z);k.jw(a.Mi,a.Ni);a.vf=xb(a.Mi,a.Ni);a.Fq=z;k.jx(c);b.Bn&&(c=d.N,e=e.N,a.vf>c+e&&1E-5<a.vf?(a.vf-=c+e,b=x(a.Ni,a.Mi,xb.Pi),b.ic(),a.Mi.wa(c,b),a.Ni.mb(e,b)):(O=vb(a.Mi,a.Ni,xb.Qi),a.Mi.e(O),a.Ni.e(O),a.vf=0))}p("box2d.b2ShapeDistance",uc);xb.LC=new qc;xb.JC=ta(3);xb.KC=ta(3);xb.Qi=new r;xb.qd=new r;xb.Pi=new r;xb.RC=new r;xb.SC=new r;var vc={NE:0,oE:1};p("box2d.b2ContactFeatureType",vc);vc.e_vertex=0;vc.e_face=1;function wc(a){this.ni=a}p("box2d.b2ContactFeature",wc);wc.prototype.ni=null;wc.prototype._id=wc.prototype.ni;wc.prototype.so=0;wc.prototype._indexA=wc.prototype.so;wc.prototype.to=0;wc.prototype._indexB=wc.prototype.to;wc.prototype.uo=0;wc.prototype._typeA=wc.prototype.uo;wc.prototype.vo=0;wc.prototype._typeB=wc.prototype.vo;
Object.defineProperty(wc.prototype,"indexA",{enumerable:!1,configurable:!0,get:function(){return this.so},set:function(a){this.so=a;this.ni.Fg=this.ni.Fg&4294967040|this.so&255}});Object.defineProperty(wc.prototype,"indexB",{enumerable:!1,configurable:!0,get:function(){return this.to},set:function(a){this.to=a;this.ni.Fg=this.ni.Fg&4294902015|this.to<<8&65280}});
Object.defineProperty(wc.prototype,"typeA",{enumerable:!1,configurable:!0,get:function(){return this.uo},set:function(a){this.uo=a;this.ni.Fg=this.ni.Fg&4278255615|this.uo<<16&16711680}});Object.defineProperty(wc.prototype,"typeB",{enumerable:!1,configurable:!0,get:function(){return this.vo},set:function(a){this.vo=a;this.ni.Fg=this.ni.Fg&16777215|this.vo<<24&4278190080}});function xc(){this.ib=new wc(this)}p("box2d.b2ContactID",xc);xc.prototype.ib=null;xc.prototype.cf=xc.prototype.ib;
xc.prototype.key=0;xc.prototype.key=xc.prototype.key;xc.prototype.e=function(a){this.key=a.key;return this};xc.prototype.Copy=xc.prototype.e;xc.prototype.za=function(){return(new xc).e(this)};xc.prototype.Clone=xc.prototype.za;Object.defineProperty(xc.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.Fg},set:function(a){this.Fg=a;this.ib.so=this.Fg&255;this.ib.to=this.Fg>>8&255;this.ib.uo=this.Fg>>16&255;this.ib.vo=this.Fg>>24&255}});
function yc(){this.nb=new r;this.id=new xc}p("box2d.b2ManifoldPoint",yc);yc.prototype.nb=null;yc.prototype.localPoint=yc.prototype.nb;yc.prototype.gc=0;yc.prototype.normalImpulse=yc.prototype.gc;yc.prototype.Gd=0;yc.prototype.tangentImpulse=yc.prototype.Gd;yc.prototype.id=null;yc.prototype.id=yc.prototype.id;function zc(a){return sa(a,function(){return new yc})}yc.MakeArray=zc;yc.prototype.ub=function(){this.nb.ba();this.Gd=this.gc=0;this.id.key=0};yc.prototype.Reset=yc.prototype.ub;
yc.prototype.e=function(a){this.nb.e(a.nb);this.gc=a.gc;this.Gd=a.Gd;this.id.e(a.id);return this};yc.prototype.Copy=yc.prototype.e;var Ac={wq:-1,eE:0,cB:1,dB:2};p("box2d.b2ManifoldType",Ac);Ac.e_unknown=-1;Ac.e_circles=0;Ac.e_faceA=1;Ac.e_faceB=2;function Bc(){this.Oa=zc(2);this.kd=new r;this.nb=new r;this.type=-1;this.Wa=0}p("box2d.b2Manifold",Bc);Bc.prototype.Oa=null;Bc.prototype.points=Bc.prototype.Oa;Bc.prototype.kd=null;Bc.prototype.localNormal=Bc.prototype.kd;Bc.prototype.nb=null;
Bc.prototype.localPoint=Bc.prototype.nb;Bc.prototype.type=-1;Bc.prototype.type=Bc.prototype.type;Bc.prototype.Wa=0;Bc.prototype.pointCount=Bc.prototype.Wa;Bc.prototype.ub=function(){for(var a=0;2>a;++a)this.Oa[a].ub();this.kd.ba();this.nb.ba();this.type=-1;this.Wa=0};Bc.prototype.Reset=Bc.prototype.ub;Bc.prototype.e=function(a){this.Wa=a.Wa;for(var c=0;2>c;++c)this.Oa[c].e(a.Oa[c]);this.kd.e(a.kd);this.nb.e(a.nb);this.type=a.type;return this};Bc.prototype.Copy=Bc.prototype.e;Bc.prototype.za=function(){return(new Bc).e(this)};
Bc.prototype.Clone=Bc.prototype.za;function Cc(){this.U=new r;this.Oa=gb(2);this.un=ta(2)}p("box2d.b2WorldManifold",Cc);Cc.prototype.U=null;Cc.prototype.normal=Cc.prototype.U;Cc.prototype.Oa=null;Cc.prototype.points=Cc.prototype.Oa;Cc.prototype.un=null;Cc.prototype.separations=Cc.prototype.un;
Cc.prototype.S=function(a,c,b,d,e){if(0!==a.Wa)switch(a.type){case 0:this.U.h(1,0);c=Xb(c,a.nb,Cc.prototype.S.Wg);a=Xb(d,a.Oa[0].nb,Cc.prototype.S.Xg);yb(c,a)>ea&&x(a,c,this.U).ig();var f=sb(c,b,this.U,Cc.prototype.S.Zu),h=tb(a,e,this.U,Cc.prototype.S.$u);vb(f,h,this.Oa[0]);this.un[0]=v(x(h,f,u),this.U);break;case 1:y(c.ha,a.kd,this.U);for(var k=Xb(c,a.nb,Cc.prototype.S.sn),l=0,m=a.Wa;l<m;++l){var n=Xb(d,a.Oa[l].nb,Cc.prototype.S.Wr),f=b-v(x(n,k,u),this.U),f=sb(n,f,this.U,Cc.prototype.S.Zu),h=tb(n,
e,this.U,Cc.prototype.S.$u);vb(f,h,this.Oa[l]);this.un[l]=v(x(h,f,u),this.U)}break;case 2:y(d.ha,a.kd,this.U);k=Xb(d,a.nb,Cc.prototype.S.sn);l=0;for(m=a.Wa;l<m;++l)n=Xb(c,a.Oa[l].nb,Cc.prototype.S.Wr),f=e-v(x(n,k,u),this.U),h=sb(n,f,this.U,Cc.prototype.S.$u),f=tb(n,b,this.U,Cc.prototype.S.Zu),vb(f,h,this.Oa[l]),this.un[l]=v(x(f,h,u),this.U);this.U.Pa()}};Cc.prototype.Initialize=Cc.prototype.S;g=Cc.prototype;g.S.Wg=new r;g.S.Xg=new r;g.S.Zu=new r;g.S.$u=new r;g.S.sn=new r;g.S.Wr=new r;
var Dc={zD:0,pD:1,FD:2,ID:3};p("box2d.b2PointState",Dc);Dc["b2_nullState   "]=0;Dc["b2_addState    "]=1;Dc.b2_persistState=2;Dc["b2_removeState "]=3;function Ec(a,c,b,d){for(var e=0,f=b.Wa;e<f;++e){var h=b.Oa[e].id,h=h.key;a[e]=3;for(var k=0,l=d.Wa;k<l;++k)if(d.Oa[k].id.key===h){a[e]=2;break}}for(f=2;e<f;++e)a[e]=0;e=0;for(f=d.Wa;e<f;++e)for(h=d.Oa[e].id,h=h.key,c[e]=1,k=0,l=b.Wa;k<l;++k)if(b.Oa[k].id.key===h){c[e]=2;break}for(f=2;e<f;++e)c[e]=0}p("box2d.b2GetPointStates",Ec);
function Fc(){this.oa=new r;this.id=new xc}p("box2d.b2ClipVertex",Fc);Fc.prototype.oa=null;Fc.prototype.v=Fc.prototype.oa;Fc.prototype.id=null;Fc.prototype.id=Fc.prototype.id;function Gc(a){return sa(a,function(){return new Fc})}Fc.MakeArray=Gc;Fc.prototype.e=function(a){this.oa.e(a.oa);this.id.e(a.id);return this};Fc.prototype.Copy=Fc.prototype.e;function Hc(){this.pd=new r;this.te=new r;this.Ff=1}p("box2d.b2RayCastInput",Hc);Hc.prototype.pd=null;Hc.prototype.p1=Hc.prototype.pd;Hc.prototype.te=null;
Hc.prototype.p2=Hc.prototype.te;Hc.prototype.Ff=1;Hc.prototype.maxFraction=Hc.prototype.Ff;Hc.prototype.e=function(a){this.pd.e(a.pd);this.te.e(a.te);this.Ff=a.Ff;return this};Hc.prototype.Copy=Hc.prototype.e;function Ic(){this.U=new r;this.ae=0}p("box2d.b2RayCastOutput",Ic);Ic.prototype.U=null;Ic.prototype.normal=Ic.prototype.U;Ic.prototype.ae=0;Ic.prototype.fraction=Ic.prototype.ae;Ic.prototype.e=function(a){this.U.e(a.U);this.ae=a.ae;return this};Ic.prototype.Copy=Ic.prototype.e;
function Jc(){this.lowerBound=new r;this.upperBound=new r;this.Bu=new r;this.Cu=new r}p("box2d.b2AABB",Jc);Jc.prototype.lowerBound=null;Jc.prototype.lowerBound=Jc.prototype.lowerBound;Jc.prototype.upperBound=null;Jc.prototype.upperBound=Jc.prototype.upperBound;Jc.prototype.Bu=null;Jc.prototype.m_out_center=Jc.prototype.Bu;Jc.prototype.Cu=null;Jc.prototype.m_out_extent=Jc.prototype.Cu;Jc.prototype.za=function(){return(new Jc).e(this)};Jc.prototype.Clone=Jc.prototype.za;
Jc.prototype.e=function(a){this.lowerBound.e(a.lowerBound);this.upperBound.e(a.upperBound);return this};Jc.prototype.Copy=Jc.prototype.e;Jc.prototype.Yn=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.Yn()&&this.upperBound.Yn()};Jc.prototype.IsValid=Jc.prototype.Yn;Jc.prototype.Yi=function(){return vb(this.lowerBound,this.upperBound,this.Bu)};Jc.prototype.GetCenter=Jc.prototype.Yi;
Jc.prototype.Yv=function(){return wb(this.lowerBound,this.upperBound,this.Cu)};Jc.prototype.GetExtents=Jc.prototype.Yv;Jc.prototype.Fh=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))};Jc.prototype.GetPerimeter=Jc.prototype.Fh;
Jc.prototype.Ev=function(a){this.lowerBound.x=Ia(this.lowerBound.x,a.lowerBound.x);this.lowerBound.y=Ia(this.lowerBound.y,a.lowerBound.y);this.upperBound.x=Ja(this.upperBound.x,a.upperBound.x);this.upperBound.y=Ja(this.upperBound.y,a.upperBound.y);return this};Jc.prototype.Combine1=Jc.prototype.Ev;
Jc.prototype.he=function(a,c){this.lowerBound.x=Ia(a.lowerBound.x,c.lowerBound.x);this.lowerBound.y=Ia(a.lowerBound.y,c.lowerBound.y);this.upperBound.x=Ja(a.upperBound.x,c.upperBound.x);this.upperBound.y=Ja(a.upperBound.y,c.upperBound.y);return this};Jc.prototype.Combine2=Jc.prototype.he;Jc.Combine=function(a,c,b){b.he(a,c);return b};
Jc.prototype.Jv=function(a){var c;return c=(c=(c=(c=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};Jc.prototype.Contains=Jc.prototype.Jv;
Jc.prototype.Aa=function(a,c){var b=-1E37,d=1E37,e=c.pd.x,f=c.pd.y,h=c.te.x-c.pd.x,k=c.te.y-c.pd.y,l=ra(h),m=ra(k),n=a.U;if(1E-5>l){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(l=1/h,h=(this.lowerBound.x-e)*l,e=(this.upperBound.x-e)*l,l=-1,h>e&&(l=h,h=e,e=l,l=1),h>b&&(n.x=l,n.y=0,b=h),d=Ia(d,e),b>d)return!1;if(1E-5>m){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else if(l=1/k,h=(this.lowerBound.y-f)*l,e=(this.upperBound.y-f)*l,l=-1,h>e&&(l=h,h=e,e=l,l=1),h>b&&(n.x=0,n.y=l,
b=h),d=Ia(d,e),b>d)return!1;if(0>b||c.Ff<b)return!1;a.ae=b;return!0};Jc.prototype.RayCast=Jc.prototype.Aa;Jc.prototype.qo=function(a){var c=a.lowerBound.y-this.upperBound.y,b=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<c||0<this.lowerBound.x-a.upperBound.x||0<b?!1:!0};Jc.prototype.TestOverlap=Jc.prototype.qo;
function Lc(a,c){var b=c.lowerBound.y-a.upperBound.y,d=a.lowerBound.y-c.upperBound.y;return 0<c.lowerBound.x-a.upperBound.x||0<b||0<a.lowerBound.x-c.upperBound.x||0<d?!1:!0}p("box2d.b2TestOverlapAABB",Lc);function Nc(a,c,b,d,e){var f=0,h=c[0];c=c[1];var k=v(b,h.oa)-d;b=v(b,c.oa)-d;0>=k&&a[f++].e(h);0>=b&&a[f++].e(c);0>k*b&&(b=k/(k-b),d=a[f].oa,d.x=h.oa.x+b*(c.oa.x-h.oa.x),d.y=h.oa.y+b*(c.oa.y-h.oa.y),a=a[f].id,a.ib.X=e,a.ib.aa=h.id.ib.aa,a.ib.Yg=0,a.ib.gi=1,++f);return f}
p("box2d.b2ClipSegmentToLine",Nc);function Oc(a,c,b,d,e,f){var h=Oc.up.ub();h.fd.Lh(a,c);h.Dd.Lh(b,d);h.lm.e(e);h.mm.e(f);h.Bn=!0;a=Oc.MC.ub();a.count=0;c=Oc.vp.ub();uc(c,a,h);return 1E-4>c.vf}p("box2d.b2TestOverlapShape",Oc);Oc.up=new jc;Oc.MC=new ic;Oc.vp=new kc;function Pc(a,c,b,d,e){a.Wa=0;b=Xb(b,c.Ka,Pc.hv);e=Xb(e,d.Ka,Pc.iv);var f=c.N+d.N;yb(b,e)>f*f||(a.type=0,a.nb.e(c.Ka),a.kd.ba(),a.Wa=1,a.Oa[0].nb.e(d.Ka),a.Oa[0].id.key=0)}p("box2d.b2CollideCircles",Pc);Pc.hv=new r;Pc.iv=new r;
function Qc(a,c,b,d,e){a.Wa=0;e=Xb(e,d.Ka,Qc.IB);b=Yb(b,e,Qc.JB);var f=0,h=-1E37;e=c.N+d.N;var k=c.n,l=c.Z;c=c.mc;for(var m=0;m<k;++m){var n=v(c[m],x(b,l[m],u));if(n>e)return;n>h&&(h=n,f=m)}m=f;n=l[m];k=l[(m+1)%k];1E-5>h?(a.Wa=1,a.type=1,a.kd.e(c[f]),vb(n,k,a.nb),a.Oa[0].nb.e(d.Ka),a.Oa[0].id.key=0):(h=v(x(b,n,u),x(k,n,db)),f=v(x(b,k,u),x(n,k,db)),0>=h?yb(b,n)>e*e||(a.Wa=1,a.type=1,x(b,n,a.kd).ig(),a.nb.e(n),a.Oa[0].nb.e(d.Ka),a.Oa[0].id.key=0):0>=f?yb(b,k)>e*e||(a.Wa=1,a.type=1,x(b,k,a.kd).ig(),
a.nb.e(k),a.Oa[0].nb.e(d.Ka),a.Oa[0].id.key=0):(f=vb(n,k,Qc.fC),h=v(x(b,f,db),c[m]),h>e||(a.Wa=1,a.type=1,a.kd.e(c[m]).ig(),a.nb.e(f),a.Oa[0].nb.e(d.Ka),a.Oa[0].id.key=0)))}p("box2d.b2CollidePolygonAndCircle",Qc);Qc.IB=new r;Qc.JB=new r;Qc.fC=new r;function Rc(a,c,b,d,e){a.Wa=0;b=Yb(b,Xb(e,d.Ka,u),Rc.zB);var f=c.Kc,h=c.Pc,k=x(h,f,Rc.rp),l=v(k,x(h,b,u)),m=v(k,x(b,f,u)),n=c.N+d.N;e=Rc.iC;e.ib.aa=0;e.ib.gi=0;if(0>=m){var t=f,l=x(b,t,Rc.qd),l=v(l,l);if(!(l>n*n)){if(c.Pe&&(c=x(f,c.De,Rc.sp),0<v(c,x(f,b,u))))return;e.ib.X=0;e.ib.Yg=0;a.Wa=1;a.type=0;a.kd.ba();a.nb.e(t);a.Oa[0].id.e(e);a.Oa[0].nb.e(d.Ka)}}else if(0>=l){if(t=h,l=x(b,t,Rc.qd),l=v(l,l),!(l>n*n)){if(c.Qe&&(f=x(c.Ee,h,Rc.tp),0<v(f,x(b,h,u))))return;e.ib.X=1;e.ib.Yg=0;a.Wa=1;a.type=0;a.kd.ba();
a.nb.e(t);a.Oa[0].id.e(e);a.Oa[0].nb.e(d.Ka)}}else c=v(k,k),t=Rc.tb,t.x=1/c*(l*f.x+m*h.x),t.y=1/c*(l*f.y+m*h.y),l=x(b,t,Rc.qd),l=v(l,l),l>n*n||(t=Rc.ev.h(-k.y,k.x),0>v(t,x(b,f,u))&&t.h(-t.x,-t.y),t.ic(),e.ib.X=0,e.ib.Yg=1,a.Wa=1,a.type=1,a.kd.e(t),a.nb.e(f),a.Oa[0].id.e(e),a.Oa[0].nb.e(d.Ka))}p("box2d.b2CollideEdgeAndCircle",Rc);Rc.zB=new r;Rc.rp=new r;Rc.qd=new r;Rc.sp=new r;Rc.tp=new r;Rc.tb=new r;Rc.ev=new r;Rc.iC=new xc;var Sc={wq:0,kE:1,lE:2};p("box2d.b2EPAxisType",Sc);Sc.e_unknown=0;
Sc.e_edgeA=1;Sc.e_edgeB=2;function Tc(){}p("box2d.b2EPAxis",Tc);Tc.prototype.type=0;Tc.prototype.type=Tc.prototype.type;Tc.prototype.index=0;Tc.prototype.index=Tc.prototype.index;Tc.prototype.Ud=0;Tc.prototype.separation=Tc.prototype.Ud;function Uc(){this.dg=gb(8);this.am=gb(8);this.count=0}p("box2d.b2TempPolygon",Uc);Uc.prototype.dg=null;Uc.prototype.vertices=Uc.prototype.dg;Uc.prototype.am=null;Uc.prototype.normals=Uc.prototype.am;Uc.prototype.count=0;Uc.prototype.count=Uc.prototype.count;
function Vc(){this.dl=this.Mh=0;this.Bk=new r;this.Cn=new r;this.U=new r;this.vn=new r;this.Xr=0;this.Ep=new r;this.Yr=0}p("box2d.b2ReferenceFace",Vc);Vc.prototype.Mh=0;Vc.prototype.i1=Vc.prototype.Mh;Vc.prototype.dl=0;Vc.prototype.i2=Vc.prototype.dl;Vc.prototype.Bk=null;Vc.prototype.v1=Vc.prototype.Bk;Vc.prototype.Cn=null;Vc.prototype.v2=Vc.prototype.Cn;Vc.prototype.U=null;Vc.prototype.normal=Vc.prototype.U;Vc.prototype.vn=null;Vc.prototype.sideNormal1=Vc.prototype.vn;Vc.prototype.Xr=0;
Vc.prototype.sideOffset1=Vc.prototype.Xr;Vc.prototype.Ep=null;Vc.prototype.sideNormal2=Vc.prototype.Ep;Vc.prototype.Yr=0;Vc.prototype.sideOffset2=Vc.prototype.Yr;var Yc={tE:0,gE:1,iE:2};p("box2d.b2EPColliderVertexType",Yc);Yc.e_isolated=0;Yc.e_concave=1;Yc.e_convex=2;
function Zc(){this.$b=new Uc;this.La=new Vb;this.Km=new r;this.cp=new r;this.eb=new r;this.Fb=new r;this.fe=new r;this.Ci=new r;this.vb=new r;this.Di=new r;this.Lb=new r;this.Ox=this.Nx=0;this.de=new r;this.Ce=new r;this.N=0;this.sc=!1}p("box2d.b2EPCollider",Zc);Zc.prototype.$b=null;Zc.prototype.m_polygonB=Zc.prototype.$b;Zc.prototype.La=null;Zc.prototype.m_xf=Zc.prototype.La;Zc.prototype.Km=null;Zc.prototype.m_centroidB=Zc.prototype.Km;Zc.prototype.cp=null;Zc.prototype.m_v0=Zc.prototype.cp;
Zc.prototype.eb=null;Zc.prototype.m_v1=Zc.prototype.eb;Zc.prototype.Fb=null;Zc.prototype.m_v2=Zc.prototype.Fb;Zc.prototype.fe=null;Zc.prototype.m_v3=Zc.prototype.fe;Zc.prototype.Ci=null;Zc.prototype.m_normal0=Zc.prototype.Ci;Zc.prototype.vb=null;Zc.prototype.m_normal1=Zc.prototype.vb;Zc.prototype.Di=null;Zc.prototype.m_normal2=Zc.prototype.Di;Zc.prototype.Lb=null;Zc.prototype.m_normal=Zc.prototype.Lb;Zc.prototype.Nx=0;Zc.prototype.m_type1=Zc.prototype.Nx;Zc.prototype.Ox=0;Zc.prototype.m_type2=Zc.prototype.Ox;
Zc.prototype.de=null;Zc.prototype.m_lowerLimit=Zc.prototype.de;Zc.prototype.Ce=null;Zc.prototype.m_upperLimit=Zc.prototype.Ce;Zc.prototype.N=0;Zc.prototype.m_radius=Zc.prototype.N;Zc.prototype.sc=!1;Zc.prototype.m_front=Zc.prototype.sc;
Zc.prototype.En=function(a,c,b,d,e){$b(b,e,this.La);Xb(this.La,d.ck,this.Km);this.cp.e(c.De);this.eb.e(c.Kc);this.Fb.e(c.Pc);this.fe.e(c.Ee);b=c.Pe;c=c.Qe;e=x(this.Fb,this.eb,$c);e.ic();this.vb.h(e.y,-e.x);var f=v(this.vb,x(this.Km,this.eb,u)),h=0,k=0,l=!1,m=!1;b&&(h=x(this.eb,this.cp,ad),h.ic(),this.Ci.h(h.y,-h.x),l=0<=w(h,e),h=v(this.Ci,x(this.Km,this.cp,u)));c&&(k=x(this.fe,this.Fb,bd),k.ic(),this.Di.h(k.y,-k.x),m=0<w(e,k),k=v(this.Di,x(this.Km,this.Fb,u)));b&&c?l&&m?(this.sc=0<=h||0<=f||0<=k)?
(this.Lb.e(this.vb),this.de.e(this.Ci),this.Ce.e(this.Di)):(this.Lb.e(this.vb).Pa(),this.de.e(this.vb).Pa(),this.Ce.e(this.vb).Pa()):l?(this.sc=0<=h||0<=f&&0<=k)?(this.Lb.e(this.vb),this.de.e(this.Ci),this.Ce.e(this.vb)):(this.Lb.e(this.vb).Pa(),this.de.e(this.Di).Pa(),this.Ce.e(this.vb).Pa()):m?(this.sc=0<=k||0<=h&&0<=f)?(this.Lb.e(this.vb),this.de.e(this.vb),this.Ce.e(this.Di)):(this.Lb.e(this.vb).Pa(),this.de.e(this.vb).Pa(),this.Ce.e(this.Ci).Pa()):(this.sc=0<=h&&0<=f&&0<=k)?(this.Lb.e(this.vb),
this.de.e(this.vb),this.Ce.e(this.vb)):(this.Lb.e(this.vb).Pa(),this.de.e(this.Di).Pa(),this.Ce.e(this.Ci).Pa()):b?l?((this.sc=0<=h||0<=f)?(this.Lb.e(this.vb),this.de.e(this.Ci)):(this.Lb.e(this.vb).Pa(),this.de.e(this.vb)),this.Ce.e(this.vb).Pa()):(this.sc=0<=h&&0<=f)?(this.Lb.e(this.vb),this.de.e(this.vb),this.Ce.e(this.vb).Pa()):(this.Lb.e(this.vb).Pa(),this.de.e(this.vb),this.Ce.e(this.Ci).Pa()):c?m?(this.sc=0<=f||0<=k)?(this.Lb.e(this.vb),this.de.e(this.vb).Pa(),this.Ce.e(this.Di)):(this.Lb.e(this.vb).Pa(),
this.de.e(this.vb).Pa(),this.Ce.e(this.vb)):((this.sc=0<=f&&0<=k)?(this.Lb.e(this.vb),this.de.e(this.vb).Pa()):(this.Lb.e(this.vb).Pa(),this.de.e(this.Di).Pa()),this.Ce.e(this.vb)):(this.sc=0<=f)?(this.Lb.e(this.vb),this.de.e(this.vb).Pa(),this.Ce.e(this.vb).Pa()):(this.Lb.e(this.vb).Pa(),this.de.e(this.vb),this.Ce.e(this.vb));this.$b.count=d.n;f=0;for(h=d.n;f<h;++f)Xb(this.La,d.Z[f],this.$b.dg[f]),y(this.La.ha,d.mc[f],this.$b.am[f]);this.N=.032;a.Wa=0;b=this.Gv(cd);if(!(0===b.type||b.Ud>this.N||
(c=this.Hv(dd),0!==c.type&&c.Ud>this.N))){b=0===c.type?b:c.Ud>.98*b.Ud+.001?c:b;e=ed;c=fd;if(1===b.type){a.type=1;k=0;l=v(this.Lb,this.$b.am[0]);f=1;for(h=this.$b.count;f<h;++f)m=v(this.Lb,this.$b.am[f]),m<l&&(l=m,k=f);h=k;f=(h+1)%this.$b.count;k=e[0];k.oa.e(this.$b.dg[h]);k.id.ib.X=0;k.id.ib.aa=h;k.id.ib.Yg=1;k.id.ib.gi=0;h=e[1];h.oa.e(this.$b.dg[f]);h.id.ib.X=0;h.id.ib.aa=f;h.id.ib.Yg=1;h.id.ib.gi=0;this.sc?(c.Mh=0,c.dl=1,c.Bk.e(this.eb),c.Cn.e(this.Fb),c.U.e(this.vb)):(c.Mh=1,c.dl=0,c.Bk.e(this.Fb),
c.Cn.e(this.eb),c.U.e(this.vb).Pa())}else a.type=2,k=e[0],k.oa.e(this.eb),k.id.ib.X=0,k.id.ib.aa=b.index,k.id.ib.Yg=0,k.id.ib.gi=1,h=e[1],h.oa.e(this.Fb),h.id.ib.X=0,h.id.ib.aa=b.index,h.id.ib.Yg=0,h.id.ib.gi=1,c.Mh=b.index,c.dl=(c.Mh+1)%this.$b.count,c.Bk.e(this.$b.dg[c.Mh]),c.Cn.e(this.$b.dg[c.dl]),c.U.e(this.$b.am[c.Mh]);c.vn.h(c.U.y,-c.U.x);c.Ep.e(c.vn).Pa();c.Xr=v(c.vn,c.Bk);c.Yr=v(c.Ep,c.Cn);f=gd;k=hd;h=0;h=Nc(f,e,c.vn,c.Xr,c.Mh);if(!(2>h||(h=Nc(k,f,c.Ep,c.Yr,c.dl),2>h))){1===b.type?(a.kd.e(c.U),
a.nb.e(c.Bk)):(a.kd.e(d.mc[c.Mh]),a.nb.e(d.Z[c.Mh]));f=d=0;for(h=2;f<h;++f)v(c.U,x(k[f].oa,c.Bk,u))<=this.N&&(e=a.Oa[d],1===b.type?(Yb(this.La,k[f].oa,e.nb),e.id=k[f].id):(e.nb.e(k[f].oa),e.id.ib.Yg=k[f].id.ib.gi,e.id.ib.gi=k[f].id.ib.Yg,e.id.ib.X=k[f].id.ib.aa,e.id.ib.aa=k[f].id.ib.X),++d);a.Wa=d}}};Zc.prototype.Collide=Zc.prototype.En;var $c=new r,ad=new r,bd=new r,ed=Gc(2),fd=new Vc,gd=Gc(2),hd=Gc(2),cd=new Tc,dd=new Tc;
Zc.prototype.Gv=function(a){a.type=1;a.index=this.sc?0:1;a.Ud=1E37;for(var c=0,b=this.$b.count;c<b;++c){var d=v(this.Lb,x(this.$b.dg[c],this.eb,u));d<a.Ud&&(a.Ud=d)}return a};Zc.prototype.ComputeEdgeSeparation=Zc.prototype.Gv;
Zc.prototype.Hv=function(a){a.type=0;a.index=-1;a.Ud=-1E37;for(var c=id.h(-this.Lb.y,this.Lb.x),b=0,d=this.$b.count;b<d;++b){var e=jd.e(this.$b.am[b]).Pa(),f=v(e,x(this.$b.dg[b],this.eb,u)),h=v(e,x(this.$b.dg[b],this.Fb,u)),f=Ia(f,h);if(f>this.N){a.type=2;a.index=b;a.Ud=f;break}if(0<=v(e,c)){if(v(x(e,this.Ce,u),this.Lb)<-ga)continue}else if(v(x(e,this.de,u),this.Lb)<-ga)continue;f>a.Ud&&(a.type=2,a.index=b,a.Ud=f)}return a};Zc.prototype.ComputePolygonSeparation=Zc.prototype.Hv;var jd=new r,id=new r;
function kd(a,c,b,d,e){kd.OB.En(a,c,b,d,e)}p("box2d.b2CollideEdgeAndPolygon",kd);kd.OB=new Zc;function ld(a,c,b,d,e){var f=c.n,h=d.n,k=c.mc;c=c.Z;d=d.Z;b=$b(e,b,ld.pv);e=0;for(var l=-1E37,m=0;m<f;++m){for(var n=y(b.ha,k[m],ld.ev),t=Xb(b,c[m],ld.Ak),z=1E37,B=0;B<h;++B){var O=v(n,x(d[B],t,u));O<z&&(z=O)}z>l&&(l=z,e=m)}a[0]=e;return l}p("box2d.b2FindMaxSeparation",ld);ld.pv=new Vb;ld.ev=new r;ld.Ak=new r;
function nd(a,c,b,d,e,f){var h=e.n,k=e.Z;e=e.mc;c=Ub(f.ha,y(b.ha,c.mc[d],u),nd.wC);b=0;for(var l=1E37,m=0;m<h;++m){var n=v(c,e[m]);n<l&&(l=n,b=m)}e=b;h=(e+1)%h;c=a[0];Xb(f,k[e],c.oa);c=c.id.ib;c.X=d;c.aa=e;c.Yg=1;c.gi=0;a=a[1];Xb(f,k[h],a.oa);f=a.id.ib;f.X=d;f.aa=h;f.Yg=1;f.gi=0}p("box2d.b2FindIncidentEdge",nd);nd.wC=new r;
function od(a,c,b,d,e){a.Wa=0;var f=c.N+d.N,h=od.bC;h[0]=0;var k=ld(h,c,b,d,e);if(!(k>f)){var l=od.cC;l[0]=0;var m=ld(l,d,e,c,b);if(!(m>f)){var n=0,t=0;m>.98*k+.001?(k=d,d=c,c=e,n=l[0],a.type=2,t=1):(k=c,c=b,b=e,n=h[0],a.type=1,t=0);h=od.lC;nd(h,k,c,n,d,b);e=k.Z;var l=n,k=(n+1)%k.n,z=e[l],B=e[k],n=x(B,z,od.rC);n.ic();e=nb(n,1,od.qC);d=vb(z,B,od.sn);var m=y(c.ha,n,od.VC),n=nb(m,1,od.Pi),z=Xb(c,z,od.ZC),O=Xb(c,B,od.$C);c=v(n,z);var B=-v(m,z)+f,O=v(m,O)+f,ia=od.MB,z=od.NB,aa=od.zC.e(m).Pa(),h=Nc(ia,
h,aa,B,l);if(!(2>h||(h=Nc(z,ia,m,O,k),2>h))){a.kd.e(e);a.nb.e(d);for(l=h=0;2>l;++l)e=z[l],v(n,e.oa)-c<=f&&(k=a.Oa[h],Yb(b,e.oa,k.nb),k.id.e(e.id),t&&(e=k.id.ib,k.id.ib.X=e.aa,k.id.ib.aa=e.X,k.id.ib.Yg=e.gi,k.id.ib.gi=e.Yg),++h);a.Wa=h}}}}p("box2d.b2CollidePolygons",od);od.lC=Gc(2);od.MB=Gc(2);od.NB=Gc(2);od.bC=ta(1);od.cC=ta(1);od.rC=new r;od.qC=new r;od.sn=new r;od.Pi=new r;od.VC=new r;od.zC=new r;od.ZC=new r;od.$C=new r;function pd(a){this.zf=a||0;this.ra=new Jc}p("box2d.b2TreeNode",pd);pd.prototype.zf=0;pd.prototype.m_id=pd.prototype.zf;pd.prototype.ra=null;pd.prototype.aabb=pd.prototype.ra;pd.prototype.Hc=null;pd.prototype.userData=pd.prototype.Hc;pd.prototype.parent=null;pd.prototype.parent=pd.prototype.parent;pd.prototype.tc=null;pd.prototype.child1=pd.prototype.tc;pd.prototype.Mc=null;pd.prototype.child2=pd.prototype.Mc;pd.prototype.height=0;pd.prototype.height=pd.prototype.height;
pd.prototype.li=function(){return null===this.tc};pd.prototype.IsLeaf=pd.prototype.li;function qd(){}p("box2d.b2DynamicTree",qd);qd.prototype.Cd=null;qd.prototype.m_root=qd.prototype.Cd;qd.prototype.tl=null;qd.prototype.m_freeList=qd.prototype.tl;qd.prototype.mB=0;qd.prototype.m_path=qd.prototype.mB;qd.prototype.Ex=0;qd.prototype.m_insertionCount=qd.prototype.Ex;var rd=new Da(256),sd=new r,td=new r,ud=new r,vd=new Jc,wd=new Hc,xd=new Jc,yd=new Jc;qd.prototype.ec=function(a){return a.Hc};
qd.prototype.GetUserData=qd.prototype.ec;qd.prototype.Zi=function(a){return a.ra};qd.prototype.GetFatAABB=qd.prototype.Zi;qd.prototype.eh=function(a,c){if(null!==this.Cd){var b=rd.ub();for(b.Wd(this.Cd);0<b.Lk();){var d=b.xm();if(null!==d&&d.ra.qo(c))if(d.li()){if(!a(d))break}else b.Wd(d.tc),b.Wd(d.Mc)}}};qd.prototype.Query=qd.prototype.eh;
qd.prototype.Aa=function(a,c){if(null!==this.Cd){var b=c.pd,d=c.te,e=x(d,b,sd);e.ic();var e=ob(1,e,td),f=hb(e,ud),h=c.Ff,k=b.x+h*(d.x-b.x),l=b.y+h*(d.y-b.y);vd.lowerBound.x=Ia(b.x,k);vd.lowerBound.y=Ia(b.y,l);vd.upperBound.x=Ja(b.x,k);vd.upperBound.y=Ja(b.y,l);var m=rd.ub();for(m.Wd(this.Cd);0<m.Lk();)if(k=m.xm(),null!==k&&Lc(k.ra,vd)){var l=k.ra.Yi(),n=k.ra.Yv();if(!(0<ra(v(e,x(b,l,u)))-v(f,n)))if(k.li()){l=wd;l.pd.e(c.pd);l.te.e(c.te);l.Ff=h;k=a(l,k);if(0===k)break;0<k&&(h=k,k=b.x+h*(d.x-b.x),l=
b.y+h*(d.y-b.y),vd.lowerBound.x=Ia(b.x,k),vd.lowerBound.y=Ia(b.y,l),vd.upperBound.x=Ja(b.x,k),vd.upperBound.y=Ja(b.y,l))}else m.Wd(k.tc),m.Wd(k.Mc)}}};qd.prototype.RayCast=qd.prototype.Aa;qd.prototype.js=function(){if(this.tl){var a=this.tl;this.tl=a.parent;a.parent=null;a.tc=null;a.Mc=null;a.height=0;a.Hc=null;return a}return new pd(qd.prototype.vC++)};qd.prototype.AllocateNode=qd.prototype.js;qd.prototype.vC=0;qd.prototype.Qp=function(a){a.parent=this.tl;a.height=-1;this.tl=a};
qd.prototype.FreeNode=qd.prototype.Qp;qd.prototype.ah=function(a,c){var b=this.js();b.ra.lowerBound.x=a.lowerBound.x-.1;b.ra.lowerBound.y=a.lowerBound.y-.1;b.ra.upperBound.x=a.upperBound.x+.1;b.ra.upperBound.y=a.upperBound.y+.1;b.Hc=c;b.height=0;this.et(b);return b};qd.prototype.CreateProxy=qd.prototype.ah;qd.prototype.ii=function(a){this.mt(a);this.Qp(a)};qd.prototype.DestroyProxy=qd.prototype.ii;
qd.prototype.mi=function(a,c,b){if(a.ra.Jv(c))return!1;this.mt(a);var d=.1+2*(0<b.x?b.x:-b.x);b=.1+2*(0<b.y?b.y:-b.y);a.ra.lowerBound.x=c.lowerBound.x-d;a.ra.lowerBound.y=c.lowerBound.y-b;a.ra.upperBound.x=c.upperBound.x+d;a.ra.upperBound.y=c.upperBound.y+b;this.et(a);return!0};qd.prototype.MoveProxy=qd.prototype.mi;
qd.prototype.et=function(a){++this.Ex;if(null===this.Cd)this.Cd=a,this.Cd.parent=null;else{var c=a.ra;c.Yi();for(var b=this.Cd,d,e;!b.li();){d=b.tc;e=b.Mc;var f=b.ra.Fh(),h=xd;h.he(b.ra,c);var k=h.Fh(),h=2*k,k=2*(k-f),l=yd,m,n;d.li()?(l.he(c,d.ra),f=l.Fh()+k):(l.he(c,d.ra),m=d.ra.Fh(),n=l.Fh(),f=n-m+k);e.li()?(l.he(c,e.ra),k=l.Fh()+k):(l.he(c,e.ra),m=e.ra.Fh(),n=l.Fh(),k=n-m+k);if(h<f&&h<k)break;b=f<k?d:e}d=b.parent;e=this.js();e.parent=d;e.Hc=null;e.ra.he(c,b.ra);e.height=b.height+1;d?(d.tc===b?
d.tc=e:d.Mc=e,e.tc=b,e.Mc=a,b.parent=e,a.parent=e):(e.tc=b,e.Mc=a,b.parent=e,this.Cd=a.parent=e);for(b=a.parent;null!==b;)b=this.ms(b),d=b.tc,e=b.Mc,b.height=1+Ja(d.height,e.height),b.ra.he(d.ra,e.ra),b=b.parent}};qd.prototype.InsertLeaf=qd.prototype.et;
qd.prototype.mt=function(a){if(a===this.Cd)this.Cd=null;else{var c=a.parent,b=c.parent;a=c.tc===a?c.Mc:c.tc;if(b)for(b.tc===c?b.tc=a:b.Mc=a,a.parent=b,this.Qp(c),c=b;c;)c=this.ms(c),b=c.tc,a=c.Mc,c.ra.he(b.ra,a.ra),c.height=1+Ja(b.height,a.height),c=c.parent;else this.Cd=a,a.parent=null,this.Qp(c)}};qd.prototype.RemoveLeaf=qd.prototype.mt;
qd.prototype.ms=function(a){if(a.li()||2>a.height)return a;var c=a.tc,b=a.Mc,d=b.height-c.height;if(1<d){var d=b.tc,e=b.Mc;b.tc=a;b.parent=a.parent;a.parent=b;null!==b.parent?b.parent.tc===a?b.parent.tc=b:b.parent.Mc=b:this.Cd=b;d.height>e.height?(b.Mc=d,a.Mc=e,e.parent=a,a.ra.he(c.ra,e.ra),b.ra.he(a.ra,d.ra),a.height=1+Ja(c.height,e.height),b.height=1+Ja(a.height,d.height)):(b.Mc=e,a.Mc=d,d.parent=a,a.ra.he(c.ra,d.ra),b.ra.he(a.ra,e.ra),a.height=1+Ja(c.height,d.height),b.height=1+Ja(a.height,e.height));
return b}return-1>d?(d=c.tc,e=c.Mc,c.tc=a,c.parent=a.parent,a.parent=c,null!==c.parent?c.parent.tc===a?c.parent.tc=c:c.parent.Mc=c:this.Cd=c,d.height>e.height?(c.Mc=d,a.tc=e,e.parent=a,a.ra.he(b.ra,e.ra),c.ra.he(a.ra,d.ra),a.height=1+Ja(b.height,e.height),c.height=1+Ja(a.height,d.height)):(c.Mc=e,a.tc=d,d.parent=a,a.ra.he(b.ra,d.ra),c.ra.he(a.ra,e.ra),a.height=1+Ja(b.height,d.height),c.height=1+Ja(a.height,e.height)),c):a};qd.prototype.Balance=qd.prototype.ms;
qd.prototype.Js=function(){return null===this.Cd?0:this.Cd.height};qd.prototype.GetHeight=qd.prototype.Js;qd.prototype.Vv=function(){function a(c){if(null===c||c.li())return 0;var b=c.ra.Fh(),b=b+a(c.tc);return b+=a(c.Mc)}return null===this.Cd?0:a(this.Cd)/this.Cd.ra.Fh()};qd.prototype.GetAreaRatio=qd.prototype.Vv;qd.prototype.Hp=function(a){if(a.li())return 0;var c=this.Hp(a.tc);a=this.Hp(a.Mc);return 1+Ja(c,a)};qd.prototype.ComputeHeightNode=qd.prototype.Hp;qd.prototype.gy=function(){return this.Hp(this.Cd)};
qd.prototype.ComputeHeight=qd.prototype.gy;qd.prototype.bB=function(){};qd.prototype.ValidateStructure=qd.prototype.bB;qd.prototype.gq=function(a){if(null!==a){var c=a.tc,b=a.Mc;a.li()||(Ja(c.height,b.height),yd.he(c.ra,b.ra),this.gq(c),this.gq(b))}};qd.prototype.ValidateMetrics=qd.prototype.gq;qd.prototype.jj=function(){this.gq(this.Cd);for(var a=0,c=this.tl;null!==c;)c=c.parent,++a};qd.prototype.Validate=qd.prototype.jj;
qd.prototype.aw=function(){var a;a=this.Cd;null===a||1>=a.height?a=0:(a=ra(a.Mc.height-a.tc.height),a=Ja(0,a));return a};qd.prototype.GetMaxBalance=qd.prototype.aw;qd.prototype.hA=function(){this.jj()};qd.prototype.RebuildBottomUp=qd.prototype.hA;qd.prototype.Zd=function(a){function c(a,d){if(null!==a&&!(1>=a.height)){var e=a.Mc;c(a.tc,d);c(e,d);a.ra.lowerBound.Ob(d);a.ra.upperBound.Ob(d)}}c(this.Cd,a)};qd.prototype.ShiftOrigin=qd.prototype.Zd;function zd(){}p("box2d.b2Pair",zd);zd.prototype.fd=null;zd.prototype.proxyA=zd.prototype.fd;zd.prototype.Dd=null;zd.prototype.proxyB=zd.prototype.Dd;function Ad(){this.Bc=new qd;this.Wm=[];this.Ec=[]}p("box2d.b2BroadPhase",Ad);Ad.prototype.Bc=null;Ad.prototype.m_tree=Ad.prototype.Bc;Ad.prototype.of=0;Ad.prototype.m_proxyCount=Ad.prototype.of;Ad.prototype.Qo=0;Ad.prototype.m_moveCount=Ad.prototype.Qo;Ad.prototype.Wm=null;Ad.prototype.m_moveBuffer=Ad.prototype.Wm;Ad.prototype.Ej=0;
Ad.prototype.m_pairCount=Ad.prototype.Ej;Ad.prototype.Ec=null;Ad.prototype.m_pairBuffer=Ad.prototype.Ec;Ad.prototype.ah=function(a,c){var b=this.Bc.ah(a,c);++this.of;this.Gp(b);return b};Ad.prototype.CreateProxy=Ad.prototype.ah;Ad.prototype.ii=function(a){this.gx(a);--this.of;this.Bc.ii(a)};Ad.prototype.DestroyProxy=Ad.prototype.ii;Ad.prototype.mi=function(a,c,b){this.Bc.mi(a,c,b)&&this.Gp(a)};Ad.prototype.MoveProxy=Ad.prototype.mi;Ad.prototype.It=function(a){this.Gp(a)};Ad.prototype.TouchProxy=Ad.prototype.It;
Ad.prototype.Zi=function(a){return this.Bc.Zi(a)};Ad.prototype.GetFatAABB=Ad.prototype.Zi;Ad.prototype.ec=function(a){return this.Bc.ec(a)};Ad.prototype.GetUserData=Ad.prototype.ec;Ad.prototype.qo=function(a,c){return Lc(this.Bc.Zi(a),this.Bc.Zi(c))};Ad.prototype.TestOverlap=Ad.prototype.qo;Ad.prototype.um=function(){return this.of};Ad.prototype.GetProxyCount=Ad.prototype.um;Ad.prototype.wm=function(){return this.Bc.Js()};Ad.prototype.GetTreeHeight=Ad.prototype.wm;Ad.prototype.Un=function(){return this.Bc.aw()};
Ad.prototype.GetTreeBalance=Ad.prototype.Un;Ad.prototype.Vn=function(){return this.Bc.Vv()};Ad.prototype.GetTreeQuality=Ad.prototype.Vn;Ad.prototype.Zd=function(a){this.Bc.Zd(a)};Ad.prototype.ShiftOrigin=Ad.prototype.Zd;
Ad.prototype.hx=function(a){for(var c=this.Ej=0;c<this.Qo;++c){var b=this.Wm[c];if(null!==b){var d=this;this.Bc.eh(function(a){if(a.zf===b.zf)return!0;d.Ej===d.Ec.length&&(d.Ec[d.Ej]=new zd);var c=d.Ec[d.Ej];a.zf<b.zf?(c.fd=a,c.Dd=b):(c.fd=b,c.Dd=a);++d.Ej;return!0},this.Bc.Zi(b))}}this.Qo=0;this.Ec.length=this.Ej;this.Ec.sort(Bd);for(c=0;c<this.Ej;){var e=this.Ec[c];a.zv(this.Bc.ec(e.fd),this.Bc.ec(e.Dd));for(++c;c<this.Ej;){var f=this.Ec[c];if(f.fd.zf!==e.fd.zf||f.Dd.zf!==e.Dd.zf)break;++c}}};
Ad.prototype.UpdatePairs=Ad.prototype.hx;Ad.prototype.eh=function(a,c){this.Bc.eh(a,c)};Ad.prototype.Query=Ad.prototype.eh;Ad.prototype.Aa=function(a,c){this.Bc.Aa(a,c)};Ad.prototype.RayCast=Ad.prototype.Aa;Ad.prototype.Gp=function(a){this.Wm[this.Qo]=a;++this.Qo};Ad.prototype.BufferMove=Ad.prototype.Gp;Ad.prototype.gx=function(a){this.Wm[this.Wm.indexOf(a)]=null};Ad.prototype.UnBufferMove=Ad.prototype.gx;function Bd(a,c){return a.fd.zf===c.fd.zf?a.Dd.zf-c.Dd.zf:a.fd.zf-c.fd.zf};function Cd(){this.jc=new r(0,0)}p("box2d.b2MassData",Cd);Cd.prototype.od=0;Cd.prototype.mass=Cd.prototype.od;Cd.prototype.jc=null;Cd.prototype.center=Cd.prototype.jc;Cd.prototype.Lf=0;Cd.prototype.I=Cd.prototype.Lf;var Dd={wq:-1,dE:0,mE:1,DE:2,cE:3,KE:4};p("box2d.b2ShapeType",Dd);Dd.e_unknown=-1;Dd.e_circleShape=0;Dd.e_edgeShape=1;Dd.e_polygonShape=2;Dd.e_chainShape=3;Dd.e_shapeTypeCount=4;function Ed(a,c){this.cb=a;this.N=c}p("box2d.b2Shape",Ed);Ed.prototype.cb=-1;Ed.prototype.m_type=Ed.prototype.cb;
Ed.prototype.N=0;Ed.prototype.m_radius=Ed.prototype.N;Ed.prototype.za=function(){return null};Ed.prototype.Clone=Ed.prototype.za;Ed.prototype.e=function(a){this.N=a.N;return this};Ed.prototype.Copy=Ed.prototype.e;Ed.prototype.Ic=function(){return this.cb};Ed.prototype.GetType=Ed.prototype.Ic;Ed.prototype.rf=function(){return 0};Ed.prototype.GetChildCount=Ed.prototype.rf;Ed.prototype.Sc=function(){return!1};Ed.prototype.TestPoint=Ed.prototype.Sc;Ed.prototype.ac=function(){return 0};
Ed.prototype.ComputeDistance=Ed.prototype.ac;Ed.prototype.Aa=function(){return!1};Ed.prototype.RayCast=Ed.prototype.Aa;Ed.prototype.Sb=function(){};Ed.prototype.ComputeAABB=Ed.prototype.Sb;Ed.prototype.Vd=function(){};Ed.prototype.ComputeMass=Ed.prototype.Vd;Ed.prototype.no=function(){};Ed.prototype.Pd=function(){return 0};Ed.prototype.ComputeSubmergedArea=Ed.prototype.Pd;Ed.prototype.Mb=function(){};Ed.prototype.Dump=Ed.prototype.Mb;function A(a){Ed.call(this,0,a||0);this.Ka=new r}q(A,Ed);p("box2d.b2CircleShape",A);A.prototype.Ka=null;A.prototype.m_p=A.prototype.Ka;A.prototype.za=function(){return(new A).e(this)};A.prototype.Clone=A.prototype.za;A.prototype.e=function(a){Ed.prototype.e.call(this,a);this.Ka.e(a.Ka);return this};A.prototype.Copy=A.prototype.e;A.prototype.rf=function(){return 1};A.prototype.GetChildCount=A.prototype.rf;
A.prototype.Sc=function(a,c){var b=Xb(a,this.Ka,A.prototype.Sc.fm),b=x(c,b,A.prototype.Sc.qd);return v(b,b)<=Ma(this.N)};A.prototype.TestPoint=A.prototype.Sc;A.prototype.Sc.fm=new r;A.prototype.Sc.qd=new r;A.prototype.ac=function(a,c,b){a=Xb(a,this.Ka,A.prototype.ac.fm);x(c,a,b);return b.ic()-this.N};A.prototype.ComputeDistance=A.prototype.ac;A.prototype.ac.fm=new r;
A.prototype.Aa=function(a,c,b){b=Xb(b,this.Ka,A.prototype.Aa.EC);b=x(c.pd,b,A.prototype.Aa.zp);var d=v(b,b)-Ma(this.N),e=x(c.te,c.pd,A.prototype.Aa.yp),f=v(b,e),h=v(e,e),d=f*f-h*d;if(0>d||1E-5>h)return!1;f=-(f+Qa(d));return 0<=f&&f<=c.Ff*h?(f/=h,a.ae=f,sb(b,f,e,a.U).ig(),!0):!1};A.prototype.RayCast=A.prototype.Aa;A.prototype.Aa.EC=new r;A.prototype.Aa.zp=new r;A.prototype.Aa.yp=new r;
A.prototype.Sb=function(a,c){var b=Xb(c,this.Ka,A.prototype.Sb.Qi);a.lowerBound.h(b.x-this.N,b.y-this.N);a.upperBound.h(b.x+this.N,b.y+this.N)};A.prototype.ComputeAABB=A.prototype.Sb;A.prototype.Sb.Qi=new r;A.prototype.Vd=function(a,c){var b=Ma(this.N);a.od=c*fa*b;a.jc.e(this.Ka);a.Lf=a.od*(.5*b+v(this.Ka,this.Ka))};A.prototype.ComputeMass=A.prototype.Vd;A.prototype.no=function(a){a.Z=a.wf;a.Z[0].e(this.Ka);a.n=1;a.N=this.N};
A.prototype.Pd=function(a,c,b,d){b=Xb(b,this.Ka,new r);var e=-(v(a,b)-c);if(e<-this.N+1E-5)return 0;if(e>this.N)return d.e(b),fa*this.N*this.N;c=this.N*this.N;var f=e*e,e=c*(Ua(e/this.N)+fa/2)+e*Qa(c-f);c=-2/3*Ra(c-f,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};A.prototype.ComputeSubmergedArea=A.prototype.Pd;
A.prototype.Mb=function(){ma("    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();\n");ma("    shape.m_radius = %.15f;\n",this.N);ma("    shape.m_p.Set(%.15f, %.15f);\n",this.Ka.x,this.Ka.y)};A.prototype.Dump=A.prototype.Mb;function C(){Ed.call(this,1,.016);this.Kc=new r;this.Pc=new r;this.De=new r;this.Ee=new r}q(C,Ed);p("box2d.b2EdgeShape",C);C.prototype.Kc=null;C.prototype.m_vertex1=C.prototype.Kc;C.prototype.Pc=null;C.prototype.m_vertex2=C.prototype.Pc;C.prototype.De=null;C.prototype.m_vertex0=C.prototype.De;C.prototype.Ee=null;C.prototype.m_vertex3=C.prototype.Ee;C.prototype.Pe=!1;C.prototype.m_hasVertex0=C.prototype.Pe;C.prototype.Qe=!1;C.prototype.m_hasVertex3=C.prototype.Qe;
C.prototype.h=function(a,c){this.Kc.e(a);this.Pc.e(c);this.Qe=this.Pe=!1;return this};C.prototype.Set=C.prototype.h;C.prototype.Ca=C.prototype.h;C.prototype.za=function(){return(new C).e(this)};C.prototype.Clone=C.prototype.za;C.prototype.e=function(a){Ed.prototype.e.call(this,a);this.Kc.e(a.Kc);this.Pc.e(a.Pc);this.De.e(a.De);this.Ee.e(a.Ee);this.Pe=a.Pe;this.Qe=a.Qe;return this};C.prototype.Copy=C.prototype.e;C.prototype.rf=function(){return 1};C.prototype.GetChildCount=C.prototype.rf;
C.prototype.Sc=function(){return!1};C.prototype.TestPoint=C.prototype.Sc;C.prototype.ac=function(a,c,b){var d=Xb(a,this.Kc,C.prototype.ac.Ak);a=Xb(a,this.Pc,C.prototype.ac.tn);var e=x(c,d,C.prototype.ac.qd),d=x(a,d,C.prototype.ac.zp),f=v(e,d);if(0<f){var h=v(d,d);f>h?x(c,a,e):e.mb(f/h,d)}b.e(e);return b.ic()};C.prototype.ComputeDistance=C.prototype.ac;g=C.prototype;g.ac.Ak=new r;g.ac.tn=new r;g.ac.qd=new r;g.ac.zp=new r;
g.Aa=function(a,c,b){var d=Yb(b,c.pd,C.prototype.Aa.wp),e=Yb(b,c.te,C.prototype.Aa.xp),f=x(e,d,C.prototype.Aa.qd),e=this.Kc,h=this.Pc,k=x(h,e,C.prototype.Aa.rp),l=a.U.h(k.y,-k.x).ig(),k=v(l,x(e,d,u)),l=v(l,f);if(0===l)return!1;l=k/l;if(0>l||c.Ff<l)return!1;c=sb(d,l,f,C.prototype.Aa.GC);d=x(h,e,C.prototype.Aa.yp);h=v(d,d);if(0===h)return!1;e=v(x(c,e,u),d)/h;if(0>e||1<e)return!1;a.ae=l;y(b.ha,a.U,a.U);0<k&&a.U.Pa();return!0};C.prototype.RayCast=C.prototype.Aa;g=C.prototype;g.Aa.wp=new r;g.Aa.xp=new r;
g.Aa.qd=new r;g.Aa.rp=new r;g.Aa.GC=new r;g.Aa.yp=new r;g.Sb=function(a,c){var b=Xb(c,this.Kc,C.prototype.Sb.Ak),d=Xb(c,this.Pc,C.prototype.Sb.tn);ib(b,d,a.lowerBound);jb(b,d,a.upperBound);b=this.N;a.lowerBound.tt(b,b);a.upperBound.qt(b,b)};C.prototype.ComputeAABB=C.prototype.Sb;C.prototype.Sb.Ak=new r;C.prototype.Sb.tn=new r;C.prototype.Vd=function(a){a.od=0;vb(this.Kc,this.Pc,a.jc);a.Lf=0};C.prototype.ComputeMass=C.prototype.Vd;
C.prototype.no=function(a){a.Z=a.wf;a.Z[0].e(this.Kc);a.Z[1].e(this.Pc);a.n=2;a.N=this.N};C.prototype.Pd=function(a,c,b,d){d.ba();return 0};C.prototype.ComputeSubmergedArea=C.prototype.Pd;
C.prototype.Mb=function(){ma("    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();\n");ma("    shape.m_radius = %.15f;\n",this.N);ma("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.De.x,this.De.y);ma("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.Kc.x,this.Kc.y);ma("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.Pc.x,this.Pc.y);ma("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.Ee.x,this.Ee.y);ma("    shape.m_hasVertex0 = %s;\n",this.Pe);ma("    shape.m_hasVertex3 = %s;\n",this.Qe)};
C.prototype.Dump=C.prototype.Mb;function Fd(){Ed.call(this,3,.016);this.Fi=new r;this.Bi=new r}q(Fd,Ed);p("box2d.b2ChainShape",Fd);Fd.prototype.Z=null;Fd.prototype.m_vertices=Fd.prototype.Z;Fd.prototype.n=0;Fd.prototype.m_count=Fd.prototype.n;Fd.prototype.Fi=null;Fd.prototype.m_prevVertex=Fd.prototype.Fi;Fd.prototype.Bi=null;Fd.prototype.m_nextVertex=Fd.prototype.Bi;Fd.prototype.lk=!1;Fd.prototype.m_hasPrevVertex=Fd.prototype.lk;Fd.prototype.kk=!1;Fd.prototype.m_hasNextVertex=Fd.prototype.kk;
Fd.prototype.Fk=function(){this.Z=null;this.n=0};Fd.prototype.Clear=Fd.prototype.Fk;Fd.prototype.hi=function(a,c){var b;c=c||a.length;this.n=c+1;this.Z=gb(this.n);for(b=0;b<c;++b)this.Z[b].e(a[b]);this.Z[c].e(this.Z[0]);this.Fi.e(this.Z[this.n-2]);this.Bi.e(this.Z[1]);this.kk=this.lk=!0;return this};Fd.prototype.CreateLoop=Fd.prototype.hi;Fd.prototype.Hn=function(a,c){var b;this.n=c=c||a.length;this.Z=gb(c);for(b=0;b<c;++b)this.Z[b].e(a[b]);this.kk=this.lk=!1;this.Fi.ba();this.Bi.ba();return this};
Fd.prototype.CreateChain=Fd.prototype.Hn;Fd.prototype.QA=function(a){this.Fi.e(a);this.lk=!0;return this};Fd.prototype.SetPrevVertex=Fd.prototype.QA;Fd.prototype.MA=function(a){this.Bi.e(a);this.kk=!0;return this};Fd.prototype.SetNextVertex=Fd.prototype.MA;Fd.prototype.za=function(){return(new Fd).e(this)};Fd.prototype.Clone=Fd.prototype.za;Fd.prototype.e=function(a){Ed.prototype.e.call(this,a);this.Hn(a.Z,a.n);this.Fi.e(a.Fi);this.Bi.e(a.Bi);this.lk=a.lk;this.kk=a.kk;return this};
Fd.prototype.Copy=Fd.prototype.e;Fd.prototype.rf=function(){return this.n-1};Fd.prototype.GetChildCount=Fd.prototype.rf;Fd.prototype.Mn=function(a,c){a.cb=1;a.N=this.N;a.Kc.e(this.Z[c]);a.Pc.e(this.Z[c+1]);0<c?(a.De.e(this.Z[c-1]),a.Pe=!0):(a.De.e(this.Fi),a.Pe=this.lk);c<this.n-2?(a.Ee.e(this.Z[c+2]),a.Qe=!0):(a.Ee.e(this.Bi),a.Qe=this.kk)};Fd.prototype.GetChildEdge=Fd.prototype.Mn;Fd.prototype.Sc=function(){return!1};Fd.prototype.TestPoint=Fd.prototype.Sc;
Fd.prototype.ac=function(a,c,b,d){var e=Fd.prototype.ac.bv;this.Mn(e,d);return e.ac(a,c,b,0)};Fd.prototype.ComputeDistance=Fd.prototype.ac;Fd.prototype.ac.bv=new C;Fd.prototype.Aa=function(a,c,b,d){var e=Fd.prototype.Aa.bv;e.Kc.e(this.Z[d]);e.Pc.e(this.Z[(d+1)%this.n]);return e.Aa(a,c,b,0)};Fd.prototype.RayCast=Fd.prototype.Aa;Fd.prototype.Aa.bv=new C;
Fd.prototype.Sb=function(a,c,b){var d=this.Z[(b+1)%this.n];b=Xb(c,this.Z[b],Fd.prototype.Sb.Ak);c=Xb(c,d,Fd.prototype.Sb.tn);ib(b,c,a.lowerBound);jb(b,c,a.upperBound)};Fd.prototype.ComputeAABB=Fd.prototype.Sb;Fd.prototype.Sb.Ak=new r;Fd.prototype.Sb.s_v1=Fd.prototype.Sb.Ak;Fd.prototype.Sb.tn=new r;Fd.prototype.Sb.s_v2=Fd.prototype.Sb.tn;Fd.prototype.Vd=function(a){a.od=0;a.jc.ba();a.Lf=0};Fd.prototype.ComputeMass=Fd.prototype.Vd;
Fd.prototype.no=function(a,c){a.wf[0].e(this.Z[c]);c+1<this.n?a.wf[1].e(this.Z[c+1]):a.wf[1].e(this.Z[0]);a.Z=a.wf;a.n=2;a.N=this.N};Fd.prototype.Pd=function(a,c,b,d){d.ba();return 0};Fd.prototype.ComputeSubmergedArea=Fd.prototype.Pd;
Fd.prototype.Mb=function(){ma("    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();\n");ma("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",8);for(var a=0;a<this.n;++a)ma("    vs[%d].Set(%.15f, %.15f);\n",a,this.Z[a].x,this.Z[a].y);ma("    shape.CreateChain(vs, %d);\n",this.n);ma("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.Fi.x,this.Fi.y);ma("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.Bi.x,this.Bi.y);ma("    shape.m_hasPrevVertex = %s;\n",this.lk?"true":"false");
ma("    shape.m_hasNextVertex = %s;\n",this.kk?"true":"false")};Fd.prototype.Dump=Fd.prototype.Mb;function D(){Ed.call(this,2,.016);this.ck=new r(0,0);this.Z=gb(8);this.mc=gb(8)}q(D,Ed);p("box2d.b2PolygonShape",D);D.prototype.ck=null;D.prototype.m_centroid=D.prototype.ck;D.prototype.Z=null;D.prototype.m_vertices=D.prototype.Z;D.prototype.mc=null;D.prototype.m_normals=D.prototype.mc;D.prototype.n=0;D.prototype.m_count=D.prototype.n;D.prototype.za=function(){return(new D).e(this)};D.prototype.Clone=D.prototype.za;
D.prototype.e=function(a){Ed.prototype.e.call(this,a);this.ck.e(a.ck);this.n=a.n;for(var c=0,b=this.n;c<b;++c)this.Z[c].e(a.Z[c]),this.mc[c].e(a.mc[c]);return this};D.prototype.Copy=D.prototype.e;
D.prototype.H=function(a,c,b,d){this.n=4;this.Z[0].h(-a,-c);this.Z[1].h(a,-c);this.Z[2].h(a,c);this.Z[3].h(-a,c);this.mc[0].h(0,-1);this.mc[1].h(1,0);this.mc[2].h(0,1);this.mc[3].h(-1,0);this.ck.ba();if(b instanceof r)for(d="number"===typeof d?d:0,this.ck.e(b),a=new Vb,a.gj(b),a.Pw(d),b=0,d=this.n;b<d;++b)Xb(a,this.Z[b],this.Z[b]),y(a.ha,this.mc[b],this.mc[b]);return this};D.prototype.SetAsBox=D.prototype.H;
D.prototype.h=function(a,c,b){c="number"===typeof c?c:a.length;b="number"===typeof b?b:0;if(3>c)return this.H(1,1);c=Ia(c,8);for(var d=D.prototype.h.FC,e=0,f=0;f<c;++f){for(var h=a[b+f],k=!0,l=0;l<e;++l)if(1.6E-5>yb(h,d[l])){k=!1;break}k&&d[e++].e(h)}c=e;if(3>c)return this.H(1,1);a=0;h=d[0].x;for(f=1;f<c;++f)if(l=d[f].x,l>h||l===h&&d[f].y<d[a].y)a=f,h=l;e=D.prototype.h.hC;b=0;for(f=a;;){e[b]=f;k=0;for(l=1;l<c;++l)if(k===f)k=l;else{var m=x(d[k],d[e[b]],D.prototype.h.yp),h=x(d[l],d[e[b]],D.prototype.h.Bp),
n=w(m,h);0>n&&(k=l);0===n&&h.Ze()>m.Ze()&&(k=l)}++b;f=k;if(k===a)break}if(3>b)return this.H(1,1);this.n=b;for(f=0;f<b;++f)this.Z[f].e(d[e[f]]);f=0;for(c=b;f<c;++f)d=x(this.Z[(f+1)%c],this.Z[f],u),nb(d,1,this.mc[f]).ig();Gd(this.Z,b,this.ck);return this};D.prototype.Set=D.prototype.h;g=D.prototype;g.h.FC=gb(8);g.h.hC=ta(8);g.h.yp=new r;g.h.Bp=new r;g.rf=function(){return 1};D.prototype.GetChildCount=D.prototype.rf;
D.prototype.Sc=function(a,c){for(var b=Yb(a,c,D.prototype.Sc.jv),d=0,e=this.n;d<e;++d)if(0<v(this.mc[d],x(b,this.Z[d],u)))return!1;return!0};D.prototype.TestPoint=D.prototype.Sc;D.prototype.Sc.jv=new r;
D.prototype.ac=function(a,c,b){c=Yb(a,c,D.prototype.ac.jv);for(var d=-1E37,e=D.prototype.ac.xC.e(c),f=0;f<this.n;++f){var h=v(this.mc[f],x(c,this.Z[f],u));h>d&&(d=h,e.e(this.mc[f]))}if(0<d){e=D.prototype.ac.uC.e(e);d*=d;for(f=0;f<this.n;++f){var h=x(c,this.Z[f],D.prototype.ac.VB),k=h.Ze();d>k&&(e.e(h),d=k)}y(a.ha,e,b);b.ic();return Math.sqrt(d)}y(a.ha,e,b);return d};D.prototype.ComputeDistance=D.prototype.ac;g=D.prototype;g.ac.jv=new r;g.ac.xC=new r;g.ac.uC=new r;g.ac.VB=new r;
g.Aa=function(a,c,b){var d=Yb(b,c.pd,D.prototype.Aa.wp),e=Yb(b,c.te,D.prototype.Aa.xp),e=x(e,d,D.prototype.Aa.qd),f=0;c=c.Ff;for(var h=-1,k=0,l=this.n;k<l;++k){var m=v(this.mc[k],x(this.Z[k],d,u)),n=v(this.mc[k],e);if(0===n){if(0>m)return!1}else 0>n&&m<f*n?(f=m/n,h=k):0<n&&m<c*n&&(c=m/n);if(c<f)return!1}return 0<=h?(a.ae=f,y(b.ha,this.mc[h],a.U),!0):!1};D.prototype.RayCast=D.prototype.Aa;D.prototype.Aa.wp=new r;D.prototype.Aa.xp=new r;D.prototype.Aa.qd=new r;
D.prototype.Sb=function(a,c){for(var b=Xb(c,this.Z[0],a.lowerBound),d=a.upperBound.e(b),e=0,f=this.n;e<f;++e){var h=Xb(c,this.Z[e],D.prototype.Sb.Bp);ib(h,b,b);jb(h,d,d)}e=this.N;b.tt(e,e);d.qt(e,e)};D.prototype.ComputeAABB=D.prototype.Sb;D.prototype.Sb.Bp=new r;
D.prototype.Vd=function(a,c){for(var b=D.prototype.Vd.fm.ba(),d=0,e=0,f=D.prototype.Vd.zp.ba(),h=0,k=this.n;h<k;++h)f.Qa(this.Z[h]);f.Ia(1/this.n);for(var l=1/3,h=0,k=this.n;h<k;++h){var m=x(this.Z[h],f,D.prototype.Vd.sp),n=x(this.Z[(h+1)%k],f,D.prototype.Vd.tp),t=w(m,n),z=.5*t,d=d+z;b.Qa(qb(z*l,pb(m,n,u),db));var z=m.x,m=m.y,B=n.x,n=n.y,e=e+.25*l*t*(z*z+B*z+B*B+(m*m+n*m+n*n))}a.od=c*d;b.Ia(1/d);pb(b,f,a.jc);a.Lf=c*e;a.Lf+=a.od*(v(a.jc,a.jc)-v(b,b))};D.prototype.ComputeMass=D.prototype.Vd;g=D.prototype;
g.Vd.fm=new r;g.Vd.zp=new r;g.Vd.sp=new r;g.Vd.tp=new r;g.jj=function(){for(var a=0;a<this.n;++a)for(var c=a,b=(a+1)%this.n,d=this.Z[c],e=x(this.Z[b],d,D.prototype.jj.rp),f=0;f<this.n;++f)if(f!==c&&f!==b){var h=x(this.Z[f],d,D.prototype.jj.Bp);if(0>w(e,h))return!1}return!0};D.prototype.Validate=D.prototype.jj;D.prototype.jj.rp=new r;D.prototype.jj.Bp=new r;D.prototype.no=function(a){a.Z=this.Z;a.n=this.n;a.N=this.N};
D.prototype.Pd=function(a,c,b,d){var e=Ub(b.ha,a,D.prototype.Pd.yC),f=c-v(a,b.sa),h=D.prototype.Pd.RB,k=0,l=-1;c=-1;var m=!1;a=0;for(var n=this.n;a<n;++a){h[a]=v(e,this.Z[a])-f;var t=-1E-5>h[a];0<a&&(t?m||(l=a-1,k++):m&&(c=a-1,k++));m=t}switch(k){case 0:return m?(a=D.prototype.Pd.tC,this.Vd(a,1),Xb(b,a.jc,d),a.od):0;case 1:-1===l?l=this.n-1:c=this.n-1}a=(l+1)%this.n;e=(c+1)%this.n;f=(0-h[l])/(h[a]-h[l]);h=(0-h[c])/(h[e]-h[c]);l=D.prototype.Pd.oC.h(this.Z[l].x*(1-f)+this.Z[a].x*f,this.Z[l].y*(1-f)+
this.Z[a].y*f);c=D.prototype.Pd.BC.h(this.Z[c].x*(1-h)+this.Z[e].x*h,this.Z[c].y*(1-h)+this.Z[e].y*h);h=0;f=D.prototype.Pd.fm.ba();k=this.Z[a];for(m=null;a!==e;)a=(a+1)%this.n,m=a===e?c:this.Z[a],n=.5*((k.x-l.x)*(m.y-l.y)-(k.y-l.y)*(m.x-l.x)),h+=n,f.x+=n*(l.x+k.x+m.x)/3,f.y+=n*(l.y+k.y+m.y)/3,k=m;f.Ia(1/h);Xb(b,f,d);return h};D.prototype.ComputeSubmergedArea=D.prototype.Pd;g=D.prototype;g.Pd.yC=new r;g.Pd.RB=ta(8);g.Pd.tC=new Cd;g.Pd.oC=new r;g.Pd.BC=new r;g.Pd.fm=new r;
g.Mb=function(){ma("    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();\n");ma("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",8);for(var a=0;a<this.n;++a)ma("    vs[%d].Set(%.15f, %.15f);\n",a,this.Z[a].x,this.Z[a].y);ma("    shape.Set(vs, %d);\n",this.n)};D.prototype.Dump=D.prototype.Mb;
function Gd(a,c,b){b.ba();for(var d=0,e=Gd.CC.ba(),f=1/3,h=0;h<c;++h){var k=e,l=a[h],m=a[(h+1)%c],n=x(l,k,Gd.sp),t=x(m,k,Gd.tp),n=.5*w(n,t),d=d+n;b.x+=n*f*(k.x+l.x+m.x);b.y+=n*f*(k.y+l.y+m.y)}b.Ia(1/d);return b}D.ComputeCentroid=Gd;Gd.CC=new r;Gd.sp=new r;Gd.tp=new r;function Hd(){this.Jr=(new Date).getTime()}p("box2d.b2Timer",Hd);Hd.prototype.Jr=0;Hd.prototype.m_start=Hd.prototype.Jr;Hd.prototype.ub=function(){this.Jr=(new Date).getTime();return this};Hd.prototype.Reset=Hd.prototype.ub;Hd.prototype.Eh=function(){return(new Date).getTime()-this.Jr};Hd.prototype.GetMilliseconds=Hd.prototype.Eh;function Id(){}p("box2d.b2Counter",Id);Id.prototype.n=0;Id.prototype.m_count=Id.prototype.n;Id.prototype.Po=0;Id.prototype.m_min_count=Id.prototype.Po;Id.prototype.Oo=0;
Id.prototype.m_max_count=Id.prototype.Oo;Id.prototype.Lk=function(){return this.n};Id.prototype.GetCount=Id.prototype.Lk;Id.prototype.lz=function(){return this.Po};Id.prototype.GetMinCount=Id.prototype.lz;Id.prototype.gz=function(){return this.Oo};Id.prototype.GetMaxCount=Id.prototype.gz;Id.prototype.jA=function(){var a=this.n;this.n=0;return a};Id.prototype.ResetCount=Id.prototype.jA;Id.prototype.mA=function(){this.Po=0};Id.prototype.ResetMinCount=Id.prototype.mA;
Id.prototype.lA=function(){this.Oo=0};Id.prototype.ResetMaxCount=Id.prototype.lA;Id.prototype.bt=function(){this.n++;this.Oo<this.n&&(this.Oo=this.n)};Id.prototype.Increment=Id.prototype.bt;Id.prototype.us=function(){this.n--;this.Po>this.n&&(this.Po=this.n)};Id.prototype.Decrement=Id.prototype.us;var Jd=0;p("box2d.b2_toiTime",Jd);var Nd=0;p("box2d.b2_toiMaxTime",Nd);var Od=0;p("box2d.b2_toiCalls",Od);var Pd=0;p("box2d.b2_toiIters",Pd);var Qd=0;p("box2d.b2_toiMaxIters",Qd);var Rd=0;p("box2d.b2_toiRootIters",Rd);var Sd=0;p("box2d.b2_toiMaxRootIters",Sd);function Td(){this.fd=new hc;this.Dd=new hc;this.xn=new cc;this.yn=new cc}p("box2d.b2TOIInput",Td);Td.prototype.fd=null;Td.prototype.proxyA=Td.prototype.fd;Td.prototype.Dd=null;Td.prototype.proxyB=Td.prototype.Dd;Td.prototype.xn=null;
Td.prototype.sweepA=Td.prototype.xn;Td.prototype.yn=null;Td.prototype.sweepB=Td.prototype.yn;Td.prototype.zn=0;Td.prototype.tMax=Td.prototype.zn;var Ud={wq:0,pE:1,zE:2,LE:3,IE:4};p("box2d.b2TOIOutputState",Ud);Ud.e_unknown=0;Ud.e_failed=1;Ud.e_overlapped=2;Ud.e_touching=3;Ud.e_separated=4;function Vd(){}p("box2d.b2TOIOutput",Vd);Vd.prototype.state=0;Vd.prototype.state=Vd.prototype.state;Vd.prototype.Ah=0;Vd.prototype.t=Vd.prototype.Ah;var Wd={wq:-1,CE:0,cB:1,dB:2};
p("box2d.b2SeparationFunctionType",Wd);Wd.e_unknown=-1;Wd.e_points=0;Wd.e_faceA=1;Wd.e_faceB=2;function Xd(){this.gn=new cc;this.hn=new cc;this.Sh=new r;this.rc=new r}p("box2d.b2SeparationFunction",Xd);Xd.prototype.th=null;Xd.prototype.m_proxyA=Xd.prototype.th;Xd.prototype.uh=null;Xd.prototype.m_proxyB=Xd.prototype.uh;Xd.prototype.gn=null;Xd.prototype.m_sweepA=Xd.prototype.gn;Xd.prototype.hn=null;Xd.prototype.m_sweepB=Xd.prototype.hn;Xd.prototype.cb=-1;Xd.prototype.m_type=Xd.prototype.cb;
Xd.prototype.Sh=null;Xd.prototype.m_localPoint=Xd.prototype.Sh;Xd.prototype.rc=null;Xd.prototype.m_axis=Xd.prototype.rc;
Xd.prototype.S=function(a,c,b,d,e,f){this.th=c;this.uh=d;c=a.count;this.gn.e(b);this.hn.e(e);b=Yd.Ri;e=Yd.Si;this.gn.Wb(b,f);this.hn.Wb(e,f);1===c?(this.cb=0,c=this.th.Hd(a.X[0]),a=this.uh.Hd(a.aa[0]),b=Xb(b,c,Yd.Wg),e=Xb(e,a,Yd.Xg),x(e,b,this.rc),a=this.rc.ic(),this.Sh.ba()):(a.X[0]===a.X[1]?(this.cb=2,c=this.uh.Hd(a.aa[0]),d=this.uh.Hd(a.aa[1]),nb(x(d,c,u),1,this.rc).ig(),f=y(e.ha,this.rc,Yd.Pi),vb(c,d,this.Sh),e=Xb(e,this.Sh,Yd.Xg),c=this.th.Hd(a.X[0]),b=Xb(b,c,Yd.Wg),a=v(x(b,e,u),f)):(this.cb=
1,c=this.th.Hd(a.X[0]),d=this.th.Hd(a.X[1]),nb(x(d,c,u),1,this.rc).ig(),f=y(b.ha,this.rc,Yd.Pi),vb(c,d,this.Sh),b=Xb(b,this.Sh,Yd.Wg),a=this.uh.Hd(a.aa[0]),e=Xb(e,a,Yd.Xg),a=v(x(e,b,u),f)),0>a&&(this.rc.Pa(),a=-a));return a};Xd.prototype.Initialize=Xd.prototype.S;
Xd.prototype.Tv=function(a,c,b){var d=Yd.Ri,e=Yd.Si;this.gn.Wb(d,b);this.hn.Wb(e,b);switch(this.cb){case 0:var f=Ub(d.ha,this.rc,Yd.Rx),h=Ub(e.ha,u.e(this.rc).Pa(),Yd.Sx);a[0]=this.th.Ok(f);c[0]=this.uh.Ok(h);a=this.th.Hd(a[0]);c=this.uh.Hd(c[0]);d=Xb(d,a,Yd.Wg);e=Xb(e,c,Yd.Xg);return c=v(x(e,d,u),this.rc);case 1:return b=y(d.ha,this.rc,Yd.Pi),d=Xb(d,this.Sh,Yd.Wg),h=Ub(e.ha,u.e(b).Pa(),Yd.Sx),a[0]=-1,c[0]=this.uh.Ok(h),c=this.uh.Hd(c[0]),e=Xb(e,c,Yd.Xg),c=v(x(e,d,u),b);case 2:return b=y(e.ha,this.rc,
Yd.Pi),e=Xb(e,this.Sh,Yd.Xg),f=Ub(d.ha,u.e(b).Pa(),Yd.Rx),c[0]=-1,a[0]=this.th.Ok(f),a=this.th.Hd(a[0]),d=Xb(d,a,Yd.Wg),c=v(x(d,e,u),b);default:return a[0]=-1,c[0]=-1,0}};Xd.prototype.FindMinSeparation=Xd.prototype.Tv;
Xd.prototype.td=function(a,c,b){var d=Yd.Ri,e=Yd.Si;this.gn.Wb(d,b);this.hn.Wb(e,b);switch(this.cb){case 0:return a=this.th.Hd(a),c=this.uh.Hd(c),d=Xb(d,a,Yd.Wg),e=Xb(e,c,Yd.Xg),d=v(x(e,d,u),this.rc);case 1:return b=y(d.ha,this.rc,Yd.Pi),d=Xb(d,this.Sh,Yd.Wg),c=this.uh.Hd(c),e=Xb(e,c,Yd.Xg),d=v(x(e,d,u),b);case 2:return b=y(e.ha,this.rc,Yd.Pi),e=Xb(e,this.Sh,Yd.Xg),a=this.th.Hd(a),d=Xb(d,a,Yd.Wg),d=v(x(d,e,u),b);default:return 0}};Xd.prototype.Evaluate=Xd.prototype.td;
function Yd(a,c){var b=Yd.WC.ub();++Od;a.state=0;a.Ah=c.zn;var d=c.fd,e=c.Dd,f=Yd.TC.e(c.xn),h=Yd.UC.e(c.yn);f.ic();h.ic();var k=c.zn,l=Ja(.008,d.N+e.N-.024),m=0,n=0,t=Yd.KB;t.count=0;var z=Yd.WB;z.fd=c.fd;z.Dd=c.Dd;for(z.Bn=!1;;){var B=Yd.Ri,O=Yd.Si;f.Wb(B,m);h.Wb(O,m);z.lm.e(B);z.mm.e(O);B=Yd.XB;uc(B,t,z);if(0>=B.vf){a.state=2;a.Ah=0;break}if(B.vf<l+.002){a.state=3;a.Ah=m;break}B=Yd.gC;B.S(t,d,f,e,h,m);for(var O=!1,ia=k,aa=0;;){var ua=Yd.mC,Fa=Yd.nC,na=B.Tv(ua,Fa,ia);if(na>l+.002){a.state=4;a.Ah=
k;O=!0;break}if(na>l-.002){m=ia;break}var lb=B.td(ua[0],Fa[0],m);if(lb<l-.002){a.state=1;a.Ah=m;O=!0;break}if(lb<=l+.002){a.state=3;a.Ah=m;O=!0;break}for(var Ya=0,Za=m,mb=ia;;){var Na=0,Na=Ya&1?Za+(l-lb)*(mb-Za)/(na-lb):.5*(Za+mb);++Ya;++Rd;var Oa=B.td(ua[0],Fa[0],Na);if(.002>ra(Oa-l)){ia=Na;break}Oa>l?(Za=Na,lb=Oa):(mb=Na,na=Oa);if(50===Ya)break}Sd=Ja(Sd,Ya);++aa;if(8===aa)break}++n;++Pd;if(O)break;if(20===n){a.state=1;a.Ah=m;break}}Qd=Ja(Qd,n);b=b.Eh();Nd=Ja(Nd,b);Jd+=b}
p("box2d.b2TimeOfImpact",Yd);Yd.WC=new Hd;Yd.KB=new ic;Yd.WB=new jc;Yd.XB=new kc;Yd.Ri=new Vb;Yd.Si=new Vb;Yd.mC=ta(1);Yd.nC=ta(1);Yd.gC=new Xd;Yd.TC=new cc;Yd.UC=new cc;Yd.Wg=new r;Yd.Xg=new r;Yd.Pi=new r;Yd.Rx=new r;Yd.Sx=new r;function $d(){}p("box2d.b2Filter",$d);$d.prototype.uf=1;$d.prototype.categoryBits=$d.prototype.uf;$d.prototype.Ef=65535;$d.prototype.maskBits=$d.prototype.Ef;$d.prototype.Kd=0;$d.prototype.groupIndex=$d.prototype.Kd;$d.prototype.za=function(){return(new $d).e(this)};$d.prototype.Clone=$d.prototype.za;$d.prototype.e=function(a){this.uf=a.uf;this.Ef=a.Ef;this.Kd=a.Kd;return this};$d.prototype.Copy=$d.prototype.e;function E(){this.filter=new $d}p("box2d.b2FixtureDef",E);E.prototype.shape=null;
E.prototype.shape=E.prototype.shape;E.prototype.Hc=null;E.prototype.userData=E.prototype.Hc;E.prototype.gb=.2;E.prototype.friction=E.prototype.gb;E.prototype.dc=0;E.prototype.restitution=E.prototype.dc;E.prototype.fa=0;E.prototype.density=E.prototype.fa;E.prototype.ui=!1;E.prototype.isSensor=E.prototype.ui;E.prototype.filter=null;E.prototype.filter=E.prototype.filter;function ae(){this.ra=new Jc}p("box2d.b2FixtureProxy",ae);ae.prototype.ra=null;ae.prototype.aabb=ae.prototype.ra;ae.prototype.pg=null;
ae.prototype.fixture=ae.prototype.pg;ae.prototype.wo=0;ae.prototype.childIndex=ae.prototype.wo;ae.prototype.Oi=null;ae.prototype.proxy=ae.prototype.Oi;function be(a){return sa(a,function(){return new ae})}ae.MakeArray=be;function F(){this.of=0;this.Ho=new $d}p("box2d.b2Fixture",F);F.prototype.Wf=0;F.prototype.m_density=F.prototype.Wf;F.prototype.Y=null;F.prototype.m_next=F.prototype.Y;F.prototype.xa=null;F.prototype.m_body=F.prototype.xa;F.prototype.$a=null;F.prototype.m_shape=F.prototype.$a;
F.prototype.Xf=0;F.prototype.m_friction=F.prototype.Xf;F.prototype.Zf=0;F.prototype.m_restitution=F.prototype.Zf;F.prototype.Zh=null;F.prototype.m_proxies=F.prototype.Zh;F.prototype.of=0;F.prototype.m_proxyCount=F.prototype.of;F.prototype.Ho=null;F.prototype.m_filter=F.prototype.Ho;F.prototype.Re=!1;F.prototype.m_isSensor=F.prototype.Re;F.prototype.Ve=null;F.prototype.m_userData=F.prototype.Ve;F.prototype.Ic=function(){return this.$a.Ic()};F.prototype.GetType=F.prototype.Ic;F.prototype.yz=function(){return this.$a};
F.prototype.GetShape=F.prototype.yz;F.prototype.Xz=function(){return this.Re};F.prototype.IsSensor=F.prototype.Xz;F.prototype.Fs=function(a){a=a||new $d;return a.e(this.Ho)};F.prototype.GetFilterData=F.prototype.Fs;F.prototype.ec=function(){return this.Ve};F.prototype.GetUserData=F.prototype.ec;F.prototype.fh=function(a){this.Ve=a};F.prototype.SetUserData=F.prototype.fh;F.prototype.Nb=function(){return this.xa};F.prototype.GetBody=F.prototype.Nb;F.prototype.ud=function(){return this.Y};
F.prototype.GetNext=F.prototype.ud;F.prototype.ho=function(a){this.Wf=a};F.prototype.SetDensity=F.prototype.ho;F.prototype.Up=function(){return this.Wf};F.prototype.GetDensity=F.prototype.Up;F.prototype.Gs=function(){return this.Xf};F.prototype.GetFriction=F.prototype.Gs;F.prototype.wt=function(a){this.Xf=a};F.prototype.SetFriction=F.prototype.wt;F.prototype.Us=function(){return this.Zf};F.prototype.GetRestitution=F.prototype.Us;F.prototype.At=function(a){this.Zf=a};F.prototype.SetRestitution=F.prototype.At;
F.prototype.Sc=function(a){return this.$a.Sc(this.xa.Wb(),a)};F.prototype.TestPoint=F.prototype.Sc;F.prototype.ac=function(a,c,b){return this.$a.ac(this.xa.Wb(),a,c,b)};F.prototype.ComputeDistance=F.prototype.ac;F.prototype.Aa=function(a,c,b){return this.$a.Aa(a,c,this.xa.Wb(),b)};F.prototype.RayCast=F.prototype.Aa;F.prototype.Xp=function(a){a=a||new Cd;this.$a.Vd(a,this.Wf);return a};F.prototype.GetMassData=F.prototype.Xp;F.prototype.Uv=function(a){return this.Zh[a].ra};F.prototype.GetAABB=F.prototype.Uv;
F.prototype.Gn=function(a,c){this.Ve=c.Hc;this.Xf=c.gb;this.Zf=c.dc;this.xa=a;this.Y=null;this.Ho.e(c.filter);this.Re=c.ui;this.$a=c.shape.za();this.Zh=be(this.$a.rf());this.of=0;this.Wf=c.fa};F.prototype.Create=F.prototype.Gn;F.prototype.Jf=function(){this.$a=null};F.prototype.Destroy=F.prototype.Jf;F.prototype.ts=function(a,c){this.of=this.$a.rf();for(var b=0;b<this.of;++b){var d=this.Zh[b];this.$a.Sb(d.ra,c,b);d.Oi=a.ah(d.ra,d);d.pg=this;d.wo=b}};F.prototype.CreateProxies=F.prototype.ts;
F.prototype.Lp=function(a){for(var c=0;c<this.of;++c){var b=this.Zh[c];a.ii(b.Oi);b.Oi=null}this.of=0};F.prototype.DestroyProxies=F.prototype.Lp;F.prototype.ij=function(a,c,b){if(0!==this.of)for(var d=0;d<this.of;++d){var e=this.Zh[d],f=F.prototype.ij.BB,h=F.prototype.ij.CB;this.$a.Sb(f,c,d);this.$a.Sb(h,b,d);e.ra.he(f,h);f=x(b.sa,c.sa,F.prototype.ij.UB);a.mi(e.Oi,e.ra,f)}};F.prototype.Synchronize=F.prototype.ij;F.prototype.ij.BB=new Jc;F.prototype.ij.CB=new Jc;F.prototype.ij.UB=new r;
F.prototype.EA=function(a){this.Ho.e(a);this.Bw()};F.prototype.SetFilterData=F.prototype.EA;F.prototype.Bw=function(){if(!this.xa){for(var a=this.xa.Kk();a;){var c=a.ke,b=c.Yb;c.Xb!==this&&b!==this||c.Pp();a=a.next}a=this.xa.j;if(null!==a)for(a=a.jb.Xc,c=0;c<this.of;++c)a.It(this.Zh[c].Oi)}};F.prototype.Refilter=F.prototype.Bw;F.prototype.Qw=function(a){a!==this.Re&&(this.xa.Ra(!0),this.Re=a)};F.prototype.SetSensor=F.prototype.Qw;F.prototype.Mb=function(){};F.prototype.Dump=F.prototype.Mb;var ce={QD:-1,ND:0,yD:1,uD:2,rD:3};p("box2d.b2BodyType",ce);ce.b2_unknown=-1;ce.b2_staticBody=0;ce.b2_kinematicBody=1;ce.b2_dynamicBody=2;ce.b2_bulletBody=3;function G(){this.position=new r(0,0);this.ih=new r(0,0)}p("box2d.b2BodyDef",G);G.prototype.type=0;G.prototype.type=G.prototype.type;G.prototype.position=null;G.prototype.position=G.prototype.position;G.prototype.fb=0;G.prototype.angle=G.prototype.fb;G.prototype.ih=null;G.prototype.linearVelocity=G.prototype.ih;G.prototype.hh=0;
G.prototype.angularVelocity=G.prototype.hh;G.prototype.Wj=0;G.prototype.linearDamping=G.prototype.Wj;G.prototype.lg=0;G.prototype.angularDamping=G.prototype.lg;G.prototype.Me=!0;G.prototype.allowSleep=G.prototype.Me;G.prototype.$k=!0;G.prototype.awake=G.prototype.$k;G.prototype.Rf=!1;G.prototype.fixedRotation=G.prototype.Rf;G.prototype.tf=!1;G.prototype.bullet=G.prototype.tf;G.prototype.Am=!0;G.prototype.active=G.prototype.Am;G.prototype.Hc=null;G.prototype.userData=G.prototype.Hc;
G.prototype.Sf=1;G.prototype.gravityScale=G.prototype.Sf;
function H(a,c){this.La=new Vb;this.So=new Vb;this.Xl=new Vb;this.P=new cc;this.ur=new cc;this.fc=new r;this.Eu=new r;this.yf=new r;a.tf&&(this.tj=!0);a.Rf&&(this.ek=!0);a.Me&&(this.sl=!0);a.$k&&(this.uc=!0);a.Am&&(this.rl=!0);this.j=c;this.La.sa.e(a.position);this.La.ha.Ba(a.fb);this.Xl.e(this.La);this.P.hb.ba();this.P.Tc.e(this.La.sa);this.P.V.e(this.La.sa);this.P.$d=a.fb;this.P.o=a.fb;this.P.Qf=0;this.fc.e(a.ih);this.ab=a.hh;this.Sm=a.Wj;this.Hm=a.lg;this.ul=a.Sf;this.yf.ba();this.uk=this.Ki=0;
this.cb=a.type;this.zb=2===a.type?this.da=1:this.da=0;this.cc=this.Tf=0;this.Ve=a.Hc;this.ne=null;this.oh=0;this.me=null;this.qj=0}p("box2d.b2Body",H);H.prototype.Yc=!1;H.prototype.m_flag_islandFlag=H.prototype.Yc;H.prototype.uc=!1;H.prototype.m_flag_awakeFlag=H.prototype.uc;H.prototype.sl=!1;H.prototype.m_flag_autoSleepFlag=H.prototype.sl;H.prototype.tj=!1;H.prototype.m_flag_bulletFlag=H.prototype.tj;H.prototype.ek=!1;H.prototype.m_flag_fixedRotationFlag=H.prototype.ek;H.prototype.rl=!1;
H.prototype.m_flag_activeFlag=H.prototype.rl;H.prototype.fk=!1;H.prototype.m_flag_toiFlag=H.prototype.fk;H.prototype.Zb=0;H.prototype.m_islandIndex=H.prototype.Zb;H.prototype.j=null;H.prototype.m_world=H.prototype.j;H.prototype.La=null;H.prototype.m_xf=H.prototype.La;H.prototype.So=null;H.prototype.m_out_xf=H.prototype.So;H.prototype.Xl=null;H.prototype.m_xf0=H.prototype.Xl;H.prototype.P=null;H.prototype.m_sweep=H.prototype.P;H.prototype.ur=null;H.prototype.m_out_sweep=H.prototype.ur;
H.prototype.yc=null;H.prototype.m_jointList=H.prototype.yc;H.prototype.bc=null;H.prototype.m_contactList=H.prototype.bc;H.prototype.qb=null;H.prototype.m_prev=H.prototype.qb;H.prototype.Y=null;H.prototype.m_next=H.prototype.Y;H.prototype.fc=null;H.prototype.m_linearVelocity=H.prototype.fc;H.prototype.Eu=null;H.prototype.m_out_linearVelocity=H.prototype.Eu;H.prototype.ab=0;H.prototype.m_angularVelocity=H.prototype.ab;H.prototype.Sm=0;H.prototype.m_linearDamping=H.prototype.Sm;H.prototype.Hm=0;
H.prototype.m_angularDamping=H.prototype.Hm;H.prototype.ul=1;H.prototype.m_gravityScale=H.prototype.ul;H.prototype.yf=null;H.prototype.m_force=H.prototype.yf;H.prototype.Ki=0;H.prototype.m_torque=H.prototype.Ki;H.prototype.uk=0;H.prototype.m_sleepTime=H.prototype.uk;H.prototype.cb=0;H.prototype.m_type=H.prototype.cb;H.prototype.da=1;H.prototype.m_mass=H.prototype.da;H.prototype.zb=1;H.prototype.m_invMass=H.prototype.zb;H.prototype.Tf=0;H.prototype.m_I=H.prototype.Tf;H.prototype.cc=0;
H.prototype.m_invI=H.prototype.cc;H.prototype.Ve=null;H.prototype.m_userData=H.prototype.Ve;H.prototype.ne=null;H.prototype.m_fixtureList=H.prototype.ne;H.prototype.oh=0;H.prototype.m_fixtureCount=H.prototype.oh;H.prototype.me=null;H.prototype.m_controllerList=H.prototype.me;H.prototype.qj=0;H.prototype.m_controllerCount=H.prototype.qj;H.prototype.k=function(a,c){if(a instanceof E)return this.qs(a);if(a instanceof Ed&&"number"===typeof c)return this.Ip(a,c);throw Error();};
H.prototype.CreateFixture=H.prototype.k;H.prototype.qs=function(a){if(this.j.ce)return null;var c=new F;c.Gn(this,a);this.rl&&c.ts(this.j.jb.Xc,this.La);c.Y=this.ne;this.ne=c;++this.oh;c.xa=this;0<c.Wf&&this.Ih();this.j.br=!0;return c};H.prototype.CreateFixture_Def=H.prototype.qs;H.prototype.Ip=function(a,c){var b=H.prototype.Ip.QB;b.shape=a;b.fa="number"===typeof c?c:0;return this.qs(b)};H.prototype.CreateFixture_Shape_Density=H.prototype.Ip;H.prototype.Ip.QB=new E;
H.prototype.vs=function(a){if(!this.j.ce){for(var c=this.ne,b=null;null!==c;){if(c===a){b?b.Y=a.Y:this.ne=a.Y;break}b=c;c=c.Y}for(c=this.bc;c;){var b=c.ke,c=c.next,d=b.Yb;a!==b.Xb&&a!==d||this.j.jb.Jf(b)}this.rl&&a.Lp(this.j.jb.Xc);a.Jf();a.xa=null;a.Y=null;--this.oh;this.Ih()}};H.prototype.DestroyFixture=H.prototype.vs;
H.prototype.Et=function(a,c,b){if(a instanceof r&&"number"===typeof c)this.Uk(a.x,a.y,c);else if(a instanceof Vb)this.Uk(a.sa.x,a.sa.y,a.hc());else if("number"===typeof a&&"number"===typeof c&&"number"===typeof b)this.Uk(a,c,b);else throw Error();};H.prototype.SetTransform=H.prototype.Et;H.prototype.hj=function(a,c){this.Uk(a.x,a.y,c)};H.prototype.SetTransform_V2_A=H.prototype.hj;
H.prototype.Uk=function(a,c,b){if(!this.j.ce&&(this.La.sa.x!==a||this.La.sa.y!==c||this.La.ha.hc()!==b))for(this.La.ha.Ba(b),this.La.sa.h(a,c),this.Xl.e(this.La),Xb(this.La,this.P.hb,this.P.V),this.P.o=b,this.P.Tc.e(this.P.V),this.P.$d=b,a=this.j.jb.Xc,c=this.ne;c;c=c.Y)c.ij(a,this.La,this.La)};H.prototype.SetTransform_X_Y_A=H.prototype.Uk;H.prototype.WA=function(a){this.Uk(a.sa.x,a.sa.y,a.hc())};H.prototype.SetTransform_X=H.prototype.WA;H.prototype.Wb=function(a){a=a||this.So;return a.e(this.La)};
H.prototype.GetTransform=H.prototype.Wb;H.prototype.ad=function(a){a=a||this.So.sa;return a.e(this.La.sa)};H.prototype.GetPosition=H.prototype.ad;H.prototype.gj=function(a){this.hj(a,this.hc())};H.prototype.SetPosition=H.prototype.gj;H.prototype.zt=function(a,c){this.Uk(a,c,this.hc())};H.prototype.SetPositionXY=H.prototype.zt;H.prototype.Vs=function(a){a=a||this.So.ha;return a.e(this.La.ha)};H.prototype.GetRotation=H.prototype.Vs;H.prototype.Bt=function(a){this.hj(this.ad(),a.hc())};
H.prototype.SetRotation=H.prototype.Bt;H.prototype.hc=function(){return this.P.o};H.prototype.GetAngle=H.prototype.hc;H.prototype.Ba=function(a){this.hj(this.ad(),a)};H.prototype.SetAngle=H.prototype.Ba;H.prototype.Le=function(a){a=a||this.ur.V;return a.e(this.P.V)};H.prototype.GetWorldCenter=H.prototype.Le;H.prototype.Qn=function(a){a=a||this.ur.hb;return a.e(this.P.hb)};H.prototype.GetLocalCenter=H.prototype.Qn;H.prototype.Yd=function(a){0!==this.cb&&(0<v(a,a)&&this.Ra(!0),this.fc.e(a))};
H.prototype.SetLinearVelocity=H.prototype.Yd;H.prototype.ie=function(a){a=a||this.Eu;return a.e(this.fc)};H.prototype.GetLinearVelocity=H.prototype.ie;H.prototype.Jh=function(a){0!==this.cb&&(0<a*a&&this.Ra(!0),this.ab=a)};H.prototype.SetAngularVelocity=H.prototype.Jh;H.prototype.sm=function(){return this.ab};H.prototype.GetAngularVelocity=H.prototype.sm;
H.prototype.Ds=function(a){a.type=this.Ic();a.Me=this.sl;a.fb=this.hc();a.lg=this.Hm;a.Sf=this.ul;a.hh=this.ab;a.Rf=this.ek;a.tf=this.tj;a.$k=this.uc;a.Wj=this.Sm;a.ih.e(this.ie());a.position.e(this.ad());a.Hc=this.ec();return a};H.prototype.GetDefinition=H.prototype.Ds;H.prototype.He=function(a,c,b){2===this.cb&&(!this.uc&&this.Ra(!0),this.uc&&(this.yf.x+=a.x,this.yf.y+=a.y,this.Ki+=(c.x-this.P.V.x)*a.y-(c.y-this.P.V.y)*a.x))};H.prototype.ApplyForce=H.prototype.He;
H.prototype.ls=function(a,c){2===this.cb&&(("boolean"===typeof c?c:1)&&!this.uc&&this.Ra(!0),this.uc&&(this.yf.x+=a.x,this.yf.y+=a.y))};H.prototype.ApplyForceToCenter=H.prototype.ls;H.prototype.Fp=function(a,c){2===this.cb&&(("boolean"===typeof c?c:1)&&!this.uc&&this.Ra(!0),this.uc&&(this.Ki+=a))};H.prototype.ApplyTorque=H.prototype.Fp;
H.prototype.qf=function(a,c,b){2===this.cb&&(("boolean"===typeof b?b:1)&&!this.uc&&this.Ra(!0),this.uc&&(this.fc.x+=this.zb*a.x,this.fc.y+=this.zb*a.y,this.ab+=this.cc*((c.x-this.P.V.x)*a.y-(c.y-this.P.V.y)*a.x)))};H.prototype.ApplyLinearImpulse=H.prototype.qf;H.prototype.ks=function(a,c){2===this.cb&&(("boolean"===typeof c?c:1)&&!this.uc&&this.Ra(!0),this.uc&&(this.ab+=this.cc*a))};H.prototype.ApplyAngularImpulse=H.prototype.ks;H.prototype.je=function(){return this.da};H.prototype.GetMass=H.prototype.je;
H.prototype.ki=function(){return this.Tf+this.da*v(this.P.hb,this.P.hb)};H.prototype.GetInertia=H.prototype.ki;H.prototype.Xp=function(a){a.od=this.da;a.Lf=this.Tf+this.da*v(this.P.hb,this.P.hb);a.jc.e(this.P.hb);return a};H.prototype.GetMassData=H.prototype.Xp;
H.prototype.Sk=function(a){if(!this.j.ce&&2===this.cb){this.cc=this.Tf=this.zb=0;this.da=a.od;0>=this.da&&(this.da=1);this.zb=1/this.da;0<a.Lf&&!this.ek&&(this.Tf=a.Lf-this.da*v(a.jc,a.jc),this.cc=1/this.Tf);var c=H.prototype.Sk.fv.e(this.P.V);this.P.hb.e(a.jc);Xb(this.La,this.P.hb,this.P.V);this.P.Tc.e(this.P.V);ub(this.fc,this.ab,x(this.P.V,c,u),this.fc)}};H.prototype.SetMassData=H.prototype.Sk;H.prototype.Sk.fv=new r;
H.prototype.Ih=function(){this.cc=this.Tf=this.zb=this.da=0;this.P.hb.ba();if(0===this.cb||1===this.cb)this.P.Tc.e(this.La.sa),this.P.V.e(this.La.sa),this.P.$d=this.P.o;else{for(var a=H.prototype.Ih.pC.ba(),c=this.ne;c;c=c.Y)if(0!==c.Wf){var b=c.Xp(H.prototype.Ih.sC);this.da+=b.od;a.x+=b.jc.x*b.od;a.y+=b.jc.y*b.od;this.Tf+=b.Lf}0<this.da?(this.zb=1/this.da,a.x*=this.zb,a.y*=this.zb):this.zb=this.da=1;0<this.Tf&&!this.ek?(this.Tf-=this.da*v(a,a),this.cc=1/this.Tf):this.cc=this.Tf=0;c=H.prototype.Ih.fv.e(this.P.V);
this.P.hb.e(a);Xb(this.La,this.P.hb,this.P.V);this.P.Tc.e(this.P.V);ub(this.fc,this.ab,x(this.P.V,c,u),this.fc)}};H.prototype.ResetMassData=H.prototype.Ih;H.prototype.Ih.pC=new r;H.prototype.Ih.fv=new r;H.prototype.Ih.sC=new Cd;H.prototype.sb=function(a,c){return Xb(this.La,a,c)};H.prototype.GetWorldPoint=H.prototype.sb;H.prototype.$i=function(a,c){return y(this.La.ha,a,c)};H.prototype.GetWorldVector=H.prototype.$i;H.prototype.Ke=function(a,c){return Yb(this.La,a,c)};H.prototype.GetLocalPoint=H.prototype.Ke;
H.prototype.Wp=function(a,c){return Ub(this.La.ha,a,c)};H.prototype.GetLocalVector=H.prototype.Wp;H.prototype.Dh=function(a,c){return ub(this.fc,this.ab,x(a,this.P.V,u),c)};H.prototype.GetLinearVelocityFromWorldPoint=H.prototype.Dh;H.prototype.dz=function(a,c){return this.Dh(this.sb(a,c),c)};H.prototype.GetLinearVelocityFromLocalPoint=H.prototype.dz;H.prototype.bz=function(){return this.Sm};H.prototype.GetLinearDamping=H.prototype.bz;H.prototype.JA=function(a){this.Sm=a};
H.prototype.SetLinearDamping=H.prototype.JA;H.prototype.sy=function(){return this.Hm};H.prototype.GetAngularDamping=H.prototype.sy;H.prototype.Iw=function(a){this.Hm=a};H.prototype.SetAngularDamping=H.prototype.Iw;H.prototype.Is=function(){return this.ul};H.prototype.GetGravityScale=H.prototype.Is;H.prototype.io=function(a){this.ul=a};H.prototype.SetGravityScale=H.prototype.io;
H.prototype.eq=function(a){if(!this.j.ce&&this.cb!==a){this.cb=a;this.Ih();0===this.cb&&(this.fc.ba(),this.ab=0,this.P.$d=this.P.o,this.P.Tc.e(this.P.V),this.zm());this.Ra(!0);this.yf.ba();this.Ki=0;for(a=this.bc;a;){var c=a;a=a.next;this.j.jb.Jf(c.ke)}this.bc=null;a=this.j.jb.Xc;for(c=this.ne;c;c=c.Y)for(var b=c.of,d=0;d<b;++d)a.It(c.Zh[d].Oi)}};H.prototype.SetType=H.prototype.eq;H.prototype.Ic=function(){return this.cb};H.prototype.GetType=H.prototype.Ic;H.prototype.BA=function(a){this.tj=a};
H.prototype.SetBullet=H.prototype.BA;H.prototype.Sz=function(){return this.tj};H.prototype.IsBullet=H.prototype.Sz;H.prototype.SA=function(a){a?this.sl=!0:(this.sl=!1,this.Ra(!0))};H.prototype.SetSleepingAllowed=H.prototype.SA;H.prototype.Yz=function(){return this.sl};H.prototype.IsSleepingAllowed=H.prototype.Yz;H.prototype.Ra=function(a){a?this.uc||(this.uc=!0,this.uk=0):(this.uc=!1,this.uk=0,this.fc.ba(),this.ab=0,this.yf.ba(),this.Ki=0)};H.prototype.SetAwake=H.prototype.Ra;H.prototype.Rz=function(){return this.uc};
H.prototype.IsAwake=H.prototype.Rz;H.prototype.Gw=function(a){if(a!==this.Gh())if(a){this.rl=!0;a=this.j.jb.Xc;for(var c=this.ne;c;c=c.Y)c.ts(a,this.La)}else{this.rl=!1;a=this.j.jb.Xc;for(c=this.ne;c;c=c.Y)c.Lp(a);for(a=this.bc;a;)c=a,a=a.next,this.j.jb.Jf(c.ke);this.bc=null}};H.prototype.SetActive=H.prototype.Gw;H.prototype.Gh=function(){return this.rl};H.prototype.IsActive=H.prototype.Gh;H.prototype.FA=function(a){this.ek!==a&&(this.ek=a,this.ab=0,this.Ih())};H.prototype.SetFixedRotation=H.prototype.FA;
H.prototype.Uz=function(){return this.ek};H.prototype.IsFixedRotation=H.prototype.Uz;H.prototype.Ny=function(){return this.ne};H.prototype.GetFixtureList=H.prototype.Ny;H.prototype.Ls=function(){return this.yc};H.prototype.GetJointList=H.prototype.Ls;H.prototype.Kk=function(){return this.bc};H.prototype.GetContactList=H.prototype.Kk;H.prototype.ud=function(){return this.Y};H.prototype.GetNext=H.prototype.ud;H.prototype.ec=function(){return this.Ve};H.prototype.GetUserData=H.prototype.ec;
H.prototype.fh=function(a){this.Ve=a};H.prototype.SetUserData=H.prototype.fh;H.prototype.Zs=function(){return this.j};H.prototype.GetWorld=H.prototype.Zs;H.prototype.zm=function(){var a=H.prototype.zm.cD;a.ha.Ba(this.P.$d);y(a.ha,this.P.hb,a.sa);x(this.P.Tc,a.sa,a.sa);for(var c=this.j.jb.Xc,b=this.ne;b;b=b.Y)b.ij(c,a,this.La)};H.prototype.SynchronizeFixtures=H.prototype.zm;H.prototype.zm.cD=new Vb;
H.prototype.Wk=function(){this.La.ha.Ba(this.P.o);y(this.La.ha,this.P.hb,this.La.sa);x(this.P.V,this.La.sa,this.La.sa)};H.prototype.SynchronizeTransform=H.prototype.Wk;H.prototype.Vk=function(a){if(2!==this.cb&&2!==a.cb)return!1;for(var c=this.yc;c;c=c.next)if(c.Hf===a&&!c.kj.Do)return!1;return!0};H.prototype.ShouldCollide=H.prototype.Vk;
H.prototype.Vi=function(a){this.P.Vi(a);this.P.V.e(this.P.Tc);this.P.o=this.P.$d;this.La.ha.Ba(this.P.o);y(this.La.ha,this.P.hb,this.La.sa);x(this.P.V,this.La.sa,this.La.sa)};H.prototype.Advance=H.prototype.Vi;H.prototype.Mb=function(){};H.prototype.Dump=H.prototype.Mb;H.prototype.Iy=function(){return this.me};H.prototype.GetControllerList=H.prototype.Iy;H.prototype.Hy=function(){return this.qj};H.prototype.GetControllerCount=H.prototype.Hy;function de(){}p("box2d.b2Profile",de);de.prototype.step=0;de.prototype.step=de.prototype.step;de.prototype.ng=0;de.prototype.collide=de.prototype.ng;de.prototype.zg=0;de.prototype.solve=de.prototype.zg;de.prototype.We=0;de.prototype.solveInit=de.prototype.We;de.prototype.Ye=0;de.prototype.solveVelocity=de.prototype.Ye;de.prototype.Xe=0;de.prototype.solvePosition=de.prototype.Xe;de.prototype.mg=0;de.prototype.broadphase=de.prototype.mg;de.prototype.Ag=0;de.prototype.solveTOI=de.prototype.Ag;
de.prototype.ub=function(){this.Ag=this.mg=this.Xe=this.Ye=this.We=this.zg=this.ng=this.step=0;return this};de.prototype.Reset=de.prototype.ub;function ee(){}p("box2d.b2TimeStep",ee);ee.prototype.Ib=0;ee.prototype.dt=ee.prototype.Ib;ee.prototype.Uc=0;ee.prototype.inv_dt=ee.prototype.Uc;ee.prototype.xd=0;ee.prototype.dtRatio=ee.prototype.xd;ee.prototype.Zg=0;ee.prototype.velocityIterations=ee.prototype.Zg;ee.prototype.zh=0;ee.prototype.positionIterations=ee.prototype.zh;ee.prototype.bg=0;
ee.prototype.particleIterations=ee.prototype.bg;ee.prototype.Ge=!1;ee.prototype.warmStarting=ee.prototype.Ge;ee.prototype.e=function(a){this.Ib=a.Ib;this.Uc=a.Uc;this.xd=a.xd;this.zh=a.zh;this.Zg=a.Zg;this.bg=a.bg;this.Ge=a.Ge;return this};ee.prototype.Copy=ee.prototype.e;function fe(){this.V=new r}p("box2d.b2Position",fe);fe.prototype.V=null;fe.prototype.c=fe.prototype.V;fe.prototype.o=0;fe.prototype.a=fe.prototype.o;function ge(a){return sa(a,function(){return new fe})}fe.MakeArray=ge;
function he(){this.oa=new r}p("box2d.b2Velocity",he);he.prototype.oa=null;he.prototype.v=he.prototype.oa;he.prototype.M=0;he.prototype.w=he.prototype.M;function ie(a){return sa(a,function(){return new he})}he.MakeArray=ie;function je(){this.step=new ee}p("box2d.b2SolverData",je);je.prototype.step=null;je.prototype.step=je.prototype.step;je.prototype.ga=null;je.prototype.positions=je.prototype.ga;je.prototype.L=null;je.prototype.velocities=je.prototype.L;function ke(){}p("box2d.b2DestructionListener",ke);ke.prototype.co=function(){};ke.prototype.SayGoodbyeJoint=ke.prototype.co;ke.prototype.$p=function(){};ke.prototype.SayGoodbyeFixture=ke.prototype.$p;ke.prototype.eo=function(){};ke.prototype.pt=function(){};function pe(){}p("box2d.b2ContactFilter",pe);pe.prototype.Vk=function(a,c){var b=a.Fs(),d=c.Fs();return b.Kd===d.Kd&&0!==b.Kd?0<b.Kd:0!==(b.Ef&d.uf)&&0!==(b.uf&d.Ef)};pe.prototype.ShouldCollide=pe.prototype.Vk;pe.prototype.oo=function(){return!0};
pe.prototype.ShouldCollideFixtureParticle=pe.prototype.oo;pe.prototype.$A=function(){return!0};pe.prototype.ShouldCollideParticleParticle=pe.prototype.$A;var qe=new pe;function re(){this.Rr=ta(2);this.sv=ta(2)}p("box2d.b2ContactImpulse",re);re.prototype.Rr=null;re.prototype.normalImpulses=re.prototype.Rr;re.prototype.sv=null;re.prototype.tangentImpulses=re.prototype.sv;re.prototype.count=0;re.prototype.count=re.prototype.count;function se(){}p("box2d.b2ContactListener",se);se.prototype.ue=function(){};
se.prototype.BeginContact=se.prototype.ue;se.prototype.Je=function(){};se.prototype.EndContact=se.prototype.Je;se.prototype.ay=function(){};se.prototype.BeginContactFixtureParticle=se.prototype.ay;se.prototype.oy=function(){};se.prototype.EndContactFixtureParticle=se.prototype.oy;se.prototype.by=function(){};se.prototype.BeginContactParticleParticle=se.prototype.by;se.prototype.py=function(){};se.prototype.EndContactParticleParticle=se.prototype.py;se.prototype.jd=function(){};
se.prototype.PreSolve=se.prototype.jd;se.prototype.Of=function(){};se.prototype.PostSolve=se.prototype.Of;var te=new se;se.b2_defaultListener=te;function ue(){}p("box2d.b2QueryCallback",ue);ue.prototype.Xd=function(){return!0};ue.prototype.ReportFixture=ue.prototype.Xd;ue.prototype.Hh=function(){return!1};ue.prototype.ReportParticle=ue.prototype.Hh;ue.prototype.Qj=function(){return!0};ue.prototype.ShouldQueryParticleSystem=ue.prototype.Qj;function ve(){}p("box2d.b2RayCastCallback",ve);
ve.prototype.Xd=function(a,c,b,d){return d};ve.prototype.ReportFixture=ve.prototype.Xd;ve.prototype.Hh=function(){return 0};ve.prototype.ReportParticle=ve.prototype.Hh;ve.prototype.Qj=function(){return!0};ve.prototype.ShouldQueryParticleSystem=ve.prototype.Qj;function we(){this.U=new r(0,1);this.cg=new r(0,0);this.Vj=new r(0,0)}q(we,wa);p("box2d.b2BuoyancyController",we);we.prototype.U=null;we.prototype.normal=we.prototype.U;we.prototype.offset=0;we.prototype.offset=we.prototype.offset;we.prototype.fa=0;we.prototype.density=we.prototype.fa;we.prototype.cg=null;we.prototype.velocity=we.prototype.cg;we.prototype.St=0;we.prototype.linearDrag=we.prototype.St;we.prototype.Mt=0;we.prototype.angularDrag=we.prototype.Mt;we.prototype.Xx=!1;
we.prototype.useDensity=we.prototype.Xx;we.prototype.Yx=!0;we.prototype.useWorldGravity=we.prototype.Yx;we.prototype.Vj=null;we.prototype.gravity=we.prototype.Vj;
we.prototype.C=function(){if(this.Cb){this.Yx&&this.Vj.e(this.j.Hs());for(var a=this.Cb;a;a=a.Gf){var c=a.body;if(c.uc){for(var b=new r,d=new r,e=0,f=0,h=c.ne;h;h=h.Y){var k=new r,l=h.$a.Pd(this.U,this.offset,c.Wb(),k),e=e+l;b.x+=l*k.x;b.y+=l*k.y;var m=0,m=this.Xx?h.Up():1,f=f+l*m;d.x+=l*k.x*m;d.y+=l*k.y*m}b.x/=e;b.y/=e;d.x/=f;d.y/=f;1E-5>e||(f=this.Vj.za().Pa(),f.Ia(this.fa*e),c.He(f,d),d=c.Dh(b,new r),d.Ob(this.cg),d.Ia(-this.St*e),c.He(d,b),c.Fp(-c.ki()/c.je()*e*c.sm()*this.Mt))}}}};
we.prototype.Step=we.prototype.C;we.prototype.Hk=function(a){var c=new r,b=new r;c.x=this.U.x*this.offset+100*this.U.y;c.y=this.U.y*this.offset-100*this.U.x;b.x=this.U.x*this.offset-100*this.U.y;b.y=this.U.y*this.offset+100*this.U.x;a.oc(c,b,new xa(0,0,.8))};we.prototype.Draw=we.prototype.Hk;p("box2d.b2MixFriction",function(a,c){return Qa(a*c)});function xe(a,c){return a>c?a:c}p("box2d.b2MixRestitution",xe);function ye(){}p("box2d.b2ContactEdge",ye);ye.prototype.Hf=null;ye.prototype.other=ye.prototype.Hf;ye.prototype.ke=null;ye.prototype.contact=ye.prototype.ke;ye.prototype.Cc=null;ye.prototype.prev=ye.prototype.Cc;ye.prototype.next=null;ye.prototype.next=ye.prototype.next;function I(){this.oe=new ye;this.pe=new ye;this.Se=new Bc;this.Hl=new Bc}p("box2d.b2Contact",I);I.prototype.Yc=!1;
I.prototype.m_flag_islandFlag=I.prototype.Yc;I.prototype.gk=!1;I.prototype.m_flag_touchingFlag=I.prototype.gk;I.prototype.uj=!1;I.prototype.m_flag_enabledFlag=I.prototype.uj;I.prototype.ar=!1;I.prototype.m_flag_filterFlag=I.prototype.ar;I.prototype.hB=!1;I.prototype.m_flag_bulletHitFlag=I.prototype.hB;I.prototype.fk=!1;I.prototype.m_flag_toiFlag=I.prototype.fk;I.prototype.qb=null;I.prototype.m_prev=I.prototype.qb;I.prototype.Y=null;I.prototype.m_next=I.prototype.Y;I.prototype.oe=null;
I.prototype.m_nodeA=I.prototype.oe;I.prototype.pe=null;I.prototype.m_nodeB=I.prototype.pe;I.prototype.Xb=null;I.prototype.m_fixtureA=I.prototype.Xb;I.prototype.Yb=null;I.prototype.m_fixtureB=I.prototype.Yb;I.prototype.O=0;I.prototype.m_indexA=I.prototype.O;I.prototype.J=0;I.prototype.m_indexB=I.prototype.J;I.prototype.Se=null;I.prototype.m_manifold=I.prototype.Se;I.prototype.$o=0;I.prototype.m_toiCount=I.prototype.$o;I.prototype.Mr=0;I.prototype.m_toi=I.prototype.Mr;I.prototype.Xf=0;
I.prototype.m_friction=I.prototype.Xf;I.prototype.Zf=0;I.prototype.m_restitution=I.prototype.Zf;I.prototype.Lr=0;I.prototype.m_tangentSpeed=I.prototype.Lr;I.prototype.Hl=null;I.prototype.m_oldManifold=I.prototype.Hl;I.prototype.fz=function(){return this.Se};I.prototype.GetManifold=I.prototype.fz;I.prototype.$s=function(a){var c=this.Yb.Nb(),b=this.Xb.$a,d=this.Yb.$a;a.S(this.Se,this.Xb.Nb().Wb(),b.N,c.Wb(),d.N)};I.prototype.GetWorldManifold=I.prototype.$s;I.prototype.Zz=function(){return this.gk};
I.prototype.IsTouching=I.prototype.Zz;I.prototype.vt=function(a){this.uj=a};I.prototype.SetEnabled=I.prototype.vt;I.prototype.Tz=function(){return this.uj};I.prototype.IsEnabled=I.prototype.Tz;I.prototype.ud=function(){return this.Y};I.prototype.GetNext=I.prototype.ud;I.prototype.Ly=function(){return this.Xb};I.prototype.GetFixtureA=I.prototype.Ly;I.prototype.By=function(){return this.O};I.prototype.GetChildIndexA=I.prototype.By;I.prototype.My=function(){return this.Yb};I.prototype.GetFixtureB=I.prototype.My;
I.prototype.Cy=function(){return this.J};I.prototype.GetChildIndexB=I.prototype.Cy;I.prototype.td=function(){};I.prototype.Evaluate=I.prototype.td;I.prototype.Pp=function(){this.ar=!0};I.prototype.FlagForFiltering=I.prototype.Pp;I.prototype.wt=function(a){this.Xf=a};I.prototype.SetFriction=I.prototype.wt;I.prototype.Gs=function(){return this.Xf};I.prototype.GetFriction=I.prototype.Gs;I.prototype.kA=function(){this.Xf=Qa(this.Xb.Xf*this.Yb.Xf)};I.prototype.ResetFriction=I.prototype.kA;
I.prototype.At=function(a){this.Zf=a};I.prototype.SetRestitution=I.prototype.At;I.prototype.Us=function(){return this.Zf};I.prototype.GetRestitution=I.prototype.Us;I.prototype.nA=function(){this.Zf=xe(this.Xb.Zf,this.Yb.Zf)};I.prototype.ResetRestitution=I.prototype.nA;I.prototype.Dt=function(a){this.Lr=a};I.prototype.SetTangentSpeed=I.prototype.Dt;I.prototype.Hz=function(){return this.Lr};I.prototype.GetTangentSpeed=I.prototype.Hz;
I.prototype.ub=function(a,c,b,d){this.uj=!0;this.Xb=a;this.Yb=b;this.O=c;this.J=d;this.Se.Wa=0;this.Y=this.qb=null;this.oe.ke=null;this.oe.Cc=null;this.oe.next=null;this.oe.Hf=null;this.pe.ke=null;this.pe.Cc=null;this.pe.next=null;this.pe.Hf=null;this.$o=0;this.Xf=Qa(this.Xb.Xf*this.Yb.Xf);this.Zf=xe(this.Xb.Zf,this.Yb.Zf)};I.prototype.Reset=I.prototype.ub;
I.prototype.fq=function(a){var c=this.Hl;this.Hl=this.Se;this.Se=c;this.uj=!0;var b=!1,c=this.gk,d=this.Yb.Re,d=this.Xb.Re||d,e=this.Xb.Nb(),f=this.Yb.Nb(),b=e.Wb(),h=f.Wb();if(d)b=Oc(this.Xb.$a,this.O,this.Yb.$a,this.J,b,h),this.Se.Wa=0;else{this.td(this.Se,b,h);b=0<this.Se.Wa;for(h=0;h<this.Se.Wa;++h){var k=this.Se.Oa[h];k.gc=0;k.Gd=0;for(var l=k.id,m=0;m<this.Hl.Wa;++m){var n=this.Hl.Oa[m];if(n.id.key===l.key){k.gc=n.gc;k.Gd=n.Gd;break}}}b!==c&&(e.Ra(!0),f.Ra(!0))}this.gk=b;!c&&b&&a&&a.ue(this);
c&&!b&&a&&a.Je(this);!d&&b&&a&&a.jd(this,this.Hl)};I.prototype.Update=I.prototype.fq;I.prototype.Fn=function(a,c){var b=I.prototype.Fn.up;b.fd.Lh(this.Xb.$a,this.O);b.Dd.Lh(this.Yb.$a,this.J);b.xn.e(a);b.yn.e(c);b.zn=.008;var d=I.prototype.Fn.vp;Yd(d,b);return d.Ah};I.prototype.ComputeTOI=I.prototype.Fn;I.prototype.Fn.up=new Td;I.prototype.Fn.vp=new Vd;function ze(){I.call(this)}q(ze,I);p("box2d.b2ChainAndCircleContact",ze);function Ae(){return new ze}ze.Create=Ae;ze.Destroy=function(){};ze.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a,f=ze.prototype.td.av;(d instanceof Fd?d:null).Mn(f,this.O);Rc(a,f,c,e instanceof A?e:null,b)};ze.prototype.Evaluate=ze.prototype.td;ze.prototype.td.av=new C;function Le(){I.call(this)}q(Le,I);p("box2d.b2ChainAndPolygonContact",Le);function Me(){return new Le}Le.Create=Me;Le.Destroy=function(){};Le.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a,f=Le.prototype.td.av;(d instanceof Fd?d:null).Mn(f,this.O);kd(a,f,c,e instanceof D?e:null,b)};Le.prototype.Evaluate=Le.prototype.td;Le.prototype.td.av=new C;function Ne(){I.call(this)}q(Ne,I);p("box2d.b2CircleContact",Ne);function Oe(){return new Ne}Ne.Create=Oe;Ne.Destroy=function(){};Ne.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;Pc(a,d instanceof A?d:null,c,e instanceof A?e:null,b)};Ne.prototype.Evaluate=Ne.prototype.td;function Pe(){}p("box2d.b2ContactRegister",Pe);Pe.prototype.bl=null;Pe.prototype.Ot=null;Pe.prototype.Wu=!1;function Qe(a){this.Uf=a;this.uw()}p("box2d.b2ContactFactory",Qe);Qe.prototype.Uf=null;Qe.prototype.Mj=function(a,c,b,d){function e(a){h.push(a)}function f(b){return 0<h.length?h.pop():a(b)}var h=sa(256,function(){return a()});this.vh[b][d].sB=h;this.vh[b][d].bl=f;this.vh[b][d].Ot=e;this.vh[b][d].Wu=!0;b!==d&&(this.vh[d][b].sB=h,this.vh[d][b].bl=f,this.vh[d][b].Ot=e,this.vh[d][b].Wu=!1)};
Qe.prototype.AddType=Qe.prototype.Mj;Qe.prototype.uw=function(){this.vh=Array(4);for(var a=0;4>a;a++){this.vh[a]=Array(4);for(var c=0;4>c;c++)this.vh[a][c]=new Pe}this.Mj(Oe,0,0,0);this.Mj(Re,0,2,0);this.Mj(Se,0,2,2);this.Mj(Ve,0,1,0);this.Mj(We,0,1,2);this.Mj(Ae,0,3,0);this.Mj(Me,0,3,2)};Qe.prototype.InitializeRegisters=Qe.prototype.uw;Qe.prototype.Gn=function(a,c,b,d){var e=this.vh[a.Ic()][b.Ic()],f=e.bl;return null!==f?(e.Wu?(e=f(this.Uf),e.ub(a,c,b,d)):(e=f(this.Uf),e.ub(b,d,a,c)),e):null};
Qe.prototype.Create=Qe.prototype.Gn;Qe.prototype.Jf=function(a){var c=a.Xb,b=a.Yb;0<a.Se.Wa&&!c.Re&&!b.Re&&(c.Nb().Ra(!0),b.Nb().Ra(!0));c=this.vh[c.Ic()][b.Ic()].Ot;c(a,this.Uf)};Qe.prototype.Destroy=Qe.prototype.Jf;function Xe(){this.Xc=new Ad;this.Rq=new Qe(this.Uf)}Xe.prototype.Xc=null;p("box2d.b2ContactManager.prototype.m_broadPhase",Xe.prototype.Xc);Xe.prototype.bc=null;p("box2d.b2ContactManager.prototype.m_contactList",Xe.prototype.bc);Xe.prototype.sg=0;p("box2d.b2ContactManager.prototype.m_contactCount",Xe.prototype.sg);Xe.prototype.Ph=qe;p("box2d.b2ContactManager.prototype.m_contactFilter",Xe.prototype.Ph);Xe.prototype.Qh=te;p("box2d.b2ContactManager.prototype.m_contactListener",Xe.prototype.Qh);
Xe.prototype.Uf=null;p("box2d.b2ContactManager.prototype.m_allocator",Xe.prototype.Uf);Xe.prototype.Rq=null;p("box2d.b2ContactManager.prototype.m_contactFactory",Xe.prototype.Rq);
Xe.prototype.Jf=function(a){var c=a.Xb.Nb(),b=a.Yb.Nb();this.Qh&&a.gk&&this.Qh.Je(a);a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.bc&&(this.bc=a.Y);a.oe.Cc&&(a.oe.Cc.next=a.oe.next);a.oe.next&&(a.oe.next.Cc=a.oe.Cc);a.oe===c.bc&&(c.bc=a.oe.next);a.pe.Cc&&(a.pe.Cc.next=a.pe.next);a.pe.next&&(a.pe.next.Cc=a.pe.Cc);a.pe===b.bc&&(b.bc=a.pe.next);this.Rq.Jf(a);--this.sg};p("box2d.b2ContactManager.prototype.Destroy",Xe.prototype.Jf);
Xe.prototype.En=function(){for(var a=this.bc;a;){var c=a.Xb,b=a.Yb,d=a.O,e=a.J,f=c.Nb(),h=b.Nb();if(a.ar){if(!h.Vk(f)){c=a;a=c.Y;this.Jf(c);continue}if(this.Ph&&!this.Ph.Vk(c,b)){c=a;a=c.Y;this.Jf(c);continue}a.ar=!1}h=h.uc&&0!==h.cb;f.uc&&0!==f.cb||h?this.Xc.qo(c.Zh[d].Oi,b.Zh[e].Oi)?(a.fq(this.Qh),a=a.Y):(c=a,a=c.Y,this.Jf(c)):a=a.Y}};p("box2d.b2ContactManager.prototype.Collide",Xe.prototype.En);Xe.prototype.Op=function(){this.Xc.hx(this)};p("box2d.b2ContactManager.prototype.FindNewContacts",Xe.prototype.Op);
Xe.prototype.zv=function(a,c){var b=a.pg,d=c.pg,e=a.wo,f=c.wo,h=b.Nb(),k=d.Nb();if(h!==k){for(var l=k.Kk();l;){if(l.Hf===h){var m=l.ke.Xb,n=l.ke.Yb,t=l.ke.O,z=l.ke.J;if(m===b&&n===d&&t===e&&z===f||m===d&&n===b&&t===f&&z===e)return}l=l.next}!k.Vk(h)||this.Ph&&!this.Ph.Vk(b,d)||(e=this.Rq.Gn(b,e,d,f),null!==e&&(b=e.Xb,d=e.Yb,h=b.xa,k=d.xa,e.qb=null,e.Y=this.bc,null!==this.bc&&(this.bc.qb=e),this.bc=e,e.oe.ke=e,e.oe.Hf=k,e.oe.Cc=null,e.oe.next=h.bc,null!==h.bc&&(h.bc.Cc=e.oe),h.bc=e.oe,e.pe.ke=e,e.pe.Hf=
h,e.pe.Cc=null,e.pe.next=k.bc,null!==k.bc&&(k.bc.Cc=e.pe),k.bc=e.pe,b.Re||d.Re||(h.Ra(!0),k.Ra(!0)),++this.sg))}};p("box2d.b2ContactManager.prototype.AddPair",Xe.prototype.zv);function Ye(){I.call(this)}q(Ye,I);p("box2d.b2EdgeAndCircleContact",Ye);function Ve(){return new Ye}Ye.Create=Ve;Ye.Destroy=function(){};Ye.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;Rc(a,d instanceof C?d:null,c,e instanceof A?e:null,b)};Ye.prototype.Evaluate=Ye.prototype.td;function Ze(){I.call(this)}q(Ze,I);p("box2d.b2EdgeAndPolygonContact",Ze);function We(){return new Ze}Ze.Create=We;Ze.Destroy=function(){};Ze.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;kd(a,d instanceof C?d:null,c,e instanceof D?e:null,b)};Ze.prototype.Evaluate=Ze.prototype.td;function $e(){I.call(this)}q($e,I);p("box2d.b2PolygonAndCircleContact",$e);function Re(){return new $e}$e.Create=Re;$e.Destroy=function(){};$e.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;Qc(a,d instanceof D?d:null,c,e instanceof A?e:null,b)};$e.prototype.Evaluate=$e.prototype.td;function af(){I.call(this)}q(af,I);p("box2d.b2PolygonContact",af);function Se(){return new af}af.Create=Se;af.Destroy=function(){};af.prototype.td=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;od(a,d instanceof D?d:null,c,e instanceof D?e:null,b)};af.prototype.Evaluate=af.prototype.td;var bf=!0;function cf(){this.Ed=new r;this.Fd=new r}p("box2d.b2VelocityConstraintPoint",cf);cf.prototype.Ed=null;cf.prototype.rA=cf.prototype.Ed;cf.prototype.Fd=null;cf.prototype.rB=cf.prototype.Fd;cf.prototype.gc=0;cf.prototype.normalImpulse=cf.prototype.gc;cf.prototype.Gd=0;cf.prototype.tangentImpulse=cf.prototype.Gd;cf.prototype.yh=0;cf.prototype.normalMass=cf.prototype.yh;cf.prototype.es=0;cf.prototype.tangentMass=cf.prototype.es;cf.prototype.Ck=0;cf.prototype.velocityBias=cf.prototype.Ck;
function df(a){return sa(a,function(){return new cf})}cf.MakeArray=df;function ef(){this.Oa=df(2);this.U=new r;this.An=new r;this.yh=new Gb;this.bj=new Gb}p("box2d.b2ContactVelocityConstraint",ef);ef.prototype.Oa=null;ef.prototype.points=ef.prototype.Oa;ef.prototype.U=null;ef.prototype.normal=ef.prototype.U;ef.prototype.An=null;ef.prototype.tangent=ef.prototype.An;ef.prototype.yh=null;ef.prototype.normalMass=ef.prototype.yh;ef.prototype.bj=null;ef.prototype.K=ef.prototype.bj;ef.prototype.X=0;
ef.prototype.indexA=ef.prototype.X;ef.prototype.aa=0;ef.prototype.indexB=ef.prototype.aa;ef.prototype.si=0;ef.prototype.invMassA=ef.prototype.si;ef.prototype.ti=0;ef.prototype.invMassB=ef.prototype.ti;ef.prototype.qi=0;ef.prototype.invIA=ef.prototype.qi;ef.prototype.ri=0;ef.prototype.invIB=ef.prototype.ri;ef.prototype.gb=0;ef.prototype.friction=ef.prototype.gb;ef.prototype.dc=0;ef.prototype.restitution=ef.prototype.dc;ef.prototype.tv=0;ef.prototype.tangentSpeed=ef.prototype.tv;ef.prototype.Wa=0;
ef.prototype.pointCount=ef.prototype.Wa;ef.prototype.jq=0;ef.prototype.contactIndex=ef.prototype.jq;function ff(a){return sa(a,function(){return new ef})}ef.MakeArray=ff;function gf(){this.Em=gb(2);this.kd=new r;this.nb=new r;this.Cm=new r;this.Dm=new r}p("box2d.b2ContactPositionConstraint",gf);gf.prototype.Em=null;gf.prototype.localPoints=gf.prototype.Em;gf.prototype.kd=null;gf.prototype.localNormal=gf.prototype.kd;gf.prototype.nb=null;gf.prototype.localPoint=gf.prototype.nb;gf.prototype.X=0;
gf.prototype.indexA=gf.prototype.X;gf.prototype.aa=0;gf.prototype.indexB=gf.prototype.aa;gf.prototype.si=0;gf.prototype.invMassA=gf.prototype.si;gf.prototype.ti=0;gf.prototype.invMassB=gf.prototype.ti;gf.prototype.Cm=null;gf.prototype.localCenterA=gf.prototype.Cm;gf.prototype.Dm=null;gf.prototype.localCenterB=gf.prototype.Dm;gf.prototype.qi=0;gf.prototype.invIA=gf.prototype.qi;gf.prototype.ri=0;gf.prototype.invIB=gf.prototype.ri;gf.prototype.type=-1;gf.prototype.type=gf.prototype.type;
gf.prototype.qn=0;gf.prototype.radiusA=gf.prototype.qn;gf.prototype.rn=0;gf.prototype.radiusB=gf.prototype.rn;gf.prototype.Wa=0;gf.prototype.pointCount=gf.prototype.Wa;function hf(a){return sa(a,function(){return new gf})}gf.MakeArray=hf;function jf(){this.step=new ee}p("box2d.b2ContactSolverDef",jf);jf.prototype.step=null;jf.prototype.step=jf.prototype.step;jf.prototype.kq=null;jf.prototype.contacts=jf.prototype.kq;jf.prototype.count=0;jf.prototype.count=jf.prototype.count;jf.prototype.ga=null;
jf.prototype.positions=jf.prototype.ga;jf.prototype.L=null;jf.prototype.velocities=jf.prototype.L;jf.prototype.Zk=null;jf.prototype.allocator=jf.prototype.Zk;function kf(){this.xh=new ee;this.Yh=hf(1024);this.yg=ff(1024)}p("box2d.b2ContactSolver",kf);kf.prototype.xh=null;kf.prototype.m_step=kf.prototype.xh;kf.prototype.Ab=null;kf.prototype.m_positions=kf.prototype.Ab;kf.prototype.Rb=null;kf.prototype.m_velocities=kf.prototype.Rb;kf.prototype.Uf=null;kf.prototype.m_allocator=kf.prototype.Uf;
kf.prototype.Yh=null;kf.prototype.m_positionConstraints=kf.prototype.Yh;kf.prototype.yg=null;kf.prototype.m_velocityConstraints=kf.prototype.yg;kf.prototype.Vf=null;kf.prototype.m_contacts=kf.prototype.Vf;kf.prototype.n=0;kf.prototype.m_count=kf.prototype.n;
kf.prototype.S=function(a){this.xh.e(a.step);this.Uf=a.Zk;this.n=a.count;if(this.Yh.length<this.n)for(var c=Ja(2*this.Yh.length,this.n);this.Yh.length<c;)this.Yh[this.Yh.length]=new gf;if(this.yg.length<this.n)for(c=Ja(2*this.yg.length,this.n);this.yg.length<c;)this.yg[this.yg.length]=new ef;this.Ab=a.ga;this.Rb=a.L;this.Vf=a.kq;var b,d,e,f,h,k,l,m;a=0;for(c=this.n;a<c;++a)for(e=this.Vf[a],f=e.Xb,h=e.Yb,b=f.$a,d=h.$a,b=b.N,d=d.N,k=f.Nb(),l=h.Nb(),h=e.Se,m=h.Wa,f=this.yg[a],f.gb=e.Xf,f.dc=e.Zf,f.tv=
e.Lr,f.X=k.Zb,f.aa=l.Zb,f.si=k.zb,f.ti=l.zb,f.qi=k.cc,f.ri=l.cc,f.jq=a,f.Wa=m,f.bj.ba(),f.yh.ba(),e=this.Yh[a],e.X=k.Zb,e.aa=l.Zb,e.si=k.zb,e.ti=l.zb,e.Cm.e(k.P.hb),e.Dm.e(l.P.hb),e.qi=k.cc,e.ri=l.cc,e.kd.e(h.kd),e.nb.e(h.nb),e.Wa=m,e.qn=b,e.rn=d,e.type=h.type,b=0,d=m;b<d;++b)k=h.Oa[b],m=f.Oa[b],this.xh.Ge?(m.gc=this.xh.xd*k.gc,m.Gd=this.xh.xd*k.Gd):(m.gc=0,m.Gd=0),m.Ed.ba(),m.Fd.ba(),m.yh=0,m.es=0,m.Ck=0,e.Em[b].e(k.nb);return this};kf.prototype.Initialize=kf.prototype.S;
kf.prototype.aj=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa,na,lb=kf.prototype.aj.Ri,Ya=kf.prototype.aj.Si,Za=kf.prototype.aj.ov;a=0;for(c=this.n;a<c;++a){e=this.yg[a];f=this.Yh[a];b=f.qn;d=f.rn;h=this.Vf[e.jq].Se;k=e.X;l=e.aa;m=e.si;n=e.ti;t=e.qi;z=e.ri;B=f.Cm;O=f.Dm;f=this.Ab[k].V;ia=this.Ab[k].o;aa=this.Rb[k].oa;k=this.Rb[k].M;ua=this.Ab[l].V;Fa=this.Ab[l].o;na=this.Rb[l].oa;l=this.Rb[l].M;lb.ha.Ba(ia);Ya.ha.Ba(Fa);x(f,y(lb.ha,B,u),lb.sa);x(ua,y(Ya.ha,O,u),Ya.sa);Za.S(h,lb,b,Ya,d);
e.U.e(Za.U);nb(e.U,1,e.An);d=e.Wa;for(b=0;b<d;++b)h=e.Oa[b],x(Za.Oa[b],f,h.Ed),x(Za.Oa[b],ua,h.Fd),B=w(h.Ed,e.U),O=w(h.Fd,e.U),B=m+n+t*B*B+z*O*O,h.yh=0<B?1/B:0,O=e.An,B=w(h.Ed,O),O=w(h.Fd,O),B=m+n+t*B*B+z*O*O,h.es=0<B?1/B:0,h.Ck=0,B=v(e.U,x(ub(na,l,h.Fd,u),ub(aa,k,h.Ed,db),u)),-1>B&&(h.Ck+=-e.dc*B);2===e.Wa&&bf&&(aa=e.Oa[0],ua=e.Oa[1],f=w(aa.Ed,e.U),aa=w(aa.Fd,e.U),k=w(ua.Ed,e.U),l=w(ua.Fd,e.U),ua=m+n+t*f*f+z*aa*aa,na=m+n+t*k*k+z*l*l,m=m+n+t*f*k+z*aa*l,ua*ua<1E3*(ua*na-m*m)?(e.bj.$.h(ua,m),e.bj.ca.h(m,
na),e.bj.tm(e.yh)):e.Wa=1)}};kf.prototype.InitializeVelocityConstraints=kf.prototype.aj;kf.prototype.aj.Ri=new Vb;kf.prototype.aj.Si=new Vb;kf.prototype.aj.ov=new Cc;
kf.prototype.hq=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa=kf.prototype.hq.tb;a=0;for(c=this.n;a<c;++a){e=this.yg[a];f=e.X;h=e.aa;k=e.si;l=e.qi;m=e.ti;n=e.ri;d=e.Wa;t=this.Rb[f].oa;z=this.Rb[f].M;B=this.Rb[h].oa;O=this.Rb[h].M;ia=e.U;aa=e.An;for(b=0;b<d;++b)ua=e.Oa[b],pb(qb(ua.gc,ia,u),qb(ua.Gd,aa,db),Fa),z-=l*w(ua.Ed,Fa),t.mb(k,Fa),O+=n*w(ua.Fd,Fa),B.wa(m,Fa);this.Rb[f].M=z;this.Rb[h].M=O}};kf.prototype.WarmStart=kf.prototype.hq;kf.prototype.hq.tb=new r;
kf.prototype.R=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa,na,lb=kf.prototype.R.ZB,Ya=kf.prototype.R.$B,Za=kf.prototype.R.aC,mb,Na,Oa=kf.prototype.R.tb,Lb=kf.prototype.R.AB,nc=kf.prototype.R.EB,bb=kf.prototype.R.bD,$a=kf.prototype.R.qd,ac=kf.prototype.R.vB,bc=kf.prototype.R.yB,Kc=kf.prototype.R.xB;a=0;for(c=this.n;a<c;++a){e=this.yg[a];f=e.X;h=e.aa;k=e.si;l=e.qi;m=e.ti;n=e.ri;t=e.Wa;z=this.Rb[f].oa;B=this.Rb[f].M;O=this.Rb[h].oa;ia=this.Rb[h].M;aa=e.U;ua=e.An;Fa=e.gb;b=0;for(d=t;b<d;++b)na=
e.Oa[b],x(ub(O,ia,na.Fd,u),ub(z,B,na.Ed,db),lb),mb=v(lb,ua)-e.tv,mb=na.es*-mb,Na=Fa*na.gc,Na=Ka(na.Gd+mb,-Na,Na),mb=Na-na.Gd,na.Gd=Na,qb(mb,ua,Oa),z.mb(k,Oa),B-=l*w(na.Ed,Oa),O.wa(m,Oa),ia+=n*w(na.Fd,Oa);if(1!==e.Wa&&bf)for(t=e.Oa[0],na=e.Oa[1],Lb.h(t.gc,na.gc),x(ub(O,ia,t.Fd,u),ub(z,B,t.Ed,db),Ya),x(ub(O,ia,na.Fd,u),ub(z,B,na.Ed,db),Za),b=v(Ya,aa),d=v(Za,aa),nc.x=b-t.Ck,nc.y=d-na.Ck,nc.Ob(Hb(e.bj,Lb,u));;){Hb(e.yh,nc,bb).Pa();if(0<=bb.x&&0<=bb.y){x(bb,Lb,$a);qb($a.x,aa,ac);qb($a.y,aa,bc);pb(ac,bc,
Kc);z.mb(k,Kc);B-=l*(w(t.Ed,ac)+w(na.Ed,bc));O.wa(m,Kc);ia+=n*(w(t.Fd,ac)+w(na.Fd,bc));t.gc=bb.x;na.gc=bb.y;break}bb.x=-t.yh*nc.x;bb.y=0;d=e.bj.$.y*bb.x+nc.y;if(0<=bb.x&&0<=d){x(bb,Lb,$a);qb($a.x,aa,ac);qb($a.y,aa,bc);pb(ac,bc,Kc);z.mb(k,Kc);B-=l*(w(t.Ed,ac)+w(na.Ed,bc));O.wa(m,Kc);ia+=n*(w(t.Fd,ac)+w(na.Fd,bc));t.gc=bb.x;na.gc=bb.y;break}bb.x=0;bb.y=-na.yh*nc.y;b=e.bj.ca.x*bb.y+nc.x;if(0<=bb.y&&0<=b){x(bb,Lb,$a);qb($a.x,aa,ac);qb($a.y,aa,bc);pb(ac,bc,Kc);z.mb(k,Kc);B-=l*(w(t.Ed,ac)+w(na.Ed,bc));
O.wa(m,Kc);ia+=n*(w(t.Fd,ac)+w(na.Fd,bc));t.gc=bb.x;na.gc=bb.y;break}bb.x=0;bb.y=0;b=nc.x;d=nc.y;if(0<=b&&0<=d){x(bb,Lb,$a);qb($a.x,aa,ac);qb($a.y,aa,bc);pb(ac,bc,Kc);z.mb(k,Kc);B-=l*(w(t.Ed,ac)+w(na.Ed,bc));O.wa(m,Kc);ia+=n*(w(t.Fd,ac)+w(na.Fd,bc));t.gc=bb.x;na.gc=bb.y;break}break}else for(b=0;b<t;++b)na=e.Oa[b],x(ub(O,ia,na.Fd,u),ub(z,B,na.Ed,db),lb),d=v(lb,aa),mb=-na.yh*(d-na.Ck),Na=Ja(na.gc+mb,0),mb=Na-na.gc,na.gc=Na,qb(mb,aa,Oa),z.mb(k,Oa),B-=l*w(na.Ed,Oa),O.wa(m,Oa),ia+=n*w(na.Fd,Oa);this.Rb[f].M=
B;this.Rb[h].M=ia}};kf.prototype.SolveVelocityConstraints=kf.prototype.R;g=kf.prototype;g.R.ZB=new r;g.R.$B=new r;g.R.aC=new r;g.R.tb=new r;g.R.AB=new r;g.R.EB=new r;g.R.bD=new r;g.R.qd=new r;g.R.vB=new r;g.R.yB=new r;g.R.xB=new r;g.cx=function(){var a,c,b,d,e,f;a=0;for(c=this.n;a<c;++a)for(e=this.yg[a],f=this.Vf[e.jq].Se,b=0,d=e.Wa;b<d;++b)f.Oa[b].gc=e.Oa[b].gc,f.Oa[b].Gd=e.Oa[b].Gd};kf.prototype.StoreImpulses=kf.prototype.cx;function mf(){this.U=new r;this.bm=new r}
p("box2d.b2PositionSolverManifold",mf);mf.prototype.U=null;mf.prototype.normal=mf.prototype.U;mf.prototype.bm=null;mf.prototype.point=mf.prototype.bm;mf.prototype.Ud=0;mf.prototype.separation=mf.prototype.Ud;
mf.prototype.S=function(a,c,b,d){var e=mf.prototype.S.Wg,f=mf.prototype.S.Xg,h=mf.prototype.S.sn,k=mf.prototype.S.Wr;switch(a.type){case 0:Xb(c,a.nb,e);Xb(b,a.Em[0],f);x(f,e,this.U).ig();vb(e,f,this.bm);this.Ud=v(x(f,e,u),this.U)-a.qn-a.rn;break;case 1:y(c.ha,a.kd,this.U);Xb(c,a.nb,h);Xb(b,a.Em[d],k);this.Ud=v(x(k,h,u),this.U)-a.qn-a.rn;this.bm.e(k);break;case 2:y(b.ha,a.kd,this.U),Xb(b,a.nb,h),Xb(c,a.Em[d],k),this.Ud=v(x(k,h,u),this.U)-a.qn-a.rn,this.bm.e(k),this.U.Pa()}};
mf.prototype.Initialize=mf.prototype.S;mf.prototype.S.Wg=new r;mf.prototype.S.Xg=new r;mf.prototype.S.sn=new r;mf.prototype.S.Wr=new r;
kf.prototype.qa=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua=kf.prototype.qa.Ri,Fa=kf.prototype.qa.Si,na=kf.prototype.qa.kv,lb,Ya,Za,mb=kf.prototype.qa.hm,Na=kf.prototype.qa.im,Oa,Lb=kf.prototype.qa.tb,nc=0;a=0;for(c=this.n;a<c;++a){e=this.Yh[a];f=e.X;h=e.aa;k=e.Cm;l=e.si;m=e.qi;n=e.Dm;t=e.ti;z=e.ri;d=e.Wa;B=this.Ab[f].V;O=this.Ab[f].o;ia=this.Ab[h].V;aa=this.Ab[h].o;for(b=0;b<d;++b)ua.ha.Ba(O),Fa.ha.Ba(aa),x(B,y(ua.ha,k,u),ua.sa),x(ia,y(Fa.ha,n,u),Fa.sa),na.S(e,ua,Fa,b),lb=na.U,Ya=na.bm,
Za=na.Ud,x(Ya,B,mb),x(Ya,ia,Na),nc=Ia(nc,Za),Ya=Ka(.2*(Za+.008),-.2,0),Za=w(mb,lb),Oa=w(Na,lb),Za=l+t+m*Za*Za+z*Oa*Oa,Ya=0<Za?-Ya/Za:0,qb(Ya,lb,Lb),B.mb(l,Lb),O-=m*w(mb,Lb),ia.wa(t,Lb),aa+=z*w(Na,Lb);this.Ab[f].o=O;this.Ab[h].o=aa}return-.024<nc};kf.prototype.SolvePositionConstraints=kf.prototype.qa;g=kf.prototype;g.qa.Ri=new Vb;g.qa.Si=new Vb;g.qa.kv=new mf;g.qa.hm=new r;g.qa.im=new r;g.qa.tb=new r;
g.kg=function(a,c){var b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa,na=kf.prototype.kg.Ri,lb=kf.prototype.kg.Si,Ya=kf.prototype.kg.kv,Za,mb,Na,Oa=kf.prototype.kg.hm,Lb=kf.prototype.kg.im,nc,bb=kf.prototype.kg.tb,$a=0;b=0;for(d=this.n;b<d;++b){h=this.Yh[b];k=h.X;l=h.aa;m=h.Cm;n=h.Dm;f=h.Wa;z=t=0;if(k===a||k===c)t=h.si,z=h.qi;O=B=0;if(l===a||l===c)B=h.ti,O=h.ri;ia=this.Ab[k].V;aa=this.Ab[k].o;ua=this.Ab[l].V;Fa=this.Ab[l].o;for(e=0;e<f;++e)na.ha.Ba(aa),lb.ha.Ba(Fa),x(ia,y(na.ha,m,u),na.sa),x(ua,y(lb.ha,n,
u),lb.sa),Ya.S(h,na,lb,e),Za=Ya.U,mb=Ya.bm,Na=Ya.Ud,x(mb,ia,Oa),x(mb,ua,Lb),$a=Ia($a,Na),mb=Ka(.75*(Na+.008),-.2,0),Na=w(Oa,Za),nc=w(Lb,Za),Na=t+B+z*Na*Na+O*nc*nc,mb=0<Na?-mb/Na:0,qb(mb,Za,bb),ia.mb(t,bb),aa-=z*w(Oa,bb),ua.wa(B,bb),Fa+=O*w(Lb,bb);this.Ab[k].o=aa;this.Ab[l].o=Fa}return-.012<=$a};kf.prototype.SolveTOIPositionConstraints=kf.prototype.kg;g=kf.prototype;g.kg.Ri=new Vb;g.kg.Si=new Vb;g.kg.kv=new mf;g.kg.hm=new r;g.kg.im=new r;g.kg.tb=new r;function nf(){this.Q=Array(1024);this.Vf=Array(1024);this.vc=Array(1024);this.Ab=ge(1024);this.Rb=ie(1024)}p("box2d.b2Island",nf);nf.prototype.Uf=null;nf.prototype.m_allocator=nf.prototype.Uf;nf.prototype.Yf=null;nf.prototype.m_listener=nf.prototype.Yf;nf.prototype.Q=null;nf.prototype.m_bodies=nf.prototype.Q;nf.prototype.Vf=null;nf.prototype.m_contacts=nf.prototype.Vf;nf.prototype.vc=null;nf.prototype.m_joints=nf.prototype.vc;nf.prototype.Ab=null;nf.prototype.m_positions=nf.prototype.Ab;
nf.prototype.Rb=null;nf.prototype.m_velocities=nf.prototype.Rb;nf.prototype.Vc=0;nf.prototype.m_bodyCount=nf.prototype.Vc;nf.prototype.ug=0;nf.prototype.m_jointCount=nf.prototype.ug;nf.prototype.sg=0;nf.prototype.m_contactCount=nf.prototype.sg;nf.prototype.Wt=0;nf.prototype.m_bodyCapacity=nf.prototype.Wt;nf.prototype.bu=0;nf.prototype.m_contactCapacity=nf.prototype.bu;nf.prototype.Gx=0;nf.prototype.m_jointCapacity=nf.prototype.Gx;
nf.prototype.S=function(a,c,b,d,e){this.Wt=a;this.bu=c;this.Gx=b;this.ug=this.sg=this.Vc=0;this.Uf=d;for(this.Yf=e;this.Q.length<a;)this.Q[this.Q.length]=null;for(;this.Vf.length<c;)this.Vf[this.Vf.length]=null;for(;this.vc.length<b;)this.vc[this.vc.length]=null;if(this.Ab.length<a)for(c=Ja(2*this.Ab.length,a);this.Ab.length<c;)this.Ab[this.Ab.length]=new fe;if(this.Rb.length<a)for(c=Ja(2*this.Rb.length,a);this.Rb.length<c;)this.Rb[this.Rb.length]=new he};nf.prototype.Initialize=nf.prototype.S;
nf.prototype.Fk=function(){this.ug=this.sg=this.Vc=0};nf.prototype.Clear=nf.prototype.Fk;nf.prototype.Ch=function(a){a.Zb=this.Vc;this.Q[this.Vc++]=a};nf.prototype.AddBody=nf.prototype.Ch;nf.prototype.Dk=function(a){this.Vf[this.sg++]=a};nf.prototype.AddContact=nf.prototype.Dk;nf.prototype.yv=function(a){this.vc[this.ug++]=a};nf.prototype.AddJoint=nf.prototype.yv;
nf.prototype.gh=function(a,c,b,d){for(var e=of.ub(),f=c.Ib,h=0;h<this.Vc;++h){var k=this.Q[h],l=this.Ab[h].V.e(k.P.V),m=k.P.o,n=this.Rb[h].oa.e(k.fc),t=k.ab;k.P.Tc.e(k.P.V);k.P.$d=k.P.o;2===k.cb&&(n.x+=f*(k.ul*b.x+k.zb*k.yf.x),n.y+=f*(k.ul*b.y+k.zb*k.yf.y),t+=f*k.cc*k.Ki,n.Ia(1/(1+f*k.Sm)),t*=1/(1+f*k.Hm));this.Ab[h].o=m;this.Rb[h].M=t}e.ub();k=pf;k.step.e(c);k.ga=this.Ab;k.L=this.Rb;h=qf;h.step.e(c);h.kq=this.Vf;h.count=this.sg;h.ga=this.Ab;h.L=this.Rb;h.Zk=this.Uf;b=rf.S(h);b.aj();c.Ge&&b.hq();
for(h=0;h<this.ug;++h)this.vc[h].Xa(k);a.We=e.Eh();e.ub();for(h=0;h<c.Zg;++h){for(m=0;m<this.ug;++m)this.vc[m].R(k);b.R()}b.cx();a.Ye=e.Eh();for(h=0;h<this.Vc;++h){var l=this.Ab[h].V,m=this.Ab[h].o,n=this.Rb[h].oa,t=this.Rb[h].M,z=qb(f,n,sf);4<v(z,z)&&(z=2/z.qc(),n.Ia(z));z=f*t;z*z>ka&&(z=ja/ra(z),t*=z);l.x+=f*n.x;l.y+=f*n.y;m+=f*t;this.Ab[h].o=m;this.Rb[h].M=t}e.ub();l=!1;for(h=0;h<c.zh;++h){n=b.qa();t=!0;for(m=0;m<this.ug;++m)z=this.vc[m].qa(k),t=t&&z;if(n&&t){l=!0;break}}for(h=0;h<this.Vc;++h)c=
this.Q[h],c.P.V.e(this.Ab[h].V),c.P.o=this.Ab[h].o,c.fc.e(this.Rb[h].oa),c.ab=this.Rb[h].M,c.Wk();a.Xe=e.Eh();this.nt(b.yg);if(d){a=1E37;d=la*la;for(h=0;h<this.Vc;++h)k=this.Q[h],0!==k.Ic()&&(!k.sl||k.ab*k.ab>d||1E-4<v(k.fc,k.fc)?a=k.uk=0:(k.uk+=f,a=Ia(a,k.uk)));if(.5<=a&&l)for(h=0;h<this.Vc;++h)k=this.Q[h],k.Ra(!1)}};nf.prototype.Solve=nf.prototype.gh;
nf.prototype.af=function(a,c,b){for(var d=0;d<this.Vc;++d){var e=this.Q[d];this.Ab[d].V.e(e.P.V);this.Ab[d].o=e.P.o;this.Rb[d].oa.e(e.fc);this.Rb[d].M=e.ab}d=qf;d.kq=this.Vf;d.count=this.sg;d.Zk=this.Uf;d.step.e(a);d.ga=this.Ab;d.L=this.Rb;e=rf.S(d);for(d=0;d<a.zh&&!e.kg(c,b);++d);this.Q[c].P.Tc.e(this.Ab[c].V);this.Q[c].P.$d=this.Ab[c].o;this.Q[b].P.Tc.e(this.Ab[b].V);this.Q[b].P.$d=this.Ab[b].o;e.aj();for(d=0;d<a.Zg;++d)e.R();a=a.Ib;for(d=0;d<this.Vc;++d){c=this.Ab[d].V;b=this.Ab[d].o;var f=this.Rb[d].oa,
h=this.Rb[d].M,k=qb(a,f,sf);4<v(k,k)&&(k=2/k.qc(),f.Ia(k));k=a*h;k*k>ka&&(k=ja/ra(k),h*=k);c.wa(a,f);b+=a*h;this.Ab[d].o=b;this.Rb[d].M=h;k=this.Q[d];k.P.V.e(c);k.P.o=b;k.fc.e(f);k.ab=h;k.Wk()}this.nt(e.yg)};nf.prototype.SolveTOI=nf.prototype.af;nf.prototype.nt=function(a){if(null!==this.Yf)for(var c=0;c<this.sg;++c){var b=this.Vf[c];if(b){var d=a[c],e=tf;e.count=d.Wa;for(var f=0;f<d.Wa;++f)e.Rr[f]=d.Oa[f].gc,e.sv[f]=d.Oa[f].Gd;this.Yf.Of(b,e)}}};nf.prototype.Report=nf.prototype.nt;
var of=new Hd,pf=new je,qf=new jf,rf=new kf,sf=new r,tf=new re;var uf={ME:0,GE:1,EE:2,jE:3,FE:4,wE:5,rE:6,PE:7,OE:8,qE:9,HE:10,vE:11,ZD:12};p("box2d.b2JointType",uf);uf.e_unknownJoint=0;uf.e_revoluteJoint=1;uf.e_prismaticJoint=2;uf.e_distanceJoint=3;uf.e_pulleyJoint=4;uf.e_mouseJoint=5;uf.e_gearJoint=6;uf.e_wheelJoint=7;uf.e_weldJoint=8;uf.e_frictionJoint=9;uf.e_ropeJoint=10;uf.e_motorJoint=11;uf.e_areaJoint=12;var vf={sE:0,$D:1,aE:2,nE:3};p("box2d.b2LimitState",vf);vf.e_inactiveLimit=0;vf.e_atLowerLimit=1;vf.e_atUpperLimit=2;vf.e_equalLimits=3;
function wf(){this.Iq=new r}p("box2d.b2Jacobian",wf);wf.prototype.Iq=null;wf.prototype.linear=wf.prototype.Iq;wf.prototype.Kt=0;wf.prototype.angularA=wf.prototype.Kt;wf.prototype.Lt=0;wf.prototype.angularB=wf.prototype.Lt;wf.prototype.ba=function(){this.Iq.ba();this.Lt=this.Kt=0;return this};wf.prototype.SetZero=wf.prototype.ba;wf.prototype.h=function(a,c,b){this.Iq.e(a);this.Kt=c;this.Lt=b;return this};wf.prototype.Set=wf.prototype.h;function xf(){}p("box2d.b2JointEdge",xf);xf.prototype.Hf=null;
xf.prototype.other=xf.prototype.Hf;xf.prototype.kj=null;xf.prototype.joint=xf.prototype.kj;xf.prototype.Cc=null;xf.prototype.prev=xf.prototype.Cc;xf.prototype.next=null;xf.prototype.next=xf.prototype.next;function yf(a){this.type=a}p("box2d.b2JointDef",yf);yf.prototype.type=0;yf.prototype.type=yf.prototype.type;yf.prototype.Hc=null;yf.prototype.userData=yf.prototype.Hc;yf.prototype.Ma=null;yf.prototype.bodyA=yf.prototype.Ma;yf.prototype.Ga=null;yf.prototype.bodyB=yf.prototype.Ga;yf.prototype.og=!1;
yf.prototype.collideConnected=yf.prototype.og;function J(a){this.cb=a.type;this.Ne=new xf;this.Oe=new xf;this.na=a.Ma;this.ia=a.Ga;this.Do=a.og;this.Ve=a.Hc}p("box2d.b2Joint",J);J.prototype.cb=0;J.prototype.m_type=J.prototype.cb;J.prototype.qb=null;J.prototype.m_prev=J.prototype.qb;J.prototype.Y=null;J.prototype.m_next=J.prototype.Y;J.prototype.Ne=null;J.prototype.m_edgeA=J.prototype.Ne;J.prototype.Oe=null;J.prototype.m_edgeB=J.prototype.Oe;J.prototype.na=null;J.prototype.m_bodyA=J.prototype.na;
J.prototype.ia=null;J.prototype.m_bodyB=J.prototype.ia;J.prototype.ye=0;J.prototype.m_index=J.prototype.ye;J.prototype.hr=!1;J.prototype.m_islandFlag=J.prototype.hr;J.prototype.Do=!1;J.prototype.m_collideConnected=J.prototype.Do;J.prototype.Ve=null;J.prototype.m_userData=J.prototype.Ve;J.prototype.$c=function(a){return a.ba()};J.prototype.GetAnchorA=J.prototype.$c;J.prototype.Qc=function(a){return a.ba()};J.prototype.GetAnchorB=J.prototype.Qc;J.prototype.gd=function(a,c){return c.ba()};
J.prototype.GetReactionForce=J.prototype.gd;J.prototype.hd=function(){return 0};J.prototype.GetReactionTorque=J.prototype.hd;J.prototype.Xa=function(){};J.prototype.InitVelocityConstraints=J.prototype.Xa;J.prototype.R=function(){};J.prototype.SolveVelocityConstraints=J.prototype.R;J.prototype.qa=function(){return!1};J.prototype.SolvePositionConstraints=J.prototype.qa;J.prototype.Ic=function(){return this.cb};J.prototype.GetType=J.prototype.Ic;J.prototype.vy=function(){return this.na};
J.prototype.GetBodyA=J.prototype.vy;J.prototype.wy=function(){return this.ia};J.prototype.GetBodyB=J.prototype.wy;J.prototype.ud=function(){return this.Y};J.prototype.GetNext=J.prototype.ud;J.prototype.ec=function(){return this.Ve};J.prototype.GetUserData=J.prototype.ec;J.prototype.fh=function(a){this.Ve=a};J.prototype.SetUserData=J.prototype.fh;J.prototype.Dy=function(){return this.Do};J.prototype.GetCollideConnected=J.prototype.Dy;J.prototype.Mb=function(){};J.prototype.Dump=J.prototype.Mb;
J.prototype.Gh=function(){return this.na.Gh()&&this.ia.Gh()};J.prototype.IsActive=J.prototype.Gh;J.prototype.Zd=function(){};J.prototype.ShiftOrigin=J.prototype.Zd;function zf(){this.type=12;this.oi=[]}q(zf,yf);p("box2d.b2AreaJointDef",zf);zf.prototype.uv=null;zf.prototype.world=zf.prototype.uv;zf.prototype.oi=null;zf.prototype.bodies=zf.prototype.oi;zf.prototype.Jd=0;zf.prototype.frequencyHz=zf.prototype.Jd;zf.prototype.wd=0;zf.prototype.dampingRatio=zf.prototype.wd;zf.prototype.Ch=function(a){this.oi.push(a);1===this.oi.length?this.Ma=a:2===this.oi.length&&(this.Ga=a)};zf.prototype.AddBody=zf.prototype.Ch;
function Af(a){J.call(this,a);this.Q=a.oi;this.lc=a.Jd;this.Nc=a.wd;this.Mx=ta(a.oi.length);this.mc=gb(a.oi.length);this.vc=Array(a.oi.length);this.Fo=gb(a.oi.length);this.eu=new r;var c=new Kf;c.Jd=a.Jd;c.wd=a.wd;for(var b=this.jn=0,d=this.Q.length;b<d;++b){var e=this.Q[b],f=this.Q[(b+1)%d],h=e.Le(),k=f.Le();this.Mx[b]=xb(h,k);this.jn+=w(h,k);c.S(e,f,h,k);this.vc[b]=a.uv.ja(c)}this.jn*=.5}q(Af,J);p("box2d.b2AreaJoint",Af);Af.prototype.Q=null;Af.prototype.m_bodies=Af.prototype.Q;Af.prototype.lc=0;
Af.prototype.m_frequencyHz=Af.prototype.lc;Af.prototype.Nc=0;Af.prototype.m_dampingRatio=Af.prototype.Nc;Af.prototype.B=0;Af.prototype.m_impulse=Af.prototype.B;g=Af.prototype;g.Mx=null;g.jn=0;g.mc=null;g.vc=null;g.Fo=null;g.eu=null;g.$c=function(a){return a.ba()};Af.prototype.GetAnchorA=Af.prototype.$c;Af.prototype.Qc=function(a){return a.ba()};Af.prototype.GetAnchorB=Af.prototype.Qc;Af.prototype.gd=function(a,c){return c.ba()};Af.prototype.GetReactionForce=Af.prototype.gd;Af.prototype.hd=function(){return 0};
Af.prototype.GetReactionTorque=Af.prototype.hd;Af.prototype.Rk=function(a){this.lc=a;for(var c=0,b=this.vc.length;c<b;++c)this.vc[c].Rk(a)};Af.prototype.SetFrequency=Af.prototype.Rk;Af.prototype.Nk=function(){return this.lc};Af.prototype.GetFrequency=Af.prototype.Nk;Af.prototype.Pk=function(a){this.Nc=a;for(var c=0,b=this.vc.length;c<b;++c)this.vc[c].Pk(a)};Af.prototype.SetDampingRatio=Af.prototype.Pk;Af.prototype.Mk=function(){return this.Nc};Af.prototype.GetDampingRatio=Af.prototype.Mk;
Af.prototype.Mb=function(){};Af.prototype.Dump=Af.prototype.Mb;Af.prototype.Xa=function(a){for(var c=0,b=this.Q.length;c<b;++c){var d=this.Fo[c];x(a.ga[this.Q[(c+1)%b].Zb].V,a.ga[this.Q[(c+b-1)%b].Zb].V,d)}if(a.step.Ge)for(this.B*=a.step.xd,c=0,b=this.Q.length;c<b;++c){var e=this.Q[c],f=a.L[e.Zb].oa,d=this.Fo[c];f.x+=e.zb*d.y*.5*this.B;f.y+=e.zb*-d.x*.5*this.B}else this.B=0};Af.prototype.InitVelocityConstraints=Af.prototype.Xa;
Af.prototype.R=function(a){for(var c=0,b=0,d=0,e=this.Q.length;d<e;++d)var f=this.Q[d],h=a.L[f.Zb].oa,k=this.Fo[d],c=c+k.Ze()/f.je(),b=b+w(h,k);c=-2*b/c;this.B+=c;d=0;for(e=this.Q.length;d<e;++d)f=this.Q[d],h=a.L[f.Zb].oa,k=this.Fo[d],h.x+=f.zb*k.y*.5*c,h.y+=f.zb*-k.x*.5*c};Af.prototype.SolveVelocityConstraints=Af.prototype.R;
Af.prototype.qa=function(a){for(var c=0,b=0,d=0,e=this.Q.length;d<e;++d){var f=this.Q[d],f=a.ga[f.Zb].V,h=a.ga[this.Q[(d+1)%e].Zb].V,k=x(h,f,this.eu),l=k.qc();1E-5>l&&(l=1);this.mc[d].x=k.y/l;this.mc[d].y=-k.x/l;c+=l;b+=w(f,h)}c=.5*(this.jn-.5*b)/c;b=!0;d=0;for(e=this.Q.length;d<e;++d)f=this.Q[d],f=a.ga[f.Zb].V,k=pb(this.mc[d],this.mc[(d+1)%e],this.eu),k.Ia(c),h=k.Ze(),h>.2*.2&&k.Ia(.2/Qa(h)),6.4E-5<h&&(b=!1),f.x+=k.x,f.y+=k.y;return b};Af.prototype.SolvePositionConstraints=Af.prototype.qa;function Kf(){this.type=3;this.va=new r;this.Da=new r}q(Kf,yf);p("box2d.b2DistanceJointDef",Kf);Kf.prototype.va=null;Kf.prototype.localAnchorA=Kf.prototype.va;Kf.prototype.Da=null;Kf.prototype.localAnchorB=Kf.prototype.Da;Kf.prototype.length=1;Kf.prototype.length=Kf.prototype.length;Kf.prototype.Jd=0;Kf.prototype.frequencyHz=Kf.prototype.Jd;Kf.prototype.wd=0;Kf.prototype.dampingRatio=Kf.prototype.wd;
Kf.prototype.S=function(a,c,b,d){this.Ma=a;this.Ga=c;this.Ma.Ke(b,this.va);this.Ga.Ke(d,this.Da);this.length=xb(b,d);this.wd=this.Jd=0};Kf.prototype.Initialize=Kf.prototype.S;function K(a){J.call(this,a);this.Gc=new r;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.lc=a.Jd;this.Nc=a.wd;this.Fa=a.va.za();this.ya=a.Da.za();this.Pg=a.length}q(K,J);p("box2d.b2DistanceJoint",K);K.prototype.lc=0;K.prototype.m_frequencyHz=K.prototype.lc;
K.prototype.Nc=0;K.prototype.m_dampingRatio=K.prototype.Nc;K.prototype.rg=0;K.prototype.m_bias=K.prototype.rg;K.prototype.Fa=null;K.prototype.m_localAnchorA=K.prototype.Fa;K.prototype.ya=null;K.prototype.m_localAnchorB=K.prototype.ya;K.prototype.Tb=0;K.prototype.m_gamma=K.prototype.Tb;K.prototype.B=0;K.prototype.m_impulse=K.prototype.B;K.prototype.Pg=0;K.prototype.m_length=K.prototype.Pg;K.prototype.O=0;K.prototype.m_indexA=K.prototype.O;K.prototype.J=0;K.prototype.m_indexB=K.prototype.J;
K.prototype.Gc=null;K.prototype.m_u=K.prototype.Gc;K.prototype.la=null;K.prototype.m_rA=K.prototype.la;K.prototype.ea=null;K.prototype.m_rB=K.prototype.ea;K.prototype.lb=null;K.prototype.m_localCenterA=K.prototype.lb;K.prototype.Za=null;K.prototype.m_localCenterB=K.prototype.Za;K.prototype.Ua=0;K.prototype.m_invMassA=K.prototype.Ua;K.prototype.Ja=0;K.prototype.m_invMassB=K.prototype.Ja;K.prototype.Sa=0;K.prototype.m_invIA=K.prototype.Sa;K.prototype.Ha=0;K.prototype.m_invIB=K.prototype.Ha;
K.prototype.da=0;K.prototype.m_mass=K.prototype.da;K.prototype.rb=null;K.prototype.m_qA=K.prototype.rb;K.prototype.bb=null;K.prototype.m_qB=K.prototype.bb;K.prototype.Ta=null;K.prototype.m_lalcA=K.prototype.Ta;K.prototype.Na=null;K.prototype.m_lalcB=K.prototype.Na;K.prototype.$c=function(a){return this.na.sb(this.Fa,a)};K.prototype.GetAnchorA=K.prototype.$c;K.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};K.prototype.GetAnchorB=K.prototype.Qc;
K.prototype.gd=function(a,c){return c.h(a*this.B*this.Gc.x,a*this.B*this.Gc.y)};K.prototype.GetReactionForce=K.prototype.gd;K.prototype.hd=function(){return 0};K.prototype.GetReactionTorque=K.prototype.hd;K.prototype.Cg=function(a){return a.e(this.Fa)};K.prototype.GetLocalAnchorA=K.prototype.Cg;K.prototype.Dg=function(a){return a.e(this.ya)};K.prototype.GetLocalAnchorB=K.prototype.Dg;K.prototype.IA=function(a){this.Pg=a};K.prototype.SetLength=K.prototype.IA;K.prototype.Yy=function(){return this.Pg};
K.prototype.GetLength=K.prototype.Yy;K.prototype.Rk=function(a){this.lc=a};K.prototype.SetFrequency=K.prototype.Rk;K.prototype.Nk=function(){return this.lc};K.prototype.GetFrequency=K.prototype.Nk;K.prototype.Pk=function(a){this.Nc=a};K.prototype.SetDampingRatio=K.prototype.Pk;K.prototype.Mk=function(){return this.Nc};K.prototype.GetDampingRatio=K.prototype.Mk;K.prototype.Mb=function(){};K.prototype.Dump=K.prototype.Mb;
K.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].V,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].V,f=a.ga[this.J].o,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].o),f=this.bb.Ba(f);x(this.Fa,this.lb,this.Ta);y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(f,this.Na,this.ea);this.Gc.x=e.x+this.ea.x-c.x-this.la.x;this.Gc.y=e.y+
this.ea.y-c.y-this.la.y;e=this.Gc.qc();.008<e?this.Gc.Ia(1/e):this.Gc.ba();c=w(this.la,this.Gc);l=w(this.ea,this.Gc);c=this.Ua+this.Sa*c*c+this.Ja+this.Ha*l*l;this.da=0!==c?1/c:0;if(0<this.lc){var e=e-this.Pg,l=2*fa*this.lc,f=this.da*l*l,m=a.step.Ib;this.Tb=m*(2*this.da*this.Nc*l+m*f);this.Tb=0!==this.Tb?1/this.Tb:0;this.rg=e*m*f*this.Tb;c+=this.Tb;this.da=0!==c?1/c:0}else this.rg=this.Tb=0;a.step.Ge?(this.B*=a.step.xd,c=qb(this.B,this.Gc,K.prototype.Xa.tb),b.mb(this.Ua,c),d-=this.Sa*w(this.la,c),
h.wa(this.Ja,c),k+=this.Ha*w(this.ea,c)):this.B=0;a.L[this.O].M=d;a.L[this.J].M=k};K.prototype.InitVelocityConstraints=K.prototype.Xa;K.prototype.Xa.tb=new r;
K.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=ub(c,b,this.la,K.prototype.R.Cp),h=ub(d,e,this.ea,K.prototype.R.Dp),f=v(this.Gc,x(h,f,u)),f=-this.da*(f+this.rg+this.Tb*this.B);this.B+=f;f=qb(f,this.Gc,K.prototype.R.tb);c.mb(this.Ua,f);b-=this.Sa*w(this.la,f);d.wa(this.Ja,f);e+=this.Ha*w(this.ea,f);a.L[this.O].M=b;a.L[this.J].M=e};K.prototype.SolveVelocityConstraints=K.prototype.R;K.prototype.R.Cp=new r;K.prototype.R.Dp=new r;K.prototype.R.tb=new r;
K.prototype.qa=function(a){if(0<this.lc)return!0;var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o;this.rb.Ba(b);this.bb.Ba(e);var f=y(this.rb,this.Ta,this.la),h=y(this.bb,this.Na,this.ea),k=this.Gc;k.x=d.x+h.x-c.x-f.x;k.y=d.y+h.y-c.y-f.y;var l=this.Gc.ic()-this.Pg,l=Ka(l,-.2,.2),k=qb(-this.da*l,k,K.prototype.qa.tb);c.mb(this.Ua,k);b-=this.Sa*w(f,k);d.wa(this.Ja,k);e+=this.Ha*w(h,k);a.ga[this.O].o=b;a.ga[this.J].o=e;return.008>ra(l)};K.prototype.SolvePositionConstraints=K.prototype.qa;
K.prototype.qa.tb=new r;function Lf(){this.type=9;this.va=new r;this.Da=new r}q(Lf,yf);p("box2d.b2FrictionJointDef",Lf);Lf.prototype.va=null;Lf.prototype.localAnchorA=Lf.prototype.va;Lf.prototype.Da=null;Lf.prototype.localAnchorB=Lf.prototype.Da;Lf.prototype.di=0;Lf.prototype.maxForce=Lf.prototype.di;Lf.prototype.Zl=0;Lf.prototype.maxTorque=Lf.prototype.Zl;Lf.prototype.S=function(a,c,b){this.Ma=a;this.Ga=c;this.Ma.Ke(b,this.va);this.Ga.Ke(b,this.Da)};Lf.prototype.Initialize=Lf.prototype.S;
function L(a){J.call(this,a);this.Fa=a.va.za();this.ya=a.Da.za();this.bd=(new r).ba();this.lf=a.di;this.Wh=a.Zl;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.Bj=(new Gb).ba();this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.Jb=new Gb}q(L,J);p("box2d.b2FrictionJoint",L);L.prototype.Fa=null;L.prototype.m_localAnchorA=L.prototype.Fa;L.prototype.ya=null;L.prototype.m_localAnchorB=L.prototype.ya;L.prototype.bd=null;L.prototype.m_linearImpulse=L.prototype.bd;
L.prototype.Md=0;L.prototype.m_angularImpulse=L.prototype.Md;L.prototype.lf=0;L.prototype.m_maxForce=L.prototype.lf;L.prototype.Wh=0;L.prototype.m_maxTorque=L.prototype.Wh;L.prototype.O=0;L.prototype.m_indexA=L.prototype.O;L.prototype.J=0;L.prototype.m_indexB=L.prototype.J;L.prototype.la=null;L.prototype.m_rA=L.prototype.la;L.prototype.ea=null;L.prototype.m_rB=L.prototype.ea;L.prototype.lb=null;L.prototype.m_localCenterA=L.prototype.lb;L.prototype.Za=null;L.prototype.m_localCenterB=L.prototype.Za;
L.prototype.Ua=0;L.prototype.m_invMassA=L.prototype.Ua;L.prototype.Ja=0;L.prototype.m_invMassB=L.prototype.Ja;L.prototype.Sa=0;L.prototype.m_invIA=L.prototype.Sa;L.prototype.Ha=0;L.prototype.m_invIB=L.prototype.Ha;L.prototype.Bj=null;L.prototype.m_linearMass=L.prototype.Bj;L.prototype.Jg=0;L.prototype.m_angularMass=L.prototype.Jg;L.prototype.rb=null;L.prototype.m_qA=L.prototype.rb;L.prototype.bb=null;L.prototype.m_qB=L.prototype.bb;L.prototype.Ta=null;L.prototype.m_lalcA=L.prototype.Ta;
L.prototype.Na=null;L.prototype.m_lalcB=L.prototype.Na;L.prototype.Jb=null;L.prototype.m_K=L.prototype.Jb;
L.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.ga[this.J].o,e=a.L[this.J].oa,f=a.L[this.J].M,h=this.rb.Ba(a.ga[this.O].o),d=this.bb.Ba(d);x(this.Fa,this.lb,this.Ta);h=y(h,this.Ta,this.la);x(this.ya,this.Za,this.Na);var k=y(d,this.Na,this.ea),d=this.Ua,l=this.Ja,m=this.Sa,n=this.Ha,t=this.Jb;t.$.x=d+l+m*h.y*h.y+n*k.y*k.y;
t.$.y=-m*h.x*h.y-n*k.x*k.y;t.ca.x=t.$.y;t.ca.y=d+l+m*h.x*h.x+n*k.x*k.x;t.tm(this.Bj);this.Jg=m+n;0<this.Jg&&(this.Jg=1/this.Jg);a.step.Ge?(this.bd.Ia(a.step.xd),this.Md*=a.step.xd,h=this.bd,c.mb(d,h),b-=m*(w(this.la,h)+this.Md),e.wa(l,h),f+=n*(w(this.ea,h)+this.Md)):(this.bd.ba(),this.Md=0);a.L[this.O].M=b;a.L[this.J].M=f};L.prototype.InitVelocityConstraints=L.prototype.Xa;
L.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ja,k=this.Sa,l=this.Ha,m=a.step.Ib,n,t=-this.Jg*(e-b),z=this.Md;n=m*this.Wh;this.Md=Ka(this.Md+t,-n,n);t=this.Md-z;b-=k*t;e+=l*t;n=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),L.prototype.R.em);t=Hb(this.Bj,n,L.prototype.R.kC).Pa();z=L.prototype.R.AC.e(this.bd);this.bd.Qa(t);n=m*this.lf;this.bd.Ze()>n*n&&(this.bd.ic(),this.bd.Ia(n));x(this.bd,z,t);c.mb(f,t);b-=k*w(this.la,t);d.wa(h,t);e+=l*w(this.ea,
t);a.L[this.O].M=b;a.L[this.J].M=e};L.prototype.SolveVelocityConstraints=L.prototype.R;L.prototype.R.em=new r;L.prototype.R.kC=new r;L.prototype.R.AC=new r;L.prototype.qa=function(){return!0};L.prototype.SolvePositionConstraints=L.prototype.qa;L.prototype.$c=function(a){return this.na.sb(this.Fa,a)};L.prototype.GetAnchorA=L.prototype.$c;L.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};L.prototype.GetAnchorB=L.prototype.Qc;L.prototype.gd=function(a,c){return c.h(a*this.bd.x,a*this.bd.y)};
L.prototype.GetReactionForce=L.prototype.gd;L.prototype.hd=function(a){return a*this.Md};L.prototype.GetReactionTorque=L.prototype.hd;L.prototype.Cg=function(a){return a.e(this.Fa)};L.prototype.GetLocalAnchorA=L.prototype.Cg;L.prototype.Dg=function(a){return a.e(this.ya)};L.prototype.GetLocalAnchorB=L.prototype.Dg;L.prototype.ko=function(a){this.lf=a};L.prototype.SetMaxForce=L.prototype.ko;L.prototype.Rn=function(){return this.lf};L.prototype.GetMaxForce=L.prototype.Rn;
L.prototype.yt=function(a){this.Wh=a};L.prototype.SetMaxTorque=L.prototype.yt;L.prototype.Ps=function(){return this.Wh};L.prototype.GetMaxTorque=L.prototype.Ps;L.prototype.Mb=function(){};L.prototype.Dump=L.prototype.Mb;function Mf(a){var c=null;switch(a.type){case 3:c=new K(a instanceof Kf?a:null);break;case 5:c=new M(a instanceof Nf?a:null);break;case 2:c=new N(a instanceof Of?a:null);break;case 1:c=new P(a instanceof Pf?a:null);break;case 4:c=new Q(a instanceof Qf?a:null);break;case 6:c=new R(a instanceof Rf?a:null);break;case 7:c=new S(a instanceof Sf?a:null);break;case 8:c=new T(a instanceof Tf?a:null);break;case 9:c=new L(a instanceof Lf?a:null);break;case 10:c=new U(a instanceof Uf?a:null);break;case 11:c=
new V(a instanceof Vf?a:null);break;case 12:c=new Af(a instanceof zf?a:null)}return c}p("box2d.b2JointFactory.Create",Mf);p("box2d.b2JointFactory.Destroy",function(){});function W(a){this.Io=!0;this.jb=new Xe;this.ph=a.za();this.Du=new r;this.il=!0;this.D=this.Lg=null;this.Eo=this.dp=!0;this.Zo=!1;this.dn=!0;this.Be=new de;this.gr=new nf;this.nv=[]}p("box2d.b2World",W);W.prototype.br=!1;W.prototype.m_flag_newFixture=W.prototype.br;W.prototype.ce=!1;W.prototype.m_flag_locked=W.prototype.ce;W.prototype.Io=!1;W.prototype.m_flag_clearForces=W.prototype.Io;W.prototype.jb=null;W.prototype.m_contactManager=W.prototype.jb;W.prototype.Cb=null;W.prototype.m_bodyList=W.prototype.Cb;
W.prototype.yc=null;W.prototype.m_jointList=W.prototype.yc;W.prototype.nf=null;W.prototype.m_particleSystemList=W.prototype.nf;W.prototype.Vc=0;W.prototype.m_bodyCount=W.prototype.Vc;W.prototype.ug=0;W.prototype.m_jointCount=W.prototype.ug;W.prototype.ph=null;W.prototype.m_gravity=W.prototype.ph;W.prototype.Du=null;W.prototype.m_out_gravity=W.prototype.Du;W.prototype.il=!0;W.prototype.m_allowSleep=W.prototype.il;W.prototype.Lg=null;W.prototype.m_destructionListener=W.prototype.Lg;W.prototype.D=null;
W.prototype.m_debugDraw=W.prototype.D;W.prototype.nu=0;W.prototype.m_inv_dt0=W.prototype.nu;W.prototype.dp=!0;W.prototype.m_warmStarting=W.prototype.dp;W.prototype.Eo=!0;W.prototype.m_continuousPhysics=W.prototype.Eo;W.prototype.Zo=!1;W.prototype.m_subStepping=W.prototype.Zo;W.prototype.dn=!0;W.prototype.m_stepComplete=W.prototype.dn;W.prototype.Be=null;W.prototype.m_profile=W.prototype.Be;W.prototype.gr=null;W.prototype.m_island=W.prototype.gr;W.prototype.nv=null;W.prototype.s_stack=W.prototype.nv;
W.prototype.me=null;W.prototype.m_controllerList=W.prototype.me;W.prototype.qj=0;W.prototype.m_controllerCount=W.prototype.qj;W.prototype.Hw=function(a){if(a!==this.il&&(this.il=a,!this.il))for(a=this.Cb;a;a=a.Y)a.Ra(!0)};W.prototype.SetAllowSleeping=W.prototype.Hw;W.prototype.ry=function(){return this.il};W.prototype.GetAllowSleeping=W.prototype.ry;W.prototype.Tw=function(a){this.dp=a};W.prototype.SetWarmStarting=W.prototype.Tw;W.prototype.Mz=function(){return this.dp};
W.prototype.GetWarmStarting=W.prototype.Mz;W.prototype.ut=function(a){this.Eo=a};W.prototype.SetContinuousPhysics=W.prototype.ut;W.prototype.Gy=function(){return this.Eo};W.prototype.GetContinuousPhysics=W.prototype.Gy;W.prototype.Rw=function(a){this.Zo=a};W.prototype.SetSubStepping=W.prototype.Rw;W.prototype.Fz=function(){return this.Zo};W.prototype.GetSubStepping=W.prototype.Fz;W.prototype.Cs=function(){return this.Cb};W.prototype.GetBodyList=W.prototype.Cs;W.prototype.Ls=function(){return this.yc};
W.prototype.GetJointList=W.prototype.Ls;W.prototype.rz=function(){return this.nf};W.prototype.GetParticleSystemList=W.prototype.rz;W.prototype.Kk=function(){return this.jb.bc};W.prototype.GetContactList=W.prototype.Kk;W.prototype.zy=function(){return this.Vc};W.prototype.GetBodyCount=W.prototype.zy;W.prototype.Xy=function(){return this.ug};W.prototype.GetJointCount=W.prototype.Xy;W.prototype.Rp=function(){return this.jb.sg};W.prototype.GetContactCount=W.prototype.Rp;
W.prototype.ej=function(a,c){c=c||!0;if(this.ph.x!==a.x||this.ph.y!==a.y)if(this.ph.e(a),c)for(var b=this.Cb;b;b=b.Y)b.Ra(!0)};W.prototype.SetGravity=W.prototype.ej;W.prototype.Hs=function(a){a=a||this.Du;return a.e(this.ph)};W.prototype.GetGravity=W.prototype.Hs;W.prototype.Vz=function(){return this.ce};W.prototype.IsLocked=W.prototype.Vz;W.prototype.zA=function(a){this.Io=a};W.prototype.SetAutoClearForces=W.prototype.zA;W.prototype.uy=function(){return this.Io};W.prototype.GetAutoClearForces=W.prototype.uy;
W.prototype.Ey=function(){return this.jb};W.prototype.GetContactManager=W.prototype.Ey;W.prototype.wz=function(){return this.Be};W.prototype.GetProfile=W.prototype.wz;W.prototype.Qk=function(a){this.Lg=a};W.prototype.SetDestructionListener=W.prototype.Qk;W.prototype.DA=function(a){this.jb.Ph=a};W.prototype.SetContactFilter=W.prototype.DA;W.prototype.Kw=function(a){this.jb.Qh=a};W.prototype.SetContactListener=W.prototype.Kw;W.prototype.Lw=function(a){this.D=a};W.prototype.SetDebugDraw=W.prototype.Lw;
W.prototype.l=function(a){if(this.ce)return null;a=new H(a,this);a.qb=null;if(a.Y=this.Cb)this.Cb.qb=a;this.Cb=a;++this.Vc;return a};W.prototype.CreateBody=W.prototype.l;
W.prototype.sd=function(a){if(!this.ce){for(var c=a.yc;c;){var b=c,c=c.next;this.Lg&&this.Lg.co(b.kj);this.qm(b.kj);a.yc=c}a.yc=null;for(c=a.me;c;)b=c,c=c.zk,b.Nt.lt(a);for(c=a.bc;c;)b=c,c=c.next,this.jb.Jf(b.ke);a.bc=null;for(c=a.ne;c;)b=c,c=c.Y,b.Lp(this.jb.Xc),b.Jf(),a.ne=c,--a.oh;a.ne=null;a.oh=0;a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.Cb&&(this.Cb=a.Y);--this.Vc}};W.prototype.DestroyBody=W.prototype.sd;
W.prototype.ja=function(a){if(this.ce)return null;var c=Mf(a);c.qb=null;if(c.Y=this.yc)this.yc.qb=c;this.yc=c;++this.ug;c.Ne.kj=c;c.Ne.Hf=c.ia;c.Ne.Cc=null;if(c.Ne.next=c.na.yc)c.na.yc.Cc=c.Ne;c.na.yc=c.Ne;c.Oe.kj=c;c.Oe.Hf=c.na;c.Oe.Cc=null;if(c.Oe.next=c.ia.yc)c.ia.yc.Cc=c.Oe;c.ia.yc=c.Oe;var b=a.Ma,d=a.Ga;if(!a.og)for(a=d.Kk();a;)a.Hf===b&&a.ke.Pp(),a=a.next;return c};W.prototype.CreateJoint=W.prototype.ja;
W.prototype.qm=function(a){if(!this.ce){var c=a.Do;a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.yc&&(this.yc=a.Y);var b=a.na,d=a.ia;b.Ra(!0);d.Ra(!0);a.Ne.Cc&&(a.Ne.Cc.next=a.Ne.next);a.Ne.next&&(a.Ne.next.Cc=a.Ne.Cc);a.Ne===b.yc&&(b.yc=a.Ne.next);a.Ne.Cc=null;a.Ne.next=null;a.Oe.Cc&&(a.Oe.Cc.next=a.Oe.next);a.Oe.next&&(a.Oe.next.Cc=a.Oe.Cc);a.Oe===d.yc&&(d.yc=a.Oe.next);a.Oe.Cc=null;a.Oe.next=null;--this.ug;if(!c)for(a=d.Kk();a;)a.Hf===b&&a.ke.Pp(),a=a.next}};W.prototype.DestroyJoint=W.prototype.qm;
W.prototype.rs=function(a){if(this.ce)return null;a=new X(a,this);a.qb=null;if(a.Y=this.nf)this.nf.qb=a;return this.nf=a};W.prototype.CreateParticleSystem=W.prototype.rs;W.prototype.ly=function(a){this.ce||(a.qb&&(a.qb.Y=a.Y),a.Y&&(a.Y.qb=a.qb),a===this.nf&&(this.nf=a.Y))};W.prototype.DestroyParticleSystem=W.prototype.ly;
W.prototype.gh=function(a){for(var c=this.Cb;c;c=c.Y)c.Xl.e(c.La);for(var b=this.me;b;b=b.Y)b.C(a);this.Be.We=0;this.Be.Ye=0;this.Be.Xe=0;b=this.gr;b.S(this.Vc,this.jb.sg,this.ug,null,this.jb.Qh);for(c=this.Cb;c;c=c.Y)c.Yc=!1;for(var d=this.jb.bc;d;d=d.Y)d.Yc=!1;for(d=this.yc;d;d=d.Y)d.hr=!1;for(var d=this.nv,e=this.Cb;e;e=e.Y)if(!e.Yc&&e.uc&&e.Gh()&&0!==e.Ic()){b.Fk();var f=0;d[f++]=e;for(e.Yc=!0;0<f;)if(c=d[--f],b.Ch(c),c.Ra(!0),0!==c.Ic()){for(var h=c.bc;h;h=h.next){var k=h.ke;if(!k.Yc&&k.uj&&
k.gk){var l=k.Yb.Re;k.Xb.Re||l||(b.Dk(k),k.Yc=!0,k=h.Hf,k.Yc||(d[f++]=k,k.Yc=!0))}}for(c=c.yc;c;c=c.next)c.kj.hr||(k=c.Hf,k.Gh()&&(b.yv(c.kj),c.kj.hr=!0,k.Yc||(d[f++]=k,k.Yc=!0)))}c=new de;b.gh(c,a,this.ph,this.il);this.Be.We+=c.We;this.Be.Ye+=c.Ye;this.Be.Xe+=c.Xe;for(f=0;f<b.Vc;++f)c=b.Q[f],0===c.Ic()&&(c.Yc=!1)}for(f=0;f<d.length&&d[f];++f)d[f]=null;a=new Hd;for(c=this.Cb;c;c=c.Y)c.Yc&&0!==c.Ic()&&c.zm();this.jb.Op();this.Be.mg=a.Eh()};W.prototype.Solve=W.prototype.gh;
W.prototype.af=function(a){var c=this.gr;c.S(64,32,0,null,this.jb.Qh);if(this.dn){for(var b=this.Cb;b;b=b.Y)b.Yc=!1,b.P.Qf=0;for(var d=this.jb.bc;d;d=d.Y)d.fk=d.Yc=!1,d.$o=0,d.Mr=1}for(;;){for(var e=null,b=1,d=this.jb.bc;d;d=d.Y)if(d.uj&&!(8<d.$o)){var f=1;if(d.fk)f=d.Mr;else{var h=d.Xb,k=d.Yb;if(h.Re||k.Re)continue;var f=h.Nb(),l=k.Nb(),m=f.cb,n=l.cb,t=l.uc&&0!==n;if(!(f.uc&&0!==m||t))continue;n=l.tj||2!==n;if(!f.tj&&2===m&&!n)continue;m=f.P.Qf;f.P.Qf<l.P.Qf?(m=l.P.Qf,f.P.Vi(m)):l.P.Qf<f.P.Qf&&(m=
f.P.Qf,l.P.Vi(m));t=d.J;n=W.prototype.af.XC;n.fd.Lh(h.$a,d.O);n.Dd.Lh(k.$a,t);n.xn.e(f.P);n.yn.e(l.P);n.zn=1;f=W.prototype.af.YC;Yd(f,n);l=f.Ah;f=3===f.state?Ia(m+(1-m)*l,1):1;d.Mr=f;d.fk=!0}f<b&&(e=d,b=f)}if(null===e||.9999<b){this.dn=!0;break}h=e.Xb;k=e.Yb;f=h.Nb();l=k.Nb();d=W.prototype.af.GB.e(f.P);h=W.prototype.af.HB.e(l.P);f.Vi(b);l.Vi(b);e.fq(this.jb.Qh);e.fk=!1;++e.$o;if(e.uj&&e.gk){f.Ra(!0);l.Ra(!0);c.Fk();c.Ch(f);c.Ch(l);c.Dk(e);f.Yc=!0;l.Yc=!0;e.Yc=!0;for(e=0;2>e;++e)if(d=0===e?f:l,2===
d.cb)for(h=d.bc;h&&c.Vc!==c.Wt&&c.sg!==c.bu;h=h.next)k=h.ke,!k.Yc&&(m=h.Hf,2!==m.cb||d.tj||m.tj)&&(n=k.Yb.Re,k.Xb.Re||n||(n=W.prototype.af.FB.e(m.P),m.Yc||m.Vi(b),k.fq(this.jb.Qh),k.uj?k.gk?(k.Yc=!0,c.Dk(k),m.Yc||(m.Yc=!0,0!==m.cb&&m.Ra(!0),c.Ch(m))):(m.P.e(n),m.Wk()):(m.P.e(n),m.Wk())));e=W.prototype.af.QC;e.Ib=(1-b)*a.Ib;e.Uc=1/e.Ib;e.xd=1;e.zh=20;e.Zg=a.Zg;e.bg=a.bg;e.Ge=!1;c.af(e,f.Zb,l.Zb);for(e=0;e<c.Vc;++e)if(d=c.Q[e],d.Yc=!1,2===d.cb)for(d.zm(),h=d.bc;h;h=h.next)h.ke.fk=h.ke.Yc=!1;this.jb.Op();
if(this.Zo){this.dn=!1;break}}else e.vt(!1),f.P.e(d),l.P.e(h),f.Wk(),l.Wk()}};W.prototype.SolveTOI=W.prototype.af;g=W.prototype;g.af.QC=new ee;g.af.FB=new cc;g.af.GB=new cc;g.af.HB=new cc;g.af.XC=new Td;g.af.YC=new Vd;
g.C=function(a,c,b,d){d=d||1;var e=new Hd;this.br&&(this.jb.Op(),this.br=!1);this.ce=!0;var f=W.prototype.C.PC;f.Ib=a;f.Zg=c;f.zh=b;f.bg=d;f.Uc=0<a?1/a:0;f.xd=this.nu*a;f.Ge=this.dp;a=new Hd;this.jb.En();this.Be.ng=a.Eh();if(this.dn&&0<f.Ib){a=new Hd;for(c=this.nf;c;c=c.Y)c.gh(f);this.gh(f);this.Be.zg=a.Eh()}this.Eo&&0<f.Ib&&(a=new Hd,this.af(f),this.Be.Ag=a.Eh());0<f.Ib&&(this.nu=f.Uc);this.Io&&this.Cv();this.ce=!1;this.Be.step=e.Eh()};W.prototype.Step=W.prototype.C;W.prototype.C.PC=new ee;
W.prototype.Cv=function(){for(var a=this.Cb;a;a=a.Y)a.yf.ba(),a.Ki=0};W.prototype.ClearForces=W.prototype.Cv;W.prototype.hg=function(a,c){var b=this.jb.Xc;b.eh(function(c){c=b.ec(c).pg;return a instanceof ue?a.Xd(c):a(c)},c);if(a instanceof ue)for(var d=this.nf;d;d=d.Y)a.Qj(d)&&d.hg(a,c)};W.prototype.QueryAABB=W.prototype.hg;
W.prototype.kt=function(a,c,b,d){var e=this.jb.Xc,f=W.prototype.kt.Yu;c.Sb(f,b,d||0);e.eh(function(d){d=e.ec(d).pg;return Oc(c,0,d.$a,0,b,d.Nb().Wb())?a instanceof ue?a.Xd(d):a(d):!0},f);if(a instanceof ue)for(d=this.nf;d;d=d.Y)a.Qj(d)&&d.hg(a,f)};W.prototype.QueryShape=W.prototype.kt;W.prototype.kt.Yu=new Jc;
W.prototype.jt=function(a,c,b){var d=this.jb.Xc;b="number"===typeof b?b:.008;var e=W.prototype.jt.Yu;e.lowerBound.h(c.x-b,c.y-b);e.upperBound.h(c.x+b,c.y+b);d.eh(function(b){b=d.ec(b).pg;return b.Sc(c)?a instanceof ue?a.Xd(b):a(b):!0},e);if(a instanceof ue)for(b=this.nf;b;b=b.Y)a.Qj(b)&&b.hg(a,e)};W.prototype.QueryPoint=W.prototype.jt;W.prototype.jt.Yu=new Jc;
W.prototype.Aa=function(a,c,b){var d=this.jb.Xc,e=W.prototype.Aa.up;e.Ff=1;e.pd.e(c);e.te.e(b);d.Aa(function(e,h){var k=d.ec(h),l=k.pg,m=W.prototype.Aa.vp;if(l.Aa(m,e,k.wo)){var k=m.ae,n=W.prototype.Aa.DC;n.h((1-k)*c.x+k*b.x,(1-k)*c.y+k*b.y);return a instanceof ve?a.Xd(l,n,m.U,k):a(l,n,m.U,k)}return e.Ff},e);if(a instanceof ve)for(e=this.nf;e;e=e.Y)a.Qj(e)&&e.Aa(a,c,b)};W.prototype.RayCast=W.prototype.Aa;W.prototype.Aa.up=new Hc;W.prototype.Aa.vp=new Ic;W.prototype.Aa.DC=new r;
W.prototype.gA=function(a,c){var b=null,d=1;this.Aa(function(a,c,h,k){k<d&&(d=k,b=a);return d},a,c);return b};W.prototype.RayCastOne=W.prototype.gA;W.prototype.fA=function(a,c,b){b.length=0;this.Aa(function(a){b.push(a);return 1},a,c);return b};W.prototype.RayCastAll=W.prototype.fA;
W.prototype.Rv=function(a,c){var b=a.$a;switch(b.cb){case 0:b=b instanceof A?b:null;this.D.Mp(b.Ka,b.N,cb,c);break;case 1:var d=b instanceof C?b:null,b=d.Kc,e=d.Pc;this.D.oc(b,e,c);break;case 3:var b=b instanceof Fd?b:null,d=b.n,f=b.Z,b=f[0];this.D.Ik(b,.05,c);for(var h=1;h<d;++h)e=f[h],this.D.oc(b,e,c),this.D.Ik(e,.05,c),b=e;break;case 2:d=b instanceof D?b:null,b=d.n,f=d.Z,this.D.Jn(f,b,c)}};W.prototype.DrawShape=W.prototype.Rv;
W.prototype.bh=function(a){var c=a.na.La.sa,b=a.ia.La.sa,d=a.$c(W.prototype.bh.wp),e=a.Qc(W.prototype.bh.xp),f=W.prototype.bh.gm.jg(.5,.8,.8);switch(a.cb){case 3:this.D.oc(d,e,f);break;case 4:c=a instanceof Q?a:null;a=c.Zv(W.prototype.bh.HC);c=c.$v(W.prototype.bh.IC);this.D.oc(a,d,f);this.D.oc(c,e,f);this.D.oc(a,c,f);break;case 5:this.D.oc(d,e,f);break;default:this.D.oc(c,d,f),this.D.oc(d,e,f),this.D.oc(b,e,f)}};W.prototype.DrawJoint=W.prototype.bh;g=W.prototype;g.bh.wp=new r;g.bh.xp=new r;
g.bh.gm=new xa(.5,.8,.8);g.bh.HC=new r;g.bh.IC=new r;g.Qv=function(a){var c=a.Rc();if(c){var b=a.vm(),d=a.Pb.data;a.ld.data?(a=a.Nn(),this.D.In(d,b,a,c)):this.D.In(d,b,null,c)}};W.prototype.DrawParticleSystem=W.prototype.Qv;
W.prototype.Nj=function(){if(null!==this.D){var a=this.D.Vp(),c=W.prototype.Nj.gm.jg(0,0,0);if(a&1)for(var b=this.Cb;b;b=b.Y){var d=b.La;this.D.bo(d);for(var e=b.ne;e;e=e.Y)b.Gh()?0===b.Ic()?c.jg(.5,.9,.5):1===b.Ic()?c.jg(.5,.5,.9):b.uc?c.jg(.9,.7,.7):c.jg(.6,.6,.6):c.jg(.5,.5,.3),this.Rv(e,c);this.D.ao(d)}if(a&64)for(b=this.nf;b;b=b.Y)this.Qv(b);if(a&2)for(b=this.yc;b;b=b.Y)this.bh(b);if(a&4){c.jg(.9,.3,.9);for(var d=this.jb.Xc,f=W.prototype.Nj.aD,b=this.Cb;b;b=b.Y)if(b.Gh())for(e=b.ne;e;e=e.Y)for(var h=
0;h<e.of;++h){var k=d.Zi(e.Zh[h].Oi);f[0].h(k.lowerBound.x,k.lowerBound.y);f[1].h(k.upperBound.x,k.lowerBound.y);f[2].h(k.upperBound.x,k.upperBound.y);f[3].h(k.lowerBound.x,k.upperBound.y);this.D.Kf(f,4,c)}}if(a&16)for(b=this.Cb;b;b=b.Y)d=W.prototype.Nj.pv,d.ha.e(b.La.ha),d.sa.e(b.Le()),this.D.Np(d);if(a&32)for(a=this.me;a;a=a.Y)a.Hk(this.D)}};W.prototype.DrawDebugData=W.prototype.Nj;W.prototype.Nj.gm=new xa(0,0,0);W.prototype.Nj.aD=gb(4);W.prototype.Nj.pv=new Vb;
W.prototype.AA=function(a){var c=this.jb.Xc;this.jb.Xc=a;for(var b=this.Cb;b;b=b.Y)for(var d=b.ne;d;d=d.Y)d.oB=a.ah(c.Zi(d.oB),d)};W.prototype.SetBroadPhase=W.prototype.AA;W.prototype.cy=function(a){if(null===this.nf)a=1;else{for(var c=this.ph.qc(),b=1E37,d=this.nf;null!==d;d=d.Y)b=Ia(b,d.vm());a=Wf(c,b,a)}return a};W.prototype.CalculateReasonableParticleIterations=W.prototype.cy;W.prototype.um=function(){return this.jb.Xc.um()};W.prototype.GetProxyCount=W.prototype.um;W.prototype.wm=function(){return this.jb.Xc.wm()};
W.prototype.GetTreeHeight=W.prototype.wm;W.prototype.Un=function(){return this.jb.Xc.Un()};W.prototype.GetTreeBalance=W.prototype.Un;W.prototype.Vn=function(){return this.jb.Xc.Vn()};W.prototype.GetTreeQuality=W.prototype.Vn;W.prototype.Zd=function(a){if(!this.ce){for(var c=this.Cb;c;c=c.Y)c.La.sa.Ob(a),c.P.Tc.Ob(a),c.P.V.Ob(a);for(c=this.yc;c;c=c.Y)c.Zd(a);this.jb.Xc.Zd(a)}};W.prototype.ShiftOrigin=W.prototype.Zd;W.prototype.Mb=function(){};W.prototype.Dump=W.prototype.Mb;
W.prototype.wv=function(a){a.j=this;a.Y=this.me;a.qb=null;this.me&&(this.me.qb=a);this.me=a;++this.qj;return a};W.prototype.AddController=W.prototype.wv;W.prototype.iA=function(a){a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);this.me===a&&(this.me=a.Y);--this.qj;a.qb=null;a.Y=null;a.j=null};W.prototype.RemoveController=W.prototype.iA;function Vf(){this.type=11;this.Jq=new r(0,0)}q(Vf,yf);p("box2d.b2MotorJointDef",Vf);Vf.prototype.Jq=null;Vf.prototype.linearOffset=Vf.prototype.Jq;Vf.prototype.lx=0;Vf.prototype.angularOffset=Vf.prototype.lx;Vf.prototype.di=1;Vf.prototype.maxForce=Vf.prototype.di;Vf.prototype.Zl=1;Vf.prototype.maxTorque=Vf.prototype.Zl;Vf.prototype.mx=.3;Vf.prototype.correctionFactor=Vf.prototype.mx;Vf.prototype.S=function(a,c){this.Ma=a;this.Ga=c;this.Ma.Ke(this.Ga.ad(),this.Jq);this.lx=this.Ga.hc()-this.Ma.hc()};
Vf.prototype.Initialize=Vf.prototype.S;function V(a){J.call(this,a);this.Al=a.Jq.za();this.bd=new r(0,0);this.lf=a.di;this.Wh=a.Zl;this.Tq=a.mx;this.la=new r(0,0);this.ea=new r(0,0);this.lb=new r(0,0);this.Za=new r(0,0);this.qr=new r(0,0);this.Bj=new Gb;this.rb=new Rb;this.bb=new Rb;this.Jb=new Gb}q(V,J);p("box2d.b2MotorJoint",V);V.prototype.Al=null;V.prototype.m_linearOffset=V.prototype.Al;V.prototype.yo=0;V.prototype.m_angularOffset=V.prototype.yo;V.prototype.bd=null;
V.prototype.m_linearImpulse=V.prototype.bd;V.prototype.Md=0;V.prototype.m_angularImpulse=V.prototype.Md;V.prototype.lf=0;V.prototype.m_maxForce=V.prototype.lf;V.prototype.Wh=0;V.prototype.m_maxTorque=V.prototype.Wh;V.prototype.Tq=.3;V.prototype.m_correctionFactor=V.prototype.Tq;V.prototype.O=0;V.prototype.m_indexA=V.prototype.O;V.prototype.J=0;V.prototype.m_indexB=V.prototype.J;V.prototype.la=null;V.prototype.m_rA=V.prototype.la;V.prototype.ea=null;V.prototype.m_rB=V.prototype.ea;V.prototype.lb=null;
V.prototype.m_localCenterA=V.prototype.lb;V.prototype.Za=null;V.prototype.m_localCenterB=V.prototype.Za;V.prototype.qr=null;V.prototype.m_linearError=V.prototype.qr;V.prototype.Vt=0;V.prototype.m_angularError=V.prototype.Vt;V.prototype.Ua=0;V.prototype.m_invMassA=V.prototype.Ua;V.prototype.Ja=0;V.prototype.m_invMassB=V.prototype.Ja;V.prototype.Sa=0;V.prototype.m_invIA=V.prototype.Sa;V.prototype.Ha=0;V.prototype.m_invIB=V.prototype.Ha;V.prototype.Bj=null;V.prototype.m_linearMass=V.prototype.Bj;
V.prototype.Jg=0;V.prototype.m_angularMass=V.prototype.Jg;V.prototype.rb=null;V.prototype.m_qA=V.prototype.rb;V.prototype.bb=null;V.prototype.m_qB=V.prototype.bb;V.prototype.Jb=null;V.prototype.m_K=V.prototype.Jb;V.prototype.$c=function(a){return this.na.ad(a)};V.prototype.GetAnchorA=V.prototype.$c;V.prototype.Qc=function(a){return this.ia.ad(a)};V.prototype.GetAnchorB=V.prototype.Qc;V.prototype.gd=function(a,c){return qb(a,this.bd,c)};V.prototype.GetReactionForce=V.prototype.gd;
V.prototype.hd=function(a){return a*this.Md};V.prototype.GetReactionTorque=V.prototype.hd;V.prototype.Mw=function(a){if(a.x!=this.Al.x||a.y!=this.Al.y)this.na.Ra(!0),this.ia.Ra(!0),this.Al.e(a)};V.prototype.SetLinearOffset=V.prototype.Mw;V.prototype.cz=function(a){return a.e(this.Al)};V.prototype.GetLinearOffset=V.prototype.cz;V.prototype.Jw=function(a){a!==this.yo&&(this.na.Ra(!0),this.ia.Ra(!0),this.yo=a)};V.prototype.SetAngularOffset=V.prototype.Jw;V.prototype.ty=function(){return this.yo};
V.prototype.GetAngularOffset=V.prototype.ty;V.prototype.ko=function(a){this.lf=a};V.prototype.SetMaxForce=V.prototype.ko;V.prototype.Rn=function(){return this.lf};V.prototype.GetMaxForce=V.prototype.Rn;V.prototype.yt=function(a){this.Wh=a};V.prototype.SetMaxTorque=V.prototype.yt;V.prototype.Ps=function(){return this.Wh};V.prototype.GetMaxTorque=V.prototype.Ps;
V.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.L[this.O].oa,e=a.L[this.O].M,f=a.ga[this.J].V,h=a.ga[this.J].o,k=a.L[this.J].oa,l=a.L[this.J].M,m=this.rb.Ba(b),n=this.bb.Ba(h),t=y(m,u.e(this.lb).Pa(),this.la),n=y(n,u.e(this.Za).Pa(),this.ea),z=this.Ua,B=this.Ja,O=this.Sa,ia=this.Ha,aa=this.Jb;aa.$.x=z+B+O*t.y*t.y+ia*n.y*
n.y;aa.$.y=-O*t.x*t.y-ia*n.x*n.y;aa.ca.x=aa.$.y;aa.ca.y=z+B+O*t.x*t.x+ia*n.x*n.x;aa.tm(this.Bj);this.Jg=O+ia;0<this.Jg&&(this.Jg=1/this.Jg);x(x(pb(f,n,u),pb(c,t,db),eb),y(m,this.Al,fb),this.qr);this.Vt=h-b-this.yo;a.step.Ge?(this.bd.Ia(a.step.xd),this.Md*=a.step.xd,c=this.bd,d.mb(z,c),e-=O*(w(t,c)+this.Md),k.wa(B,c),l+=ia*(w(n,c)+this.Md)):(this.bd.ba(),this.Md=0);a.L[this.O].M=e;a.L[this.J].M=l};V.prototype.InitVelocityConstraints=V.prototype.Xa;
V.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ja,k=this.Sa,l=this.Ha,m=a.step.Ib,n=a.step.Uc,t=e-b+n*this.Tq*this.Vt,t=-this.Jg*t,z=this.Md,B=m*this.Wh;this.Md=Ka(this.Md+t,-B,B);var t=this.Md-z,b=b-k*t,e=e+l*t,O=this.la,ia=this.ea,t=pb(x(pb(d,ob(e,ia,u),u),pb(c,ob(b,O,db),db),eb),qb(n*this.Tq,this.qr,fb),V.prototype.R.em),t=Hb(this.Bj,t,V.prototype.R.fi).Pa(),z=V.prototype.R.gv.e(this.bd);this.bd.Qa(t);B=m*this.lf;this.bd.Ze()>B*
B&&(this.bd.ic(),this.bd.Ia(B));x(this.bd,z,t);c.mb(f,t);b-=k*w(O,t);d.wa(h,t);e+=l*w(ia,t);a.L[this.O].M=b;a.L[this.J].M=e};V.prototype.SolveVelocityConstraints=V.prototype.R;V.prototype.R.em=new r;V.prototype.R.fi=new r;V.prototype.R.gv=new r;V.prototype.qa=function(){return!0};V.prototype.SolvePositionConstraints=V.prototype.qa;V.prototype.Mb=function(){};V.prototype.Dump=V.prototype.Mb;function Nf(){this.type=5;this.target=new r}q(Nf,yf);p("box2d.b2MouseJointDef",Nf);Nf.prototype.target=null;Nf.prototype.target=Nf.prototype.target;Nf.prototype.di=0;Nf.prototype.maxForce=Nf.prototype.di;Nf.prototype.Jd=5;Nf.prototype.frequencyHz=Nf.prototype.Jd;Nf.prototype.wd=.7;Nf.prototype.dampingRatio=Nf.prototype.wd;
function M(a){J.call(this,a);this.ya=new r;this.Ji=new r;this.B=new r;this.ea=new r;this.Za=new r;this.da=new Gb;this.Fm=new r;this.bb=new Rb;this.Na=new r;this.Jb=new Gb;this.Ji.e(a.target);Yb(this.ia.Wb(),this.Ji,this.ya);this.lf=a.di;this.B.ba();this.lc=a.Jd;this.Nc=a.wd;this.Tb=this.Mq=0}q(M,J);p("box2d.b2MouseJoint",M);M.prototype.ya=null;M.prototype.m_localAnchorB=M.prototype.ya;M.prototype.Ji=null;M.prototype.m_targetA=M.prototype.Ji;M.prototype.lc=0;M.prototype.m_frequencyHz=M.prototype.lc;
M.prototype.Nc=0;M.prototype.m_dampingRatio=M.prototype.Nc;M.prototype.Mq=0;M.prototype.m_beta=M.prototype.Mq;M.prototype.B=null;M.prototype.m_impulse=M.prototype.B;M.prototype.lf=0;M.prototype.m_maxForce=M.prototype.lf;M.prototype.Tb=0;M.prototype.m_gamma=M.prototype.Tb;M.prototype.O=0;M.prototype.m_indexA=M.prototype.O;M.prototype.J=0;M.prototype.m_indexB=M.prototype.J;M.prototype.ea=null;M.prototype.m_rB=M.prototype.ea;M.prototype.Za=null;M.prototype.m_localCenterB=M.prototype.Za;
M.prototype.Ja=0;M.prototype.m_invMassB=M.prototype.Ja;M.prototype.Ha=0;M.prototype.m_invIB=M.prototype.Ha;M.prototype.da=null;M.prototype.m_mass=M.prototype.da;M.prototype.Fm=null;M.prototype.m_C=M.prototype.Fm;M.prototype.bb=null;M.prototype.m_qB=M.prototype.bb;M.prototype.Na=null;M.prototype.m_lalcB=M.prototype.Na;M.prototype.Jb=null;M.prototype.m_K=M.prototype.Jb;M.prototype.Sw=function(a){this.ia.uc||this.ia.Ra(!0);this.Ji.e(a)};M.prototype.SetTarget=M.prototype.Sw;M.prototype.iw=function(a){return a.e(this.Ji)};
M.prototype.GetTarget=M.prototype.iw;M.prototype.ko=function(a){this.lf=a};M.prototype.SetMaxForce=M.prototype.ko;M.prototype.Rn=function(){return this.lf};M.prototype.GetMaxForce=M.prototype.Rn;M.prototype.Rk=function(a){this.lc=a};M.prototype.SetFrequency=M.prototype.Rk;M.prototype.Nk=function(){return this.lc};M.prototype.GetFrequency=M.prototype.Nk;M.prototype.Pk=function(a){this.Nc=a};M.prototype.SetDampingRatio=M.prototype.Pk;M.prototype.Mk=function(){return this.Nc};
M.prototype.GetDampingRatio=M.prototype.Mk;
M.prototype.Xa=function(a){this.J=this.ia.Zb;this.Za.e(this.ia.P.hb);this.Ja=this.ia.zb;this.Ha=this.ia.cc;var c=a.ga[this.J].V,b=a.L[this.J].oa,d=a.L[this.J].M,e=this.bb.Ba(a.ga[this.J].o),f=this.ia.je(),h=2*fa*this.lc,k=f*h*h,l=a.step.Ib;this.Tb=l*(2*f*this.Nc*h+l*k);0!==this.Tb&&(this.Tb=1/this.Tb);this.Mq=l*k*this.Tb;x(this.ya,this.Za,this.Na);y(e,this.Na,this.ea);e=this.Jb;e.$.x=this.Ja+this.Ha*this.ea.y*this.ea.y+this.Tb;e.$.y=-this.Ha*this.ea.x*this.ea.y;e.ca.x=e.$.y;e.ca.y=this.Ja+this.Ha*
this.ea.x*this.ea.x+this.Tb;e.tm(this.da);this.Fm.x=c.x+this.ea.x-this.Ji.x;this.Fm.y=c.y+this.ea.y-this.Ji.y;this.Fm.Ia(this.Mq);d*=.98;a.step.Ge?(this.B.Ia(a.step.xd),b.x+=this.Ja*this.B.x,b.y+=this.Ja*this.B.y,d+=this.Ha*w(this.ea,this.B)):this.B.ba();a.L[this.J].M=d};M.prototype.InitVelocityConstraints=M.prototype.Xa;
M.prototype.R=function(a){var c=a.L[this.J].oa,b=a.L[this.J].M,d=ub(c,b,this.ea,M.prototype.R.em),d=Hb(this.da,pb(d,pb(this.Fm,qb(this.Tb,this.B,u),u),u).Pa(),M.prototype.R.fi),e=M.prototype.R.gv.e(this.B);this.B.Qa(d);var f=a.step.Ib*this.lf;this.B.Ze()>f*f&&this.B.Ia(f/this.B.qc());x(this.B,e,d);c.wa(this.Ja,d);b+=this.Ha*w(this.ea,d);a.L[this.J].M=b};M.prototype.SolveVelocityConstraints=M.prototype.R;M.prototype.R.em=new r;M.prototype.R.fi=new r;M.prototype.R.gv=new r;M.prototype.qa=function(){return!0};
M.prototype.SolvePositionConstraints=M.prototype.qa;M.prototype.$c=function(a){return a.e(this.Ji)};M.prototype.GetAnchorA=M.prototype.$c;M.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};M.prototype.GetAnchorB=M.prototype.Qc;M.prototype.gd=function(a,c){return qb(a,this.B,c)};M.prototype.GetReactionForce=M.prototype.gd;M.prototype.hd=function(){return 0};M.prototype.GetReactionTorque=M.prototype.hd;M.prototype.Mb=function(){};M.prototype.Dump=M.prototype.Mb;M.prototype.Zd=function(a){this.Ji.Ob(a)};
M.prototype.ShiftOrigin=M.prototype.Zd;function Of(){this.type=2;this.va=new r;this.Da=new r;this.Gg=new r(1,0)}q(Of,yf);p("box2d.b2PrismaticJointDef",Of);Of.prototype.va=null;Of.prototype.localAnchorA=Of.prototype.va;Of.prototype.Da=null;Of.prototype.localAnchorB=Of.prototype.Da;Of.prototype.Gg=null;Of.prototype.localAxisA=Of.prototype.Gg;Of.prototype.If=0;Of.prototype.referenceAngle=Of.prototype.If;Of.prototype.bf=!1;Of.prototype.enableLimit=Of.prototype.bf;Of.prototype.gl=0;Of.prototype.lowerTranslation=Of.prototype.gl;
Of.prototype.nm=0;Of.prototype.upperTranslation=Of.prototype.nm;Of.prototype.Id=!1;Of.prototype.enableMotor=Of.prototype.Id;Of.prototype.pn=0;Of.prototype.maxMotorForce=Of.prototype.pn;Of.prototype.se=0;Of.prototype.motorSpeed=Of.prototype.se;Of.prototype.S=function(a,c,b,d){this.Ma=a;this.Ga=c;this.Ma.Ke(b,this.va);this.Ga.Ke(b,this.Da);this.Ma.Wp(d,this.Gg);this.If=this.Ga.hc()-this.Ma.hc()};Of.prototype.Initialize=Of.prototype.S;
function N(a){J.call(this,a);this.Fa=a.va.za();this.ya=a.Da.za();this.kf=a.Gg.za().ig();this.Cj=ob(1,this.kf,new r);this.ee=a.If;this.B=new zb(0,0,0);this.Th=a.gl;this.ci=a.nm;this.No=a.pn;this.nd=a.se;this.xe=a.bf;this.md=a.Id;this.lb=new r;this.Za=new r;this.rc=new r(0,0);this.sh=new r(0,0);this.Jb=new Mb;this.Ut=new Mb;this.Tt=new Gb;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.la=new r;this.ea=new r}q(N,J);p("box2d.b2PrismaticJoint",N);N.prototype.Fa=null;
N.prototype.m_localAnchorA=N.prototype.Fa;N.prototype.ya=null;N.prototype.m_localAnchorB=N.prototype.ya;N.prototype.kf=null;N.prototype.m_localXAxisA=N.prototype.kf;N.prototype.Cj=null;N.prototype.m_localYAxisA=N.prototype.Cj;N.prototype.ee=0;N.prototype.m_referenceAngle=N.prototype.ee;N.prototype.B=null;N.prototype.m_impulse=N.prototype.B;N.prototype.Gb=0;N.prototype.m_motorImpulse=N.prototype.Gb;N.prototype.Th=0;N.prototype.m_lowerTranslation=N.prototype.Th;N.prototype.ci=0;
N.prototype.m_upperTranslation=N.prototype.ci;N.prototype.No=0;N.prototype.m_maxMotorForce=N.prototype.No;N.prototype.nd=0;N.prototype.m_motorSpeed=N.prototype.nd;N.prototype.xe=!1;N.prototype.m_enableLimit=N.prototype.xe;N.prototype.md=!1;N.prototype.m_enableMotor=N.prototype.md;N.prototype.Ac=0;N.prototype.m_limitState=N.prototype.Ac;N.prototype.O=0;N.prototype.m_indexA=N.prototype.O;N.prototype.J=0;N.prototype.m_indexB=N.prototype.J;N.prototype.lb=null;N.prototype.m_localCenterA=N.prototype.lb;
N.prototype.Za=null;N.prototype.m_localCenterB=N.prototype.Za;N.prototype.Ua=0;N.prototype.m_invMassA=N.prototype.Ua;N.prototype.Ja=0;N.prototype.m_invMassB=N.prototype.Ja;N.prototype.Sa=0;N.prototype.m_invIA=N.prototype.Sa;N.prototype.Ha=0;N.prototype.m_invIB=N.prototype.Ha;N.prototype.rc=null;N.prototype.m_axis=N.prototype.rc;N.prototype.sh=null;N.prototype.m_perp=N.prototype.sh;N.prototype.Gi=0;N.prototype.m_s1=N.prototype.Gi;N.prototype.Hi=0;N.prototype.m_s2=N.prototype.Hi;N.prototype.Hg=0;
N.prototype.m_a1=N.prototype.Hg;N.prototype.Ig=0;N.prototype.m_a2=N.prototype.Ig;N.prototype.Jb=null;N.prototype.m_K=N.prototype.Jb;N.prototype.Ut=null;N.prototype.m_K3=N.prototype.Ut;N.prototype.Tt=null;N.prototype.m_K2=N.prototype.Tt;N.prototype.zd=0;N.prototype.m_motorMass=N.prototype.zd;N.prototype.rb=null;N.prototype.m_qA=N.prototype.rb;N.prototype.bb=null;N.prototype.m_qB=N.prototype.bb;N.prototype.Ta=null;N.prototype.m_lalcA=N.prototype.Ta;N.prototype.Na=null;N.prototype.m_lalcB=N.prototype.Na;
N.prototype.la=null;N.prototype.m_rA=N.prototype.la;N.prototype.ea=null;N.prototype.m_rB=N.prototype.ea;
N.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].V,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].V,f=a.ga[this.J].o,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].o),f=this.bb.Ba(f);x(this.Fa,this.lb,this.Ta);var m=y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);var n=y(f,this.Na,this.ea),t=pb(x(e,c,u),x(n,m,db),N.prototype.Xa.qd),
c=this.Ua,e=this.Ja,f=this.Sa,z=this.Ha;y(l,this.kf,this.rc);this.Hg=w(pb(t,m,u),this.rc);this.Ig=w(n,this.rc);this.zd=c+e+f*this.Hg*this.Hg+z*this.Ig*this.Ig;0<this.zd&&(this.zd=1/this.zd);y(l,this.Cj,this.sh);this.Gi=w(pb(t,m,u),this.sh);this.Hi=w(n,this.sh);this.Jb.$.x=c+e+f*this.Gi*this.Gi+z*this.Hi*this.Hi;this.Jb.$.y=f*this.Gi+z*this.Hi;this.Jb.$.z=f*this.Gi*this.Hg+z*this.Hi*this.Ig;this.Jb.ca.x=this.Jb.$.y;this.Jb.ca.y=f+z;0===this.Jb.ca.y&&(this.Jb.ca.y=1);this.Jb.ca.z=f*this.Hg+z*this.Ig;
this.Jb.Va.x=this.Jb.$.z;this.Jb.Va.y=this.Jb.ca.z;this.Jb.Va.z=c+e+f*this.Hg*this.Hg+z*this.Ig*this.Ig;this.xe?(l=v(this.rc,t),.016>ra(this.ci-this.Th)?this.Ac=3:l<=this.Th?1!==this.Ac&&(this.Ac=1,this.B.z=0):l>=this.ci?2!==this.Ac&&(this.Ac=2,this.B.z=0):(this.Ac=0,this.B.z=0)):(this.Ac=0,this.B.z=0);this.md||(this.Gb=0);a.step.Ge?(this.B.aq(a.step.xd),this.Gb*=a.step.xd,l=pb(qb(this.B.x,this.sh,u),qb(this.Gb+this.B.z,this.rc,db),N.prototype.Xa.tb),m=this.B.x*this.Gi+this.B.y+(this.Gb+this.B.z)*
this.Hg,n=this.B.x*this.Hi+this.B.y+(this.Gb+this.B.z)*this.Ig,b.mb(c,l),d-=f*m,h.wa(e,l),k+=z*n):(this.B.ba(),this.Gb=0);a.L[this.O].M=d;a.L[this.J].M=k};N.prototype.InitVelocityConstraints=N.prototype.Xa;N.prototype.Xa.qd=new r;N.prototype.Xa.tb=new r;
N.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ja,k=this.Sa,l=this.Ha;if(this.md&&3!==this.Ac){var m=v(this.rc,x(d,c,u))+this.Ig*e-this.Hg*b,m=this.zd*(this.nd-m),n=this.Gb,t=a.step.Ib*this.No;this.Gb=Ka(this.Gb+m,-t,t);m=this.Gb-n;n=qb(m,this.rc,N.prototype.R.tb);t=m*this.Hg;m*=this.Ig;c.mb(f,n);b-=k*t;d.wa(h,n);e+=l*m}var t=v(this.sh,x(d,c,u))+this.Hi*e-this.Gi*b,z=e-b;this.xe&&0!==this.Ac?(m=v(this.rc,x(d,c,u))+this.Ig*e-this.Hg*
b,n=N.prototype.R.dC.e(this.B),m=this.Jb.po(-t,-z,-m,N.prototype.R.TB),this.B.Qa(m),1===this.Ac?this.B.z=Ja(this.B.z,0):2===this.Ac&&(this.B.z=Ia(this.B.z,0)),t=this.Jb.Rj(-t-(this.B.z-n.z)*this.Jb.Va.x,-z-(this.B.z-n.z)*this.Jb.Va.y,N.prototype.R.eC),t.x+=n.x,t.y+=n.y,this.B.x=t.x,this.B.y=t.y,m.x=this.B.x-n.x,m.y=this.B.y-n.y,m.z=this.B.z-n.z,n=pb(qb(m.x,this.sh,u),qb(m.z,this.rc,db),N.prototype.R.tb),t=m.x*this.Gi+m.y+m.z*this.Hg,m=m.x*this.Hi+m.y+m.z*this.Ig):(m=this.Jb.Rj(-t,-z,N.prototype.R.SB),
this.B.x+=m.x,this.B.y+=m.y,n=qb(m.x,this.sh,N.prototype.R.tb),t=m.x*this.Gi+m.y,m=m.x*this.Hi+m.y);c.mb(f,n);b-=k*t;d.wa(h,n);a.L[this.O].M=b;a.L[this.J].M=e+l*m};N.prototype.SolveVelocityConstraints=N.prototype.R;g=N.prototype;g.R.tb=new r;g.R.eC=new r;g.R.dC=new zb;g.R.TB=new zb;g.R.SB=new r;
g.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=this.rb.Ba(b),h=this.bb.Ba(e),k=this.Ua,l=this.Ja,m=this.Sa,n=this.Ha,t=y(f,this.Ta,this.la),z=y(h,this.Na,this.ea),B=x(pb(d,z,u),pb(c,t,db),N.prototype.qa.qd),O=y(f,this.kf,this.rc),ia=w(pb(B,t,u),O),h=w(z,O),f=y(f,this.Cj,this.sh),aa=w(pb(B,t,u),f),ua=w(z,f),Fa=N.prototype.qa.fi,na=v(f,B),lb=e-b-this.ee,t=ra(na),z=ra(lb),Ya=!1,Za=0;this.xe&&(B=v(O,B),.016>ra(this.ci-this.Th)?(Za=Ka(B,-.2,.2),t=Ja(t,ra(B)),
Ya=!0):B<=this.Th?(Za=Ka(B-this.Th+.008,-.2,0),t=Ja(t,this.Th-B),Ya=!0):B>=this.ci&&(Za=Ka(B-this.ci-.008,0,.2),t=Ja(t,B-this.ci),Ya=!0));if(Ya){var B=m*aa+n*ua,mb=m*aa*ia+n*ua*h,Ya=m+n;0===Ya&&(Ya=1);var Na=m*ia+n*h,Oa=k+l+m*ia*ia+n*h*h,Lb=this.Ut;Lb.$.h(k+l+m*aa*aa+n*ua*ua,B,mb);Lb.ca.h(B,Ya,Na);Lb.Va.h(mb,Na,Oa);Fa=Lb.po(-na,-lb,-Za,Fa)}else B=m*aa+n*ua,Ya=m+n,0===Ya&&(Ya=1),Za=this.Tt,Za.$.h(k+l+m*aa*aa+n*ua*ua,B),Za.ca.h(B,Ya),na=Za.gh(-na,-lb,N.prototype.qa.cv),Fa.x=na.x,Fa.y=na.y,Fa.z=0;O=
pb(qb(Fa.x,f,u),qb(Fa.z,O,db),N.prototype.qa.tb);ia=Fa.x*aa+Fa.y+Fa.z*ia;h=Fa.x*ua+Fa.y+Fa.z*h;c.mb(k,O);b-=m*ia;d.wa(l,O);a.ga[this.O].o=b;a.ga[this.J].o=e+n*h;return.008>=t&&z<=ga};N.prototype.SolvePositionConstraints=N.prototype.qa;g=N.prototype;g.qa.qd=new r;g.qa.fi=new zb;g.qa.cv=new r;g.qa.tb=new r;g.$c=function(a){return this.na.sb(this.Fa,a)};N.prototype.GetAnchorA=N.prototype.$c;N.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};N.prototype.GetAnchorB=N.prototype.Qc;
N.prototype.gd=function(a,c){return c.h(a*(this.B.x*this.sh.x+(this.Gb+this.B.z)*this.rc.x),a*(this.B.x*this.sh.y+(this.Gb+this.B.z)*this.rc.y))};N.prototype.GetReactionForce=N.prototype.gd;N.prototype.hd=function(a){return a*this.B.y};N.prototype.GetReactionTorque=N.prototype.hd;N.prototype.Cg=function(a){return a.e(this.Fa)};N.prototype.GetLocalAnchorA=N.prototype.Cg;N.prototype.Dg=function(a){return a.e(this.ya)};N.prototype.GetLocalAnchorB=N.prototype.Dg;N.prototype.Ms=function(a){return a.e(this.kf)};
N.prototype.GetLocalAxisA=N.prototype.Ms;N.prototype.Tn=function(){return this.ee};N.prototype.GetReferenceAngle=N.prototype.Tn;N.prototype.dh=function(){var a=this.na.sb(this.Fa,N.prototype.dh.hv),c=this.ia.sb(this.ya,N.prototype.dh.iv),a=x(c,a,N.prototype.dh.qd),c=this.na.$i(this.kf,N.prototype.dh.DB);return v(a,c)};N.prototype.GetJointTranslation=N.prototype.dh;g=N.prototype;g.dh.hv=new r;g.dh.iv=new r;g.dh.qd=new r;g.dh.DB=new r;
g.Pn=function(){var a=this.na,c=this.ia;x(this.Fa,a.P.hb,this.Ta);var b=y(a.La.ha,this.Ta,this.la);x(this.ya,c.P.hb,this.Na);var d=y(c.La.ha,this.Na,this.ea),e=pb(a.P.V,b,u),f=pb(c.P.V,d,db),e=x(f,e,eb),f=a.$i(this.kf,this.rc),h=a.fc,k=c.fc,a=a.ab,c=c.ab;return v(e,ob(a,f,u))+v(f,x(ub(k,c,d,u),ub(h,a,b,db),u))};N.prototype.GetJointSpeed=N.prototype.Pn;N.prototype.ft=function(){return this.xe};N.prototype.IsLimitEnabled=N.prototype.ft;
N.prototype.Kn=function(a){a!==this.xe&&(this.na.Ra(!0),this.ia.Ra(!0),this.xe=a,this.B.z=0)};N.prototype.EnableLimit=N.prototype.Kn;N.prototype.Ns=function(){return this.Th};N.prototype.GetLowerLimit=N.prototype.Ns;N.prototype.Ws=function(){return this.ci};N.prototype.GetUpperLimit=N.prototype.Ws;N.prototype.jo=function(a,c){if(a!==this.Th||c!==this.ci)this.na.Ra(!0),this.ia.Ra(!0),this.Th=a,this.ci=c,this.B.z=0};N.prototype.SetLimits=N.prototype.jo;N.prototype.Wn=function(){return this.md};
N.prototype.IsMotorEnabled=N.prototype.Wn;N.prototype.ji=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.md=a};N.prototype.EnableMotor=N.prototype.ji;N.prototype.$e=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.nd=a};N.prototype.SetMotorSpeed=N.prototype.$e;N.prototype.Sn=function(){return this.nd};N.prototype.GetMotorSpeed=N.prototype.Sn;N.prototype.LA=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.No=a};N.prototype.SetMaxMotorForce=N.prototype.LA;N.prototype.jz=function(){return this.No};
N.prototype.GetMaxMotorForce=N.prototype.jz;N.prototype.bw=function(a){return a*this.Gb};N.prototype.GetMotorForce=N.prototype.bw;N.prototype.Mb=function(){};N.prototype.Dump=N.prototype.Mb;p("box2d.b2_minPulleyLength",2);function Qf(){this.type=4;this.og=!0;this.Dq=new r(-1,1);this.Eq=new r(1,1);this.va=new r(-1,0);this.Da=new r(1,0)}q(Qf,yf);p("box2d.b2PulleyJointDef",Qf);Qf.prototype.Dq=null;Qf.prototype.groundAnchorA=Qf.prototype.Dq;Qf.prototype.Eq=null;Qf.prototype.groundAnchorB=Qf.prototype.Eq;Qf.prototype.va=null;Qf.prototype.localAnchorA=Qf.prototype.va;Qf.prototype.Da=null;Qf.prototype.localAnchorB=Qf.prototype.Da;Qf.prototype.Gq=0;Qf.prototype.lengthA=Qf.prototype.Gq;
Qf.prototype.Hq=0;Qf.prototype.lengthB=Qf.prototype.Hq;Qf.prototype.Lj=1;Qf.prototype.ratio=Qf.prototype.Lj;Qf.prototype.S=function(a,c,b,d,e,f,h){this.Ma=a;this.Ga=c;this.Dq.e(b);this.Eq.e(d);this.Ma.Ke(e,this.va);this.Ga.Ke(f,this.Da);this.Gq=xb(e,b);this.Hq=xb(f,d);this.Lj=h};Qf.prototype.Initialize=Qf.prototype.S;
function Q(a){J.call(this,a);this.hk=new r;this.ik=new r;this.Fa=new r;this.ya=new r;this.bi=new r;this.Vg=new r;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.hk.e(a.Dq);this.ik.e(a.Eq);this.Fa.e(a.va);this.ya.e(a.Da);this.vu=a.Gq;this.wu=a.Hq;this.Qb=a.Lj;this.nl=a.Gq+this.Qb*a.Hq;this.B=0}q(Q,J);p("box2d.b2PulleyJoint",Q);Q.prototype.hk=null;Q.prototype.m_groundAnchorA=Q.prototype.hk;Q.prototype.ik=null;
Q.prototype.m_groundAnchorB=Q.prototype.ik;Q.prototype.vu=0;Q.prototype.m_lengthA=Q.prototype.vu;Q.prototype.wu=0;Q.prototype.m_lengthB=Q.prototype.wu;Q.prototype.Fa=null;Q.prototype.m_localAnchorA=Q.prototype.Fa;Q.prototype.ya=null;Q.prototype.m_localAnchorB=Q.prototype.ya;Q.prototype.nl=0;Q.prototype.m_constant=Q.prototype.nl;Q.prototype.Qb=0;Q.prototype.m_ratio=Q.prototype.Qb;Q.prototype.B=0;Q.prototype.m_impulse=Q.prototype.B;Q.prototype.O=0;Q.prototype.m_indexA=Q.prototype.O;Q.prototype.J=0;
Q.prototype.m_indexB=Q.prototype.J;Q.prototype.bi=null;Q.prototype.m_uA=Q.prototype.bi;Q.prototype.Vg=null;Q.prototype.m_uB=Q.prototype.Vg;Q.prototype.la=null;Q.prototype.m_rA=Q.prototype.la;Q.prototype.ea=null;Q.prototype.m_rB=Q.prototype.ea;Q.prototype.lb=null;Q.prototype.m_localCenterA=Q.prototype.lb;Q.prototype.Za=null;Q.prototype.m_localCenterB=Q.prototype.Za;Q.prototype.Ua=0;Q.prototype.m_invMassA=Q.prototype.Ua;Q.prototype.Ja=0;Q.prototype.m_invMassB=Q.prototype.Ja;Q.prototype.Sa=0;
Q.prototype.m_invIA=Q.prototype.Sa;Q.prototype.Ha=0;Q.prototype.m_invIB=Q.prototype.Ha;Q.prototype.da=0;Q.prototype.m_mass=Q.prototype.da;Q.prototype.rb=null;Q.prototype.m_qA=Q.prototype.rb;Q.prototype.bb=null;Q.prototype.m_qB=Q.prototype.bb;Q.prototype.Ta=null;Q.prototype.m_lalcA=Q.prototype.Ta;Q.prototype.Na=null;Q.prototype.m_lalcB=Q.prototype.Na;
Q.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].V,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].V,f=a.ga[this.J].o,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].o),f=this.bb.Ba(f);x(this.Fa,this.lb,this.Ta);y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(f,this.Na,this.ea);this.bi.e(c).Qa(this.la).Ob(this.hk);this.Vg.e(e).Qa(this.ea).Ob(this.ik);
c=this.bi.qc();e=this.Vg.qc();.08<c?this.bi.Ia(1/c):this.bi.ba();.08<e?this.Vg.Ia(1/e):this.Vg.ba();c=w(this.la,this.bi);e=w(this.ea,this.Vg);this.da=this.Ua+this.Sa*c*c+this.Qb*this.Qb*(this.Ja+this.Ha*e*e);0<this.da&&(this.da=1/this.da);a.step.Ge?(this.B*=a.step.xd,c=qb(-this.B,this.bi,Q.prototype.Xa.pp),e=qb(-this.Qb*this.B,this.Vg,Q.prototype.Xa.qp),b.wa(this.Ua,c),d+=this.Sa*w(this.la,c),h.wa(this.Ja,e),k+=this.Ha*w(this.ea,e)):this.B=0;a.L[this.O].M=d;a.L[this.J].M=k};
Q.prototype.InitVelocityConstraints=Q.prototype.Xa;Q.prototype.Xa.pp=new r;Q.prototype.Xa.qp=new r;
Q.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=ub(c,b,this.la,Q.prototype.R.Cp),h=ub(d,e,this.ea,Q.prototype.R.Dp),h=-this.da*(-v(this.bi,f)-this.Qb*v(this.Vg,h));this.B+=h;f=qb(-h,this.bi,Q.prototype.R.pp);h=qb(-this.Qb*h,this.Vg,Q.prototype.R.qp);c.wa(this.Ua,f);b+=this.Sa*w(this.la,f);d.wa(this.Ja,h);e+=this.Ha*w(this.ea,h);a.L[this.O].M=b;a.L[this.J].M=e};Q.prototype.SolveVelocityConstraints=Q.prototype.R;g=Q.prototype;g.R.Cp=new r;g.R.Dp=new r;
g.R.pp=new r;g.R.qp=new r;
g.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=this.rb.Ba(b),h=this.bb.Ba(e);x(this.Fa,this.lb,this.Ta);f=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=y(h,this.Na,this.ea),k=this.bi.e(c).Qa(f).Ob(this.hk),l=this.Vg.e(d).Qa(h).Ob(this.ik),m=k.qc(),n=l.qc();.08<m?k.Ia(1/m):k.ba();.08<n?l.Ia(1/n):l.ba();var t=w(f,k),z=w(h,l),t=this.Ua+this.Sa*t*t+this.Qb*this.Qb*(this.Ja+this.Ha*z*z);0<t&&(t=1/t);n=this.nl-m-this.Qb*n;m=ra(n);n*=-t;k=qb(-n,k,Q.prototype.qa.pp);
l=qb(-this.Qb*n,l,Q.prototype.qa.qp);c.wa(this.Ua,k);b+=this.Sa*w(f,k);d.wa(this.Ja,l);e+=this.Ha*w(h,l);a.ga[this.O].o=b;a.ga[this.J].o=e;return.008>m};Q.prototype.SolvePositionConstraints=Q.prototype.qa;Q.prototype.qa.pp=new r;Q.prototype.qa.qp=new r;Q.prototype.$c=function(a){return this.na.sb(this.Fa,a)};Q.prototype.GetAnchorA=Q.prototype.$c;Q.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};Q.prototype.GetAnchorB=Q.prototype.Qc;
Q.prototype.gd=function(a,c){return c.h(a*this.B*this.Vg.x,a*this.B*this.Vg.y)};Q.prototype.GetReactionForce=Q.prototype.gd;Q.prototype.hd=function(){return 0};Q.prototype.GetReactionTorque=Q.prototype.hd;Q.prototype.Zv=function(a){return a.e(this.hk)};Q.prototype.GetGroundAnchorA=Q.prototype.Zv;Q.prototype.$v=function(a){return a.e(this.ik)};Q.prototype.GetGroundAnchorB=Q.prototype.$v;Q.prototype.Zy=function(){return this.vu};Q.prototype.GetLengthA=Q.prototype.Zy;Q.prototype.$y=function(){return this.wu};
Q.prototype.GetLengthB=Q.prototype.$y;Q.prototype.Ts=function(){return this.Qb};Q.prototype.GetRatio=Q.prototype.Ts;Q.prototype.Sp=function(){var a=this.na.sb(this.Fa,Q.prototype.Sp.Qi);return xb(a,this.hk)};Q.prototype.GetCurrentLengthA=Q.prototype.Sp;Q.prototype.Sp.Qi=new r;Q.prototype.Tp=function(){var a=this.ia.sb(this.ya,Q.prototype.Tp.Qi);return xb(a,this.ik)};Q.prototype.GetCurrentLengthB=Q.prototype.Tp;Q.prototype.Tp.Qi=new r;Q.prototype.Mb=function(){};Q.prototype.Dump=Q.prototype.Mb;
Q.prototype.Zd=function(a){this.hk.Ob(a);this.ik.Ob(a)};Q.prototype.ShiftOrigin=Q.prototype.Zd;function Pf(){this.type=1;this.va=new r(0,0);this.Da=new r(0,0)}q(Pf,yf);p("box2d.b2RevoluteJointDef",Pf);Pf.prototype.va=null;Pf.prototype.localAnchorA=Pf.prototype.va;Pf.prototype.Da=null;Pf.prototype.localAnchorB=Pf.prototype.Da;Pf.prototype.If=0;Pf.prototype.referenceAngle=Pf.prototype.If;Pf.prototype.bf=!1;Pf.prototype.enableLimit=Pf.prototype.bf;Pf.prototype.ve=0;Pf.prototype.lowerAngle=Pf.prototype.ve;Pf.prototype.Fe=0;Pf.prototype.upperAngle=Pf.prototype.Fe;Pf.prototype.Id=!1;
Pf.prototype.enableMotor=Pf.prototype.Id;Pf.prototype.se=0;Pf.prototype.motorSpeed=Pf.prototype.se;Pf.prototype.ag=0;Pf.prototype.maxMotorTorque=Pf.prototype.ag;Pf.prototype.S=function(a,c,b){this.Ma=a;this.Ga=c;this.Ma.Ke(b,this.va);this.Ga.Ke(b,this.Da);this.If=this.Ga.hc()-this.Ma.hc()};Pf.prototype.Initialize=Pf.prototype.S;
function P(a){J.call(this,a);this.Fa=new r;this.ya=new r;this.B=new zb;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.da=new Mb;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.Jb=new Gb;this.Fa.e(a.va);this.ya.e(a.Da);this.ee=a.If;this.B.ba();this.Gb=0;this.Dj=a.ve;this.xk=a.Fe;this.Vh=a.ag;this.nd=a.se;this.xe=a.bf;this.md=a.Id;this.Ac=0}q(P,J);p("box2d.b2RevoluteJoint",P);P.prototype.Fa=null;P.prototype.m_localAnchorA=P.prototype.Fa;P.prototype.ya=null;
P.prototype.m_localAnchorB=P.prototype.ya;P.prototype.B=null;P.prototype.m_impulse=P.prototype.B;P.prototype.Gb=0;P.prototype.m_motorImpulse=P.prototype.Gb;P.prototype.md=!1;P.prototype.m_enableMotor=P.prototype.md;P.prototype.Vh=0;P.prototype.m_maxMotorTorque=P.prototype.Vh;P.prototype.nd=0;P.prototype.m_motorSpeed=P.prototype.nd;P.prototype.xe=!1;P.prototype.m_enableLimit=P.prototype.xe;P.prototype.ee=0;P.prototype.m_referenceAngle=P.prototype.ee;P.prototype.Dj=0;P.prototype.m_lowerAngle=P.prototype.Dj;
P.prototype.xk=0;P.prototype.m_upperAngle=P.prototype.xk;P.prototype.O=0;P.prototype.m_indexA=P.prototype.O;P.prototype.J=0;P.prototype.m_indexB=P.prototype.J;P.prototype.la=null;P.prototype.m_rA=P.prototype.la;P.prototype.ea=null;P.prototype.m_rB=P.prototype.ea;P.prototype.lb=null;P.prototype.m_localCenterA=P.prototype.lb;P.prototype.Za=null;P.prototype.m_localCenterB=P.prototype.Za;P.prototype.Ua=0;P.prototype.m_invMassA=P.prototype.Ua;P.prototype.Ja=0;P.prototype.m_invMassB=P.prototype.Ja;
P.prototype.Sa=0;P.prototype.m_invIA=P.prototype.Sa;P.prototype.Ha=0;P.prototype.m_invIB=P.prototype.Ha;P.prototype.da=null;P.prototype.m_mass=P.prototype.da;P.prototype.zd=0;P.prototype.m_motorMass=P.prototype.zd;P.prototype.Ac=0;P.prototype.m_limitState=P.prototype.Ac;P.prototype.rb=null;P.prototype.m_qA=P.prototype.rb;P.prototype.bb=null;P.prototype.m_qB=P.prototype.bb;P.prototype.Ta=null;P.prototype.m_lalcA=P.prototype.Ta;P.prototype.Na=null;P.prototype.m_lalcB=P.prototype.Na;P.prototype.Jb=null;
P.prototype.m_K=P.prototype.Jb;
P.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].o,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].o,f=a.L[this.J].oa,h=a.L[this.J].M,k=this.rb.Ba(c),l=this.bb.Ba(e);x(this.Fa,this.lb,this.Ta);y(k,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(l,this.Na,this.ea);var k=this.Ua,l=this.Ja,m=this.Sa,n=this.Ha,t=0===m+n;this.da.$.x=k+l+this.la.y*this.la.y*
m+this.ea.y*this.ea.y*n;this.da.ca.x=-this.la.y*this.la.x*m-this.ea.y*this.ea.x*n;this.da.Va.x=-this.la.y*m-this.ea.y*n;this.da.$.y=this.da.ca.x;this.da.ca.y=k+l+this.la.x*this.la.x*m+this.ea.x*this.ea.x*n;this.da.Va.y=this.la.x*m+this.ea.x*n;this.da.$.z=this.da.Va.x;this.da.ca.z=this.da.Va.y;this.da.Va.z=m+n;this.zd=m+n;0<this.zd&&(this.zd=1/this.zd);if(!this.md||t)this.Gb=0;this.xe&&!t?(c=e-c-this.ee,ra(this.xk-this.Dj)<2*ga?this.Ac=3:c<=this.Dj?(1!==this.Ac&&(this.B.z=0),this.Ac=1):c>=this.xk?
(2!==this.Ac&&(this.B.z=0),this.Ac=2):(this.Ac=0,this.B.z=0)):this.Ac=0;a.step.Ge?(this.B.aq(a.step.xd),this.Gb*=a.step.xd,c=P.prototype.Xa.tb.h(this.B.x,this.B.y),b.mb(k,c),d-=m*(w(this.la,c)+this.Gb+this.B.z),f.wa(l,c),h+=n*(w(this.ea,c)+this.Gb+this.B.z)):(this.B.ba(),this.Gb=0);a.L[this.O].M=d;a.L[this.J].M=h};P.prototype.InitVelocityConstraints=P.prototype.Xa;P.prototype.Xa.tb=new r;
P.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ja,k=this.Sa,l=this.Ha,m=0===k+l;if(this.md&&3!==this.Ac&&!m){var n=e-b-this.nd,n=-this.zd*n,t=this.Gb,z=a.step.Ib*this.Vh;this.Gb=Ka(this.Gb+n,-z,z);n=this.Gb-t;b-=k*n;e+=l*n}this.xe&&0!==this.Ac&&!m?(m=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),P.prototype.R.Vr),n=this.da.po(m.x,m.y,e-b,P.prototype.R.jC).Pa(),3===this.Ac?this.B.Qa(n):1===this.Ac?(t=this.B.z+n.z,0>t?(t=-m.x+this.B.z*this.da.Va.x,
m=-m.y+this.B.z*this.da.Va.y,m=this.da.Rj(t,m,P.prototype.R.Ux),n.x=m.x,n.y=m.y,n.z=-this.B.z,this.B.x+=m.x,this.B.y+=m.y,this.B.z=0):this.B.Qa(n)):2===this.Ac&&(t=this.B.z+n.z,0<t?(t=-m.x+this.B.z*this.da.Va.x,m=-m.y+this.B.z*this.da.Va.y,m=this.da.Rj(t,m,P.prototype.R.Ux),n.x=m.x,n.y=m.y,n.z=-this.B.z,this.B.x+=m.x,this.B.y+=m.y,this.B.z=0):this.B.Qa(n)),m=P.prototype.R.tb.h(n.x,n.y),c.mb(f,m),b-=k*(w(this.la,m)+n.z),d.wa(h,m),e+=l*(w(this.ea,m)+n.z)):(n=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),P.prototype.R.em),
n=this.da.Rj(-n.x,-n.y,P.prototype.R.dv),this.B.x+=n.x,this.B.y+=n.y,c.mb(f,n),b-=k*w(this.la,n),d.wa(h,n),e+=l*w(this.ea,n));a.L[this.O].M=b;a.L[this.J].M=e};P.prototype.SolveVelocityConstraints=P.prototype.R;g=P.prototype;g.R.tb=new r;g.R.em=new r;g.R.Vr=new r;g.R.jC=new zb;g.R.Ux=new r;g.R.dv=new r;
g.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=this.rb.Ba(b),h=this.bb.Ba(e),k=0,l=0,l=0===this.Sa+this.Ha;if(this.xe&&0!==this.Ac&&!l){var m=e-b-this.ee,l=0;3===this.Ac?(m=Ka(m-this.Dj,-ha,ha),l=-this.zd*m,k=ra(m)):1===this.Ac?(m-=this.Dj,k=-m,m=Ka(m+ga,-ha,0),l=-this.zd*m):2===this.Ac&&(k=m-=this.xk,m=Ka(m-ga,0,ha),l=-this.zd*m);b-=this.Sa*l;e+=this.Ha*l}f.Ba(b);h.Ba(e);x(this.Fa,this.lb,this.Ta);f=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=
y(h,this.Na,this.ea),m=x(pb(d,h,u),pb(c,f,db),P.prototype.qa.uB),l=m.qc(),n=this.Ua,t=this.Ja,z=this.Sa,B=this.Ha,O=this.Jb;O.$.x=n+t+z*f.y*f.y+B*h.y*h.y;O.$.y=-z*f.x*f.y-B*h.x*h.y;O.ca.x=O.$.y;O.ca.y=n+t+z*f.x*f.x+B*h.x*h.x;m=O.gh(m.x,m.y,P.prototype.qa.fi).Pa();c.mb(n,m);b-=z*w(f,m);d.wa(t,m);e+=B*w(h,m);a.ga[this.O].o=b;a.ga[this.J].o=e;return.008>=l&&k<=ga};P.prototype.SolvePositionConstraints=P.prototype.qa;P.prototype.qa.uB=new r;P.prototype.qa.fi=new r;
P.prototype.$c=function(a){return this.na.sb(this.Fa,a)};P.prototype.GetAnchorA=P.prototype.$c;P.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};P.prototype.GetAnchorB=P.prototype.Qc;P.prototype.gd=function(a,c){return c.h(a*this.B.x,a*this.B.y)};P.prototype.GetReactionForce=P.prototype.gd;P.prototype.hd=function(a){return a*this.B.z};P.prototype.GetReactionTorque=P.prototype.hd;P.prototype.Cg=function(a){return a.e(this.Fa)};P.prototype.GetLocalAnchorA=P.prototype.Cg;P.prototype.Dg=function(a){return a.e(this.ya)};
P.prototype.GetLocalAnchorB=P.prototype.Dg;P.prototype.Tn=function(){return this.ee};P.prototype.GetReferenceAngle=P.prototype.Tn;P.prototype.On=function(){return this.ia.P.o-this.na.P.o-this.ee};P.prototype.GetJointAngle=P.prototype.On;P.prototype.Pn=function(){return this.ia.ab-this.na.ab};P.prototype.GetJointSpeed=P.prototype.Pn;P.prototype.Wn=function(){return this.md};P.prototype.IsMotorEnabled=P.prototype.Wn;P.prototype.ji=function(a){this.md!==a&&(this.na.Ra(!0),this.ia.Ra(!0),this.md=a)};
P.prototype.EnableMotor=P.prototype.ji;P.prototype.Yp=function(a){return a*this.Gb};P.prototype.GetMotorTorque=P.prototype.Yp;P.prototype.Sn=function(){return this.nd};P.prototype.GetMotorSpeed=P.prototype.Sn;P.prototype.xt=function(a){this.Vh=a};P.prototype.SetMaxMotorTorque=P.prototype.xt;P.prototype.Os=function(){return this.Vh};P.prototype.GetMaxMotorTorque=P.prototype.Os;P.prototype.ft=function(){return this.xe};P.prototype.IsLimitEnabled=P.prototype.ft;
P.prototype.Kn=function(a){a!==this.xe&&(this.na.Ra(!0),this.ia.Ra(!0),this.xe=a,this.B.z=0)};P.prototype.EnableLimit=P.prototype.Kn;P.prototype.Ns=function(){return this.Dj};P.prototype.GetLowerLimit=P.prototype.Ns;P.prototype.Ws=function(){return this.xk};P.prototype.GetUpperLimit=P.prototype.Ws;P.prototype.jo=function(a,c){if(a!==this.Dj||c!==this.xk)this.na.Ra(!0),this.ia.Ra(!0),this.B.z=0,this.Dj=a,this.xk=c};P.prototype.SetLimits=P.prototype.jo;
P.prototype.$e=function(a){this.nd!==a&&(this.na.Ra(!0),this.ia.Ra(!0),this.nd=a)};P.prototype.SetMotorSpeed=P.prototype.$e;P.prototype.Mb=function(){};P.prototype.Dump=P.prototype.Mb;function Rf(){this.type=6}q(Rf,yf);p("box2d.b2GearJointDef",Rf);Rf.prototype.el=null;Rf.prototype.joint1=Rf.prototype.el;Rf.prototype.fl=null;Rf.prototype.joint2=Rf.prototype.fl;Rf.prototype.Lj=1;Rf.prototype.ratio=Rf.prototype.Lj;
function R(a){J.call(this,a);this.yd=a.el;this.Ae=a.fl;this.Fa=new r;this.ya=new r;this.Tm=new r;this.Um=new r;this.nk=new r;this.ok=new r;this.lr=new r;this.mr=new r;this.nr=new r;this.or=new r;this.Nh=new r;this.wi=new r;this.rb=new Rb;this.bb=new Rb;this.Br=new Rb;this.Cr=new Rb;this.Ta=new r;this.Na=new r;this.Qm=new r;this.Rm=new r;this.ap=this.yd.Ic();this.bp=this.Ae.Ic();var c,b;this.$j=this.yd.na;this.na=this.yd.ia;c=this.na.La;var d=this.na.P.o;b=this.$j.La;var e=this.$j.P.o;1===this.ap?
(b=a.el,this.Tm.e(b.Fa),this.Fa.e(b.ya),this.Uo=b.ee,this.nk.ba(),c=d-e-this.Uo):(e=a.el,this.Tm.e(e.Fa),this.Fa.e(e.ya),this.Uo=e.ee,this.nk.e(e.kf),d=this.Tm,c=Ub(b.ha,pb(y(c.ha,this.Fa,u),x(c.sa,b.sa,db),u),u),c=v(x(c,d,u),this.nk));this.ak=this.Ae.na;this.ia=this.Ae.ia;b=this.ia.La;var e=this.ia.P.o,d=this.ak.La,f=this.ak.P.o;1===this.bp?(b=a.fl,this.Um.e(b.Fa),this.ya.e(b.ya),this.Vo=b.ee,this.ok.ba(),b=e-f-this.Vo):(e=a.fl,this.Um.e(e.Fa),this.ya.e(e.ya),this.Vo=e.ee,this.ok.e(e.kf),e=this.Um,
b=Ub(d.ha,pb(y(b.ha,this.ya,u),x(b.sa,d.sa,db),u),u),b=v(x(b,e,u),this.ok));this.Qb=a.Lj;this.nl=c+this.Qb*b;this.B=0}q(R,J);p("box2d.b2GearJoint",R);R.prototype.yd=null;R.prototype.m_joint1=R.prototype.yd;R.prototype.Ae=null;R.prototype.m_joint2=R.prototype.Ae;R.prototype.ap=0;R.prototype.m_typeA=R.prototype.ap;R.prototype.bp=0;R.prototype.m_typeB=R.prototype.bp;R.prototype.$j=null;R.prototype.m_bodyC=R.prototype.$j;R.prototype.ak=null;R.prototype.m_bodyD=R.prototype.ak;R.prototype.Fa=null;
R.prototype.m_localAnchorA=R.prototype.Fa;R.prototype.ya=null;R.prototype.m_localAnchorB=R.prototype.ya;R.prototype.Tm=null;R.prototype.m_localAnchorC=R.prototype.Tm;R.prototype.Um=null;R.prototype.m_localAnchorD=R.prototype.Um;R.prototype.nk=null;R.prototype.m_localAxisC=R.prototype.nk;R.prototype.ok=null;R.prototype.m_localAxisD=R.prototype.ok;R.prototype.Uo=0;R.prototype.m_referenceAngleA=R.prototype.Uo;R.prototype.Vo=0;R.prototype.m_referenceAngleB=R.prototype.Vo;R.prototype.nl=0;
R.prototype.m_constant=R.prototype.nl;R.prototype.Qb=0;R.prototype.m_ratio=R.prototype.Qb;R.prototype.B=0;R.prototype.m_impulse=R.prototype.B;R.prototype.O=0;R.prototype.m_indexA=R.prototype.O;R.prototype.J=0;R.prototype.m_indexB=R.prototype.J;R.prototype.qh=0;R.prototype.m_indexC=R.prototype.qh;R.prototype.rh=0;R.prototype.m_indexD=R.prototype.rh;R.prototype.lr=null;R.prototype.m_lcA=R.prototype.lr;R.prototype.mr=null;R.prototype.m_lcB=R.prototype.mr;R.prototype.nr=null;R.prototype.m_lcC=R.prototype.nr;
R.prototype.or=null;R.prototype.m_lcD=R.prototype.or;R.prototype.Bl=0;R.prototype.m_mA=R.prototype.Bl;R.prototype.Cl=0;R.prototype.m_mB=R.prototype.Cl;R.prototype.Dl=0;R.prototype.m_mC=R.prototype.Dl;R.prototype.El=0;R.prototype.m_mD=R.prototype.El;R.prototype.wj=0;R.prototype.m_iA=R.prototype.wj;R.prototype.xj=0;R.prototype.m_iB=R.prototype.xj;R.prototype.yj=0;R.prototype.m_iC=R.prototype.yj;R.prototype.zj=0;R.prototype.m_iD=R.prototype.zj;R.prototype.Nh=null;R.prototype.m_JvAC=R.prototype.Nh;
R.prototype.wi=null;R.prototype.m_JvBD=R.prototype.wi;R.prototype.lj=0;R.prototype.m_JwA=R.prototype.lj;R.prototype.Xj=0;R.prototype.m_JwB=R.prototype.Xj;R.prototype.Yj=0;R.prototype.m_JwC=R.prototype.Yj;R.prototype.Zj=0;R.prototype.m_JwD=R.prototype.Zj;R.prototype.da=0;R.prototype.m_mass=R.prototype.da;R.prototype.rb=null;R.prototype.m_qA=R.prototype.rb;R.prototype.bb=null;R.prototype.m_qB=R.prototype.bb;R.prototype.Br=null;R.prototype.m_qC=R.prototype.Br;R.prototype.Cr=null;R.prototype.m_qD=R.prototype.Cr;
R.prototype.Ta=null;R.prototype.m_lalcA=R.prototype.Ta;R.prototype.Na=null;R.prototype.m_lalcB=R.prototype.Na;R.prototype.Qm=null;R.prototype.m_lalcC=R.prototype.Qm;R.prototype.Rm=null;R.prototype.m_lalcD=R.prototype.Rm;g=R.prototype;
g.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.qh=this.$j.Zb;this.rh=this.ak.Zb;this.lr.e(this.na.P.hb);this.mr.e(this.ia.P.hb);this.nr.e(this.$j.P.hb);this.or.e(this.ak.P.hb);this.Bl=this.na.zb;this.Cl=this.ia.zb;this.Dl=this.$j.zb;this.El=this.ak.zb;this.wj=this.na.cc;this.xj=this.ia.cc;this.yj=this.$j.cc;this.zj=this.ak.cc;var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.ga[this.J].o,e=a.L[this.J].oa,f=a.L[this.J].M,h=a.ga[this.qh].o,k=a.L[this.qh].oa,l=a.L[this.qh].M,m=a.ga[this.rh].o,n=a.L[this.rh].oa,
t=a.L[this.rh].M,z=this.rb.Ba(a.ga[this.O].o),d=this.bb.Ba(d),B=this.Br.Ba(h),h=this.Cr.Ba(m);this.da=0;1===this.ap?(this.Nh.ba(),this.Yj=this.lj=1,this.da+=this.wj+this.yj):(m=y(B,this.nk,R.prototype.Xa.Ap),x(this.Tm,this.nr,this.Qm),B=y(B,this.Qm,R.prototype.Xa.lv),x(this.Fa,this.lr,this.Ta),z=y(z,this.Ta,R.prototype.Xa.hm),this.Nh.e(m),this.Yj=w(B,m),this.lj=w(z,m),this.da+=this.Dl+this.Bl+this.yj*this.Yj*this.Yj+this.wj*this.lj*this.lj);1===this.bp?(this.wi.ba(),this.Zj=this.Xj=this.Qb,this.da+=
this.Qb*this.Qb*(this.xj+this.zj)):(m=y(h,this.ok,R.prototype.Xa.Ap),x(this.Um,this.or,this.Rm),z=y(h,this.Rm,R.prototype.Xa.mv),x(this.ya,this.mr,this.Na),d=y(d,this.Na,R.prototype.Xa.im),qb(this.Qb,m,this.wi),this.Zj=this.Qb*w(z,m),this.Xj=this.Qb*w(d,m),this.da+=this.Qb*this.Qb*(this.El+this.Cl)+this.zj*this.Zj*this.Zj+this.xj*this.Xj*this.Xj);this.da=0<this.da?1/this.da:0;a.step.Ge?(c.wa(this.Bl*this.B,this.Nh),b+=this.wj*this.B*this.lj,e.wa(this.Cl*this.B,this.wi),f+=this.xj*this.B*this.Xj,k.mb(this.Dl*
this.B,this.Nh),l-=this.yj*this.B*this.Yj,n.mb(this.El*this.B,this.wi),t-=this.zj*this.B*this.Zj):this.B=0;a.L[this.O].M=b;a.L[this.J].M=f;a.L[this.qh].M=l;a.L[this.rh].M=t};g.Xa.Ap=new r;g.Xa.hm=new r;g.Xa.im=new r;g.Xa.lv=new r;g.Xa.mv=new r;
g.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=a.L[this.qh].oa,h=a.L[this.qh].M,k=a.L[this.rh].oa,l=a.L[this.rh].M,m=v(this.Nh,x(c,f,u))+v(this.wi,x(d,k,u)),m=m+(this.lj*b-this.Yj*h+(this.Xj*e-this.Zj*l)),m=-this.da*m;this.B+=m;c.wa(this.Bl*m,this.Nh);b+=this.wj*m*this.lj;d.wa(this.Cl*m,this.wi);e+=this.xj*m*this.Xj;f.mb(this.Dl*m,this.Nh);h-=this.yj*m*this.Yj;k.mb(this.El*m,this.wi);l-=this.zj*m*this.Zj;a.L[this.O].M=b;a.L[this.J].M=e;a.L[this.qh].M=h;a.L[this.rh].M=
l};
g.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=a.ga[this.qh].V,h=a.ga[this.qh].o,k=a.ga[this.rh].V,l=a.ga[this.rh].o,m=this.rb.Ba(b),n=this.bb.Ba(e),t=this.Br.Ba(h),z=this.Cr.Ba(l),B=this.Nh,O=this.wi,ia,aa,ua=0;if(1===this.ap)B.ba(),m=ia=1,ua+=this.wj+this.yj,t=b-h-this.Uo;else{aa=y(t,this.nk,R.prototype.qa.Ap);ia=y(t,this.Qm,R.prototype.qa.lv);var Fa=y(m,this.Ta,R.prototype.qa.hm);B.e(aa);m=w(ia,aa);ia=w(Fa,aa);ua+=this.Dl+this.Bl+this.yj*m*m+this.wj*ia*
ia;aa=this.Qm;t=Ub(t,pb(Fa,x(c,f,u),u),u);t=v(x(t,aa,u),this.nk)}if(1===this.bp)O.ba(),n=aa=this.Qb,ua+=this.Qb*this.Qb*(this.xj+this.zj),z=e-l-this.Vo;else{aa=y(z,this.ok,R.prototype.qa.Ap);var na=y(z,this.Rm,R.prototype.qa.mv),Fa=y(n,this.Na,R.prototype.qa.im);qb(this.Qb,aa,O);n=this.Qb*w(na,aa);aa=this.Qb*w(Fa,aa);ua+=this.Qb*this.Qb*(this.El+this.Cl)+this.zj*n*n+this.xj*aa*aa;na=this.Rm;z=Ub(z,pb(Fa,x(d,k,u),u),u);z=v(x(z,na,u),this.ok)}z=t+this.Qb*z-this.nl;t=0;0<ua&&(t=-z/ua);c.wa(this.Bl*t,
B);b+=this.wj*t*ia;d.wa(this.Cl*t,O);e+=this.xj*t*aa;f.mb(this.Dl*t,B);h-=this.yj*t*m;k.mb(this.El*t,O);l-=this.zj*t*n;a.ga[this.O].o=b;a.ga[this.J].o=e;a.ga[this.qh].o=h;a.ga[this.rh].o=l;return!0};R.prototype.SolvePositionConstraints=R.prototype.qa;g=R.prototype;g.qa.Ap=new r;g.qa.hm=new r;g.qa.im=new r;g.qa.lv=new r;g.qa.mv=new r;g.$c=function(a){return this.na.sb(this.Fa,a)};R.prototype.GetAnchorA=R.prototype.$c;R.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};R.prototype.GetAnchorB=R.prototype.Qc;
R.prototype.gd=function(a,c){return qb(a*this.B,this.Nh,c)};R.prototype.GetReactionForce=R.prototype.gd;R.prototype.hd=function(a){return a*this.B*this.lj};R.prototype.GetReactionTorque=R.prototype.hd;R.prototype.Vy=function(){return this.yd};R.prototype.GetJoint1=R.prototype.Vy;R.prototype.Wy=function(){return this.Ae};R.prototype.GetJoint2=R.prototype.Wy;R.prototype.Ts=function(){return this.Qb};R.prototype.GetRatio=R.prototype.Ts;R.prototype.RA=function(a){this.Qb=a};R.prototype.SetRatio=R.prototype.RA;
R.prototype.Mb=function(){};R.prototype.Dump=R.prototype.Mb;function Uf(){this.type=10;this.va=new r(-1,0);this.Da=new r(1,0)}q(Uf,yf);p("box2d.b2RopeJointDef",Uf);Uf.prototype.va=null;Uf.prototype.localAnchorA=Uf.prototype.va;Uf.prototype.Da=null;Uf.prototype.localAnchorB=Uf.prototype.Da;Uf.prototype.maxLength=0;Uf.prototype.maxLength=Uf.prototype.maxLength;
function U(a){J.call(this,a);this.Fa=a.va.za();this.ya=a.Da.za();this.pk=a.maxLength;this.Gc=new r;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r}q(U,J);p("box2d.b2RopeJoint",U);U.prototype.Fa=null;U.prototype.m_localAnchorA=U.prototype.Fa;U.prototype.ya=null;U.prototype.m_localAnchorB=U.prototype.ya;U.prototype.pk=0;U.prototype.m_maxLength=U.prototype.pk;U.prototype.Pg=0;U.prototype.m_length=U.prototype.Pg;U.prototype.B=0;
U.prototype.m_impulse=U.prototype.B;U.prototype.O=0;U.prototype.m_indexA=U.prototype.O;U.prototype.J=0;U.prototype.m_indexB=U.prototype.J;U.prototype.Gc=null;U.prototype.m_u=U.prototype.Gc;U.prototype.la=null;U.prototype.m_rA=U.prototype.la;U.prototype.ea=null;U.prototype.m_rB=U.prototype.ea;U.prototype.lb=null;U.prototype.m_localCenterA=U.prototype.lb;U.prototype.Za=null;U.prototype.m_localCenterB=U.prototype.Za;U.prototype.Ua=0;U.prototype.m_invMassA=U.prototype.Ua;U.prototype.Ja=0;
U.prototype.m_invMassB=U.prototype.Ja;U.prototype.Sa=0;U.prototype.m_invIA=U.prototype.Sa;U.prototype.Ha=0;U.prototype.m_invIB=U.prototype.Ha;U.prototype.da=0;U.prototype.m_mass=U.prototype.da;U.prototype.cn=0;U.prototype.m_state=U.prototype.cn;U.prototype.rb=null;U.prototype.m_qA=U.prototype.rb;U.prototype.bb=null;U.prototype.m_qB=U.prototype.bb;U.prototype.Ta=null;U.prototype.m_lalcA=U.prototype.Ta;U.prototype.Na=null;U.prototype.m_lalcB=U.prototype.Na;
U.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].V,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].V,f=a.ga[this.J].o,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].o),f=this.bb.Ba(f);x(this.Fa,this.lb,this.Ta);y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(f,this.Na,this.ea);this.Gc.e(e).Qa(this.ea).Ob(c).Ob(this.la);this.Pg=this.Gc.qc();
this.cn=0<this.Pg-this.pk?2:0;.008<this.Pg?(this.Gc.Ia(1/this.Pg),c=w(this.la,this.Gc),e=w(this.ea,this.Gc),c=this.Ua+this.Sa*c*c+this.Ja+this.Ha*e*e,this.da=0!==c?1/c:0,a.step.Ge?(this.B*=a.step.xd,c=qb(this.B,this.Gc,U.prototype.Xa.tb),b.mb(this.Ua,c),d-=this.Sa*w(this.la,c),h.wa(this.Ja,c),k+=this.Ha*w(this.ea,c)):this.B=0,a.L[this.O].M=d,a.L[this.J].M=k):(this.Gc.ba(),this.B=this.da=0)};U.prototype.InitVelocityConstraints=U.prototype.Xa;U.prototype.Xa.tb=new r;
U.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=ub(c,b,this.la,U.prototype.R.Cp),h=ub(d,e,this.ea,U.prototype.R.Dp),k=this.Pg-this.pk,f=v(this.Gc,x(h,f,u));0>k&&(f+=a.step.Uc*k);k=-this.da*f;f=this.B;this.B=Ia(0,this.B+k);k=this.B-f;k=qb(k,this.Gc,U.prototype.R.tb);c.mb(this.Ua,k);b-=this.Sa*w(this.la,k);d.wa(this.Ja,k);e+=this.Ha*w(this.ea,k);a.L[this.O].M=b;a.L[this.J].M=e};U.prototype.SolveVelocityConstraints=U.prototype.R;U.prototype.R.Cp=new r;
U.prototype.R.Dp=new r;U.prototype.R.tb=new r;U.prototype.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=this.rb.Ba(b),h=this.bb.Ba(e);x(this.Fa,this.lb,this.Ta);f=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=y(h,this.Na,this.ea),k=this.Gc.e(d).Qa(h).Ob(c).Ob(f),l=k.ic(),m=l-this.pk,m=Ka(m,0,.2),k=qb(-this.da*m,k,U.prototype.qa.tb);c.mb(this.Ua,k);b-=this.Sa*w(f,k);d.wa(this.Ja,k);e+=this.Ha*w(h,k);a.ga[this.O].o=b;a.ga[this.J].o=e;return.008>l-this.pk};
U.prototype.SolvePositionConstraints=U.prototype.qa;U.prototype.qa.tb=new r;U.prototype.$c=function(a){return this.na.sb(this.Fa,a)};U.prototype.GetAnchorA=U.prototype.$c;U.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};U.prototype.GetAnchorB=U.prototype.Qc;U.prototype.gd=function(a,c){return qb(a*this.B,this.Gc,c)};U.prototype.GetReactionForce=U.prototype.gd;U.prototype.hd=function(){return 0};U.prototype.GetReactionTorque=U.prototype.hd;U.prototype.Cg=function(a){return a.e(this.Fa)};
U.prototype.GetLocalAnchorA=U.prototype.Cg;U.prototype.Dg=function(a){return a.e(this.ya)};U.prototype.GetLocalAnchorB=U.prototype.Dg;U.prototype.KA=function(a){this.pk=a};U.prototype.SetMaxLength=U.prototype.KA;U.prototype.iz=function(){return this.pk};U.prototype.GetMaxLength=U.prototype.iz;U.prototype.az=function(){return this.cn};U.prototype.GetLimitState=U.prototype.az;U.prototype.Mb=function(){};U.prototype.Dump=U.prototype.Mb;function Tf(){this.type=8;this.va=new r;this.Da=new r}q(Tf,yf);p("box2d.b2WeldJointDef",Tf);Tf.prototype.va=null;Tf.prototype.localAnchorA=Tf.prototype.va;Tf.prototype.Da=null;Tf.prototype.localAnchorB=Tf.prototype.Da;Tf.prototype.If=0;Tf.prototype.referenceAngle=Tf.prototype.If;Tf.prototype.Jd=0;Tf.prototype.frequencyHz=Tf.prototype.Jd;Tf.prototype.wd=0;Tf.prototype.dampingRatio=Tf.prototype.wd;
Tf.prototype.S=function(a,c,b){this.Ma=a;this.Ga=c;this.Ma.Ke(b,this.va);this.Ga.Ke(b,this.Da);this.If=this.Ga.hc()-this.Ma.hc()};Tf.prototype.Initialize=Tf.prototype.S;function T(a){J.call(this,a);this.lc=a.Jd;this.Nc=a.wd;this.Fa=a.va.za();this.ya=a.Da.za();this.ee=a.If;this.B=new zb(0,0,0);this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.da=new Mb;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.Jb=new Mb}q(T,J);p("box2d.b2WeldJoint",T);T.prototype.lc=0;
T.prototype.m_frequencyHz=T.prototype.lc;T.prototype.Nc=0;T.prototype.m_dampingRatio=T.prototype.Nc;T.prototype.rg=0;T.prototype.m_bias=T.prototype.rg;T.prototype.Fa=null;T.prototype.m_localAnchorA=T.prototype.Fa;T.prototype.ya=null;T.prototype.m_localAnchorB=T.prototype.ya;T.prototype.ee=0;T.prototype.m_referenceAngle=T.prototype.ee;T.prototype.Tb=0;T.prototype.m_gamma=T.prototype.Tb;T.prototype.B=null;T.prototype.m_impulse=T.prototype.B;T.prototype.O=0;T.prototype.m_indexA=T.prototype.O;
T.prototype.J=0;T.prototype.m_indexB=T.prototype.J;T.prototype.la=null;T.prototype.m_rA=T.prototype.la;T.prototype.ea=null;T.prototype.m_rB=T.prototype.ea;T.prototype.lb=null;T.prototype.m_localCenterA=T.prototype.lb;T.prototype.Za=null;T.prototype.m_localCenterB=T.prototype.Za;T.prototype.Ua=0;T.prototype.m_invMassA=T.prototype.Ua;T.prototype.Ja=0;T.prototype.m_invMassB=T.prototype.Ja;T.prototype.Sa=0;T.prototype.m_invIA=T.prototype.Sa;T.prototype.Ha=0;T.prototype.m_invIB=T.prototype.Ha;
T.prototype.da=null;T.prototype.m_mass=T.prototype.da;T.prototype.rb=null;T.prototype.m_qA=T.prototype.rb;T.prototype.bb=null;T.prototype.m_qB=T.prototype.bb;T.prototype.Ta=null;T.prototype.m_lalcA=T.prototype.Ta;T.prototype.Na=null;T.prototype.m_lalcB=T.prototype.Na;T.prototype.Jb=null;T.prototype.m_K=T.prototype.Jb;
T.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].o,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].o,f=a.L[this.J].oa,h=a.L[this.J].M,k=this.rb.Ba(c),l=this.bb.Ba(e);x(this.Fa,this.lb,this.Ta);y(k,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(l,this.Na,this.ea);var k=this.Ua,l=this.Ja,m=this.Sa,n=this.Ha,t=this.Jb;t.$.x=k+l+this.la.y*this.la.y*
m+this.ea.y*this.ea.y*n;t.ca.x=-this.la.y*this.la.x*m-this.ea.y*this.ea.x*n;t.Va.x=-this.la.y*m-this.ea.y*n;t.$.y=t.ca.x;t.ca.y=k+l+this.la.x*this.la.x*m+this.ea.x*this.ea.x*n;t.Va.y=this.la.x*m+this.ea.x*n;t.$.z=t.Va.x;t.ca.z=t.Va.y;t.Va.z=m+n;if(0<this.lc){t.Ks(this.da);var t=m+n,z=0<t?1/t:0,c=e-c-this.ee,e=2*fa*this.lc,B=z*e*e,O=a.step.Ib;this.Tb=O*(2*z*this.Nc*e+O*B);this.Tb=0!==this.Tb?1/this.Tb:0;this.rg=c*O*B*this.Tb;t+=this.Tb;this.da.Va.z=0!==t?1/t:0}else 0===t.Va.z?t.Ks(this.da):t.hw(this.da),
this.rg=this.Tb=0;a.step.Ge?(this.B.aq(a.step.xd),t=T.prototype.Xa.tb.h(this.B.x,this.B.y),b.mb(k,t),d-=m*(w(this.la,t)+this.B.z),f.wa(l,t),h+=n*(w(this.ea,t)+this.B.z)):this.B.ba();a.L[this.O].M=d;a.L[this.J].M=h};T.prototype.Xa.tb=new r;
T.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ja,k=this.Sa,l=this.Ha;if(0<this.lc){var m=-this.da.Va.z*(e-b+this.rg+this.Tb*this.B.z);this.B.z+=m;b-=k*m;e+=l*m;m=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),T.prototype.R.Vr);m=Qb(this.da,m.x,m.y,T.prototype.R.cv).Pa();this.B.x+=m.x;this.B.y+=m.y;c.mb(f,m);b-=k*w(this.la,m);d.wa(h,m);e+=l*w(this.ea,m)}else{var m=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),T.prototype.R.Vr),n=Ob(this.da,m.x,m.y,
e-b,T.prototype.R.fi).Pa();this.B.Qa(n);m=T.prototype.R.tb.h(n.x,n.y);c.mb(f,m);b-=k*(w(this.la,m)+n.z);d.wa(h,m);e+=l*(w(this.ea,m)+n.z)}a.L[this.O].M=b;a.L[this.J].M=e};T.prototype.SolveVelocityConstraints=T.prototype.R;g=T.prototype;g.R.Vr=new r;g.R.cv=new r;g.R.fi=new zb;g.R.tb=new r;
g.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=this.rb.Ba(b),h=this.bb.Ba(e),k=this.Ua,l=this.Ja,m=this.Sa,n=this.Ha;x(this.Fa,this.lb,this.Ta);var t=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var z=y(h,this.Na,this.ea),B=this.Jb;B.$.x=k+l+t.y*t.y*m+z.y*z.y*n;B.ca.x=-t.y*t.x*m-z.y*z.x*n;B.Va.x=-t.y*m-z.y*n;B.$.y=B.ca.x;B.ca.y=k+l+t.x*t.x*m+z.x*z.x*n;B.Va.y=t.x*m+z.x*n;B.$.z=B.Va.x;B.ca.z=B.Va.y;B.Va.z=m+n;if(0<this.lc){var O=x(pb(d,z,u),pb(c,t,db),
T.prototype.qa.Qx),h=O.qc(),f=0,B=B.Rj(O.x,O.y,T.prototype.qa.tb).Pa();c.mb(k,B);b-=m*w(t,B);d.wa(l,B);e+=n*w(z,B)}else O=x(pb(d,z,u),pb(c,t,db),T.prototype.qa.Qx),z=e-b-this.ee,h=O.qc(),f=ra(z),t=T.prototype.qa.fi,0<B.Va.z?B.po(O.x,O.y,z,t).Pa():(B=B.Rj(O.x,O.y,T.prototype.qa.dv).Pa(),t.x=B.x,t.y=B.y,t.z=0),B=T.prototype.qa.tb.h(t.x,t.y),c.mb(k,B),b-=m*(w(this.la,B)+t.z),d.wa(l,B),e+=n*(w(this.ea,B)+t.z);a.ga[this.O].o=b;a.ga[this.J].o=e;return.008>=h&&f<=ga};
T.prototype.SolvePositionConstraints=T.prototype.qa;g=T.prototype;g.qa.Qx=new r;g.qa.tb=new r;g.qa.fi=new zb;g.qa.dv=new r;g.$c=function(a){return this.na.sb(this.Fa,a)};T.prototype.GetAnchorA=T.prototype.$c;T.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};T.prototype.GetAnchorB=T.prototype.Qc;T.prototype.gd=function(a,c){return c.h(a*this.B.x,a*this.B.y)};T.prototype.GetReactionForce=T.prototype.gd;T.prototype.hd=function(a){return a*this.B.z};T.prototype.GetReactionTorque=T.prototype.hd;
T.prototype.Cg=function(a){return a.e(this.Fa)};T.prototype.GetLocalAnchorA=T.prototype.Cg;T.prototype.Dg=function(a){return a.e(this.ya)};T.prototype.GetLocalAnchorB=T.prototype.Dg;T.prototype.Tn=function(){return this.ee};T.prototype.GetReferenceAngle=T.prototype.Tn;T.prototype.Rk=function(a){this.lc=a};T.prototype.Nk=function(){return this.lc};T.prototype.GetFrequency=T.prototype.Nk;T.prototype.Pk=function(a){this.Nc=a};T.prototype.Mk=function(){return this.Nc};T.prototype.GetDampingRatio=T.prototype.Mk;
T.prototype.Mb=function(){};T.prototype.Dump=T.prototype.Mb;function Sf(){this.type=7;this.va=new r(0,0);this.Da=new r(0,0);this.Gg=new r(1,0)}q(Sf,yf);p("box2d.b2WheelJointDef",Sf);Sf.prototype.va=null;Sf.prototype.localAnchorA=Sf.prototype.va;Sf.prototype.Da=null;Sf.prototype.localAnchorB=Sf.prototype.Da;Sf.prototype.Gg=null;Sf.prototype.localAxisA=Sf.prototype.Gg;Sf.prototype.Id=!1;Sf.prototype.enableMotor=Sf.prototype.Id;Sf.prototype.ag=0;Sf.prototype.maxMotorTorque=Sf.prototype.ag;Sf.prototype.se=0;Sf.prototype.motorSpeed=Sf.prototype.se;
Sf.prototype.Jd=2;Sf.prototype.frequencyHz=Sf.prototype.Jd;Sf.prototype.wd=.7;Sf.prototype.dampingRatio=Sf.prototype.wd;Sf.prototype.S=function(a,c,b,d){this.Ma=a;this.Ga=c;this.Ma.Ke(b,this.va);this.Ga.Ke(b,this.Da);this.Ma.Wp(d,this.Gg)};Sf.prototype.Initialize=Sf.prototype.S;
function S(a){J.call(this,a);this.lc=a.Jd;this.Nc=a.wd;this.Fa=a.va.za();this.ya=a.Da.za();this.kf=a.Gg.za();this.Cj=ob(1,this.kf,new r);this.Vh=a.ag;this.nd=a.se;this.md=a.Id;this.lb=new r;this.Za=new r;this.lh=new r;this.Kg=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.la=new r;this.ea=new r;this.lh.ba();this.Kg.ba()}q(S,J);p("box2d.b2WheelJoint",S);S.prototype.lc=0;S.prototype.m_frequencyHz=S.prototype.lc;S.prototype.Nc=0;S.prototype.m_dampingRatio=S.prototype.Nc;
S.prototype.Fa=null;S.prototype.m_localAnchorA=S.prototype.Fa;S.prototype.ya=null;S.prototype.m_localAnchorB=S.prototype.ya;S.prototype.kf=null;S.prototype.m_localXAxisA=S.prototype.kf;S.prototype.Cj=null;S.prototype.m_localYAxisA=S.prototype.Cj;S.prototype.B=0;S.prototype.m_impulse=S.prototype.B;S.prototype.Gb=0;S.prototype.m_motorImpulse=S.prototype.Gb;S.prototype.Sg=0;S.prototype.m_springImpulse=S.prototype.Sg;S.prototype.Vh=0;S.prototype.m_maxMotorTorque=S.prototype.Vh;S.prototype.nd=0;
S.prototype.m_motorSpeed=S.prototype.nd;S.prototype.md=!1;S.prototype.m_enableMotor=S.prototype.md;S.prototype.O=0;S.prototype.m_indexA=S.prototype.O;S.prototype.J=0;S.prototype.m_indexB=S.prototype.J;S.prototype.lb=null;S.prototype.m_localCenterA=S.prototype.lb;S.prototype.Za=null;S.prototype.m_localCenterB=S.prototype.Za;S.prototype.Ua=0;S.prototype.m_invMassA=S.prototype.Ua;S.prototype.Ja=0;S.prototype.m_invMassB=S.prototype.Ja;S.prototype.Sa=0;S.prototype.m_invIA=S.prototype.Sa;
S.prototype.Ha=0;S.prototype.m_invIB=S.prototype.Ha;S.prototype.lh=null;S.prototype.m_ax=S.prototype.lh;S.prototype.Kg=null;S.prototype.m_ay=S.prototype.Kg;S.prototype.Ol=0;S.prototype.m_sAx=S.prototype.Ol;S.prototype.Pl=0;S.prototype.m_sBx=S.prototype.Pl;S.prototype.Hj=0;S.prototype.m_sAy=S.prototype.Hj;S.prototype.Ij=0;S.prototype.m_sBy=S.prototype.Ij;S.prototype.da=0;S.prototype.m_mass=S.prototype.da;S.prototype.zd=0;S.prototype.m_motorMass=S.prototype.zd;S.prototype.Ii=0;
S.prototype.m_springMass=S.prototype.Ii;S.prototype.rg=0;S.prototype.m_bias=S.prototype.rg;S.prototype.Tb=0;S.prototype.m_gamma=S.prototype.Tb;S.prototype.rb=null;S.prototype.m_qA=S.prototype.rb;S.prototype.bb=null;S.prototype.m_qB=S.prototype.bb;S.prototype.Ta=null;S.prototype.m_lalcA=S.prototype.Ta;S.prototype.Na=null;S.prototype.m_lalcB=S.prototype.Na;S.prototype.la=null;S.prototype.m_rA=S.prototype.la;S.prototype.ea=null;S.prototype.m_rB=S.prototype.ea;S.prototype.Sn=function(){return this.nd};
S.prototype.GetMotorSpeed=S.prototype.Sn;S.prototype.Os=function(){return this.Vh};S.prototype.GetMaxMotorTorque=S.prototype.Os;S.prototype.mo=function(a){this.lc=a};S.prototype.SetSpringFrequencyHz=S.prototype.mo;S.prototype.Az=function(){return this.lc};S.prototype.GetSpringFrequencyHz=S.prototype.Az;S.prototype.TA=function(a){this.Nc=a};S.prototype.SetSpringDampingRatio=S.prototype.TA;S.prototype.zz=function(){return this.Nc};S.prototype.GetSpringDampingRatio=S.prototype.zz;
S.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ja=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=this.Ua,b=this.Ja,d=this.Sa,e=this.Ha,f=a.ga[this.O].V,h=a.L[this.O].oa,k=a.L[this.O].M,l=a.ga[this.J].V,m=a.ga[this.J].o,n=a.L[this.J].oa,t=a.L[this.J].M,z=this.rb.Ba(a.ga[this.O].o),B=this.bb.Ba(m);x(this.Fa,this.lb,this.Ta);m=y(z,this.Ta,this.la);x(this.ya,this.Za,this.Na);B=y(B,this.Na,this.ea);f=x(pb(l,
B,u),pb(f,m,db),S.prototype.Xa.qd);y(z,this.Cj,this.Kg);this.Hj=w(pb(f,m,u),this.Kg);this.Ij=w(B,this.Kg);this.da=c+b+d*this.Hj*this.Hj+e*this.Ij*this.Ij;0<this.da&&(this.da=1/this.da);this.Tb=this.rg=this.Ii=0;0<this.lc?(y(z,this.kf,this.lh),this.Ol=w(pb(f,m,u),this.lh),this.Pl=w(B,this.lh),c=c+b+d*this.Ol*this.Ol+e*this.Pl*this.Pl,0<c&&(this.Ii=1/c,b=v(f,this.lh),z=2*fa*this.lc,f=this.Ii*z*z,l=a.step.Ib,this.Tb=l*(2*this.Ii*this.Nc*z+l*f),0<this.Tb&&(this.Tb=1/this.Tb),this.rg=b*l*f*this.Tb,this.Ii=
c+this.Tb,0<this.Ii&&(this.Ii=1/this.Ii))):this.Sg=0;this.md?(this.zd=d+e,0<this.zd&&(this.zd=1/this.zd)):this.Gb=this.zd=0;a.step.Ge?(this.B*=a.step.xd,this.Sg*=a.step.xd,this.Gb*=a.step.xd,d=pb(qb(this.B,this.Kg,u),qb(this.Sg,this.lh,db),S.prototype.Xa.tb),e=this.B*this.Hj+this.Sg*this.Ol+this.Gb,c=this.B*this.Ij+this.Sg*this.Pl+this.Gb,h.mb(this.Ua,d),k-=this.Sa*e,n.wa(this.Ja,d),t+=this.Ha*c):this.Gb=this.Sg=this.B=0;a.L[this.O].M=k;a.L[this.J].M=t};S.prototype.InitVelocityConstraints=S.prototype.Xa;
S.prototype.Xa.qd=new r;S.prototype.Xa.tb=new r;
S.prototype.R=function(a){var c=this.Ua,b=this.Ja,d=this.Sa,e=this.Ha,f=a.L[this.O].oa,h=a.L[this.O].M,k=a.L[this.J].oa,l=a.L[this.J].M,m=v(this.lh,x(k,f,u))+this.Pl*l-this.Ol*h,m=-this.Ii*(m+this.rg+this.Tb*this.Sg);this.Sg+=m;var n=qb(m,this.lh,S.prototype.R.tb),t=m*this.Ol,m=m*this.Pl;f.mb(c,n);h-=d*t;k.wa(b,n);l+=e*m;m=l-h-this.nd;m*=-this.zd;n=this.Gb;t=a.step.Ib*this.Vh;this.Gb=Ka(this.Gb+m,-t,t);m=this.Gb-n;h-=d*m;l+=e*m;m=v(this.Kg,x(k,f,u))+this.Ij*l-this.Hj*h;m*=-this.da;this.B+=m;n=qb(m,
this.Kg,S.prototype.R.tb);t=m*this.Hj;m*=this.Ij;f.mb(c,n);h-=d*t;k.wa(b,n);a.L[this.O].M=h;a.L[this.J].M=l+e*m};S.prototype.SolveVelocityConstraints=S.prototype.R;S.prototype.R.tb=new r;
S.prototype.qa=function(a){var c=a.ga[this.O].V,b=a.ga[this.O].o,d=a.ga[this.J].V,e=a.ga[this.J].o,f=this.rb.Ba(b),h=this.bb.Ba(e);x(this.Fa,this.lb,this.Ta);var k=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=y(h,this.Na,this.ea),l=pb(x(d,c,u),x(h,k,db),S.prototype.qa.qd),f=y(f,this.Cj,this.Kg),k=w(pb(l,k,u),f),h=w(h,f),l=v(l,this.Kg),m=this.Ua+this.Ja+this.Sa*this.Hj*this.Hj+this.Ha*this.Ij*this.Ij,m=0!==m?-l/m:0,f=qb(m,f,S.prototype.qa.tb),k=m*k,h=m*h;c.mb(this.Ua,f);b-=this.Sa*k;d.wa(this.Ja,
f);e+=this.Ha*h;a.ga[this.O].o=b;a.ga[this.J].o=e;return.008>=ra(l)};S.prototype.SolvePositionConstraints=S.prototype.qa;S.prototype.qa.qd=new r;S.prototype.qa.tb=new r;S.prototype.Ds=function(a){return a};S.prototype.GetDefinition=S.prototype.Ds;S.prototype.$c=function(a){return this.na.sb(this.Fa,a)};S.prototype.GetAnchorA=S.prototype.$c;S.prototype.Qc=function(a){return this.ia.sb(this.ya,a)};S.prototype.GetAnchorB=S.prototype.Qc;
S.prototype.gd=function(a,c){c.x=a*(this.B*this.Kg.x+this.Sg*this.lh.x);c.y=a*(this.B*this.Kg.y+this.Sg*this.lh.y);return c};S.prototype.GetReactionForce=S.prototype.gd;S.prototype.hd=function(a){return a*this.Gb};S.prototype.GetReactionTorque=S.prototype.hd;S.prototype.Cg=function(a){return a.e(this.Fa)};S.prototype.GetLocalAnchorA=S.prototype.Cg;S.prototype.Dg=function(a){return a.e(this.ya)};S.prototype.GetLocalAnchorB=S.prototype.Dg;S.prototype.Ms=function(a){return a.e(this.kf)};
S.prototype.GetLocalAxisA=S.prototype.Ms;S.prototype.dh=function(){var a=this.na,c=this.ia,b=a.sb(this.Fa,new r),c=c.sb(this.ya,new r),b=x(c,b,new r),a=a.$i(this.kf,new r);return v(b,a)};S.prototype.GetJointTranslation=S.prototype.dh;S.prototype.Pn=function(){return this.ia.ab-this.na.ab};S.prototype.GetJointSpeed=S.prototype.Pn;S.prototype.Wn=function(){return this.md};S.prototype.IsMotorEnabled=S.prototype.Wn;S.prototype.ji=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.md=a};
S.prototype.EnableMotor=S.prototype.ji;S.prototype.$e=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.nd=a};S.prototype.SetMotorSpeed=S.prototype.$e;S.prototype.xt=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.Vh=a};S.prototype.SetMaxMotorTorque=S.prototype.xt;S.prototype.Yp=function(a){return a*this.Gb};S.prototype.GetMotorTorque=S.prototype.Yp;S.prototype.Mb=function(){};S.prototype.Dump=S.prototype.Mb;var Xf={TD:0,UD:2,SD:4,MD:8,vD:16,RD:32,GD:64,PD:128,sD:256,tD:512,qD:1024,OD:2048,HD:4096,JD:8192,xD:16384,BD:32768,wD:65536,AD:131072};p("box2d.b2ParticleFlag",Xf);Xf.b2_waterParticle=0;Xf.b2_zombieParticle=2;Xf.b2_wallParticle=4;Xf.b2_springParticle=8;Xf.b2_elasticParticle=16;Xf.b2_viscousParticle=32;Xf.b2_powderParticle=64;Xf.b2_tensileParticle=128;Xf.b2_colorMixingParticle=256;Xf.b2_destructionListenerParticle=512;Xf.b2_barrierParticle=1024;Xf.b2_staticPressureParticle=2048;
Xf.b2_reactiveParticle=4096;Xf.b2_repulsiveParticle=8192;Xf.b2_fixtureContactListenerParticle=16384;Xf.b2_particleContactListenerParticle=32768;Xf.b2_fixtureContactFilterParticle=65536;Xf.b2_particleContactFilterParticle=131072;function Yf(a,c,b,d){if(0!==arguments.length)if(a instanceof xa)this.Bb=0|255*a.Bb,this.yb=0|255*a.yb,this.xb=0|255*a.xb,this.o=0|255*a.o;else if(3<=arguments.length)this.Bb=0|a||0,this.yb=0|c||0,this.xb=0|b||0,this.o=0|d||0;else throw Error();}p("box2d.b2ParticleColor",Yf);
Yf.prototype.Bb=0;Yf.prototype.r=Yf.prototype.Bb;Yf.prototype.yb=0;Yf.prototype.g=Yf.prototype.yb;Yf.prototype.xb=0;Yf.prototype.b=Yf.prototype.xb;Yf.prototype.o=0;Yf.prototype.a=Yf.prototype.o;Yf.prototype.vw=function(){return 0===this.Bb&&0===this.yb&&0===this.xb&&0===this.o};Yf.prototype.IsZero=Yf.prototype.vw;Yf.prototype.Xv=function(a){a.Bb=this.Bb/255;a.yb=this.yb/255;a.xb=this.xb/255;a.o=this.o/255;return a};Yf.prototype.GetColor=Yf.prototype.Xv;
Yf.prototype.h=function(a,c,b,d){if(a instanceof xa)this.cj(a);else if(3<=arguments.length)this.Ow(a||0,c||0,b||0,d);else throw Error();};Yf.prototype.Set=Yf.prototype.h;Yf.prototype.Ow=function(a,c,b,d){this.Bb=a;this.yb=c;this.xb=b;this.o="number"===typeof d?d:255};Yf.prototype.SetRGBA=Yf.prototype.Ow;Yf.prototype.cj=function(a){this.Bb=255*a.Bb;this.yb=255*a.yb;this.xb=255*a.xb;this.o=255*a.o};Yf.prototype.SetColor=Yf.prototype.cj;
Yf.prototype.e=function(a){this.Bb=a.Bb;this.yb=a.yb;this.xb=a.xb;this.o=a.o;return this};Yf.prototype.Copy=Yf.prototype.e;Yf.prototype.za=function(){return new Yf(this.Bb,this.yb,this.xb,this.o)};Yf.prototype.rt=function(a){this.Bb*=a;this.yb*=a;this.xb*=a;this.o*=a;return this};Yf.prototype.SelfMul_0_1=Yf.prototype.rt;Yf.prototype.Dw=function(a){a+=1;this.Bb=this.Bb*a>>Zf;this.yb=this.yb*a>>Zf;this.xb=this.xb*a>>Zf;this.o=this.o*a>>Zf;return this};Yf.prototype.SelfMul_0_255=Yf.prototype.Dw;
Yf.prototype.aA=function(a,c){return c.e(this).rt(a)};Yf.prototype.Mul_0_1=Yf.prototype.aA;Yf.prototype.bA=function(a,c){return c.e(this).Dw(a)};Yf.prototype.Mul_0_255=Yf.prototype.bA;Yf.prototype.Qa=function(a){this.Bb+=a.Bb;this.yb+=a.yb;this.xb+=a.xb;this.o+=a.o;return this};Yf.prototype.SelfAdd=Yf.prototype.Qa;Yf.prototype.Dn=function(a,c){c.Bb=this.Bb+a.Bb;c.yb=this.yb+a.yb;c.xb=this.xb+a.xb;c.o=this.o+a.o;return c};Yf.prototype.Add=Yf.prototype.Dn;
Yf.prototype.Ob=function(a){this.Bb-=a.Bb;this.yb-=a.yb;this.xb-=a.xb;this.o-=a.o;return this};Yf.prototype.SelfSub=Yf.prototype.Ob;Yf.prototype.aB=function(a,c){c.Bb=this.Bb-a.Bb;c.yb=this.yb-a.yb;c.xb=this.xb-a.xb;c.o=this.o-a.o;return c};Yf.prototype.Sub=Yf.prototype.aB;Yf.prototype.Zp=function(a){return this.Bb===a.Bb&&this.yb===a.yb&&this.xb===a.xb&&this.o===a.o};Yf.prototype.IsEqual=Yf.prototype.Zp;Yf.prototype.$z=function(a,c){$f(this,a,c)};Yf.prototype.Mix=Yf.prototype.$z;
function $f(a,c,b){var d=b*(c.Bb-a.Bb)>>Zf,e=b*(c.yb-a.yb)>>Zf,f=b*(c.xb-a.xb)>>Zf;b=b*(c.o-a.o)>>Zf;a.Bb+=d;a.yb+=e;a.xb+=f;a.o+=b;c.Bb-=d;c.yb-=e;c.xb-=f;c.o-=b}Yf.MixColors=$f;var Zf=8,ag=(1<<Zf)-1;Yf.k_maxValue=+ag;Yf.k_inverseMaxValue=1/+ag;Yf.k_bitsPerComponent=Zf;var bg=new Yf;function cg(){this.position=ab.za();this.cg=ab.za();this.color=bg.za()}p("box2d.b2ParticleDef",cg);cg.prototype.Ea=0;cg.prototype.flags=cg.prototype.Ea;cg.prototype.position=null;cg.prototype.position=cg.prototype.position;
cg.prototype.cg=null;cg.prototype.velocity=cg.prototype.cg;cg.prototype.color=null;cg.prototype.color=cg.prototype.color;cg.prototype.vi=0;cg.prototype.lifetime=cg.prototype.vi;cg.prototype.Hc=null;cg.prototype.userData=cg.prototype.Hc;cg.prototype.group=null;cg.prototype.group=cg.prototype.group;function Wf(a,c,b){return Ka(Math.ceil(Math.sqrt(a/(.01*c))*b),1,8)}p("box2d.b2CalculateParticleIterations",Wf);function dg(){}p("box2d.b2ParticleHandle",dg);dg.prototype.ye=-1;dg.prototype.Ry=function(){return this.ye};
dg.prototype.GetIndex=dg.prototype.Ry;function eg(){this.ub()}p("box2d.Testbed.ParticleParameter",eg);eg.Options={oD:1,mD:2,kD:4,jD:8,dD:16,hD:32,gD:64,fD:128,iD:256,eD:512,nD:1024,lD:2048};eg.k_DefaultOptions=6;function fg(a,c,b){this.value=a;this.options=c;this.name=b}fg.prototype.value=0;fg.prototype.options=0;fg.prototype.name="";function gg(a,c){this.fs=a;this.jp=c||a.length}gg.prototype.fs=null;gg.prototype.jp=0;
var tg=[new fg(0,6,"water"),new fg(0,7,"water (strict)"),new fg(8,6,"spring"),new fg(16,6,"elastic"),new fg(32,6,"viscous"),new fg(64,6,"powder"),new fg(128,6,"tensile"),new fg(256,6,"color mixing"),new fg(4,6,"wall"),new fg(1028,6,"barrier"),new fg(2048,6,"static pressure"),new fg(0,22,"water (bounding boxes)")],wg=[new gg(tg)];g=eg.prototype;g.ye=0;g.Yt=!1;g.tk=!1;g.Nr=null;g.Uq=null;g.Vq=0;g.Wl=0;g.ub=function(){this.tk=!0;this.ye=0;xg(this,wg);this.h(0)};
function xg(a,c,b){a.Uq=c;a.Vq=b||c.length;for(c=a.Wl=0;c<a.Vq;++c)a.Wl+=a.Uq[c].jp;a.h(a.ye)}g.h=function(a){this.Yt=this.ye!==a;this.ye=this.Wl?a%this.Wl:a;a:{a=0;for(var c=this.ye,b=0;b<this.Vq;++b){var d=this.Uq[b],e=a+d.jp;if(c>=a&&c<e){a=d.fs[c-a];break a}a=e}a=null}this.Nr=a};g.bt=function(){var a=this.ye;this.h(a>=this.Wl?0:a+1)};g.us=function(){var a=this.ye;this.h(0===a?this.Wl-1:a-1)};var yg={LD:1,KD:2,CD:4,ED:8,DD:16};p("box2d.b2ParticleGroupFlag",yg);yg.b2_solidParticleGroup=1;yg.b2_rigidParticleGroup=2;yg.b2_particleGroupCanBeEmpty=4;yg.b2_particleGroupWillBeDestroyed=8;yg.b2_particleGroupNeedsUpdateDepth=16;function zg(){this.position=ab.za();this.ih=ab.za();this.color=bg.za()}p("box2d.b2ParticleGroupDef",zg);zg.prototype.Ea=0;zg.prototype.flags=zg.prototype.Ea;zg.prototype.pi=0;zg.prototype.groupFlags=zg.prototype.pi;zg.prototype.position=null;zg.prototype.position=zg.prototype.position;
zg.prototype.fb=0;zg.prototype.angle=zg.prototype.fb;zg.prototype.ih=null;zg.prototype.linearVelocity=zg.prototype.ih;zg.prototype.hh=0;zg.prototype.angularVelocity=zg.prototype.hh;zg.prototype.color=null;zg.prototype.color=zg.prototype.color;zg.prototype.Ti=1;zg.prototype.strength=zg.prototype.Ti;zg.prototype.shape=null;zg.prototype.shape=zg.prototype.shape;zg.prototype.qv=null;zg.prototype.shapes=zg.prototype.qv;zg.prototype.Vx=0;zg.prototype.shapeCount=zg.prototype.Vx;zg.prototype.rv=0;
zg.prototype.stride=zg.prototype.rv;zg.prototype.Vu=0;zg.prototype.particleCount=zg.prototype.Vu;zg.prototype.Px=null;zg.prototype.positionData=zg.prototype.Px;zg.prototype.vi=0;zg.prototype.lifetime=zg.prototype.vi;zg.prototype.Hc=null;zg.prototype.userData=zg.prototype.Hc;zg.prototype.group=null;zg.prototype.group=zg.prototype.group;function Ag(){this.pj=new r;this.fc=new r;this.wg=new Vb;this.wg.Pf()}p("box2d.b2ParticleGroup",Ag);g=Ag.prototype;g.wb=null;g.Kb=0;g.zc=0;g.Eb=0;g.en=1;g.qb=null;
g.Y=null;g.wk=-1;g.da=0;g.Om=0;g.pj=null;g.fc=null;g.ab=0;g.wg=null;g.Ve=null;g.ud=function(){return this.Y};Ag.prototype.GetNext=Ag.prototype.ud;Ag.prototype.fw=function(){return this.wb};Ag.prototype.GetParticleSystem=Ag.prototype.fw;Ag.prototype.Rc=function(){return this.zc-this.Kb};Ag.prototype.GetParticleCount=Ag.prototype.Rc;Ag.prototype.Ay=function(){return this.Kb};Ag.prototype.GetBufferIndex=Ag.prototype.Ay;function Bg(a,c){return a.Kb<=c&&c<a.zc}
Ag.prototype.Ln=function(){for(var a=0,c=this.Kb;c<this.zc;c++)a|=this.wb.Ya.data[c];return a};Ag.prototype.GetAllParticleFlags=Ag.prototype.Ln;Ag.prototype.Qy=function(){return this.Eb};Ag.prototype.GetGroupFlags=Ag.prototype.Qy;Ag.prototype.Kh=function(a){a|=this.Eb&24;this.wb.Kh(this,a)};Ag.prototype.SetGroupFlags=Ag.prototype.Kh;Ag.prototype.je=function(){this.Sj();return this.da};Ag.prototype.GetMass=Ag.prototype.je;Ag.prototype.ki=function(){this.Sj();return this.Om};
Ag.prototype.GetInertia=Ag.prototype.ki;Ag.prototype.Yi=function(){this.Sj();return this.pj};Ag.prototype.GetCenter=Ag.prototype.Yi;Ag.prototype.ie=function(){this.Sj();return this.fc};Ag.prototype.GetLinearVelocity=Ag.prototype.ie;Ag.prototype.sm=function(){this.Sj();return this.ab};Ag.prototype.GetAngularVelocity=Ag.prototype.sm;Ag.prototype.Wb=function(){return this.wg};Ag.prototype.GetTransform=Ag.prototype.Wb;Ag.prototype.ad=function(){return this.wg.sa};Ag.prototype.GetPosition=Ag.prototype.ad;
Ag.prototype.hc=function(){return this.wg.ha.hc()};Ag.prototype.GetAngle=Ag.prototype.hc;Ag.prototype.Dh=function(a,c){var b=new r;this.Sj();return ub(this.fc,this.ab,x(a,this.pj,b),c)};Ag.prototype.GetLinearVelocityFromWorldPoint=Ag.prototype.Dh;Ag.prototype.ec=function(){return this.Ve};Ag.prototype.GetUserData=Ag.prototype.ec;Ag.prototype.fh=function(a){this.Ve=a};Ag.prototype.SetUserData=Ag.prototype.fh;Ag.prototype.He=function(a){this.wb.He(this.Kb,this.zc,a)};Ag.prototype.ApplyForce=Ag.prototype.He;
Ag.prototype.qf=function(a){this.wb.qf(this.Kb,this.zc,a)};Ag.prototype.ApplyLinearImpulse=Ag.prototype.qf;Ag.prototype.ws=function(a){if(!this.wb.j.ce)for(var c=this.Kb;c<this.zc;c++)this.wb.rm(c,a)};Ag.prototype.DestroyParticles=Ag.prototype.ws;
Ag.prototype.Sj=function(){var a=new r,c=new r;if(this.wk!=this.wb.wk){var b=Cg(this.wb);this.da=b*(this.zc-this.Kb);this.pj.ba();this.fc.ba();for(var d=this.Kb;d<this.zc;d++)this.pj.wa(b,this.wb.Pb.data[d]),this.fc.wa(b,this.wb.Hb.data[d]);0<this.da&&(d=1/this.da,this.pj.Ia(d),this.fc.Ia(d));this.ab=this.Om=0;for(d=this.Kb;d<this.zc;d++)x(this.wb.Pb.data[d],this.pj,a),x(this.wb.Hb.data[d],this.fc,c),this.Om+=b*v(a,a),this.ab+=b*w(a,c);0<this.Om&&(this.ab*=1/this.Om);this.wk=this.wb.wk}};
Ag.prototype.UpdateStatistics=Ag.prototype.Sj;function Dg(a,c,b){var d=a[c];a[c]=a[b];a[b]=d}function Eg(a,c,b){var d=0;"number"!==typeof d&&(d=0);"number"!==typeof c&&(c=a.length-d);"function"!==typeof b&&(b=function(a,b){return a<b});for(var e=[],f=0;;){for(;d+1<c;c++){var h=a[d+Math.floor(Math.random()*(c-d))];e[f++]=c;for(var k=d-1;;){for(;b(a[++k],h););for(;b(h,a[--c]););if(k>=c)break;Dg(a,k,c)}}if(0===f)break;d=c;c=e[--f]}}
function Fg(a,c,b){"number"!==typeof b&&(b=a.length);for(var d=0,e=0;e<b;++e)c(a[e])||(e===d?++d:Dg(a,d++,e));return d}function Gg(a,c,b){var d=0,e=Hg;"function"!==typeof e&&(e=function(a,b){return a<b});for(c-=d;0<c;){var f=Math.floor(c/2),h=d+f;e(a[h],b)?(d=++h,c-=f+1):c=f}return d}function Ig(a,c,b,d){var e=Jg;"function"!==typeof e&&(e=function(a,b){return a<b});for(b-=c;0<b;){var f=Math.floor(b/2),h=c+f;e(d,a[h])?b=f:(c=++h,b-=f+1)}return c}
function Kg(a,c,b,d){for(var e=b;c!==e;)Dg(a,c++,e++),e===d?e=b:c===b&&(b=e)}function Lg(a){this.data=[];this.al=this.count=0;this.Zk=a}g=Lg.prototype;g.data=null;g.count=0;g.al=0;g.Zk=function(){return null};function Mg(a){if(a.count>=a.al){var c=a.al?2*a.al:256;if(!(a.al>=c)){for(var b=a.al;b<c;++b)a.data[b]=a.Zk();a.al=c}}return a.count++}g.Lk=function(){return this.count};function Ng(a,c){for(var b=0,d=0;d<a.count;++d)c(a.data[d])||b++;a.count=Fg(a.data,c,a.count)}
function Og(a,c){var b;b=a.data;var d=a.count,e=0;if(e===d)b=d;else{for(var f=e;++e!==d;)c(b[f],b[e])||Dg(b,++f,e);b=++f}a.count=b}function Pg(a){this.wb=a}q(Pg,ue);Pg.prototype.wb=null;Pg.prototype.Qj=function(){return!1};Pg.prototype.Xd=function(a){if(a.Re)return!0;for(var c=a.$a.rf(),b=0;b<c;b++)for(var d=Qg(this.wb,a.Uv(b)),e;0<=(e=d.ud());)this.ym(a,b,e);return!0};p("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture",Pg.prototype.Xd);Pg.prototype.Hh=function(){return!1};
p("box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle",Pg.prototype.Hh);Pg.prototype.ym=function(){};p("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle",Pg.prototype.ym);function Rg(){this.U=new r}p("box2d.b2ParticleContact",Rg);Rg.prototype.X=0;Rg.prototype.indexA=Rg.prototype.X;Rg.prototype.aa=0;Rg.prototype.indexB=Rg.prototype.aa;Rg.prototype.weight=0;Rg.prototype.weight=Rg.prototype.weight;Rg.prototype.U=null;Rg.prototype.normal=Rg.prototype.U;
Rg.prototype.Ea=0;Rg.prototype.flags=Rg.prototype.Ea;Rg.prototype.HA=function(a,c){this.X=a;this.aa=c};Rg.prototype.SetIndices=Rg.prototype.HA;Rg.prototype.ZA=function(a){this.weight=a};Rg.prototype.SetWeight=Rg.prototype.ZA;Rg.prototype.NA=function(a){this.U.e(a)};Rg.prototype.SetNormal=Rg.prototype.NA;Rg.prototype.cq=function(a){this.Ea=a};Rg.prototype.SetFlags=Rg.prototype.cq;Rg.prototype.Sy=function(){return this.X};Rg.prototype.GetIndexA=Rg.prototype.Sy;Rg.prototype.Ty=function(){return this.aa};
Rg.prototype.GetIndexB=Rg.prototype.Ty;Rg.prototype.Nz=function(){return this.weight};Rg.prototype.GetWeight=Rg.prototype.Nz;Rg.prototype.mz=function(){return this.U};Rg.prototype.GetNormal=Rg.prototype.mz;Rg.prototype.Vp=function(){return this.Ea};Rg.prototype.GetFlags=Rg.prototype.Vp;Rg.prototype.Zp=function(a){return this.X===a.X&&this.aa===a.aa&&this.Ea===a.Ea&&this.weight===a.weight&&this.U.x===a.U.x&&this.U.y===a.U.y};Rg.prototype.IsEqual=Rg.prototype.Zp;Rg.prototype.Wz=function(a){return!this.Zp(a)};
Rg.prototype.IsNotEqual=Rg.prototype.Wz;Rg.prototype.$x=function(a){return this.X===a.X&&this.aa===a.aa&&this.Ea===a.Ea&&.01>ra(this.weight-a.weight)&&1E-4>yb(this.U,a.U)};Rg.prototype.ApproximatelyEqual=Rg.prototype.$x;function Sg(){this.U=new r}p("box2d.b2ParticleBodyContact",Sg);Sg.prototype.index=0;Sg.prototype.index=Sg.prototype.index;Sg.prototype.body=null;Sg.prototype.body=Sg.prototype.body;Sg.prototype.pg=null;Sg.prototype.fixture=Sg.prototype.pg;Sg.prototype.weight=0;
Sg.prototype.weight=Sg.prototype.weight;Sg.prototype.U=null;Sg.prototype.normal=Sg.prototype.U;Sg.prototype.od=0;Sg.prototype.mass=Sg.prototype.od;function Tg(){}p("box2d.b2ParticlePair",Tg);Tg.prototype.X=0;Tg.prototype.indexA=Tg.prototype.X;Tg.prototype.aa=0;Tg.prototype.indexB=Tg.prototype.aa;Tg.prototype.Ea=0;Tg.prototype.flags=Tg.prototype.Ea;Tg.prototype.Ti=0;Tg.prototype.strength=Tg.prototype.Ti;Tg.prototype.vf=0;Tg.prototype.distance=Tg.prototype.vf;
function Ug(){this.lp=new r(0,0);this.mp=new r(0,0);this.np=new r(0,0)}p("box2d.b2ParticleTriad",Ug);Ug.prototype.X=0;Ug.prototype.indexA=Ug.prototype.X;Ug.prototype.aa=0;Ug.prototype.indexB=Ug.prototype.aa;Ug.prototype.qg=0;Ug.prototype.indexC=Ug.prototype.qg;Ug.prototype.Ea=0;Ug.prototype.flags=Ug.prototype.Ea;Ug.prototype.Ti=0;Ug.prototype.strength=Ug.prototype.Ti;Ug.prototype.lp=null;Ug.prototype.pa=Ug.prototype.lp;Ug.prototype.mp=null;Ug.prototype.pb=Ug.prototype.mp;Ug.prototype.np=null;
Ug.prototype.pc=Ug.prototype.np;Ug.prototype.ux=0;Ug.prototype.ka=Ug.prototype.ux;Ug.prototype.vx=0;Ug.prototype.kb=Ug.prototype.vx;Ug.prototype.wx=0;Ug.prototype.kc=Ug.prototype.wx;Ug.prototype.Lc=0;Ug.prototype.s=Ug.prototype.Lc;function Vg(){}p("box2d.b2ParticleSystemDef",Vg);Vg.prototype.km=!1;Vg.prototype.strictContactCheck=Vg.prototype.km;Vg.prototype.fa=1;Vg.prototype.density=Vg.prototype.fa;Vg.prototype.Sf=1;Vg.prototype.gravityScale=Vg.prototype.Sf;Vg.prototype.op=1;Vg.prototype.radius=Vg.prototype.op;
Vg.prototype.Yl=0;Vg.prototype.maxCount=Vg.prototype.Yl;Vg.prototype.Tr=.005;Vg.prototype.pressureStrength=Vg.prototype.Tr;Vg.prototype.cl=1;Vg.prototype.dampingStrength=Vg.prototype.cl;Vg.prototype.yq=.25;Vg.prototype.elasticStrength=Vg.prototype.yq;Vg.prototype.Zr=.25;Vg.prototype.springStrength=Vg.prototype.Zr;Vg.prototype.gs=.25;Vg.prototype.viscousStrength=Vg.prototype.gs;Vg.prototype.ds=.2;Vg.prototype.surfaceTensionPressureStrength=Vg.prototype.ds;Vg.prototype.cs=.2;
Vg.prototype.surfaceTensionNormalStrength=Vg.prototype.cs;Vg.prototype.Ur=1;Vg.prototype.repulsiveStrength=Vg.prototype.Ur;Vg.prototype.Sr=.5;Vg.prototype.powderStrength=Vg.prototype.Sr;Vg.prototype.xq=.5;Vg.prototype.ejectionStrength=Vg.prototype.xq;Vg.prototype.as=.2;Vg.prototype.staticPressureStrength=Vg.prototype.as;Vg.prototype.$r=.2;Vg.prototype.staticPressureRelaxation=Vg.prototype.$r;Vg.prototype.wn=8;Vg.prototype.staticPressureIterations=Vg.prototype.wn;Vg.prototype.iq=.5;
Vg.prototype.colorMixingStrength=Vg.prototype.iq;Vg.prototype.Uj=!0;Vg.prototype.destroyByAge=Vg.prototype.Uj;Vg.prototype.Bm=1/60;Vg.prototype.lifetimeGranularity=Vg.prototype.Bm;Vg.prototype.e=function(a){this.km=a.km;this.fa=a.fa;this.Sf=a.Sf;this.op=a.op;this.Yl=a.Yl;this.Tr=a.Tr;this.cl=a.cl;this.yq=a.yq;this.Zr=a.Zr;this.gs=a.gs;this.ds=a.ds;this.cs=a.cs;this.Ur=a.Ur;this.Sr=a.Sr;this.xq=a.xq;this.as=a.as;this.$r=a.$r;this.wn=a.wn;this.iq=a.iq;this.Uj=a.Uj;this.Bm=a.Bm;return this};
Vg.prototype.za=function(){return(new Vg).e(this)};function X(a,c){this.Jt(a,c)}p("box2d.b2ParticleSystem",X);g=X.prototype;g.Ju=!1;g.wk=0;g.Jc=0;g.rr=!1;g.Oh=0;g.Au=!1;g.xl=!1;g.ir=0;g.Fx=0;g.Td=0;g.Og=0;g.Ir=0;g.n=0;g.Pm=0;g.Od=null;g.Ya=null;g.Pb=null;g.Hb=null;g.tg=null;g.pf=null;g.qe=null;g.Ld=null;g.jh=null;g.Oc=null;g.ld=null;g.Dc=null;g.re=null;g.Kr=0;g.Af=null;g.ef=null;g.ff=null;g.fn=null;g.nc=null;g.ob=null;g.wc=null;g.Ec=null;g.Ue=null;g.Nd=null;g.ze=null;g.kn=0;g.gu=!1;g.dr=0;g.jf=null;
g.Db=null;g.j=null;g.qb=null;g.Y=null;function Wg(a,c){return(c+2048>>>0<<20)+(256*a+524288>>>0)>>>0}function Xg(){}function ph(){}q(ph,Xg);ph.prototype.S=function(){};function yh(){}q(yh,Xg);yh.prototype.S=function(){};function zh(){}zh.prototype.Xn=function(){return!0};zh.prototype.Vw=function(){return!0};zh.prototype.Ww=function(){return!0};
X.prototype.Jt=function(a,c){this.Od=new Ah;this.Ya=new Ah;this.Pb=new Ah;this.Hb=new Ah;this.tg=[];this.pf=[];this.qe=[];this.Ld=[];this.jh=[];this.Oc=[];this.ld=new Ah;this.Dc=[];this.re=new Ah;this.Af=new Ah;this.ef=new Ah;this.ff=new Ah;this.fn=new Lg(function(){return 0});this.nc=new Lg(function(){return new Bh});this.ob=new Lg(function(){return new Rg});this.wc=new Lg(function(){return new Sg});this.Ec=new Lg(function(){return new Tg});this.Ue=new Lg(function(){return new Ug});this.Nd=new Ah;
this.ze=new Ah;this.Db=new Vg;this.Ct(a.km);this.ho(a.fa);this.io(a.Sf);this.Qd(a.op);this.lo(a.Yl);this.Db=a.za();this.j=c;this.bq(this.Db.Uj)};X.prototype.kx=function(){for(;this.jf;)this.Kp(this.jf);Ch(this.Od);Ch(this.Ya);Ch(this.Af);Ch(this.ef);Ch(this.ff);Ch(this.Pb);Ch(this.Hb);Ch(this.ld);Ch(this.re);Ch(this.Nd);Ch(this.ze);Dh(this.tg);Dh(this.pf);Dh(this.qe);Dh(this.Ld);Dh(this.jh);Dh(this.Oc);Dh(this.Dc)};X.prototype.ys=function(){this.kx()};
X.prototype.pm=function(a){if(this.j.ce)return 0;this.n>=this.Pm&&Eh(this,this.n?2*this.n:256);if(this.n>=this.Pm)if(this.Db.Uj){var c=this.ze.data[this.Rc()-1],b=this.ze.data[0];this.rm(0<this.Nd.data[c]?c:b,!1);Fh(this)}else return-1;c=this.n++;this.Ya.data[c]=0;this.Af.data&&(this.Af.data[c]=0);this.ef.data&&(this.ef.data[c]=0);this.ff.data&&(this.ff.data[c]=0);this.Pb.data[c]=a.position.za();this.Hb.data[c]=a.cg.za();this.pf[c]=0;this.tg[c]=ab.za();this.qe&&(this.qe[c]=0);this.Oc&&(this.Oc[c]=
0);if(this.ld.data||!a.color.vw())this.ld.data=Gh(this,this.ld.data),this.ld.data[c]=a.color.za();if(this.re.data||a.Hc)this.re.data=Gh(this,this.re.data),this.re.data[c]=a.Hc;this.Od.data&&(this.Od.data[c]=null);var b=this.nc.data[Mg(this.nc)],d=0<a.vi;if(this.Nd.data||d)this.dq(c,d?a.vi:this.zs(-(this.kn>>32>>0))),this.ze.data[c]=c;b.index=c;b=a.group;if(this.Dc[c]=b)b.Kb<b.zc?Hh(this,b.Kb,b.zc,c):b.Kb=c,b.zc=c+1;this.fj(c,a.Ea);return c};X.prototype.CreateParticle=X.prototype.pm;
X.prototype.dw=function(a){this.Od.data=Gh(this,this.Od.data);var c=this.Od.data[a];if(c)return c;c=new dg;c.ye=a;return this.Od.data[a]=c};X.prototype.GetParticleHandleFromIndex=X.prototype.dw;X.prototype.rm=function(a,c){var b=2;c&&(b|=512);this.fj(a,this.Ya.data[a]|b)};X.prototype.DestroyParticle=X.prototype.rm;function Ih(a,c,b,d){this.wb=a;this.$a=c;this.La=b;this.yx=d;this.fu=0}q(Ih,ue);g=Ih.prototype;g.wb=null;g.$a=null;g.La=null;g.yx=!1;g.fu=0;g.Xd=function(){return!1};
g.Hh=function(a,c){if(a!==this.wb)return!1;this.$a.Sc(this.La,this.wb.Pb.data[c])&&(this.wb.rm(c,this.yx),this.fu++);return!0};X.prototype.Xi=function(a,c,b){if(this.j.ce)return 0;b=new Ih(this,a,c,b);var d=new Jc;a.Sb(d,c,0);this.j.hg(b,d);return b.fu};X.prototype.DestroyParticlesInShape=X.prototype.Xi;
X.prototype.rd=function(a){if(this.j.ce)return null;var c=new Vb;c.h(a.position,a.fb);var b=this.n;a.shape&&this.Nv(a.shape,a,c);a.qv&&this.Ov(a.qv,a.Vx,a,c);if(a.Vu)for(var d=0;d<a.Vu;d++)this.Jp(a,c,a.Px[d]);var e=this.n,f=new Ag;f.wb=this;f.Kb=b;f.zc=e;f.en=a.Ti;f.Ve=a.Hc;f.wg.e(c);f.qb=null;if(f.Y=this.jf)this.jf.qb=f;this.jf=f;++this.dr;for(d=b;d<e;d++)this.Dc[d]=f;this.Kh(f,a.pi);c=new zh;Jh(this,!0);Kh(this,b,e,c);a.group&&(this.ww(a.group,f),f=a.group);return f};
X.prototype.CreateParticleGroup=X.prototype.rd;function Lh(a){this.$h=a}q(Lh,zh);Lh.prototype.$h=0;Lh.prototype.Vw=function(a,c){return a<this.$h&&this.$h<=c||c<this.$h&&this.$h<=a};Lh.prototype.Ww=function(a,c,b){return(a<this.$h||c<this.$h||b<this.$h)&&(this.$h<=a||this.$h<=c||this.$h<=b)};
X.prototype.ww=function(a,c){if(!this.j.ce){Hh(this,c.Kb,c.zc,this.n);Hh(this,a.Kb,a.zc,c.Kb);var b=new Lh(c.Kb);Jh(this,!0);Kh(this,a.Kb,c.zc,b);for(b=c.Kb;b<c.zc;b++)this.Dc[b]=a;this.Kh(a,a.Eb|c.Eb);a.zc=c.zc;c.Kb=c.zc;this.Kp(c)}};X.prototype.JoinParticleGroups=X.prototype.ww;X.prototype.bx=function(a){Jh(this,!0);var c=sa(a.Rc(),function(){return new Mh});Nh(a,c);Oh(this,a,c);var b=Ph(a,c);Qh(this,a,c,b);Rh(this,a,c,b);Sh(this,a,c)};X.prototype.SplitParticleGroup=X.prototype.bx;
X.prototype.qz=function(){return this.jf};X.prototype.GetParticleGroupList=X.prototype.qz;X.prototype.pz=function(){return this.dr};X.prototype.GetParticleGroupCount=X.prototype.pz;X.prototype.Rc=function(){return this.n};X.prototype.GetParticleCount=X.prototype.Rc;X.prototype.kz=function(){return this.Db.Yl};X.prototype.GetMaxParticleCount=X.prototype.kz;X.prototype.lo=function(a){this.Db.Yl=a};X.prototype.SetMaxParticleCount=X.prototype.lo;X.prototype.Ln=function(){return this.Jc};
X.prototype.GetAllParticleFlags=X.prototype.Ln;X.prototype.qy=function(){return this.Oh};X.prototype.GetAllGroupFlags=X.prototype.qy;X.prototype.OA=function(a){this.Ju=a};X.prototype.SetPaused=X.prototype.OA;X.prototype.sz=function(){return this.Ju};X.prototype.GetPaused=X.prototype.sz;X.prototype.ho=function(a){this.Db.fa=a;this.Fx=1/this.Db.fa};X.prototype.SetDensity=X.prototype.ho;X.prototype.Up=function(){return this.Db.fa};X.prototype.GetDensity=X.prototype.Up;
X.prototype.io=function(a){this.Db.Sf=a};X.prototype.SetGravityScale=X.prototype.io;X.prototype.Is=function(){return this.Db.Sf};X.prototype.GetGravityScale=X.prototype.Is;X.prototype.dj=function(a){this.Db.cl=a};X.prototype.SetDamping=X.prototype.dj;X.prototype.Jy=function(){return this.Db.cl};X.prototype.GetDamping=X.prototype.Jy;X.prototype.UA=function(a){this.Db.wn=a};X.prototype.SetStaticPressureIterations=X.prototype.UA;X.prototype.Bz=function(){return this.Db.wn};
X.prototype.GetStaticPressureIterations=X.prototype.Bz;X.prototype.Qd=function(a){this.Td=2*a;this.Ir=this.Td*this.Td;this.Og=1/this.Td};X.prototype.SetRadius=X.prototype.Qd;X.prototype.vm=function(){return this.Td/2};X.prototype.GetRadius=X.prototype.vm;X.prototype.uz=function(){return this.Pb.data};X.prototype.GetPositionBuffer=X.prototype.uz;X.prototype.Kz=function(){return this.Hb.data};X.prototype.GetVelocityBuffer=X.prototype.Kz;X.prototype.Nn=function(){this.ld.data=Gh(this,this.ld.data);return this.ld.data};
X.prototype.GetColorBuffer=X.prototype.Nn;X.prototype.Py=function(){return this.Dc};X.prototype.GetGroupBuffer=X.prototype.Py;X.prototype.Oz=function(){return this.pf};X.prototype.GetWeightBuffer=X.prototype.Oz;X.prototype.Xs=function(){this.re.data=Gh(this,this.re.data);return this.re.data};X.prototype.GetUserDataBuffer=X.prototype.Xs;X.prototype.Oy=function(){return this.Ya.data};X.prototype.GetFlagsBuffer=X.prototype.Oy;
X.prototype.fj=function(a,c){this.Ya.data[a]&~c&&(this.rr=!0);~this.Jc&c&&(c&128&&(this.jh=Gh(this,this.jh)),c&256&&(this.ld.data=Gh(this,this.ld.data)),this.Jc|=c);this.Ya.data[a]=c};X.prototype.SetParticleFlags=X.prototype.fj;X.prototype.Rs=function(a){return this.Ya.data[a]};X.prototype.GetParticleFlags=X.prototype.Rs;X.prototype.GA=function(a,c){var b=this.Ya;b.data=a;b.Bh=c};X.prototype.SetFlagsBuffer=X.prototype.GA;X.prototype.PA=function(a,c){var b=this.Pb;b.data=a;b.Bh=c};
X.prototype.SetPositionBuffer=X.prototype.PA;X.prototype.YA=function(a,c){var b=this.Hb;b.data=a;b.Bh=c};X.prototype.SetVelocityBuffer=X.prototype.YA;X.prototype.CA=function(a,c){var b=this.ld;b.data=a;b.Bh=c};X.prototype.SetColorBuffer=X.prototype.CA;X.prototype.XA=function(a,c){var b=this.re;b.data=a;b.Bh=c};X.prototype.SetUserDataBuffer=X.prototype.XA;X.prototype.Fy=function(){return this.ob.data};X.prototype.GetContacts=X.prototype.Fy;X.prototype.Rp=function(){return this.ob.count};
X.prototype.GetContactCount=X.prototype.Rp;X.prototype.yy=function(){return this.wc.data};X.prototype.GetBodyContacts=X.prototype.yy;X.prototype.xy=function(){return this.wc.count};X.prototype.GetBodyContactCount=X.prototype.xy;X.prototype.oz=function(){return this.Ec.data};X.prototype.GetPairs=X.prototype.oz;X.prototype.nz=function(){return this.Ec.count};X.prototype.GetPairCount=X.prototype.nz;X.prototype.Jz=function(){return this.Ue.data};X.prototype.GetTriads=X.prototype.Jz;X.prototype.Iz=function(){return this.Ue.count};
X.prototype.GetTriadCount=X.prototype.Iz;X.prototype.Ez=function(){return this.fn.data};X.prototype.GetStuckCandidates=X.prototype.Ez;X.prototype.Dz=function(){return this.fn.Lk()};X.prototype.GetStuckCandidateCount=X.prototype.Dz;X.prototype.fy=function(){for(var a=new r,c=this.Hb.data,b=0,d=0;d<this.ob.count;d++){var e=this.ob.data[d],f=e.U,e=x(c[e.aa],c[e.X],a),f=v(e,f);0>f&&(b+=f*f)}return.5*Cg(this)*b};X.prototype.ComputeCollisionEnergy=X.prototype.fy;X.prototype.Ct=function(a){this.Db.km=a};
X.prototype.SetStrictContactCheck=X.prototype.Ct;X.prototype.Cz=function(){return this.Db.km};X.prototype.GetStrictContactCheck=X.prototype.Cz;X.prototype.dq=function(a,c){var b=null===this.ze.data;this.Nd.data=Gh(this,this.Nd.data);this.ze.data=Gh(this,this.ze.data);if(b)for(var b=this.Rc(),d=0;d<b;++d)this.ze.data[d]=d;b=0|c/this.Db.Bm;b=0<b?(this.kn>>32>>0)+b:b;b!==this.Nd.data[a]&&(this.Nd.data[a]=b,this.gu=!0)};X.prototype.SetParticleLifetime=X.prototype.dq;X.prototype.ew=function(a){return this.zs(this.Es()[a])};
X.prototype.GetParticleLifetime=X.prototype.ew;X.prototype.bq=function(a){a&&this.Es();this.Db.Uj=a};X.prototype.SetDestructionByAge=X.prototype.bq;X.prototype.Ky=function(){return this.Db.Uj};X.prototype.GetDestructionByAge=X.prototype.Ky;X.prototype.Es=function(){this.Nd.data=Gh(this,this.Nd.data);return this.Nd.data};X.prototype.GetExpirationTimeBuffer=X.prototype.Es;X.prototype.zs=function(a){return(0<a?a-(this.kn>>32>>0):a)*this.Db.Bm};X.prototype.ExpirationTimeToLifetime=X.prototype.zs;
X.prototype.Uy=function(){this.Rc()?this.dq(0,this.ew(0)):this.ze.data=Gh(this,this.ze.data);return this.ze.data};X.prototype.GetIndexByExpirationTimeBuffer=X.prototype.Uy;X.prototype.cA=function(a,c){this.qf(a,a+1,c)};X.prototype.ParticleApplyLinearImpulse=X.prototype.cA;X.prototype.qf=function(a,c,b){var d=this.Hb.data,e=(c-a)*Cg(this);for(b=b.za().Ia(1/e);a<c;a++)d[a].Qa(b)};X.prototype.ApplyLinearImpulse=X.prototype.qf;
X.prototype.ht=function(a,c){0===c.x&&0===c.y||this.Ya.data[a]&4||(Th(this),this.tg[a].Qa(c))};X.prototype.ParticleApplyForce=X.prototype.ht;X.prototype.He=function(a,c,b){for(var d=a;d<c;d++);b=b.za().Ia(1/(c-a));if(0!==b.x||0!==b.y)for(Th(this),d=a;d<c;d++)this.tg[d].Qa(b)};X.prototype.ApplyForce=X.prototype.He;X.prototype.ud=function(){return this.Y};X.prototype.GetNext=X.prototype.ud;
X.prototype.hg=function(a,c){if(0!==this.nc.count)for(var b=this.nc.count,d=Gg(this.nc.data,b,Wg(this.Og*c.lowerBound.x,this.Og*c.lowerBound.y)),b=Ig(this.nc.data,d,b,Wg(this.Og*c.upperBound.x,this.Og*c.upperBound.y)),e=this.Pb.data;d<b;++d){var f=this.nc.data[d].index,h=e[f];if(c.lowerBound.x<h.x&&h.x<c.upperBound.x&&c.lowerBound.y<h.y&&h.y<c.upperBound.y&&!a.Hh(this,f))break}};X.prototype.QueryAABB=X.prototype.hg;X.prototype.eA=function(a,c,b,d){var e=new Jc;c.Sb(e,b,d||0);this.hg(a,e)};
X.prototype.QueryShapeAABB=X.prototype.eA;X.prototype.dA=function(a,c,b){var d=new Jc;b="number"===typeof b?b:.008;d.lowerBound.h(c.x-b,c.y-b);d.upperBound.h(c.x+b,c.y+b);this.hg(a,d)};X.prototype.QueryPointAABB=X.prototype.dA;
X.prototype.Aa=function(a,c,b){var d=new Jc,e=new r,f=new r,h=new r,k=new r;if(0!==this.nc.count){var l=this.Pb.data;ib(c,b,d.lowerBound);jb(c,b,d.upperBound);var m=1;b=x(b,c,f);for(var f=v(b,b),d=Qg(this,d),n;0<=(n=d.ud());){var t=x(c,l[n],e),z=v(t,b),B=z*z-f*(v(t,t)-this.Ir);if(0<=B){var O=Qa(B),B=(-z-O)/f;if(!(B>m)){if(0>B&&(B=(-z+O)/f,0>B||B>m))continue;t=sb(t,B,b,h);t.ic();n=a.Hh(this,n,sb(c,B,b,k),t,B);m=Ia(m,n);if(0>=m)break}}}}};X.prototype.RayCast=X.prototype.Aa;
X.prototype.Sb=function(a){var c=this.Rc();a.lowerBound.x=1E37;a.lowerBound.y=1E37;a.upperBound.x=-1E37;a.upperBound.y=-1E37;for(var b=this.Pb.data,d=0;d<c;d++){var e=b[d];ib(a.lowerBound,e,a.lowerBound);jb(a.upperBound,e,a.upperBound)}a.lowerBound.x-=this.Td;a.lowerBound.y-=this.Td;a.upperBound.x+=this.Td;a.upperBound.y+=this.Td};X.prototype.ComputeAABB=X.prototype.Sb;function Ah(){}Ah.prototype.data=null;Ah.prototype.Bh=0;function Bh(){}Bh.prototype.index=-1;Bh.prototype.tag=0;
function ri(a,c){return a.tag<c.tag}function Jg(a,c){return a<c.tag}function Hg(a,c){return a.tag<c}function si(a,c,b,d,e){this.wb=a;this.pB=(c&1048575)>>>0;this.qB=(b&1048575)>>>0;this.$q=d;this.iB=e}si.prototype.ud=function(){for(;this.$q<this.iB;){var a=(this.wb.nc.data[this.$q].tag&1048575)>>>0;if(a>=this.pB&&a<=this.qB)return this.wb.nc.data[this.$q++].index;this.$q++}return-1};function Mh(){}Mh.prototype.list=null;Mh.prototype.next=null;Mh.prototype.count=0;Mh.prototype.index=0;
function Dh(a){null!==a&&(a.length=0)}function Ch(a){0==a.Bh&&Dh(a.data)}function ti(a,c,b,d){d&&!a||c||(a=a?a.slice():[],a.length=b);return a}function ui(a,c,b){return ti(a.data,a.Bh,c,b)}function Gh(a,c){c||(0===a.Pm&&Eh(a,256),c=[],c.length=a.Pm);return c}
function Eh(a,c){function b(a,b){return b&&a>b?b:a}c=b(c,a.Db.Yl);c=b(c,a.Ya.Bh);c=b(c,a.Pb.Bh);c=b(c,a.Hb.Bh);c=b(c,a.ld.Bh);c=b(c,a.re.Bh);if(a.Pm<c){a.Od.data=ui(a.Od,c,!0);a.Ya.data=ui(a.Ya,c,!1);var d=0<a.Kr;a.Af.data=ui(a.Af,c,d);a.ef.data=ui(a.ef,c,d);a.ff.data=ui(a.ff,c,d);a.Pb.data=ui(a.Pb,c,!1);a.Hb.data=ui(a.Hb,c,!1);a.tg=ti(a.tg,0,c,!1);a.pf=ti(a.pf,0,c,!1);a.qe=ti(a.qe,0,c,!0);a.Ld=ti(a.Ld,0,c,!1);a.jh=ti(a.jh,0,c,!0);a.Oc=ti(a.Oc,0,c,!0);a.ld.data=ui(a.ld,c,!0);a.Dc=ti(a.Dc,0,c,!1);
a.re.data=ui(a.re,c,!0);a.Nd.data=ui(a.Nd,c,!0);a.ze.data=ui(a.ze,c,!1);a.Pm=c}}X.prototype.Jp=function(a,c,b){var d=new cg;d.Ea=a.Ea;Xb(c,b,d.position);pb(a.ih,ob(a.hh,x(d.position,a.position,u),u),d.cg);d.color.e(a.color);d.vi=a.vi;d.Hc=a.Hc;this.pm(d)};X.prototype.CreateParticleForGroup=X.prototype.Jp;
X.prototype.Mv=function(a,c,b){var d=new C,e=new r,f=new r,h=c.rv;0===h&&(h=.75*this.Td);for(var k=0,l=a.rf(),m=0;m<l;m++){var n=null;1===a.Ic()?n=a:(n=d,a.Mn(n,m));for(var t=x(n.Pc,n.Kc,e),z=t.qc();k<z;){var B=sb(n.Kc,k/z,t,f);this.Jp(c,b,B);k+=h}k-=z}};X.prototype.CreateParticlesStrokeShapeForGroup=X.prototype.Mv;
X.prototype.ss=function(a,c,b){var d=new Jc,e=new r,f=c.rv;0===f&&(f=.75*this.Td);a.Sb(d,Wb,0);for(var h=Math.floor(d.lowerBound.y/f)*f;h<d.upperBound.y;h+=f)for(var k=Math.floor(d.lowerBound.x/f)*f;k<d.upperBound.x;k+=f){var l=e.h(k,h);a.Sc(Wb,l)&&this.Jp(c,b,l)}};X.prototype.CreateParticlesFillShapeForGroup=X.prototype.ss;X.prototype.Nv=function(a,c,b){switch(a.Ic()){case 1:case 3:this.Mv(a,c,b);break;case 2:case 0:this.ss(a,c,b)}};X.prototype.CreateParticlesWithShapeForGroup=X.prototype.Nv;
function vi(a,c){this.Fr=a;this.Mu=c}q(vi,Ed);g=vi.prototype;g.Fr=null;g.Mu=0;g.za=function(){return null};g.rf=function(){return 1};g.Sc=function(a,c){for(var b=0;b<this.Mu;b++)if(this.Fr[b].Sc(a,c))return!0;return!1};p("box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint",vi.prototype.Sc);vi.prototype.ac=function(){};p("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance",vi.prototype.ac);vi.prototype.Aa=function(){return!1};
p("box2d.b2ParticleSystem.CompositeShape.prototype.RayCast",vi.prototype.Aa);vi.prototype.Sb=function(a,c){var b=new Jc;a.lowerBound.x=1E37;a.lowerBound.y=1E37;a.upperBound.x=-1E37;a.upperBound.y=-1E37;for(var d=0;d<this.Mu;d++)for(var e=this.Fr[d].rf(),f=0;f<e;f++){var h=b;this.Fr[d].Sb(h,c,f);a.Ev(h)}};p("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB",vi.prototype.Sb);vi.prototype.Vd=function(){};p("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass",vi.prototype.Vd);
X.prototype.Ov=function(a,c,b,d){this.ss(new vi(a,c),b,d)};X.prototype.CreateParticlesWithShapesForGroup=X.prototype.Ov;
X.prototype.Dv=function(a,c){var b=new cg;b.Ea=this.Ya.data[a];b.position.e(this.Pb.data[a]);b.cg.e(this.Hb.data[a]);this.ld.data&&b.color.e(this.ld.data[a]);this.re.data&&(b.Hc=this.re.data[a]);b.group=c;b=this.pm(b);if(this.Od.data){var d=this.Od.data[a];d&&(d.ye=b);this.Od.data[b]=d;this.Od.data[a]=null}this.Af.data&&(this.Af.data[b]=this.Af.data[a]);this.ef.data&&(this.ef.data[b]=this.ef.data[a]);this.ff.data&&(this.ff.data[b]=this.ff.data[a]);this.xl&&(this.tg[b]=this.tg[a]);this.qe&&(this.qe[b]=
this.qe[a]);this.Oc&&(this.Oc[b]=this.Oc[a]);this.Nd.data&&(this.Nd.data[b]=this.Nd.data[a]);return b};X.prototype.CloneParticle=X.prototype.Dv;X.prototype.my=function(a,c){for(var b=a.Kb;b<a.zc;b++)this.rm(b,c)};X.prototype.DestroyParticlesInGroup=X.prototype.my;X.prototype.Kp=function(a){this.j.Lg&&this.j.Lg.eo(a);this.Kh(a,0);for(var c=a.Kb;c<a.zc;c++)this.Dc[c]=null;a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.jf&&(this.jf=a.Y);--this.dr};X.prototype.DestroyParticleGroup=X.prototype.Kp;
function wi(a,c){return 0!==(a&28)||null!==c&&0!==(c.Eb&2)}
function Kh(a,c,b,d){for(var e=new r,f=new r,h=new r,k=a.Pb.data,l=0,m=c;m<b;m++)l|=a.Ya.data[m];if(l&8)for(m=0;m<a.ob.count;m++){var n=a.ob.data[m],t=n.X,z=n.aa,B=a.Ya.data[t],O=a.Ya.data[z],ia=a.Dc[t],aa=a.Dc[z];t>=c&&t<b&&z>=c&&z<b&&!((B|O)&2)&&(B|O)&8&&(d.Xn(t)||d.Xn(z))&&wi(B,ia)&&wi(O,aa)&&d.Vw(t,z)&&(B=a.Ec.data[Mg(a.Ec)],B.X=t,B.aa=z,B.Ea=n.Ea,B.Ti=Ia(ia?ia.en:1,aa?aa.en:1),B.vf=xb(k[t],k[z]));Eg(a.Ec.data,a.Ec.count,xi);Og(a.Ec,yi)}if(l&16){l=new zi(b-c);n=0;for(m=c;m<b;m++)t=a.Ya.data[m],
z=a.Dc[m],t&2||!wi(t,z)||(d.Xn(m)&&++n,l.xv(k[m],m,d.Xn(m)));if(0===n)for(m=c;m<b;m++);c=.75*a.Td;l.Jk(c/2,2*c);l.cw(function(b,c,l){var m=a.Ya.data[b],n=a.Ya.data[c],t=a.Ya.data[l];if((m|n|t)&16&&d.Ww(b,c,l)){var B=k[b],z=k[c],O=k[l],aa=x(B,z,e),ia=x(z,O,f),bb=x(O,B,h),$a=4*a.Ir;if(!(v(aa,aa)>$a||v(ia,ia)>$a||v(bb,bb)>$a)){var ac=a.Dc[b],bc=a.Dc[c],Kc=a.Dc[l],$a=a.Ue.data[Mg(a.Ue)];$a.X=b;$a.aa=c;$a.qg=l;$a.Ea=m|n|t;$a.Ti=Ia(Ia(ac?ac.en:1,bc?bc.en:1),Kc?Kc.en:1);b=(B.x+z.x+O.x)/3;c=(B.y+z.y+O.y)/
3;$a.lp.x=B.x-b;$a.lp.y=B.y-c;$a.mp.x=z.x-b;$a.mp.y=z.y-c;$a.np.x=O.x-b;$a.np.y=O.y-c;$a.ux=-v(bb,aa);$a.vx=-v(aa,ia);$a.wx=-v(ia,bb);$a.Lc=w(B,z)+w(z,O)+w(O,B)}}});Eg(a.Ue.data,a.Ue.count,Ai);Og(a.Ue,Bi)}}function Ci(a){this.Ya=a}q(Ci,zh);Ci.prototype.Ya=null;Ci.prototype.Xn=function(a){return 0!==(this.Ya[a]&4096)};function xi(a,c){var b=a.X-c.X;return 0!==b?0>b:a.aa<c.aa}function yi(a,c){return a.X===c.X&&a.aa===c.aa}
function Ai(a,c){var b=a.X-c.X;if(0!==b)return 0>b;b=a.aa-c.aa;return 0!==b?0>b:a.qg<c.qg}function Bi(a,c){return a.X===c.X&&a.aa===c.aa&&a.qg===c.qg}function Nh(a,c){for(var b=a.Kb,d=a.Rc(),e=0;e<d;e++){var f=c[e];f.list=f;f.next=null;f.count=1;f.index=e+b}}
function Oh(a,c,b){for(var d=c.Kb,e=0;e<a.ob.count;e++){var f=a.ob.data[e],h=f.X,f=f.aa;if(Bg(c,h)&&Bg(c,f)&&(h=b[h-d].list,f=b[f-d].list,h!==f)){if(h.count<f.count)var k=h,h=f,f=k;for(k=f;;){k.list=h;var l=k.next;if(l)k=l;else{k.next=h.next;break}}h.next=f;h.count+=f.count;f.count=0}}}function Ph(a,c){for(var b=a.Rc(),d=c[0],e=0;e<b;e++){var f=c[e];d.count<f.count&&(d=f)}return d}
function Qh(a,c,b,d){c=c.Rc();for(var e=0;e<c;e++){var f=b[e];if(f!==d&&a.Ya.data[f.index]&2){var h=d;f.list=h;f.next=h.next;h.next=f;h.count++;f.count=0}}}function Rh(a,c,b,d){var e=c.Rc(),f=new zg;f.pi=c.Eb;f.Hc=c.ec();for(c=0;c<e;c++){var h=b[c];if(h.count&&h!==d)for(var k=a.rd(f);h;h=h.next){var l=h.index,m=a.Dv(l,k);a.Ya.data[l]|=2;h.index=m}}}
function Sh(a,c,b){for(var d=c.Kb,e=0;e<a.Ec.count;e++){var f=a.Ec.data[e],h=f.X,k=f.aa;Bg(c,h)&&(f.X=b[h-d].index);Bg(c,k)&&(f.aa=b[k-d].index)}for(e=0;e<a.Ue.count;e++){var f=a.Ue.data[e],h=f.X,k=f.aa,l=f.qg;Bg(c,h)&&(f.X=b[h-d].index);Bg(c,k)&&(f.aa=b[k-d].index);Bg(c,l)&&(f.qg=b[l-d].index)}}function Qg(a,c){var b=Wg(a.Og*c.lowerBound.x-1,a.Og*c.lowerBound.y-1),d=Wg(a.Og*c.upperBound.x+1,a.Og*c.upperBound.y+1),e=a.nc.count,f=Gg(a.nc.data,e,b),e=Ig(a.nc.data,0,e,d);return new si(a,b,d,f,e)}
X.prototype.Dk=function(a,c){var b=this.Pb.data,b=x(b[c],b[a],new r),d=v(b,b);if(d<this.Ir){var e=Pa(d);isFinite(e)||(e=1.9817753699999998E19);var f=this.ob.data[Mg(this.ob)];f.X=a;f.aa=c;f.Ea=this.Ya.data[a]|this.Ya.data[c];f.weight=1-d*e*this.Og;qb(e,b,f.U)}};function Di(a){null!==(a.Jc&131072?a.j.jb.Ph:null)&&Ng(a.ob,function(a){return a.Ea&131072&&!1})}function Ei(a){return 2===(a.Ea&2)}
function Jh(a,c){for(var b=a.Pb.data,d=a.Og,e=0;e<a.nc.count;++e){var f=a.nc.data[e],h=b[f.index];f.tag=Wg(d*h.x,d*h.y)}Eg(a.nc.data,a.nc.count,ri);b=new yh;if(null!==(a.Jc&32768?a.j.jb.Qh:null)){debugger;b.S(a.ob,a.Ya)}b=a.nc.count;for(e=d=a.ob.count=0;d<b;d++){h=a.nc.data[d].tag+0+256>>>0;for(f=d+1;f<b&&!(h<a.nc.data[f].tag);f++)a.Dk(a.nc.data[d].index,a.nc.data[f].index,a.ob);for(f=a.nc.data[d].tag+1048576+-256>>>0;e<b&&!(f<=a.nc.data[e].tag);e++);h=a.nc.data[d].tag+1048576+256>>>0;for(f=e;f<b&&
!(h<a.nc.data[f].tag);f++)a.Dk(a.nc.data[d].index,a.nc.data[f].index,a.ob)}Di(a);c&&Ng(a.ob,Ei)}function Fi(a,c){this.wb=a;this.Ph=c}q(Fi,Pg);Fi.prototype.oo=function(a,c,b){return this.Ph&&this.wb.Ya.data[b]&65536?this.Ph.oo(a,this.wb,b):!0};p("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle",Fi.prototype.oo);
Fi.prototype.ym=function(a,c,b){var d=new r,e=this.wb.Pb.data[b],f=new r;c=a.ac(e,f,c);if(c<this.wb.Td&&this.oo(a,this.wb,b)){var h=a.Nb(),k=h.Le(),l=h.je(),m=h.ki()-l*h.Qn().Ze(),l=0<l?1/l:0,m=0<m?1/m:0,n=this.wb.Ya.data[b]&4?0:Gi(this.wb),d=x(e,k,d),d=w(d,f),d=n+l+m*d*d,e=this.wb.wc.data[Mg(this.wb.wc)];e.index=b;e.body=h;e.pg=a;e.weight=1-c*this.wb.Og;e.U.e(f.Pa());e.od=0<d?1/d:0;a=this.wb;0>=a.Kr||(++a.ef.data[b],2===a.ef.data[b]&&(++a.ff.data[b],a.ff.data[b]>a.Kr&&(a.fn.data[Mg(a.fn)]=b)),a.Af.data[b]=
a.wk)}};p("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle",Fi.prototype.ym);
X.prototype.gh=function(a){var c=new ee;if(0!==this.n){this.Nd.data&&Hi(this,a);this.Jc&2&&Fh(this);if(this.rr){for(var b=this.Jc=0;b<this.n;b++)this.Jc|=this.Ya.data[b];this.rr=!1}if(this.Au){this.Oh=0;for(var d=this.jf;d;d=d.ud())this.Oh|=d.Eb;this.Au=!1}if(!this.Ju)for(this.ir=0;this.ir<a.bg;this.ir++){++this.wk;var e=c.e(a);e.Ib/=a.bg;e.Uc*=a.bg;Jh(this,!1);var f=new Jc,h=new ph;if(null!==(this.Jc&16384?this.j.jb.Qh:null)){debugger;h.S(this.wc,this.Ya)}if(0<this.Kr)for(var k=this.Rc(),l=0;l<k;l++)this.ef.data[l]=
0,this.wk>this.Af.data[l]+1&&(this.ff.data[l]=0);this.wc.count=0;this.fn.count=0;this.Sb(f);this.j.hg(new Fi(this,this.Jc&65536?this.j.jb.Ph:null),f);this.Db.km&&Ii(this);for(var m=0;m<this.n;m++)this.pf[m]=0;for(m=0;m<this.wc.count;m++){var n=this.wc.data[m],t=n.index,z=n.weight;this.pf[t]+=z}for(m=0;m<this.ob.count;m++){var n=this.ob.data[m],t=n.X,B=n.aa,z=n.weight;this.pf[t]+=z;this.pf[B]+=z}if(this.Oh&16){for(var O=[],ia=0,aa=0;aa<this.ob.count;aa++){var ua=this.ob.data[aa],Fa=ua.X,na=ua.aa,lb=
this.Dc[Fa],Ya=this.Dc[na];lb&&lb===Ya&&lb.Eb&16&&(O[ia++]=ua)}for(var Za=[],mb=0,Na=this.jf;Na;Na=Na.ud())if(Na.Eb&16){Za[mb++]=Na;this.Kh(Na,Na.Eb&-17);for(var Oa=Na.Kb;Oa<Na.zc;Oa++)this.Ld[Oa]=0}for(aa=0;aa<ia;aa++){var ua=O[aa],Fa=ua.X,na=ua.aa,Lb=ua.weight;this.Ld[Fa]+=Lb;this.Ld[na]+=Lb}for(Oa=0;Oa<mb;Oa++)for(Na=Za[Oa],Oa=Na.Kb;Oa<Na.zc;Oa++)Lb=this.Ld[Oa],this.Oc[Oa]=.8>Lb?0:1E37;for(var nc=Qa(this.n)>>0,bb=0;bb<nc;bb++){for(var $a=!1,aa=0;aa<ia;aa++){var ua=O[aa],Fa=ua.X,na=ua.aa,ac=1-ua.weight,
bc=this.Oc[Fa],Kc=this.Oc[na],cm=Kc+ac,dm=bc+ac;bc>cm&&(this.Oc[Fa]=cm,$a=!0);Kc>dm&&(this.Oc[na]=dm,$a=!0)}if(!$a)break}for(Oa=0;Oa<mb;Oa++)for(Na=Za[Oa],Oa=Na.Kb;Oa<Na.zc;Oa++)this.Oc[Oa]=1E37>this.Oc[Oa]?this.Oc[Oa]*this.Td:0}if(this.Jc&4096){Kh(this,0,this.n,new Ci(this.Ya));for(var Uh=0;Uh<this.n;Uh++)this.Ya.data[Uh]&=-4097;this.Jc&=-4097}if(this.xl){for(var Hq=this.Hb.data,Iq=e.Ib*Gi(this),Vh=0;Vh<this.n;Vh++)Hq[Vh].wa(Iq,this.tg[Vh]);this.xl=!1}if(this.Jc&32){for(var em=new r,fm=new r,Jq=
this.Pb.data,hg=this.Hb.data,gm=this.Db.gs,Kq=Gi(this),Bf=0;Bf<this.wc.count;Bf++){var Te=this.wc.data[Bf],Cf=Te.index;if(this.Ya.data[Cf]&32){var Yg=Te.body,sj=Te.weight,Lq=Te.od,hm=Jq[Cf],tj=x(Yg.Dh(hm,u),hg[Cf],em),Zg=qb(gm*Lq*sj,tj,fm);hg[Cf].wa(Kq,Zg);Yg.qf(Zg.Pa(),hm,!0)}}for(Bf=0;Bf<this.ob.count;Bf++)Te=this.ob.data[Bf],Te.Ea&32&&(Cf=Te.X,Yg=Te.aa,sj=Te.weight,tj=x(hg[Yg],hg[Cf],em),Zg=qb(gm*sj,tj,fm),hg[Cf].Qa(Zg),hg[Yg].Ob(Zg))}if(this.Jc&8192)for(var Mq=new r,im=this.Hb.data,Nq=this.Db.Ur*
this.Td*e.Uc,uj=0;uj<this.ob.count;uj++){var $g=this.ob.data[uj];if($g.Ea&8192){var jm=$g.X,km=$g.aa;if(this.Dc[jm]!==this.Dc[km]){var lm=qb(Nq*$g.weight,$g.U,Mq);im[jm].Ob(lm);im[km].Qa(lm)}}}if(this.Jc&64){for(var mm=new r,Oq=this.Pb.data,vj=this.Hb.data,nm=this.Db.Sr*this.Td*e.Uc,Pq=Gi(this),Df=0;Df<this.wc.count;Df++){var le=this.wc.data[Df],ah=le.index;if(this.Ya.data[ah]&64){var bh=le.weight;if(.25<bh){var wj=le.body,Qq=Oq[ah],xj=le.U,ch=qb(nm*le.od*(bh-.25),xj,mm);vj[ah].mb(Pq,ch);wj.qf(ch,
Qq,!0)}}}for(Df=0;Df<this.ob.count;Df++)le=this.ob.data[Df],le.Ea&64&&(bh=le.weight,.25<bh&&(ah=le.X,wj=le.aa,xj=le.U,ch=qb(nm*(bh-.25),xj,mm),vj[ah].Ob(ch),vj[wj].Qa(ch)))}if(this.Jc&128){for(var Rq=e,Sq=new r,Tq=new r,Uq=new r,om=this.Hb.data,Wh=0;Wh<this.n;Wh++)this.jh[Wh]=ab.za(),this.jh[Wh].ba();for(var Ef=0;Ef<this.ob.count;Ef++){var me=this.ob.data[Ef];if(me.Ea&128){var dh=me.X,eh=me.aa,Xh=me.weight,Yh=me.U,pm=qb((1-Xh)*Xh,Yh,Sq);this.jh[dh].Ob(pm);this.jh[eh].Qa(pm)}}for(var yj=this.Td*Rq.Uc,
Vq=this.Db.ds*yj,Wq=this.Db.cs*yj,Xq=.5*yj,Ef=0;Ef<this.ob.count;Ef++)if(me=this.ob.data[Ef],me.Ea&128){var dh=me.X,eh=me.aa,Xh=me.weight,Yh=me.U,Yq=this.pf[dh]+this.pf[eh],Zq=x(this.jh[eh],this.jh[dh],Tq),$q=Ia(Vq*(Yq-2)+Wq*v(Zq,Yh),Xq)*Xh,qm=qb($q,Yh,Uq);om[dh].Ob(qm);om[eh].Qa(qm)}}if(this.Oh&1){var ar=e,br=new r,rm=this.Hb.data;this.Oc=Gh(this,this.Oc);for(var cr=ar.Uc*this.Db.xq,zj=0;zj<this.ob.count;zj++){var Zh=this.ob.data[zj],Aj=Zh.X,Bj=Zh.aa;if(this.Dc[Aj]!==this.Dc[Bj]){var sm=qb(cr*(this.Oc[Aj]+
this.Oc[Bj])*Zh.weight,Zh.U,br);rm[Aj].Ob(sm);rm[Bj].Qa(sm)}}}if(this.Jc&256){var tm=Math.floor(128*this.Db.iq);if(tm)for(var Cj=0;Cj<this.ob.count;Cj++){var um=this.ob.data[Cj],vm=um.X,wm=um.aa;this.Ya.data[vm]&this.Ya.data[wm]&256&&$f(this.ld.data[vm],this.ld.data[wm],tm)}}for(var dr=new r,er=this.Hb.data,fr=qb(e.Ib*this.Db.Sf,this.j.Hs(),dr),Dj=0;Dj<this.n;Dj++)er[Dj].Qa(fr);if(this.Jc&2048){var gr=e;this.qe=Gh(this,this.qe);for(var xm=this.Db.fa*Ji(this,gr),hr=this.Db.as*xm,ir=.25*xm,jr=this.Db.$r,
ym=0;ym<this.Db.wn;ym++){for(var Be=0;Be<this.n;Be++)this.Ld[Be]=0;for(var Fj=0;Fj<this.ob.count;Fj++){var $h=this.ob.data[Fj];if($h.Ea&2048){var Gj=$h.X,Hj=$h.aa,fh=$h.weight;this.Ld[Gj]+=fh*this.qe[Hj];this.Ld[Hj]+=fh*this.qe[Gj]}}for(Be=0;Be<this.n;Be++)fh=this.pf[Be],this.qe[Be]=this.Ya.data[Be]&2048?Ka((this.Ld[Be]+hr*(fh-1))/(fh+jr),0,ir):0}}for(var zm=e,Am=new r,kr=this.Pb.data,Ij=this.Hb.data,Bm=this.Db.fa*Ji(this,zm),Cm=this.Db.Tr*Bm,lr=.25*Bm,Wc=0;Wc<this.n;Wc++){var ig=this.pf[Wc],gh=Cm*
Ja(0,ig-1);this.Ld[Wc]=Ia(gh,lr)}if(this.Jc&192)for(Wc=0;Wc<this.n;Wc++)this.Ya.data[Wc]&192&&(this.Ld[Wc]=0);if(this.Jc&2048)for(Wc=0;Wc<this.n;Wc++)this.Ya.data[Wc]&2048&&(this.Ld[Wc]+=this.qe[Wc]);for(var Dm=zm.Ib/(this.Db.fa*this.Td),mr=Gi(this),Ff=0;Ff<this.wc.count;Ff++){var Ce=this.wc.data[Ff],jg=Ce.index,ai=Ce.body,ig=Ce.weight,nr=Ce.od,Jj=Ce.U,or=kr[jg],gh=this.Ld[jg]+Cm*ig,hh=qb(Dm*ig*nr*gh,Jj,Am);Ij[jg].mb(mr,hh);ai.qf(hh,or,!0)}for(Ff=0;Ff<this.ob.count;Ff++)Ce=this.ob.data[Ff],jg=Ce.X,
ai=Ce.aa,ig=Ce.weight,Jj=Ce.U,gh=this.Ld[jg]+this.Ld[ai],hh=qb(Dm*ig*gh,Jj,Am),Ij[jg].Ob(hh),Ij[ai].Qa(hh);for(var Em=new r,Fm=new r,pr=this.Pb.data,kg=this.Hb.data,Gm=this.Db.cl,Hm=1/(this.Td*e.Uc),qr=Gi(this),Gf=0;Gf<this.wc.count;Gf++){var De=this.wc.data[Gf],lg=De.index,ih=De.body,Kj=De.weight,rr=De.od,jh=De.U,Im=pr[lg],Lj=x(ih.Dh(Im,u),kg[lg],Em),Hf=v(Lj,jh);if(0>Hf){var Mj=Ja(Gm*Kj,Ia(-Hm*Hf,.5)),kh=qb(Mj*rr*Hf,jh,Fm);kg[lg].wa(qr,kh);ih.qf(kh.Pa(),Im,!0)}}for(Gf=0;Gf<this.ob.count;Gf++)De=
this.ob.data[Gf],lg=De.X,ih=De.aa,Kj=De.weight,jh=De.U,Lj=x(kg[ih],kg[lg],Em),Hf=v(Lj,jh),0>Hf&&(Mj=Ja(Gm*Kj,Ia(-Hm*Hf,.5)),kh=qb(Mj*Hf,jh,Fm),kg[lg].Qa(kh),kg[ih].Ob(kh));if(this.Jc&2048)for(var sr=new r,tr=new r,Jm=this.Hb.data,ur=this.Pb.data,vr=Gi(this),Nj=0;Nj<this.wc.count;Nj++){var bi=this.wc.data[Nj],ci=bi.index;if(this.Ya.data[ci]&2048){var Km=bi.body,wr=bi.od,Lm=bi.U,Mm=ur[ci],xr=x(Km.Dh(Mm,u),Jm[ci],sr),Nm=v(xr,Lm);if(0>Nm){var Om=qb(.5*wr*Nm,Lm,tr);Jm[ci].wa(vr,Om);Km.qf(Om.Pa(),Mm,!0)}}}if(this.Jc&
16)for(var di=e,yr=new r,zr=new r,Ar=new r,Br=new Rb,Mc=new r,Oj=this.Pb.data,Pj=this.Hb.data,Cr=di.Uc*this.Db.yq,Qj=0;Qj<this.Ue.count;Qj++){var lf=this.Ue.data[Qj];if(lf.Ea&16){var Pm=lf.X,Qm=lf.aa,Rm=lf.qg,Rj=lf.lp,Sj=lf.mp,Tj=lf.np,Ee=yr.e(Oj[Pm]),Fe=zr.e(Oj[Qm]),Ge=Ar.e(Oj[Rm]),Sm=Pj[Pm],Tm=Pj[Qm],Um=Pj[Rm];Ee.wa(di.Ib,Sm);Fe.wa(di.Ib,Tm);Ge.wa(di.Ib,Um);var Uj=(Ee.x+Fe.x+Ge.x)/3,Vj=(Ee.y+Fe.y+Ge.y)/3;Ee.x-=Uj;Ee.y-=Vj;Fe.x-=Uj;Fe.y-=Vj;Ge.x-=Uj;Ge.y-=Vj;var Xc=Br;Xc.Lc=w(Rj,Ee)+w(Sj,Fe)+w(Tj,
Ge);Xc.V=v(Rj,Ee)+v(Sj,Fe)+v(Tj,Ge);var ei=Pa(Xc.Lc*Xc.Lc+Xc.V*Xc.V);isFinite(ei)||(ei=1.9817753699999998E19);Xc.Lc*=ei;Xc.V*=ei;Xc.fb=Math.atan2(Xc.Lc,Xc.V);var Wj=Cr*lf.Ti;y(Xc,Rj,Mc);x(Mc,Ee,Mc);qb(Wj,Mc,Mc);Sm.Qa(Mc);y(Xc,Sj,Mc);x(Mc,Fe,Mc);qb(Wj,Mc,Mc);Tm.Qa(Mc);y(Xc,Tj,Mc);x(Mc,Ge,Mc);qb(Wj,Mc,Mc);Um.Qa(Mc)}}if(this.Jc&8)for(var Xj=e,Dr=new r,Er=new r,Fr=new r,Gr=new r,Vm=this.Pb.data,Wm=this.Hb.data,Hr=Xj.Uc*this.Db.Zr,Yj=0;Yj<this.Ec.count;Yj++){var lh=this.Ec.data[Yj];if(lh.Ea&8){var Xm=
lh.X,Ym=lh.aa,Zm=Dr.e(Vm[Xm]),$m=Er.e(Vm[Ym]),an=Wm[Xm],bn=Wm[Ym];Zm.wa(Xj.Ib,an);$m.wa(Xj.Ib,bn);var cn=x($m,Zm,Fr),dn=cn.qc(),en=qb(Hr*lh.Ti*(lh.vf-dn)/dn,cn,Gr);an.Ob(en);bn.Qa(en)}}for(var Ir=this.Hb.data,fn=Ji(this,e),Zj=0;Zj<this.n;Zj++){var ak=Ir[Zj],gn=v(ak,ak);gn>fn&&ak.Ia(Qa(fn/gn))}if(this.Oh&2){for(var hn=new r,jn=new r,Jr=new r,kn=new r,mg=[0],ng=[0],og=[0],mh=[0],nh=[0],oh=[0],bk=this.Pb.data,ln=this.Db.cl,If=0;If<this.wc.count;If++){var Ue=this.wc.data[If],He=Ue.index,Ie=this.Dc[He];
if(Ki(Ie)){var Kd=Ue.body,ne=Ue.U,ck=Ue.weight,Je=bk[He],dk=x(Kd.Dh(Je,hn),Ie.Dh(Je,jn),kn),qh=v(dk,ne);if(0>qh){Li(this,mg,ng,og,!0,Ie,He,Je,ne);Mi(mh,nh,oh,Kd.je(),Kd.ki()-Kd.je()*Kd.Qn().Ze(),Kd.Le(),Je,ne);var Kr=ln*Ia(ck,1),mn=og[0],nn=oh[0],on=mg[0]+ng[0]*mn*mn+mh[0]+nh[0]*nn*nn,rh=Kr*(0<on?qh/on:0);Ni(this,mg[0],ng[0],og[0],!0,Ie,He,rh,ne);Kd.qf(qb(-rh,ne,u),Je,!0)}}}for(If=0;If<this.ob.count;If++){var Ue=this.ob.data[If],He=Ue.X,Kd=Ue.aa,ne=Ue.U,ck=Ue.weight,Ie=this.Dc[He],sh=this.Dc[Kd],
hk=Ki(Ie),ik=Ki(sh);if(Ie!==sh&&(hk||ik)&&(Je=vb(bk[He],bk[Kd],Jr),dk=x(this.ie(sh,Kd,Je,hn),this.ie(Ie,He,Je,jn),kn),qh=v(dk,ne),0>qh)){Li(this,mg,ng,og,hk,Ie,He,Je,ne);Li(this,mh,nh,oh,ik,sh,Kd,Je,ne);var pn=og[0],qn=oh[0],rn=mg[0]+ng[0]*pn*pn+mh[0]+nh[0]*qn*qn,rh=ln*ck*(0<rn?qh/rn:0);Ni(this,mg[0],ng[0],og[0],hk,Ie,He,rh,ne);Ni(this,mh[0],nh[0],oh[0],ik,sh,Kd,-rh,ne)}}}if(this.Jc&1024){for(var sn=e,Lr=new Jc,Mr=new r,Nr=new r,Or=new r,Pr=new r,Qr=new r,Rr=new r,Sr=new r,Tr=new r,Ur=new r,Vr=new r,
Wr=new r,jk=this.Pb.data,tn=this.Hb.data,fi=0;fi<this.n;fi++)0!==(this.Ya.data[fi]&1028)&&tn[fi].ba();for(var kk=2.5*sn.Ib,gi=Cg(this),lk=0;lk<this.Ec.count;lk++){var mk=this.Ec.data[lk];if(mk.Ea&1024){var nk=mk.X,ok=mk.aa,th=jk[nk],hi=jk[ok],pk=Lr;ib(th,hi,pk.lowerBound);jb(th,hi,pk.upperBound);for(var un=this.Dc[nk],vn=this.Dc[ok],ii=this.ie(un,nk,th,Mr),Xr=this.ie(vn,ok,hi,Nr),uh=x(hi,th,Or),Jf=x(Xr,ii,Pr),Yr=Qg(this,pk),pg;0<=(pg=Yr.ud());){var qk=jk[pg],Ke=this.Dc[pg];if(un!==Ke&&vn!==Ke){var rk=
this.ie(Ke,pg,qk,Qr),vh=x(qk,th,Rr),wh=x(rk,ii,Sr),ji=w(Jf,wh),qg=w(uh,wh)-w(vh,Jf),wn=w(uh,vh),oe,md,Zd=Tr,rg=Ur;if(0===ji){if(0===qg)continue;md=-wn/qg;if(!(0<=md&&md<kk))continue;sb(uh,md,Jf,Zd);sb(vh,md,wh,rg);oe=v(Zd,rg)/v(Zd,Zd);if(!(0<=oe&&1>=oe))continue}else{var xn=qg*qg-4*wn*ji;if(0>xn)continue;var yn=Qa(xn),ki=(-qg-yn)/(2*ji),li=(-qg+yn)/(2*ji);if(ki>li)var Zr=ki,ki=li,li=Zr;md=ki;sb(uh,md,Jf,Zd);sb(vh,md,wh,rg);oe=v(Zd,rg)/v(Zd,Zd);if(!(0<=md&&md<kk&&0<=oe&&1>=oe)){md=li;if(!(0<=md&&md<
kk))continue;sb(uh,md,Jf,Zd);sb(vh,md,wh,rg);oe=v(Zd,rg)/v(Zd,Zd);if(!(0<=oe&&1>=oe))continue}}var mi=Vr;mi.x=ii.x+oe*Jf.x-rk.x;mi.y=ii.y+oe*Jf.y-rk.y;var sk=qb(gi,mi,Wr);if(Ki(Ke)){var gi=Ke.je(),zn=Ke.ki();0<gi&&Ke.fc.wa(1/gi,sk);0<zn&&(Ke.ab+=w(x(qk,Ke.Yi(),u),sk)/zn)}else tn[pg].Qa(mi);this.ht(pg,sk.Ia(-sn.Uc))}}}}}var tk=e,$r=this.Pb.data,as=this.Hb.data,Ld=new Jc;Ld.lowerBound.x=1E37;Ld.lowerBound.y=1E37;Ld.upperBound.x=-1E37;Ld.upperBound.y=-1E37;for(var ni=0;ni<this.n;ni++){var An=as[ni],
sg=$r[ni],Bn=sg.x+tk.Ib*An.x,Cn=sg.y+tk.Ib*An.y;Ld.lowerBound.x=Ia(Ld.lowerBound.x,Ia(sg.x,Bn));Ld.lowerBound.y=Ia(Ld.lowerBound.y,Ia(sg.y,Cn));Ld.upperBound.x=Ja(Ld.upperBound.x,Ja(sg.x,Bn));Ld.upperBound.y=Ja(Ld.upperBound.y,Ja(sg.y,Cn))}this.j.hg(new Oi(this,tk),Ld);if(this.Oh&2)for(var ug=e,bs=new r,cs=new Rb,ds=new Vb,es=new Vb,fs=this.Pb.data,gs=this.Hb.data,Md=this.jf;Md;Md=Md.ud())if(Md.Eb&2){Md.Sj();var uk=cs;uk.Ba(ug.Ib*Md.ab);var hs=pb(Md.pj,x(qb(ug.Ib,Md.fc,u),y(uk,Md.pj,db),u),bs),vg=
ds;vg.Nw(hs,uk);Zb(vg,Md.wg,Md.wg);var xh=es;xh.sa.x=ug.Uc*vg.sa.x;xh.sa.y=ug.Uc*vg.sa.y;xh.ha.Lc=ug.Uc*vg.ha.Lc;xh.ha.V=ug.Uc*(vg.ha.V-1);for(var oi=Md.Kb;oi<Md.zc;oi++)Xb(xh,fs[oi],gs[oi])}if(this.Jc&4)for(var is=this.Hb.data,pi=0;pi<this.n;pi++)this.Ya.data[pi]&4&&is[pi].ba();for(var qi=0;qi<this.n;qi++)this.Pb.data[qi].wa(e.Ib,this.Hb.data[qi])}}};X.prototype.Solve=X.prototype.gh;function Oi(a,c){this.wb=a;this.xh=c}q(Oi,Pg);
Oi.prototype.ym=function(a,c,b){var d=new r,e=new r,f=new r,h=new r,k=a.Nb(),l=this.wb.Pb.data[b],m=this.wb.Hb.data[b],n=new Ic,t=new Hc;0===this.wb.ir?(d=Yb(k.Xl,l,d),0===a.$a.Ic()&&(d.Ob(k.Qn()),y(k.Xl.ha,d,d),Ub(k.La.ha,d,d),d.Qa(k.Qn())),Xb(k.La,d,t.pd)):t.pd.e(l);sb(l,this.xh.Ib,m,t.te);t.Ff=1;a.Aa(n,t,c)&&(a=n.U,e.x=(1-n.ae)*t.pd.x+n.ae*t.te.x+.008*a.x,e.y=(1-n.ae)*t.pd.y+n.ae*t.te.y+.008*a.y,f.x=this.xh.Uc*(e.x-l.x),f.y=this.xh.Uc*(e.y-l.y),this.wb.Hb.data[b].e(f),h.x=this.xh.Uc*Cg(this.wb)*
(m.x-f.x),h.y=this.xh.Uc*Cg(this.wb)*(m.y-f.y),this.wb.ht(b,h))};p("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle",Oi.prototype.ym);Oi.prototype.Hh=function(){return!1};p("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle",Oi.prototype.Hh);
function Fh(a){for(var c=0,b=[],d=0;d<a.n;d++)b[d]=-1;for(var e=0,d=0;d<a.n;d++){var f=a.Ya.data[d];if(f&2){var h=a.j.Lg;f&512&&h&&h.pt(a,d);a.Od.data&&(h=a.Od.data[d])&&(h.ye=-1,a.Od.data[d]=null);b[d]=-1}else{b[d]=c;if(d!==c){if(a.Od.data){if(h=a.Od.data[d])h.ye=c;a.Od.data[c]=h}a.Ya.data[c]=a.Ya.data[d];a.Af.data&&(a.Af.data[c]=a.Af.data[d]);a.ef.data&&(a.ef.data[c]=a.ef.data[d]);a.ff.data&&(a.ff.data[c]=a.ff.data[d]);a.Pb.data[c].e(a.Pb.data[d]);a.Hb.data[c].e(a.Hb.data[d]);a.Dc[c]=a.Dc[d];a.xl&&
a.tg[c].e(a.tg[d]);a.qe&&(a.qe[c]=a.qe[d]);a.Oc&&(a.Oc[c]=a.Oc[d]);a.ld.data&&a.ld.data[c].e(a.ld.data[d]);a.re.data&&(a.re.data[c]=a.re.data[d]);a.Nd.data&&(a.Nd.data[c]=a.Nd.data[d])}c++;e|=f}}for(d=0;d<a.nc.count;d++)f=a.nc.data[d],f.index=b[f.index];Ng(a.nc,function(a){return 0>a.index});for(d=0;d<a.ob.count;d++)f=a.ob.data[d],f.X=b[f.X],f.aa=b[f.aa];Ng(a.ob,function(a){return 0>a.X||0>a.aa});for(d=0;d<a.wc.count;d++)f=a.wc.data[d],f.index=b[f.index];Ng(a.wc,function(a){return 0>a.index});for(d=
0;d<a.Ec.count;d++)f=a.Ec.data[d],f.X=b[f.X],f.aa=b[f.aa];Ng(a.Ec,function(a){return 0>a.X||0>a.aa});for(d=0;d<a.Ue.count;d++)f=a.Ue.data[d],f.X=b[f.X],f.aa=b[f.aa],f.qg=b[f.qg];Ng(a.Ue,function(a){return 0>a.X||0>a.aa||0>a.qg});if(a.ze.data)for(f=d=0;f<a.n;f++)h=b[a.ze.data[f]],-1!==h&&(a.ze.data[d++]=h);for(f=a.jf;f;f=f.ud()){for(var h=c,k=0,l=!1,d=f.Kb;d<f.zc;d++){var m=b[d];0<=m?(h=Ia(h,m),k=Ja(k,m+1)):l=!0}h<k?(f.Kb=h,f.zc=k,l&&f.Eb&1&&a.Kh(f,f.Eb|16)):(f.Kb=0,f.zc=0,f.Eb&4||a.Kh(f,f.Eb|8))}a.n=
c;a.Jc=e;a.rr=!1;for(f=a.jf;f;)c=f.ud(),f.Eb&8&&a.Kp(f),f=c}function Hi(a,c){a.kn=a.kn+c.Ib/a.Db.Bm*Math.pow(2,32)>>0;var b=a.kn>>32>>0,d=a.Nd.data,e=a.ze.data,f=a.Rc();a.gu&&(Eg(e,f,function(a,b){var c=d[a],e=d[b],f=0>=c;return f===0>=e?c>e:f}),a.gu=!1);for(--f;0<=f;--f){var h=e[f],k=d[h];if(b<k||0>=k)break;a.rm(h)}}
function Hh(a,c,b,d){function e(a){return a<c?a:a<b?a+d-b:a<d?a+c-b:a}if(c!==b&&b!==d){Kg(a.Ya.data,c,b,d);a.Af.data&&Kg(a.Af.data,c,b,d);a.ef.data&&Kg(a.ef.data,c,b,d);a.ff.data&&Kg(a.ff.data,c,b,d);Kg(a.Pb.data,c,b,d);Kg(a.Hb.data,c,b,d);Kg(a.Dc,c,b,d);a.xl&&Kg(a.tg,c,b,d);a.qe&&Kg(a.qe,c,b,d);a.Oc&&Kg(a.Oc,c,b,d);a.ld.data&&Kg(a.ld.data,c,b,d);a.re.data&&Kg(a.re.data,c,b,d);if(a.Od.data){Kg(a.Od.data,c,b,d);for(var f=c;f<d;++f){var h=a.Od.data[f];h&&(h.ye=e(h.ye))}}if(a.Nd.data){Kg(a.Nd.data,c,
b,d);for(var h=a.Rc(),k=a.ze.data,f=0;f<h;++f)k[f]=e(k[f])}for(f=0;f<a.nc.count;f++)h=a.nc.data[f],h.index=e(h.index);for(f=0;f<a.ob.count;f++)h=a.ob.data[f],h.X=e(h.X),h.aa=e(h.aa);for(f=0;f<a.wc.count;f++)h=a.wc.data[f],h.index=e(h.index);for(f=0;f<a.Ec.count;f++)h=a.Ec.data[f],h.X=e(h.X),h.aa=e(h.aa);for(f=0;f<a.Ue.count;f++)h=a.Ue.data[f],h.X=e(h.X),h.aa=e(h.aa),h.qg=e(h.qg);for(a=a.jf;a;a=a.ud())a.Kb=e(a.Kb),a.zc=e(a.zc-1)+1}}function Ji(a,c){var b=a.Td*c.Uc;return b*b}
function Cg(a){var c=.75*a.Td;return a.Db.fa*c*c}function Gi(a){var c=1/.75*a.Og;return a.Fx*c*c}X.prototype.Kh=function(a,c){var b=a.Eb;(b^c)&1&&(c|=16);b&~c&&(this.Au=!0);~this.Oh&c&&(c&1&&(this.Oc=Gh(this,this.Oc)),this.Oh|=c);a.Eb=c};
function Ii(a){Eg(a.wc.data,a.wc.count,Pi);var c=new r,b=new r,d=new r,e=-1,f=0,h=0;a.wc.count=Fg(a.wc.data,function(k){k.index!==e&&(f=0,e=k.index);if(3<f++)return++h,!0;var l=c.e(k.U);l.Ia(a.Td*(1-k.weight));l=pb(a.Pb.data[k.index],l,b);if(!k.pg.Sc(l)){for(var m=k.pg.$a.rf(),n=0;n<m;n++)if(.008>k.pg.ac(l,d,n))return!1;++h;return!0}return!1},a.wc.count)}function Pi(a,c){return a.index===c.index?a.weight>c.weight:a.index<c.index}
function Th(a){if(!a.xl){for(var c=0;c<a.n;c++)a.tg[c].ba();a.xl=!0}}function Ki(a){return null!==a&&0!==(a.Eb&2)}X.prototype.ie=function(a,c,b,d){return Ki(a)?a.Dh(b,d):d.e(this.Hb.data[c])};function Mi(a,c,b,d,e,f,h,k){a[0]=0<d?1/d:0;c[0]=0<e?1/e:0;b[0]=w(x(h,f,u),k)}function Li(a,c,b,d,e,f,h,k,l){e?Mi(c,b,d,f.je(),f.ki(),f.Yi(),k,l):Mi(c,b,d,a.Ya.data[h]&4?0:Cg(a),0,k,k,l)}function Ni(a,c,b,d,e,f,h,k,l){e?(f.fc.wa(k*c,l),f.ab+=k*d*b):a.Hb.data[h].wa(k*c,l)};function Qi(){}p("box2d.Testbed.EmittedParticleCallback",Qi);Qi.prototype.zw=function(){};function Ri(){this.Jt()}p("box2d.Testbed.RadialEmitter",Ri);g=Ri.prototype;g.W=null;g.Xt=null;g.wh=0;g.wl=null;g.rj=1;g.Zq=0;g.hu=0;g.jk=null;g.Jt=function(){this.tr=new r;this.Yo=new r;this.wl=new r;this.Zt=new Yf};g.kx=function(){Si(this,null)};g.gj=function(a){this.tr.e(a)};g.ad=function(a){return a.e(this.tr)};g.fj=function(a){this.hu=a};g.Rs=function(){return this.hu};g.cj=function(a){this.Zt.e(a)};
g.Xv=function(a){return a.e(this.Zt)};g.fw=function(){return this.W};function Si(a,c){a.jk&&a.jk.Kh(a.jk.Eb&-5);a.jk=c;a.jk&&a.jk.Kh(a.jk.Eb|4)}
g.C=function(a,c,b){var d=0;this.Zq+=this.rj*a;a=new cg;a.color.e(this.Zt);a.Ea=this.hu;for(a.group=this.jk;1<this.Zq;){--this.Zq;var e=2*Math.random()*fa,f=Math.random(),e=new r(Math.sin(e),Math.cos(e));a.position.h(this.tr.x+e.x*f*this.wl.x,this.tr.y+e.y*f*this.wl.y);a.cg.e(this.Yo);0!==this.wh&&a.cg.wa(this.wh,e);f=this.W.pm(a);this.Xt&&this.Xt.zw(this.W,f);null!==c&&d<b&&(c[d]=f);++d}return d};function Ti(a){this.wf=sa(a)}g=Ti.prototype;g.wf=null;g.sc=0;g.mj=0;g.ml=0;g.Wd=function(a){if(this.mj>=this.ml){for(var c=this.sc;c<this.mj;c++)this.wf[c-this.sc]=this.wf[c];this.mj-=this.sc;this.sc=0;this.mj>=this.ml&&(0<this.ml?(sa(this.ml),this.ml*=2):(sa(1),this.ml=1))}this.wf[this.mj]=a;this.mj++};g.xm=function(){this.wf[this.sc]=null;this.sc++};function zi(a){this.Jo=sa(a,function(){return new Ui})}p("box2d.b2VoronoiDiagram",zi);zi.prototype.Jo=null;zi.prototype.m_generatorBuffer=zi.prototype.Jo;zi.prototype.lu=0;zi.prototype.Sd=0;zi.prototype.xi=0;zi.prototype.Mg=null;function Ui(){this.jc=new r}Ui.prototype.jc=null;Ui.prototype.tag=0;function Vi(a,c,b,d){this.Kj=a;this.Ru=c;this.mu=b;this.ku=d}Vi.prototype.Kj=0;Vi.prototype.Ru=0;Vi.prototype.mu=0;Vi.prototype.ku=null;
zi.prototype.xv=function(a,c,b){var d=this.Jo[this.lu++];d.jc.e(a);d.tag=c;d.$l=b};zi.prototype.AddGenerator=zi.prototype.xv;
zi.prototype.Jk=function(a,c){for(var b=1/a,d=new r(1E37,1E37),e=new r(-1E37,-1E37),f=0,h=0;h<this.lu;h++){var k=this.Jo[h];k.$l&&(ib(d,k.jc,d),jb(e,k.jc,e),++f)}if(0===f)this.xi=this.Sd=0;else{d.x-=c;d.y-=c;e.x+=c;e.y+=c;this.Sd=1+Math.floor(b*(e.x-d.x));this.xi=1+Math.floor(b*(e.y-d.y));this.Mg=sa(this.Sd*this.xi);e=new Ti(4*this.Sd*this.xi);for(h=0;h<this.lu;h++){k=this.Jo[h];k.jc.Ob(d).Ia(b);var f=Math.floor(k.jc.x),l=Math.floor(k.jc.y);0<=f&&0<=l&&f<this.Sd&&l<this.xi&&e.Wd(new Vi(f,l,f+l*this.Sd,
k))}for(;e.sc!==e.mj;)h=e.wf[e.sc],f=h.Kj,l=h.Ru,b=h.mu,k=h.ku,e.xm(),this.Mg[b]||(this.Mg[b]=k,0<f&&e.Wd(new Vi(f-1,l,b-1,k)),0<l&&e.Wd(new Vi(f,l-1,b-this.Sd,k)),f<this.Sd-1&&e.Wd(new Vi(f+1,l,b+1,k)),l<this.xi-1&&e.Wd(new Vi(f,l+1,b+this.Sd,k)));for(l=0;l<this.xi;l++)for(f=0;f<this.Sd-1;f++)b=f+l*this.Sd,d=this.Mg[b],h=this.Mg[b+1],d!==h&&(e.Wd(new Vi(f,l,b,h)),e.Wd(new Vi(f+1,l,b+1,d)));for(l=0;l<this.xi-1;l++)for(f=0;f<this.Sd;f++)b=f+l*this.Sd,d=this.Mg[b],h=this.Mg[b+this.Sd],d!==h&&(e.Wd(new Vi(f,
l,b,h)),e.Wd(new Vi(f,l+1,b+this.Sd,d)));for(;e.sc!==e.mj;)if(h=e.wf[e.sc],f=h.Kj,l=h.Ru,b=h.mu,h=h.ku,e.xm(),d=this.Mg[b],d!==h){var k=d.jc.x-f,d=d.jc.y-l,m=h.jc.x-f,n=h.jc.y-l;k*k+d*d>m*m+n*n&&(this.Mg[b]=h,0<f&&e.Wd(new Vi(f-1,l,b-1,h)),0<l&&e.Wd(new Vi(f,l-1,b-this.Sd,h)),f<this.Sd-1&&e.Wd(new Vi(f+1,l,b+1,h)),l<this.xi-1&&e.Wd(new Vi(f,l+1,b+this.Sd,h)))}}};zi.prototype.Generate=zi.prototype.Jk;
zi.prototype.cw=function(a){for(var c=0;c<this.xi-1;c++)for(var b=0;b<this.Sd-1;b++){var d=b+c*this.Sd,e=this.Mg[d],f=this.Mg[d+1],h=this.Mg[d+this.Sd],d=this.Mg[d+1+this.Sd];f!==h&&(e!==f&&e!==h&&(e.$l||f.$l||h.$l)&&a(e.tag,f.tag,h.tag),d!==f&&d!==h&&(e.$l||f.$l||h.$l)&&a(f.tag,d.tag,h.tag))}};zi.prototype.GetNodes=zi.prototype.cw;function Wi(){this.dg=[];this.Tu=[];this.Vj=new r}p("box2d.b2RopeDef",Wi);g=Wi.prototype;g.dg=null;g.count=0;g.Tu=null;g.Vj=null;g.nx=.1;g.sx=.9;g.tx=.1;function Xi(){this.ph=new r}p("box2d.b2Rope",Xi);g=Xi.prototype;g.n=0;g.Te=null;g.vr=null;g.on=null;g.mk=null;g.Kq=null;g.Im=null;g.ph=null;g.Ax=0;g.qu=1;g.Hx=.1;g.Ys=function(){return this.n};Xi.prototype.GetVertexCount=Xi.prototype.Ys;Xi.prototype.Lz=function(){return this.Te};Xi.prototype.GetVertices=Xi.prototype.Lz;
Xi.prototype.S=function(a){this.n=a.count;this.Te=gb(this.n);this.vr=gb(this.n);this.on=gb(this.n);this.mk=ta(this.n);for(var c=0;c<this.n;++c){this.Te[c].e(a.dg[c]);this.vr[c].e(a.dg[c]);this.on[c].ba();var b=a.Tu[c];this.mk[c]=0<b?1/b:0}var d=this.n-1,b=this.n-2;this.Kq=ta(d);this.Im=ta(b);for(c=0;c<d;++c){var e=this.Te[c],f=this.Te[c+1];this.Kq[c]=xb(e,f)}for(c=0;c<b;++c)e=this.Te[c],f=this.Te[c+1],d=this.Te[c+2],e=x(f,e,u),f=x(d,f,db),this.Im[c]=Va(w(e,f),v(e,f));this.ph.e(a.Vj);this.Ax=a.nx;
this.qu=a.sx;this.Hx=a.tx};Xi.prototype.Initialize=Xi.prototype.S;Xi.prototype.C=function(a,c){if(0!==a){for(var b=Math.exp(-a*this.Ax),d=0;d<this.n;++d)this.vr[d].e(this.Te[d]),0<this.mk[d]&&this.on[d].wa(a,this.ph),this.on[d].Ia(b),this.Te[d].wa(a,this.on[d]);for(d=0;d<c;++d)this.Gt(),this.$w(),this.Gt();b=1/a;for(d=0;d<this.n;++d)qb(b,x(this.Te[d],this.vr[d],u),this.on[d])}};Xi.prototype.Step=Xi.prototype.C;
Xi.prototype.Gt=function(){for(var a=this.n-1,c=0;c<a;++c){var b=this.Te[c],d=this.Te[c+1],e=x(d,b,Yi),f=e.ic(),h=this.mk[c],k=this.mk[c+1];if(0!==h+k){var l=k/(h+k);b.mb(h/(h+k)*this.qu*(this.Kq[c]-f),e);d.wa(this.qu*l*(this.Kq[c]-f),e)}}};Xi.prototype.SolveC2=Xi.prototype.Gt;var Yi=new r;Xi.prototype.Ba=function(a){for(var c=this.n-2,b=0;b<c;++b)this.Im[b]=a};Xi.prototype.SetAngle=Xi.prototype.Ba;
Xi.prototype.$w=function(){for(var a=this.n-2,c=0;c<a;++c){var b=this.Te[c],d=this.Te[c+1],e=this.Te[c+2],f=this.mk[c],h=this.mk[c+1],k=this.mk[c+2],l=x(d,b,Zi),m=x(e,d,$i),n=l.Ze(),t=m.Ze();if(0!==n*t){var z=Va(w(l,m),v(l,m)),l=qb(-1/n,l.st(),aj),n=qb(1/t,m.st(),bj),m=cj.e(l).Pa(),t=x(l,n,dj),l=n,n=f*v(m,m)+h*v(t,t)+k*v(l,l);if(0!==n){for(var n=1/n,B=z-this.Im[c];B>fa;)z-=2*fa,B=z-this.Im[c];for(;B<-fa;)z+=2*fa,B=z-this.Im[c];z=-this.Hx*n*B;b.wa(f*z,m);d.wa(h*z,t);e.wa(k*z,l)}}}};
Xi.prototype.SolveC3=Xi.prototype.$w;var Zi=new r,$i=new r,aj=new r,bj=new r,cj=new r,dj=new r;Xi.prototype.Hk=function(a){for(var c=new xa(.4,.5,.7),b=0;b<this.n-1;++b)a.oc(this.Te[b],this.Te[b+1],c)};Xi.prototype.Draw=Xi.prototype.Hk;var ej=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function fj(a,c){return a<c?-1:a>c?1:0};var gj;a:{var hj=ba.navigator;if(hj){var ij=hj.userAgent;if(ij){gj=ij;break a}}gj=""};function jj(a,c){var b=Array.prototype.slice.call(arguments),d=b.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,c,d,k,l,m,n,t){if("%"==m)return"%";var z=b.shift();if("undefined"==typeof z)throw Error("[goog.string.format] Not enough arguments");arguments[0]=z;return kj[m].apply(null,arguments)})}
var kj={s:function(a,c,b){return isNaN(b)||""==b||a.length>=b?a:a=-1<c.indexOf("-",0)?a+Array(b-a.length+1).join(" "):Array(b-a.length+1).join(" ")+a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=c.indexOf("+")?"+":0<=c.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=0<=c.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=c.indexOf("0",
0)?"0":" ")+d},d:function(a,c,b,d,e,f,h,k){return kj.f(parseInt(a,10),c,b,d,0,f,h,k)}};kj.i=kj.d;kj.u=kj.d;function lj(a,c){this.mh=a;this.we=this.mh.getContext("2d");this.ma=c}q(lj,Ca);p("box2d.Testbed.DebugDraw",lj);lj.prototype.mh=null;lj.prototype.m_canvas=lj.prototype.mh;lj.prototype.we=null;lj.prototype.m_ctx=lj.prototype.we;lj.prototype.ma=null;lj.prototype.m_settings=lj.prototype.ma;lj.prototype.bo=function(a){var c=this.we;c.save();c.translate(a.sa.x,a.sa.y);c.rotate(a.ha.hc())};lj.prototype.PushTransform=lj.prototype.bo;lj.prototype.ao=function(){this.we.restore()};
lj.prototype.PopTransform=lj.prototype.ao;lj.prototype.Kf=function(a,c,b){if(c){var d=this.we;d.beginPath();d.moveTo(a[0].x,a[0].y);for(var e=1;e<c;e++)d.lineTo(a[e].x,a[e].y);d.closePath();d.strokeStyle=b.fg(1);d.stroke()}};lj.prototype.DrawPolygon=lj.prototype.Kf;lj.prototype.Jn=function(a,c,b){if(c){var d=this.we;d.beginPath();d.moveTo(a[0].x,a[0].y);for(var e=1;e<c;e++)d.lineTo(a[e].x,a[e].y);d.closePath();d.fillStyle=b.fg(.5);d.fill();d.strokeStyle=b.fg(1);d.stroke()}};
lj.prototype.DrawSolidPolygon=lj.prototype.Jn;lj.prototype.Ik=function(a,c,b){if(c){var d=this.we;d.beginPath();d.arc(a.x,a.y,c,0,2*fa,!0);d.strokeStyle=b.fg(1);d.stroke()}};lj.prototype.DrawCircle=lj.prototype.Ik;lj.prototype.Mp=function(a,c,b,d){if(c){var e=this.we,f=a.x;a=a.y;e.beginPath();e.arc(f,a,c,0,2*fa,!0);e.moveTo(f,a);e.lineTo(f+b.x*c,a+b.y*c);e.fillStyle=d.fg(.5);e.fill();e.strokeStyle=d.fg(1);e.stroke()}};lj.prototype.DrawSolidCircle=lj.prototype.Mp;
lj.prototype.In=function(a,c,b,d){var e=this.we,f=2*c;if(null!==b)for(var h=0;h<d;++h){var k=a[h],l=b[h];e.fillStyle="rgba("+l.Bb+","+l.yb+","+l.xb+","+l.o/255+")";e.fillRect(k.x-c,k.y-c,f,f)}else{e.fillStyle="rgba(255,255,255,0.5)";e.beginPath();for(h=0;h<d;++h)k=a[h],e.rect(k.x-c,k.y-c,f,f);e.fill()}};lj.prototype.DrawParticles=lj.prototype.In;lj.prototype.oc=function(a,c,b){var d=this.we;d.beginPath();d.moveTo(a.x,a.y);d.lineTo(c.x,c.y);d.strokeStyle=b.fg(1);d.stroke()};
lj.prototype.DrawSegment=lj.prototype.oc;lj.prototype.Np=function(a){var c=this.we;this.bo(a);c.beginPath();c.moveTo(0,0);c.lineTo(1,0);c.strokeStyle=za.fg(1);c.stroke();c.beginPath();c.moveTo(0,0);c.lineTo(0,1);c.strokeStyle=Aa.fg(1);c.stroke();this.ao(a)};lj.prototype.DrawTransform=lj.prototype.Np;lj.prototype.Ie=function(a,c,b){var d=this.we;d.fillStyle=b.fg();c*=this.ma.Bg;c/=this.ma.Tj;b=c/2;d.fillRect(a.x-b,a.y-b,c,c)};lj.prototype.DrawPoint=lj.prototype.Ie;
lj.prototype.ta=function(a,c,b,d){var e=this.we,f=jj.apply(null,Array.prototype.slice.call(arguments).slice(2));e.save();e.setTransform(1,0,0,1,0,0);e.font="18pt helvetica";e.fillStyle=lj.prototype.ta.gm.fg();e.fillText(f,a,c);e.restore()};lj.prototype.DrawString=lj.prototype.ta;lj.prototype.ta.gm=new xa(.9,.6,.6);
lj.prototype.Oj=function(a,c,b,d){var e=lj.prototype.Oj.Qi.h(a,c);x(e,this.ma.$g,e);Ub(this.ma.Ui,e,e);qb(1/this.ma.Bg,e,e);qb(this.ma.Tj,e,e);e.y*=-1;var f=lj.prototype.Oj.LB.h(.5*this.mh.width,.5*this.mh.height);pb(e,f,e);var f=this.we,h=jj.apply(null,Array.prototype.slice.call(arguments).slice(2));f.save();f.setTransform(1,0,0,1,0,0);f.font="18pt helvetica";f.fillStyle=lj.prototype.Oj.gm.fg();f.fillText(h,e.x,e.y);f.restore()};lj.prototype.DrawStringWorld=lj.prototype.Oj;lj.prototype.Oj.Qi=new r;
lj.prototype.Oj.LB=new r;lj.prototype.Oj.gm=new xa(.5,.9,.5);lj.prototype.xs=function(a,c){var b=this.we;b.strokeStyle=c.fg();b.strokeRect(a.lowerBound.x,a.lowerBound.y,a.upperBound.x-a.lowerBound.x,a.upperBound.y-a.lowerBound.y)};lj.prototype.DrawAABB=lj.prototype.xs;p("box2d.Testbed.DRAW_STRING_NEW_LINE",25);function mj(a,c){a="number"===typeof a?a:-1;var b=Math.random();return b=(("number"===typeof c?c:1)-a)*b+a}function nj(){this.$g=new r(0,20);this.Ui=new Rb(0*Ea);this.bg=Wf(10,.04,1/this.le)}p("box2d.Testbed.Settings",nj);nj.prototype.Tj=10;nj.prototype.canvasScale=nj.prototype.Tj;nj.prototype.Bg=1;nj.prototype.viewZoom=nj.prototype.Bg;nj.prototype.$g=null;nj.prototype.viewCenter=nj.prototype.$g;nj.prototype.Ui=null;nj.prototype.viewRotation=nj.prototype.Ui;
nj.prototype.le=60;nj.prototype.hz=nj.prototype.le;nj.prototype.Zg=8;nj.prototype.velocityIterations=nj.prototype.Zg;nj.prototype.zh=3;nj.prototype.positionIterations=nj.prototype.zh;nj.prototype.bg=1;nj.prototype.particleIterations=nj.prototype.bg;nj.prototype.uq=!0;nj.prototype.drawShapes=nj.prototype.uq;nj.prototype.sq=!0;nj.prototype.drawParticles=nj.prototype.sq;nj.prototype.rq=!0;nj.prototype.drawJoints=nj.prototype.rq;nj.prototype.lq=!1;nj.prototype.drawAABBs=nj.prototype.lq;
nj.prototype.pq=!1;nj.prototype.drawContactPoints=nj.prototype.pq;nj.prototype.oq=!1;nj.prototype.drawContactNormals=nj.prototype.oq;nj.prototype.nq=!1;nj.prototype.drawContactImpulse=nj.prototype.nq;nj.prototype.qq=!1;nj.prototype.drawFrictionImpulse=nj.prototype.qq;nj.prototype.mq=!1;nj.prototype.drawCOMs=nj.prototype.mq;nj.prototype.ox=!0;nj.prototype.drawControllers=nj.prototype.ox;nj.prototype.vq=!1;nj.prototype.drawStats=nj.prototype.vq;nj.prototype.tq=!1;nj.prototype.drawProfile=nj.prototype.tq;
nj.prototype.Cq=!0;nj.prototype.enableWarmStarting=nj.prototype.Cq;nj.prototype.zq=!0;nj.prototype.enableContinuous=nj.prototype.zq;nj.prototype.Bq=!1;nj.prototype.enableSubStepping=nj.prototype.Bq;nj.prototype.Aq=!0;nj.prototype.enableSleep=nj.prototype.Aq;nj.prototype.pause=!1;nj.prototype.pause=nj.prototype.pause;nj.prototype.jm=!1;nj.prototype.singleStep=nj.prototype.jm;nj.prototype.bs=!1;nj.prototype.strictContacts=nj.prototype.bs;function oj(a,c){this.name=a;this.bl=c}
p("box2d.Testbed.TestEntry",oj);oj.prototype.name="unknown";oj.prototype.name=oj.prototype.name;oj.prototype.bl=function(){};oj.prototype.createFcn=oj.prototype.bl;function pj(a){this.test=a}q(pj,ke);p("box2d.Testbed.DestructionListener",pj);pj.prototype.test=null;pj.prototype.test=pj.prototype.test;pj.prototype.co=function(a){this.test.Bf===a?this.test.Bf=null:this.test.Eg(a)};pj.prototype.SayGoodbyeJoint=pj.prototype.co;pj.prototype.$p=function(){};pj.prototype.SayGoodbyeFixture=pj.prototype.$p;
pj.prototype.eo=function(a){this.test.gg(a)};pj.prototype.SayGoodbyeParticleGroup=pj.prototype.eo;function qj(){this.U=new r;this.position=new r}p("box2d.Testbed.ContactPoint",qj);qj.prototype.Qt=null;qj.prototype.fixtureA=qj.prototype.Qt;qj.prototype.Rt=null;qj.prototype.fixtureB=qj.prototype.Rt;qj.prototype.U=new r;qj.prototype.normal=qj.prototype.U;qj.prototype.position=new r;qj.prototype.position=qj.prototype.position;qj.prototype.state=0;qj.prototype.state=qj.prototype.state;
qj.prototype.gc=0;qj.prototype.normalImpulse=qj.prototype.gc;qj.prototype.Gd=0;qj.prototype.tangentImpulse=qj.prototype.Gd;qj.prototype.Ud=0;qj.prototype.separation=qj.prototype.Ud;
function Y(a,c){var b=new Vg;this.j=new W(new r(0,-10));this.W=this.j.rs(b);this.oj=null;this.m=30;this.Bf=null;this.Xh=Array(2048);for(b=0;2048>b;++b)this.Xh[b]=new qj;this.rk=0;this.Lg=new pj(this);this.j.Qk(this.Lg);this.j.Kw(this);this.D=new lj(a,c);this.j.Lw(this.D);this.W.io(.4);this.W.ho(1.2);this.kl=new r;this.ll=!1;this.Ai=new r;this.Vm=!1;this.Gl=new r;this.qk=new r;this.vg=0;this.cd=new de;this.ed=new de;this.vl=this.j.l(new G)}q(Y,se);p("box2d.Testbed.Test",Y);Y.k_maxContactPoints=2048;
Y.prototype.j=null;Y.prototype.m_world=Y.prototype.j;Y.prototype.W=null;Y.prototype.m_particleSystem=Y.prototype.W;Y.prototype.oj=null;Y.prototype.m_bomb=Y.prototype.oj;Y.prototype.m=30;Y.prototype.m_textLine=Y.prototype.m;Y.prototype.Bf=null;Y.prototype.m_mouseJoint=Y.prototype.Bf;Y.prototype.Xh=null;Y.prototype.m_points=Y.prototype.Xh;Y.prototype.rk=0;Y.prototype.m_pointCount=Y.prototype.rk;Y.prototype.Lg=null;Y.prototype.m_destructionListener=Y.prototype.Lg;Y.prototype.D=null;
Y.prototype.m_debugDraw=Y.prototype.D;Y.prototype.kl=null;Y.prototype.m_bombSpawnPoint=Y.prototype.kl;Y.prototype.ll=!1;Y.prototype.m_bombSpawning=Y.prototype.ll;Y.prototype.Ai=null;Y.prototype.m_mouseWorld=Y.prototype.Ai;Y.prototype.Vm=!1;Y.prototype.m_mouseTracing=Y.prototype.Vm;Y.prototype.Gl=null;Y.prototype.m_mouseTracerPosition=Y.prototype.Gl;Y.prototype.qk=null;Y.prototype.m_mouseTracerVelocity=Y.prototype.qk;Y.prototype.vg=0;Y.prototype.m_stepCount=Y.prototype.vg;Y.prototype.cd=null;
Y.prototype.m_maxProfile=Y.prototype.cd;Y.prototype.ed=null;Y.prototype.m_totalProfile=Y.prototype.ed;Y.prototype.vl=null;Y.prototype.m_groundBody=Y.prototype.vl;Y.prototype.Zm=null;Y.prototype.m_particleParameters=Y.prototype.Zm;Y.prototype.Fu=null;Y.prototype.m_particleParameterDef=Y.prototype.Fu;Y.prototype.Eg=function(){};Y.prototype.JointDestroyed=Y.prototype.Eg;Y.prototype.gg=function(){};Y.prototype.ParticleGroupDestroyed=Y.prototype.gg;Y.prototype.ue=function(){};
Y.prototype.BeginContact=Y.prototype.ue;Y.prototype.Je=function(){};Y.prototype.EndContact=Y.prototype.Je;Y.prototype.jd=function(a,c){var b=a.Se;if(0!==b.Wa){var d=a.Xb,e=a.Yb,f=Y.prototype.jd.OC;Ec(Y.prototype.jd.NC,f,c,b);var h=Y.prototype.jd.ov;a.$s(h);for(var k=0;k<b.Wa&&2048>this.rk;++k){var l=this.Xh[this.rk];l.Qt=d;l.Rt=e;l.position.e(h.Oa[k]);l.U.e(h.U);l.state=f[k];l.gc=b.Oa[k].gc;l.Gd=b.Oa[k].Gd;l.Ud=h.un[k];++this.rk}}};Y.prototype.PreSolve=Y.prototype.jd;Y.prototype.jd.NC=Array(2);
Y.prototype.jd.OC=Array(2);Y.prototype.jd.ov=new Cc;Y.prototype.Of=function(){};Y.prototype.PostSolve=Y.prototype.Of;Y.prototype.ua=function(){};Y.prototype.Keyboard=Y.prototype.ua;Y.prototype.sf=function(){};Y.prototype.KeyboardUp=Y.prototype.sf;Y.prototype.VA=function(a){this.m=a};Y.prototype.SetTextLine=Y.prototype.VA;Y.prototype.Sv=function(a){this.D.ta(5,25,a);this.m=50};Y.prototype.DrawTitle=Y.prototype.Sv;function rj(a){this.dd=a}q(rj,ue);rj.prototype.dd=null;rj.prototype.ql=null;
rj.prototype.Xd=function(a){return 2===a.Nb().Ic()&&a.Sc(this.dd)?(this.ql=a,!1):!0};function Ej(a,c,b){this.W=a;this.$a=c;this.yk=b}q(Ej,ue);g=Ej.prototype;g.W=null;g.$a=null;g.yk=null;g.Xd=function(){return!1};g.Hh=function(a,c){if(a!==this.W)return!1;this.$a.Sc(Wb,this.W.Pb.data[c])&&this.W.Hb.data[c].e(this.yk);return!0};
Y.prototype.Mf=function(a){this.Ai.e(a);this.Vm=!0;this.Gl.e(a);this.qk.ba();if(null===this.Bf){var c=new Jc,b=new r;b.h(.001,.001);x(a,b,c.lowerBound);pb(a,b,c.upperBound);b=new rj(this.Ai);this.j.hg(b,c);b.ql&&(c=b.ql.Nb(),b=new Nf,b.Ma=this.vl,b.Ga=c,b.target.e(a),b.di=1E3*c.je(),this.Bf=this.j.ja(b),c.Ra(!0))}};Y.prototype.MouseDown=Y.prototype.Mf;Y.prototype.ax=function(a){this.kl.e(a);this.ll=!0};Y.prototype.SpawnBomb=Y.prototype.ax;
Y.prototype.Fv=function(a){this.ll&&(a=x(this.kl,a,new r),a.Ia(30),this.gt(this.kl,a),this.ll=!1)};Y.prototype.CompleteBombSpawn=Y.prototype.Fv;Y.prototype.Uw=function(a){this.Ai.e(a);null===this.Bf&&this.ax(a)};Y.prototype.ShiftMouseDown=Y.prototype.Uw;Y.prototype.vd=function(a){this.Vm=!1;this.Bf&&(this.j.qm(this.Bf),this.Bf=null);this.ll&&this.Fv(a)};Y.prototype.MouseUp=Y.prototype.vd;Y.prototype.Nf=function(a){this.Ai.e(a);this.Bf&&this.Bf.Sw(a)};Y.prototype.MouseMove=Y.prototype.Nf;
Y.prototype.xw=function(){var a=new r(Xa(-15,15),30),c=qb(-5,a,new r);this.gt(a,c)};Y.prototype.LaunchBomb=Y.prototype.xw;Y.prototype.gt=function(a,c){this.oj&&(this.j.sd(this.oj),this.oj=null);var b=new G;b.type=2;b.position.e(a);b.tf=!0;this.oj=this.j.l(b);this.oj.Yd(c);b=new A;b.N=.3;var d=new E;d.shape=b;d.fa=20;d.dc=0;this.oj.k(d)};Y.prototype.LaunchBombAt=Y.prototype.gt;
Y.prototype.C=function(a){var c=0<a.le?1/a.le:0;a.pause&&(a.jm?a.jm=!1:c=0,this.D.ta(5,this.m,"****PAUSED****"),this.m+=25);var b=0;a.uq&&(b|=1);a.sq&&(b|=64);a.rq&&(b|=2);a.lq&&(b|=4);a.mq&&(b|=16);a.ox&&(b|=32);this.D.cq(b);this.j.Hw(a.Aq);this.j.Tw(a.Cq);this.j.ut(a.zq);this.j.Rw(a.Bq);this.W.Ct(a.bs);this.rk=0;this.j.C(c,a.Zg,a.zh,a.bg);this.j.Nj();0<c&&++this.vg;if(a.vq){this.D.ta(5,this.m,"bodies/contacts/joints = %d/%d/%d",this.j.Vc,this.j.Rp(),this.j.ug);this.m+=25;this.D.ta(5,this.m,"particles/groups/pairs/triads = %d/%d/%d/%d",
this.W.Rc(),this.W.dr,this.W.Ec.count,this.W.Ue.count);this.m+=25;var b=this.j.um(),d=this.j.wm(),e=this.j.Un();this.D.ta(5,this.m,"proxies/height/balance/quality = %d/%d/%d/%4.2f",b,d,e,this.j.Vn());this.m+=25}b=this.j.Be;this.cd.step=Ja(this.cd.step,b.step);this.cd.ng=Ja(this.cd.ng,b.ng);this.cd.zg=Ja(this.cd.zg,b.zg);this.cd.We=Ja(this.cd.We,b.We);this.cd.Ye=Ja(this.cd.Ye,b.Ye);this.cd.Xe=Ja(this.cd.Xe,b.Xe);this.cd.Ag=Ja(this.cd.Ag,b.Ag);this.cd.mg=Ja(this.cd.mg,b.mg);this.ed.step+=b.step;this.ed.ng+=
b.ng;this.ed.zg+=b.zg;this.ed.We+=b.We;this.ed.Ye+=b.Ye;this.ed.Xe+=b.Xe;this.ed.Ag+=b.Ag;this.ed.mg+=b.mg;a.tq&&(b=this.j.Be,d=new de,0<this.vg&&(e=1/this.vg,d.step=e*this.ed.step,d.ng=e*this.ed.ng,d.zg=e*this.ed.zg,d.We=e*this.ed.We,d.Ye=e*this.ed.Ye,d.Xe=e*this.ed.Xe,d.Ag=e*this.ed.Ag,d.mg=e*this.ed.mg),this.D.ta(5,this.m,"step [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.step,d.step,this.cd.step),this.m+=25,this.D.ta(5,this.m,"collide [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.ng,d.ng,this.cd.ng),this.m+=
25,this.D.ta(5,this.m,"solve [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.zg,d.zg,this.cd.zg),this.m+=25,this.D.ta(5,this.m,"solve init [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.We,d.We,this.cd.We),this.m+=25,this.D.ta(5,this.m,"solve velocity [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.Ye,d.Ye,this.cd.Ye),this.m+=25,this.D.ta(5,this.m,"solve position [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.Xe,d.Xe,this.cd.Xe),this.m+=25,this.D.ta(5,this.m,"solveTOI [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.Ag,d.Ag,this.cd.Ag),this.m+=
25,this.D.ta(5,this.m,"broad-phase [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.mg,d.mg,this.cd.mg),this.m+=25);this.Vm&&!this.Bf&&(b=new r,b.x=20*(10*(this.Ai.x-this.Gl.x)-this.qk.x),b.y=20*(10*(this.Ai.y-this.Gl.y)-this.qk.y),this.qk.wa(c,b),this.Gl.wa(c,this.qk),c=new A,c.Ka.e(this.Gl),c.N=2*this.Vb(),b=new Ej(this.W,c,this.qk),d=new Jc,e=new Vb,e.Pf(),c.Sb(d,e,0),this.j.hg(b,d));this.Bf&&(c=this.Bf.Qc(new r),b=this.Bf.iw(new r),d=new xa(0,1,0),this.D.Ie(c,4,d),this.D.Ie(b,4,d),d.jg(.8,.8,.8),this.D.oc(c,
b,d));this.ll&&(d=new xa(0,0,1),this.D.Ie(this.kl,4,d),d.jg(.8,.8,.8),this.D.oc(this.Ai,this.kl,d));if(a.pq)for(d=0;d<this.rk;++d)e=this.Xh[d],1===e.state?this.D.Ie(e.position,10,new xa(.3,.95,.3)):2===e.state&&this.D.Ie(e.position,5,new xa(.3,.3,.95)),a.oq?(c=e.position,b=pb(c,qb(.3,e.U,u),new r),this.D.oc(c,b,new xa(.9,.9,.9))):a.nq&&(c=e.position,b=sb(c,.1*e.gc,e.U,new r),this.D.oc(c,b,new xa(.9,.9,.3))),a.qq&&(b=nb(e.U,1,new r),c=e.position,b=sb(c,.1*e.Gd,b,new r),this.D.oc(c,b,new xa(.9,.9,.3)))};
Y.prototype.Step=Y.prototype.C;Y.prototype.Zd=function(a){this.j.Zd(a)};Y.prototype.ShiftOrigin=Y.prototype.Zd;Y.prototype.Vb=function(){return 1};Y.prototype.GetDefaultViewZoom=Y.prototype.Vb;var ek=[new Yf(255,0,0,255),new Yf(0,255,0,255),new Yf(0,0,255,255),new Yf(255,140,0,255),new Yf(0,206,209,255),new Yf(255,0,255,255),new Yf(255,215,0,255),new Yf(0,255,255,255)],fk=ek.length;
Y.prototype.Wi=function(a,c){var b=this.W.Nn(),d=a.Rc(),e=a.Kb,f=d+e,h=ek.length;c||(c=Math.floor(d/h))||(c=1);for(d=e;d<f;d++)b[d]=ek[Math.floor(d/c)%h].za()};Y.prototype.ColorParticleGroup=Y.prototype.Wi;Y.prototype.tw=function(a){var c=wg[0].jp,b=wg[0].fs;this.Zm=[];for(var d=0,e=0;e<c;e++)b[e].value&a||(this.Zm[d]=b[e],d++);this.Fu=new gg(this.Zm,d);gk([this.Fu],1)};Y.prototype.InitializeParticleParameters=Y.prototype.tw;Y.prototype.Cw=function(){this.Zm&&(gk(wg,1),this.Zm=null)};
Y.prototype.RestoreParticleParameters=Y.prototype.Cw;function vk(a,c){Y.call(this,a,c);this.j.ej(new r(0,0));var b=new A;b.Ka.ba();b.N=.1;for(var d=0;400>d;++d){var e=new G;e.type=2;e.position=new r(Xa(-6,0),Xa(4,6));e=this.j.l(e);e.k(b,.01)}b=new D;b.H(1.5,1.5);e=new G;e.type=2;e.position.h(-40,5);e.tf=!0;e=this.j.l(e);e.k(b,1);e.Yd(new r(150,0))}q(vk,Y);p("box2d.Testbed.AddPair",vk);function wk(a,c){return new vk(a,c)}vk.Create=wk;function xk(a,c){Y.call(this,a,c);var b=this.j.l(new G),d;for(d=-10;10>d;d+=1){var e=new D,f=[new r(d,-10),new r(d+1,-10),new r(0,15)];e.h(f,3);b.k(e,0)}for(d=-10;35>d;d+=1)e=new D,f=[new r(-10,d),new r(-10,d+1),new r(0,15)],e.h(f,3),b.k(e,0),e.h([new r(10,d),new r(10,d+1),new r(0,15)],3),b.k(e,0);this.Iu=300;this.W.Qd(.75);0===yk()&&this.W.dj(.2)}q(xk,Y);p("box2d.Testbed.AntiPointy",xk);xk.prototype.Iu=0;
xk.prototype.C=function(a){Y.prototype.C.call(this,a);if(!(0>=this.Iu)){--this.Iu;a=yk();var c=new cg;c.position.h(0,40);c.cg.h(0,-1);c.Ea=a;a&24&&(c.cg.h(this.W.Rc()&1?-1:1,-5),c.Ea|=4096);this.W.pm(c)}};xk.prototype.Step=xk.prototype.C;function zk(a,c){return new xk(a,c)}xk.Create=zk;function Ak(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d.Ca(new r(-40,0),new r(-40,25));b.k(d,0);d.Ca(new r(40,0),new r(40,25));b.k(d,0);b=new zf;b.uv=this.j;for(d=0;20>d;++d){var e=2*d*Math.PI/20,f=new G;f.Rf=!0;f.position.h(0+5*Math.cos(e),10+5*Math.sin(e));f.type=2;e=this.j.l(f);f=new E;f.shape=new A(.5);f.fa=1;e.k(f);b.Ch(e)}b.QE=10;b.wd=1;this.j.ja(b)}q(Ak,Y);p("box2d.Testbed.BlobTest",Ak);Ak.prototype.ua=function(){};Ak.prototype.Keyboard=Ak.prototype.ua;
Ak.prototype.C=function(a){Y.prototype.C.call(this,a)};Ak.prototype.Step=Ak.prototype.C;function Bk(a,c){return new Ak(a,c)}Ak.Create=Bk;function Ck(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=new C;d.Ca(new r(-20,0),new r(20,0));var e=new E;e.shape=d;b.k(e);d=new G;d.type=2;d.position.h(0,3);this.Lq=this.j.l(d);d=new D;d.H(.5,2);this.Lq.k(d,2);d=new G;d.type=2;d.position.h(-4,5);this.Ad=this.j.l(d);d=new D;d.H(.5,4,new r(4,0),.5*fa);e=new E;e.shape=d;e.gb=.6;e.fa=2;this.Ad.k(e);d=new Pf;d.S(this.Lq,this.Ad,new r(0,5));d.ag=50;d.Id=!0;this.j.ja(d);d=new Of;d.S(b,this.Ad,new r(0,5),new r(1,0));d.pn=1E3;d.Id=!0;d.gl=-10;
d.nm=10;d.bf=!0;this.j.ja(d);this.wh=3;d=new G;d.type=2;d.position.h(0,8);b=this.j.l(d);d=new D;d.H(.75,.75);e=new E;e.shape=d;e.gb=.6;e.fa=2;b.k(e)}q(Ck,Y);p("box2d.Testbed.BodyTypes",Ck);Ck.prototype.Lq=null;Ck.prototype.m_attachment=Ck.prototype.Lq;Ck.prototype.Ad=null;Ck.prototype.m_platform=Ck.prototype.Ad;Ck.prototype.wh=0;Ck.prototype.m_speed=Ck.prototype.wh;
Ck.prototype.ua=function(a){switch(a){case Dk:this.Ad.eq(2);break;case Ek:this.Ad.eq(0);break;case Fk:this.Ad.eq(1),this.Ad.Yd(new r(-this.wh,0)),this.Ad.Jh(0)}};Ck.prototype.Keyboard=Ck.prototype.ua;Ck.prototype.C=function(a){if(1===this.Ad.Ic()){var c=this.Ad.Wb().sa,b=this.Ad.ie();if(-10>c.x&&0>b.x||10<c.x&&0<b.x)b.x=-b.x,this.Ad.Yd(b)}Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Keys: (d) dynamic, (s) static, (k) kinematic");this.m+=25};Ck.prototype.Step=Ck.prototype.C;
function Gk(a,c){return new Ck(a,c)}Ck.Create=Gk;function Hk(a,c){Y.call(this,a,c);this.yk=new r;this.Wo=new D;this.an=new D;var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,40);b.fb=.25*fa;this.Jm=this.j.l(b);this.Wo=new D;this.Wo.H(.5,.5,new r(-.5,0),0);this.Ku=this.Jm.k(this.Wo,1);this.an=new D;this.an.H(.5,.5,new r(.5,0),0);this.To=this.Jm.k(this.an,1)}q(Hk,Y);p("box2d.Testbed.Breakable",Hk);Hk.e_count=7;Hk.prototype.Jm=null;Hk.prototype.m_body1=Hk.prototype.Jm;Hk.prototype.yk=null;
Hk.prototype.m_velocity=Hk.prototype.yk;Hk.prototype.ab=0;Hk.prototype.m_angularVelocity=Hk.prototype.ab;Hk.prototype.Wo=null;Hk.prototype.m_shape1=Hk.prototype.Wo;Hk.prototype.an=null;Hk.prototype.m_shape2=Hk.prototype.an;Hk.prototype.Ku=null;Hk.prototype.m_piece1=Hk.prototype.Ku;Hk.prototype.To=null;Hk.prototype.m_piece2=Hk.prototype.To;Hk.prototype.Oq=!1;Hk.prototype.m_broke=Hk.prototype.Oq;Hk.prototype.Nq=!1;Hk.prototype.m_break=Hk.prototype.Nq;
Hk.prototype.Of=function(a,c){if(!this.Oq){for(var b=a.Se.Wa,d=0,e=0;e<b;++e)d=Ja(d,c.Rr[e]);40<d&&(this.Nq=!0)}};Hk.prototype.PostSolve=Hk.prototype.Of;Hk.prototype.Bv=function(){var a=this.Ku.Nb(),c=a.Le();a.vs(this.To);this.To=null;var b=new G;b.type=2;b.position=a.ad();b.fb=a.hc();b=this.j.l(b);this.To=b.k(this.an,1);var d=a.Le(),e=b.Le(),d=ub(this.yk,this.ab,x(d,c,u),new r),c=ub(this.yk,this.ab,x(e,c,u),new r);a.Jh(this.ab);a.Yd(d);b.Jh(this.ab);b.Yd(c)};Hk.prototype.Break=Hk.prototype.Bv;
Hk.prototype.C=function(a){this.Nq&&(this.Bv(),this.Oq=!0,this.Nq=!1);this.Oq||(this.yk=this.Jm.ie(),this.ab=this.Jm.sm());Y.prototype.C.call(this,a)};Hk.prototype.Step=Hk.prototype.C;function Ik(a,c){return new Hk(a,c)}Hk.Create=Ik;function Jk(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.H(.5,.125);var f=new E;f.shape=e;f.fa=20;f.gb=.2;for(var e=new Pf,h=b,k=0;30>k;++k){d=new G;d.type=2;d.position.h(-14.5+1*k,5);d=this.j.l(d);d.k(f);var l=new r(-15+1*k,5);e.S(h,d,l);this.j.ja(e);15===k&&(this.Lx=d);h=d}l=new r(15,5);e.S(h,b,l);this.j.ja(e);for(k=0;2>k;++k)b=[],b[0]=new r(-.5,0),b[1]=new r(.5,0),b[2]=new r(0,1.5),e=new D,e.h(b),f=new E,f.shape=e,f.fa=1,d=new G,
d.type=2,d.position.h(-8+8*k,12),d=this.j.l(d),d.k(f);for(k=0;3>k;++k)e=new A,e.N=.5,f=new E,f.shape=e,f.fa=1,d=new G,d.type=2,d.position.h(-6+6*k,10),d=this.j.l(d),d.k(f)}q(Jk,Y);p("box2d.Testbed.Bridge",Jk);Jk.e_count=30;Jk.prototype.Lx=null;Jk.prototype.m_middle=Jk.prototype.Lx;function Kk(a,c){return new Jk(a,c)}Jk.Create=Kk;function Lk(a,c){Y.call(this,a,c);var b=new G;b.position.h(0,0);var b=this.j.l(b),d=new C;d.Ca(new r(-10,0),new r(10,0));b.k(d,0);d=new D;d.H(.2,1,new r(.5,1),0);b.k(d,0);b=new G;b.type=2;b.position.h(0,4);d=new D;d.H(2,.1);this.xa=this.j.l(b);this.xa.k(d,1);d.H(.25,.25);this.Kj=.20352793;b.position.h(this.Kj,10);b.tf=!0;this.xf=this.j.l(b);this.xf.k(d,100);this.xf.Yd(new r(0,-50))}q(Lk,Y);p("box2d.Testbed.BulletTest",Lk);Lk.prototype.xa=null;Lk.prototype.m_body=Lk.prototype.xa;Lk.prototype.xf=null;
Lk.prototype.m_bullet=Lk.prototype.xf;Lk.prototype.Kj=0;Lk.prototype.m_x=Lk.prototype.Kj;Lk.prototype.Zn=function(){this.xa.hj(new r(0,4),0);this.xa.Yd(ab);this.xa.Jh(0);this.Kj=Xa(-1,1);this.xf.hj(new r(this.Kj,10),0);this.xf.Yd(new r(0,-50));this.xf.Jh(0);Sd=Rd=Qd=Pd=Od=oc=mc=lc=0};Lk.prototype.Launch=Lk.prototype.Zn;
Lk.prototype.C=function(a){Y.prototype.C.call(this,a);0<lc&&(this.D.ta(5,this.m,"gjk calls = %d, ave gjk iters = %3.1f, max gjk iters = %d",lc,mc/lc,oc),this.m+=25);0<Od&&(this.D.ta(5,this.m,"toi calls = %d, ave toi iters = %3.1f, max toi iters = %d",Od,Pd/Od,Sd),this.m+=25,this.D.ta(5,this.m,"ave toi root iters = %3.1f, max toi root iters = %d",Rd/Od,Sd),this.m+=25);0===this.vg%60&&this.Zn()};Lk.prototype.Step=Lk.prototype.C;function Mk(a,c){return new Lk(a,c)}Lk.Create=Mk;function Nk(a,c){Y.call(this,a,c);this.Q=[];var b=new we;this.Sq=b;b.U.h(0,1);b.offset=20;b.fa=2;b.St=5;b.Mt=2;var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d.Ca(new r(-40,0),new r(-40,25));b.k(d,0);d.Ca(new r(40,0),new r(40,25));b.k(d,0);for(b=0;5>b;b++){d=new G;d.type=2;d.position.h(40*Math.random()-20,15*Math.random()+5);d.fb=Math.random()*Math.PI;var d=this.j.l(d),e=new E;e.fa=1;e.gb=.3;e.dc=.1;e.shape=new D;e.shape.H(.5*Math.random()+1,.5*Math.random()+1);d.k(e);this.Q.push(d)}for(b=
0;5>b;b++)d=new G,d.type=2,d.position.h(40*Math.random()-20,15*Math.random()+5),d.fb=Math.random()*Math.PI,d=this.j.l(d),e=new E,e.fa=1,e.gb=.3,e.dc=.1,e.shape=new A(.5*Math.random()+1),d.k(e),this.Q.push(d);for(b=0;15>b;b++){d=new G;d.type=2;d.position.h(40*Math.random()-20,15*Math.random()+5);d.fb=Math.random()*Math.PI;d=this.j.l(d);e=new E;e.fa=1;e.gb=.3;e.dc=.1;e.shape=new D;if(.66<Math.random())e.shape.h([new r(-1-1*Math.random(),1+1*Math.random()),new r(-.5-1*Math.random(),-1-1*Math.random()),
new r(.5+1*Math.random(),-1-1*Math.random()),new r(1+1*Math.random(),1+1*Math.random())]);else if(.5<Math.random()){var f=[];f[0]=new r(0,1+1*Math.random());f[2]=new r(-.5-1*Math.random(),-1-1*Math.random());f[3]=new r(.5+1*Math.random(),-1-1*Math.random());f[1]=new r(f[0].x+f[2].x,f[0].y+f[2].y);f[1].Ia(Math.random()/2+.8);f[4]=new r(f[3].x+f[0].x,f[3].y+f[0].y);f[4].Ia(Math.random()/2+.8);e.shape.h(f)}else e.shape.h([new r(0,1+1*Math.random()),new r(-.5-1*Math.random(),-1-1*Math.random()),new r(.5+
1*Math.random(),-1-1*Math.random())]);d.k(e);this.Q.push(d)}d=new G;d.type=2;d.position.h(0,40);d.fb=0;d=this.j.l(d);e=new E;e.fa=3;e.shape=new D;e.shape.H(4,1);d.k(e);this.Q.push(d);d=new G;d.type=2;d.position.h(0,30);d=this.j.l(d);e=new E;e.fa=2;e.shape=new A(.7);e.shape.Ka.h(3,0);d.k(e);e.shape.Ka.h(-3,0);d.k(e);e.shape.Ka.h(0,3);d.k(e);e.shape.Ka.h(0,-3);d.k(e);e.fa=2;e.shape=new D;e.shape.H(3,.2);d.k(e);e.shape.H(.2,3);d.k(e);for(this.Q.push(d);b<this.Q.length;++b)this.Sq.Ch(this.Q[0]);this.j.wv(this.Sq)}
q(Nk,Y);p("box2d.Testbed.BuoyancyTest",Nk);Nk.prototype.Q=null;Nk.prototype.m_bodies=Nk.prototype.Q;Nk.prototype.Sq=null;Nk.prototype.m_controller=Nk.prototype.Sq;Nk.prototype.ua=function(){};Nk.prototype.Keyboard=Nk.prototype.ua;Nk.prototype.C=function(a){Y.prototype.C.call(this,a)};Nk.prototype.Step=Nk.prototype.C;function Ok(a,c){return new Nk(a,c)}Nk.Create=Ok;function Pk(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.H(.5,.125);var f=new E;f.shape=e;f.fa=20;for(var e=new Tf,h=b,k=0;8>k;++k){d=new G;d.type=2;d.position.h(-14.5+1*k,5);d=this.j.l(d);d.k(f);var l=new r(-15+1*k,5);e.S(h,d,l);this.j.ja(e);h=d}e=new D;e.H(1,.125);f=new E;f.shape=e;f.fa=20;e=new Tf;e.Jd=5;e.wd=.7;h=b;for(k=0;3>k;++k)d=new G,d.type=2,d.position.h(-14+2*k,15),d=this.j.l(d),d.k(f),l=new r(-15+2*k,15),e.S(h,d,l),this.j.ja(e),
h=d;e=new D;e.H(.5,.125);f=new E;f.shape=e;f.fa=20;e=new Tf;h=b;for(k=0;8>k;++k)d=new G,d.type=2,d.position.h(-4.5+1*k,15),d=this.j.l(d),d.k(f),0<k&&(l=new r(-5+1*k,15),e.S(h,d,l),this.j.ja(e)),h=d;e=new D;e.H(.5,.125);f=new E;f.shape=e;f.fa=20;e=new Tf;e.Jd=8;e.wd=.7;h=b;for(k=0;8>k;++k)d=new G,d.type=2,d.position.h(5.5+1*k,10),d=this.j.l(d),d.k(f),0<k&&(l=new r(5+1*k,10),e.S(h,d,l),this.j.ja(e)),h=d;for(k=0;2>k;++k)b=[],b[0]=new r(-.5,0),b[1]=new r(.5,0),b[2]=new r(0,1.5),e=new D,e.h(b),f=new E,
f.shape=e,f.fa=1,d=new G,d.type=2,d.position.h(-8+8*k,12),d=this.j.l(d),d.k(f);for(k=0;2>k;++k)e=new A,e.N=.5,f=new E,f.shape=e,f.fa=1,d=new G,d.type=2,d.position.h(-6+6*k,10),d=this.j.l(d),d.k(f)}q(Pk,Y);p("box2d.Testbed.Cantilever",Pk);Pk.e_count=8;function Qk(a,c){return new Pk(a,c)}Pk.Create=Qk;function Rk(a,c){Y.call(this,a,c);this.Ng=4;this.hp=.7;this.wh=50;var b=null,d=new G,b=this.j.l(d),d=new C,e=new E;e.shape=d;e.fa=0;e.gb=.6;d.Ca(new r(-20,0),new r(20,0));b.k(e);for(var f=[.25,1,4,0,0,-1,-2,-2,-1.25,0],h=20,k=0,l=0;10>l;++l){var m=f[l];d.Ca(new r(h,k),new r(h+5,m));b.k(e);k=m;h+=5}for(l=0;10>l;++l)m=f[l],d.Ca(new r(h,k),new r(h+5,m)),b.k(e),k=m,h+=5;d.Ca(new r(h,0),new r(h+40,0));b.k(e);h+=80;d.Ca(new r(h,0),new r(h+40,0));b.k(e);h+=40;d.Ca(new r(h,0),new r(h+10,5));b.k(e);h+=20;
d.Ca(new r(h,0),new r(h+40,0));b.k(e);h+=40;d.Ca(new r(h,0),new r(h,20));b.k(e);d=new G;d.position.h(140,1);d.type=2;f=this.j.l(d);e=new D;e.H(10,.25);f.k(e,1);h=new Pf;h.S(b,f,f.ad());h.ve=-8*fa/180;h.Fe=8*fa/180;h.bf=!0;this.j.ja(h);f.ks(100);d=new D;d.H(1,.125);e=new E;e.shape=d;e.fa=1;e.gb=.6;h=new Pf;k=b;for(l=0;20>l;++l)d=new G,d.type=2,d.position.h(161+2*l,-.125),f=this.j.l(d),f.k(e),d=new r(160+2*l,-.125),h.S(k,f,d),this.j.ja(h),k=f;d=new r(200,-.125);h.S(k,b,d);this.j.ja(h);e=new D;e.H(.5,
.5);d=new G;d.type=2;d.position.h(230,.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,1.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,2.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,3.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,4.5);f=this.j.l(d);f.k(e,.5);b=new D;e=gb(8);e[0].h(-1.5,-.5);e[1].h(1.5,-.5);e[2].h(1.5,0);e[3].h(0,.9);e[4].h(-1.15,.9);e[5].h(-1.5,.2);b.h(e,6);l=new A;l.N=.4;d=new G;d.type=2;d.position.h(0,1);this.bk=this.j.l(d);this.bk.k(b,1);e=new E;e.shape=l;e.fa=1;e.gb=.9;d.position.h(-1,
.35);this.fp=this.j.l(d);this.fp.k(e);d.position.h(1,.4);this.gp=this.j.l(d);this.gp.k(e);h=new Sf;b=new r(0,1);h.S(this.bk,this.fp,this.fp.ad(),b);h.se=0;h.ag=20;h.Id=!0;h.Jd=this.Ng;h.wd=this.hp;this.Sl=this.j.ja(h);h.S(this.bk,this.gp,this.gp.ad(),b);h.se=0;h.ag=10;h.Id=!1;h.Jd=this.Ng;h.wd=this.hp;this.Hr=this.j.ja(h)}q(Rk,Y);p("box2d.Testbed.Car",Rk);Rk.prototype.bk=null;Rk.prototype.m_car=Rk.prototype.bk;Rk.prototype.fp=null;Rk.prototype.m_wheel1=Rk.prototype.fp;Rk.prototype.gp=null;
Rk.prototype.m_wheel2=Rk.prototype.gp;Rk.prototype.Ng=0;Rk.prototype.m_hz=Rk.prototype.Ng;Rk.prototype.hp=0;Rk.prototype.m_zeta=Rk.prototype.hp;Rk.prototype.wh=0;Rk.prototype.m_speed=Rk.prototype.wh;Rk.prototype.Sl=null;Rk.prototype.m_spring1=Rk.prototype.Sl;Rk.prototype.Hr=null;Rk.prototype.m_spring2=Rk.prototype.Hr;
Rk.prototype.ua=function(a){switch(a){case Sk:this.Sl.$e(this.wh);break;case Ek:this.Sl.$e(0);break;case Dk:this.Sl.$e(-this.wh);break;case Tk:this.Ng=Ja(0,this.Ng-1);this.Sl.mo(this.Ng);this.Hr.mo(this.Ng);break;case Uk:this.Ng+=1,this.Sl.mo(this.Ng),this.Hr.mo(this.Ng)}};Rk.prototype.Keyboard=Rk.prototype.ua;
Rk.prototype.C=function(a){this.D.ta(5,this.m,"Keys: left = a, brake = s, right = d, hz down = q, hz up = e");this.m+=25;this.D.ta(5,this.m,"frequency = %4.2f hz, damping ratio = %4.2f",this.Ng,this.hp);this.m+=25;a.$g.x=this.bk.ad().x;Y.prototype.C.call(this,a)};Rk.prototype.Step=Rk.prototype.C;function Vk(a,c){return new Rk(a,c)}Rk.Create=Vk;function Wk(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.H(.6,.125);var f=new E;f.shape=e;f.fa=20;f.gb=.2;e=new Pf;e.og=!1;for(var h=0;30>h;++h)d=new G,d.type=2,d.position.h(.5+h,25),d=this.j.l(d),d.k(f),e.S(b,d,new r(h,25)),this.j.ja(e),b=d}q(Wk,Y);p("box2d.Testbed.Chain",Wk);Wk.e_count=30;function Xk(a,c){return new Wk(a,c)}Wk.Create=Xk;function Yk(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-20,0),new r(20,0));b.k(d,0);b=new G;b=this.j.l(b);d=new C;d.Ca(new r(-8,1),new r(-6,1));b.k(d,0);d.Ca(new r(-6,1),new r(-4,1));b.k(d,0);d.Ca(new r(-4,1),new r(-2,1));b.k(d,0);b=new G;b.fb=.25*fa;var b=this.j.l(b),e=gb(4);e[0].h(5,7);e[1].h(6,8);e[2].h(7,8);e[3].h(8,7);d=new Fd;d.Hn(e,4);b.k(d,0);b=new G;b=this.j.l(b);d=new D;d.H(1,1,new r(4,3),0);b.k(d,0);d.H(1,1,new r(6,3),0);b.k(d,0);d.H(1,1,new r(8,3),0);b.k(d,0);b=
new G;b=this.j.l(b);e=gb(4);e[0].h(-1,3);e[1].h(1,3);e[2].h(1,5);e[3].h(-1,5);d=new Fd;d.Hn(e,4);b.k(d,0);b=new G;b.position.h(-10,4);b=this.j.l(b);e=gb(10);e[0].h(0,0);e[1].h(6,0);e[2].h(6,2);e[3].h(4,1);e[4].h(2,2);e[5].h(0,2);e[6].h(-2,2);e[7].h(-4,3);e[8].h(-6,2);e[9].h(-6,0);d=new Fd;d.Hn(e,10);b.k(d,0);b=new G;b.position.h(-3,8);b.type=2;b.Rf=!0;b.Me=!1;b=this.j.l(b);d=new D;d.H(.5,.5);e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(-5,5);b.type=2;b.Rf=!0;b.Me=!1;b=this.j.l(b);d=new D;
d.H(.25,.25);e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(-5,8);b.type=2;b.Rf=!0;b.Me=!1;for(var b=this.j.l(b),d=0,f=fa/3,e=gb(6),h=0;6>h;++h)e[h].h(.5*Sa(d),.5*Ta(d)),d+=f;d=new D;d.h(e,6);e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(3,5);b.type=2;b.Rf=!0;b.Me=!1;b=this.j.l(b);d=new A;d.N=.5;e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(-7,6);b.type=2;b.Me=!1;this.nh=this.j.l(b);d=new A;d.N=.25;e=new E;e.shape=d;e.fa=20;e.gb=1;this.nh.k(e)}q(Yk,Y);
p("box2d.Testbed.CharacterCollision",Yk);Yk.prototype.nh=null;Yk.prototype.m_character=Yk.prototype.nh;Yk.prototype.C=function(a){var c=this.nh.ie().za();c.x=-5;this.nh.Yd(c);Y.prototype.C.call(this,a);this.D.ta(5,this.m,"This tests various character collision shapes");this.m+=25;this.D.ta(5,this.m,"Limitation: square and hexagon can snag on aligned boxes.");this.m+=25;this.D.ta(5,this.m,"Feature: edge chains have smooth collision inside and out.");this.m+=25};Yk.prototype.Step=Yk.prototype.C;
function Zk(a,c){return new Yk(a,c)}Yk.Create=Zk;function $k(a,c){Y.call(this,a,c);var b=new C;b.Ca(new r(-40,0),new r(40,0));var d=new E;d.shape=b;d.gb=.3;var e=new G;this.j.l(e).k(d);b=[];b[0]=new r(-1,0);b[1]=new r(1,0);b[2]=new r(0,2);d=new D;d.h(b,3);e=new E;e.shape=d;e.fa=1;e.filter.Kd=1;e.filter.uf=2;e.filter.Ef=65535;var f=new G;f.type=2;f.position.h(-5,2);this.j.l(f).k(e);b[0].Ia(2);b[1].Ia(2);b[2].Ia(2);d.h(b,3);e.filter.Kd=-1;f.position.h(-5,6);f.Rf=!0;b=this.j.l(f);b.k(e);e=new G;e.type=2;e.position.h(-5,10);e=this.j.l(e);f=new D;f.H(.5,
1);e.k(f,1);f=new Of;f.Ma=b;f.Ga=e;f.bf=!0;f.va.h(0,4);f.Da.ba();f.Gg.h(0,1);f.gl=-1;f.nm=1;this.j.ja(f);d.H(1,.5);b=new E;b.shape=d;b.fa=1;b.dc=.1;b.filter.Kd=1;b.filter.uf=4;b.filter.Ef=65533;e=new G;e.type=2;e.position.h(0,2);this.j.l(e).k(b);d.H(2,1);b.filter.Kd=-1;e.position.h(0,6);this.j.l(e).k(b);d=new A;d.N=1;b=new E;b.shape=d;b.fa=1;b.filter.Kd=1;b.filter.uf=8;b.filter.Ef=65535;e=new G;e.type=2;e.position.h(5,2);this.j.l(e).k(b);d.N*=2;b.filter.Kd=-1;e.position.h(5,6);this.j.l(e).k(b)}
q($k,Y);p("box2d.Testbed.CollisionFiltering",$k);$k.k_smallGroup=1;$k.k_largeGroup=-1;$k.k_defaultCategory=1;$k.k_triangleCategory=2;$k.k_boxCategory=4;$k.k_circleCategory=8;$k.k_triangleMask=65535;$k.k_boxMask=65533;$k.k_circleMask=65535;function al(a,c){return new $k(a,c)}$k.Create=al;function bl(a,c){Y.call(this,a,c);var b=new C;b.Ca(new r(-40,0),new r(40,0));var d=new E;d.shape=b;this.j.l(new G).k(d);d=Array(3);d[0]=new r(-1,0);d[1]=new r(1,0);d[2]=new r(0,2);b=new D;b.h(d,3);var e=new E;e.shape=b;e.fa=1;var f=new G;f.type=2;f.position.h(Xa(-5,5),Xa(2,35));this.j.l(f).k(e);d[0].Ia(2);d[1].Ia(2);d[2].Ia(2);b.h(d,3);f.position.h(Xa(-5,5),Xa(2,35));this.j.l(f).k(e);b.H(1,.5);d=new E;d.shape=b;d.fa=1;e=new G;e.type=2;e.position.h(Xa(-5,5),Xa(2,35));this.j.l(e).k(d);b.H(2,1);e.position.h(Xa(-5,
5),Xa(2,35));this.j.l(e).k(d);b=new A;b.N=1;d=new E;d.shape=b;d.fa=1;e=new G;e.type=2;e.position.h(Xa(-5,5),Xa(2,35));this.j.l(e).k(d);b.N*=2;e.position.h(Xa(-5,5),Xa(2,35));this.j.l(e).k(d)}q(bl,Y);p("box2d.Testbed.CollisionProcessing",bl);
bl.prototype.C=function(a){Y.prototype.C.call(this,a);a=Array(6);for(var c=0,b=0;b<this.rk;++b){var d=this.Xh[b],e=d.Qt.Nb(),d=d.Rt.Nb(),f=e.je(),h=d.je();if(0<f&&0<h&&(h>f?a[c++]=e:a[c++]=d,6===c))break}a.sort(function(a,b){return a-b});for(b=0;b<c;){for(e=a[b++];b<c&&a[b]===e;)++b;e!==this.oj&&this.j.sd(e)}};bl.prototype.Step=bl.prototype.C;function cl(a,c){return new bl(a,c)}bl.Create=cl;function dl(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(50,0),new r(-50,0));b.k(d,0);var e=new A;e.N=.5;e.Ka.h(-.5,.5);var f=new A;f.N=.5;f.Ka.h(.5,.5);for(d=0;10>d;++d){var h=Xa(-.1,.1),b=new G;b.type=2;b.position.h(h+5,1.05+2.5*d);b.fb=Xa(-fa,fa);b=this.j.l(b);b.k(e,2);b.k(f,0)}e=new D;e.H(.25,.5);f=new D;f.H(.25,.5,new r(0,-.5),.5*fa);for(d=0;10>d;++d)h=Xa(-.1,.1),b=new G,b.type=2,b.position.h(h-5,1.05+2.5*d),b.fb=Xa(-fa,fa),b=this.j.l(b),b.k(e,2),b.k(f,2);d=new Vb;d.ha.Ba(.3524*
fa);d.sa.e(y(d.ha,new r(1,0),new r));b=[];e=new D;b[0]=Xb(d,new r(-1,0),new r);b[1]=Xb(d,new r(1,0),new r);b[2]=Xb(d,new r(0,.5),new r);e.h(b,3);d=new Vb;d.ha.Ba(-.3524*fa);d.sa.e(y(d.ha,new r(-1,0),new r));f=new D;b[0]=Xb(d,new r(-1,0),new r);b[1]=Xb(d,new r(1,0),new r);b[2]=Xb(d,new r(0,.5),new r);f.h(b,3);for(d=0;10>d;++d)h=Xa(-.1,.1),b=new G,b.type=2,b.position.h(h,2.05+2.5*d),b.fb=0,b=this.j.l(b),b.k(e,2),b.k(f,2);d=new D;d.H(1.5,.15);h=new D;h.H(.15,2.7,new r(-1.45,2.35),.2);e=new D;e.H(.15,
2.7,new r(1.45,2.35),-.2);b=new G;b.type=2;b.position.h(0,2);b=this.j.l(b);b.k(d,4);b.k(h,4);b.k(e,4)}q(dl,Y);p("box2d.Testbed.CompoundShapes",dl);function el(a,c){return new dl(a,c)}dl.Create=el;function fl(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new C;b.Ca(new r(-10,0),new r(10,0));d.k(b,0);b.Ca(new r(-10,0),new r(-10,20));d.k(b,0);b.Ca(new r(10,0),new r(10,20));d.k(b,0);b.Ca(new r(-10,20),new r(10,20));d.k(b,0);b=new A;b.Ka.ba();b.N=.5;d=new E;d.shape=b;d.fa=1;d.gb=.1;for(var e=0;0>e;++e)for(var f=0;0>f;++f)b=new G,b.type=2,b.position.h(-10+.5*(2.1*e+1+.01*f),.5*(2*f+1)),this.j.l(b).k(d);this.j.ej(new r(0,0))}q(fl,Y);p("box2d.Testbed.Confined",fl);fl.e_columnCount=0;
fl.e_rowCount=0;fl.prototype.Lv=function(){var a=new A;a.Ka.ba();a.N=2;var c=new E;c.shape=a;c.fa=1;c.gb=0;var a=new r(Wa(),3+Wa()),b=new G;b.type=2;b.position.e(a);this.j.l(b).k(c)};fl.prototype.CreateCircle=fl.prototype.Lv;fl.prototype.ua=function(a){switch(a){case gl:this.Lv()}};fl.prototype.Keyboard=fl.prototype.ua;
fl.prototype.C=function(a){for(var c=this.j.Cb;c;c=c.Y);180===this.vg&&(this.vg+=0);Y.prototype.C.call(this,a);for(c=this.j.Cb;c;c=c.Y)2===c.Ic()&&(a=c.ad(),-10>=a.x||10<=a.x||0>=a.y||20<=a.y)&&(a.x+=0);this.D.ta(5,this.m,"Press 'c' to create a circle.");this.m+=25};fl.prototype.Step=fl.prototype.C;function hl(a,c){return new fl(a,c)}fl.Create=hl;function il(a,c){Y.call(this,a,c);var b=new G;b.position.h(0,0);var b=this.j.l(b),d=new C;d.Ca(new r(-10,0),new r(10,0));b.k(d,0);d=new D;d.H(.2,1,new r(.5,1),0);b.k(d,0);b=new G;b.type=2;b.position.h(0,20);d=new D;d.H(2,.1);this.xa=this.j.l(b);this.xa.k(d,1);this.ab=Xa(-50,50);this.xa.Yd(new r(0,-100));this.xa.Jh(this.ab);Nd=Jd=Sd=Rd=Pd=Od=oc=mc=lc=0}q(il,Y);p("box2d.Testbed.ContinuousTest",il);il.prototype.xa=null;il.prototype.m_body=il.prototype.xa;il.prototype.ab=0;
il.prototype.m_angularVelocity=il.prototype.ab;il.prototype.Zn=function(){Nd=Jd=Sd=Rd=Pd=Od=oc=mc=lc=0;this.xa.hj(new r(0,20),0);this.ab=Xa(-50,50);this.xa.Yd(new r(0,-100));this.xa.Jh(this.ab)};il.prototype.Launch=il.prototype.Zn;
il.prototype.C=function(a){Y.prototype.C.call(this,a);0<lc&&(this.D.ta(5,this.m,"gjk calls = %d, ave gjk iters = %3.1f, max gjk iters = %d",lc,mc/lc,oc),this.m+=25);0<Od&&(this.D.ta(5,this.m,"toi [max] calls = %d, ave toi iters = %3.1f [%d]",Od,Pd/Od,Sd),this.m+=25,this.D.ta(5,this.m,"ave [max] toi root iters = %3.1f [%d]",Rd/Od,Sd),this.m+=25,this.D.ta(5,this.m,"ave [max] toi time = %.1f [%.1f] (microseconds)",1E3*Jd/Od,1E3*Nd),this.m+=25);0===this.vg%60&&this.Zn()};il.prototype.Step=il.prototype.C;
function jl(a,c){return new il(a,c)}il.Create=jl;function kl(a,c){Y.call(this,a,c);this.Vl=gb(8);this.Jk();this.zo=!1}q(kl,Y);p("box2d.Testbed.ConvexHull",kl);kl.e_count=8;kl.prototype.Vl=null;kl.prototype.m_test_points=kl.prototype.Vl;kl.prototype.n=0;kl.prototype.m_count=kl.prototype.n;kl.prototype.zo=!1;kl.prototype.m_auto=kl.prototype.zo;kl.prototype.Jk=function(){for(var a=0;8>a;++a){var c=Xa(-10,10),b=Xa(-10,10),c=Ka(c,-8,8),b=Ka(b,-8,8);this.Vl[a].h(c,b)}this.n=8};kl.prototype.Generate=kl.prototype.Jk;
kl.prototype.ua=function(a){switch(a){case Sk:this.zo=!this.zo;break;case ll:this.Jk()}};kl.prototype.Keyboard=kl.prototype.ua;kl.prototype.C=function(a){Y.prototype.C.call(this,a);a=new D;a.h(this.Vl,this.n);this.D.ta(5,this.m,"Press g to generate a new random convex hull");this.m+=25;this.D.Kf(a.Z,a.n,new xa(.9,.9,.9));for(var c=0;c<this.n;++c)this.D.Ie(this.Vl[c],3,new xa(.3,.9,.3)),this.D.Oj(this.Vl[c].x+.05,this.Vl[c].y+.05,"%d",c);a.jj()||(this.m+=0);this.zo&&this.Jk()};kl.prototype.Step=kl.prototype.C;
function ml(a,c){return new kl(a,c)}kl.Create=ml;function nl(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new C;b.Ca(new r(-20,0),new r(20,0));d.k(b,0);b=new G;b.position.h(-5,5);d=this.j.l(b);b=new D;b.H(10,.5);var e=new E;e.shape=b;e.gb=.8;this.Ad=d.k(e);for(e=0;5>e;++e)b=new G,b.type=2,b.position.h(-10+2*e,7),d=this.j.l(b),b=new D,b.H(.5,.5),d.k(b,20)}q(nl,Y);p("box2d.Testbed.ConveyorBelt",nl);nl.prototype.Ad=null;nl.prototype.m_platform=nl.prototype.Ad;
nl.prototype.jd=function(a,c){Y.prototype.jd.call(this,a,c);var b=a.Yb;a.Xb===this.Ad&&a.Dt(5);b===this.Ad&&a.Dt(-5)};nl.prototype.PreSolve=nl.prototype.jd;nl.prototype.C=function(a){Y.prototype.C.call(this,a)};nl.prototype.Step=nl.prototype.C;function ol(a,c){return new nl(a,c)}nl.Create=ol;function pl(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new D,e=[new r(-20,30),new r(-20,0),new r(-25,0),new r(-25,30)];d.h(e);b.k(d,0);var f,d=new D,e=[new r(-25,0),new r(20,15),new r(25,0)];d.h(e);b.k(d,0);for(f=-20;20>f;f+=10)d=new D,e=[new r(-25,0),new r(f,15),new r(f+10,15)],d.h(e),b.k(d,0);for(f=0;30>f;f+=3)d=new D,e=[new r(25,f),new r(25,f+3),new r(20,15)],d.h(e),b.k(d,0);this.W.Qd(1);e=yk();d=new A;d.Ka.h(0,35);d.N=12;b=new zg;b.Ea=e;b.shape=d;d=this.W.rd(b);b.Ea&256&&this.Wi(d,0)}
q(pl,Y);p("box2d.Testbed.CornerCase",pl);function ql(a,c){return new pl(a,c)}pl.Create=ql;function rl(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new Fd;d.hi([new r(-2,0),new r(2,0),new r(2,4),new r(-2,4)],4);b.k(d,0);this.W.Qd(.025*3);this.W.dj(.2);d=new D;d.H(.8,1,new r(-1.2,1.01),0);b=new zg;b.Ea=yk();b.shape=d;d=this.W.rd(b);b.Ea&256&&this.Wi(d,0)}q(rl,Y);p("box2d.Testbed.DamBreak",rl);rl.prototype.Vb=function(){return.1};rl.prototype.GetDefaultViewZoom=rl.prototype.Vb;function sl(a,c){return new rl(a,c)}rl.Create=sl;function tl(a,c){Y.call(this,a,c);this.Zc=new r;this.Ug=new Vb;this.xg=new Vb;this.Cf=new D;this.$b=new D;this.Ug.Pf();this.Ug.sa.h(0,-.2);this.Cf.H(10,.2);this.Zc.h(12.017401,.13678508);this.df=-.0109265;this.xg.Tk(this.Zc,this.df);this.$b.H(2,.1)}q(tl,Y);p("box2d.Testbed.DistanceTest",tl);tl.prototype.Zc=null;tl.prototype.m_positionB=tl.prototype.Zc;tl.prototype.df=0;tl.prototype.m_angleB=tl.prototype.df;tl.prototype.Ug=null;tl.prototype.m_transformA=tl.prototype.Ug;tl.prototype.xg=null;
tl.prototype.m_transformB=tl.prototype.xg;tl.prototype.Cf=null;tl.prototype.m_polygonA=tl.prototype.Cf;tl.prototype.$b=null;tl.prototype.m_polygonB=tl.prototype.$b;
tl.prototype.C=function(a){Y.prototype.C.call(this,a);var c=new jc;c.fd.Lh(this.Cf,0);c.Dd.Lh(this.$b,0);c.lm.e(this.Ug);c.mm.e(this.xg);c.Bn=!0;var b=new ic;b.count=0;a=new kc;uc(a,b,c);this.D.ta(5,this.m,"distance = %4.2f",a.vf);this.m+=25;this.D.ta(5,this.m,"iterations = %d",a.Fq);this.m+=25;for(var c=new xa(.9,.9,.9),b=Array(8),d=0;d<this.Cf.n;++d)b[d]=Xb(this.Ug,this.Cf.Z[d],new r);this.D.Kf(b,this.Cf.n,c);for(d=0;d<this.$b.n;++d)b[d]=Xb(this.xg,this.$b.Z[d],new r);this.D.Kf(b,this.$b.n,c);c=
a.Ni;this.D.Ie(a.Mi,4,new xa(1,0,0));this.D.Ie(c,4,new xa(1,1,0))};tl.prototype.Step=tl.prototype.C;tl.prototype.ua=function(a){switch(a){case Sk:this.Zc.x-=.1;break;case Dk:this.Zc.x+=.1;break;case Ek:this.Zc.y-=.1;break;case ul:this.Zc.y+=.1;break;case Tk:this.df+=.1*fa;break;case Uk:this.df-=.1*fa}this.xg.Tk(this.Zc,this.df)};tl.prototype.Keyboard=tl.prototype.ua;function vl(a,c){return new tl(a,c)}tl.Create=vl;function wl(a,c){Y.call(this,a,c);var b=null,d=new C;d.Ca(new r(-40,0),new r(40,0));var e=new G,b=this.j.l(e);b.k(d,0);d=new D;d.H(6,.25);e=new G;e.position.h(-1.5,10);var f=this.j.l(e);f.k(d,0);d=new D;d.H(.1,1);var h=new E;h.shape=d;h.fa=20;h.gb=.1;for(f=0;10>f;++f){e=new G;e.type=2;e.position.h(-6+1*f,11.25);var k=this.j.l(e);k.k(h)}d=new D;d.H(7,.25,ab,.3);e=new G;e.position.h(1,6);f=this.j.l(e);f.k(d,0);h=null;d=new D;d.H(.25,1.5);e=new G;e.position.h(-7,4);h=this.j.l(e);h.k(d,0);f=null;d=new D;
d.H(6,.125);e=new G;e.type=2;e.position.h(-.9,1);e.fb=-.15;f=this.j.l(e);f.k(d,10);var k=new Pf,l=new r;l.h(-2,1);k.S(b,f,l);k.og=!0;this.j.ja(k);e=null;d=new D;d.H(.25,.25);e=new G;e.type=2;e.position.h(-10,15);e=this.j.l(e);e.k(d,10);l.h(-7,15);k.S(h,e,l);this.j.ja(k);var m=null,e=new G;e.type=2;e.position.h(6.5,3);m=this.j.l(e);d=new D;h=new E;h.shape=d;h.fa=10;h.gb=.1;d.H(1,.1,new r(0,-.9),0);m.k(h);d.H(.1,1,new r(-.9,0),0);m.k(h);d.H(.1,1,new r(.9,0),0);m.k(h);l.h(6,2);k.S(b,m,l);this.j.ja(k);
b=null;d=new D;d.H(1,.1);e=new G;e.type=2;e.position.h(6.5,4.1);b=this.j.l(e);b.k(d,30);l.h(7.5,4);k.S(m,b,l);this.j.ja(k);b=null;d=new D;d.H(.1,1);e=new G;e.type=2;e.position.h(7.4,1);b=this.j.l(e);b.k(d,10);d=new Kf;d.Ma=f;d.Ga=b;d.va.h(6,0);d.Da.h(0,-1);b=x(d.Ga.sb(d.Da,new r),d.Ma.sb(d.va,new r),new r);d.length=b.qc();this.j.ja(d);d=new A;d.N=.2;for(f=0;4>f;++f)e=new G,e.type=2,e.position.h(5.9+.4*f,2.4),k=this.j.l(e),k.k(d,10)}q(wl,Y);p("box2d.Testbed.Dominos",wl);
function xl(a,c){return new wl(a,c)}wl.Create=xl;function yl(a,c){function b(a,b,c){var f=new D;f.H(.1,.5);var h=new E;h.shape=f;h.fa=d;f=new G;f.type=2;h.gb=.1;h.dc=.65;f.position.h(a,b);f.fb=c?Math.PI/2:0;e.l(f).k(h)}Y.call(this,a,c);var d,e=this.j;e.ej(new r(0,-10));var f=new D;f.H(50,10);var h=new G;h.position.h(0,-10);e.l(h).k(f,0);d=10;f=new D;f.H(.7,.7);var k=new E;k.fa=35;h=new G;h.type=2;k.shape=f;k.gb=0;k.dc=.85;h.tf=!0;h.position=new r(30,5);f=e.l(h);f.k(k);f.Yd(new r(-25,-25));f.Jh(6.7);k.fa=25;h.position=new r(-30,25);f=e.l(h);f.k(k);
f.Yd(new r(35,-10));f.Jh(-8.3);for(k=0;25>k;++k)h=1.5*k-18.75,b(h,.5,!1),b(h,1.1,!0);h=18.75;for(f=1;25>f;++f){3<f&&(d*=.8);for(var l=.5+1.386*f,k=0;k<25-f;++k)h=1.5*k-1.5*(25-f)/2,d*=2.5,0==k&&b(h-1.25+.1,l-.2,!1),k==25-f-1&&b(h+1.25-.1,l-.2,!1),d/=2.5,b(h,l,!1),b(h,l+.6,!0),b(h,l-.6,!0)}}q(yl,Y);p("box2d.Testbed.DominoTower",yl);function zl(a,c){return new yl(a,c)}yl.Create=zl;function Al(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new D,e=[new r(-4,-2),new r(4,-2),new r(4,0),new r(-4,0)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-4,-2),new r(-2,-2),new r(-2,6),new r(-4,6)];d.h(e,4);b.k(d,0);d=new D;e=[new r(2,-2),new r(4,-2),new r(4,6),new r(2,6)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-4,4),new r(4,4),new r(4,6),new r(-4,6)];d.h(e,4);b.k(d,0);this.Qq=0;this.W.Qd(.1);this.Aj=null;this.Mm=!0;gk(Bl,Cl);Dl.tk=!1;this.Ub=yk();this.Eb=0}q(Al,Y);p("box2d.Testbed.DrawingParticles",Al);
g=Al.prototype;g.Aj=null;g.Mm=!0;g.Ub=0;g.Eb=0;g.Qq=0;var Bl=[new gg(tg),new gg([new fg(2,6,"erase"),new fg(-2147483647,6,"move"),new fg(-2147483646,6,"rigid"),new fg(-2147483644,6,"rigid barrier"),new fg(-2147483640,6,"elastic barrier"),new fg(-2147483632,6,"spring barrier"),new fg(-2147483616,6,"repulsive wall")])],Cl=Bl.length;
Al.prototype.ua=function(a){this.Mm=a!==El;this.Eb=this.Ub=0;switch(a){case Uk:this.Ub=16;this.Eb=1;break;case Fl:this.Ub=64;break;case Gl:this.Eb=3;break;case Ek:this.Ub=8;this.Eb=1;break;case Hl:this.Ub=128;break;case Il:this.Ub=32;break;case ul:this.Ub=4;this.Eb=1;break;case Jl:this.Ub=1028;break;case Kl:this.Ub=1024;this.Eb=2;break;case Ll:this.Ub=1040;this.Eb=1;break;case Ml:this.Ub=1032;this.Eb=1;break;case Nl:this.Ub=8196;break;case gl:this.Ub=256;break;case Ol:this.Ub=2}Pl(this.Mm?3===this.Eb?
-2147483646:2===this.Eb&&1024===this.Ub?-2147483644:1040===this.Ub?-2147483640:1032===this.Ub?-2147483632:8196===this.Ub?-2147483616:this.Ub:-2147483647)};Al.prototype.Keyboard=Al.prototype.ua;
Al.prototype.Nf=function(a){Y.prototype.Nf.call(this,a);if(this.Mm){var c=new A;c.Ka.e(a);c.N=.2;this.W.Xi(c,Wb);this.Aj&&this.Eb===this.Aj.Eb||(this.Qq=(this.Qq+1)%fk);a=new zg;a.shape=c;a.Ea=this.Ub;if(this.Ub&28||1028===this.Ub)a.Ea|=4096;a.pi=this.Eb;a.color.e(ek[this.Qq]);a.group=this.Aj;this.Aj=this.W.rd(a);this.Vm=!1}};Al.prototype.MouseMove=Al.prototype.Nf;Al.prototype.vd=function(a){Y.prototype.vd.call(this,a);this.Aj=null};Al.prototype.MouseUp=Al.prototype.vd;
Al.prototype.gg=function(a){Y.prototype.gg.call(this,a);a===this.Aj&&(this.Aj=null)};Al.prototype.ParticleGroupDestroyed=Al.prototype.gg;
Al.prototype.C=function(a){var c=yk();if(this.Mm=-2147483647!==(c&-2147483647))switch(c){case 16:case 8:case 4:this.Ub=c;this.Eb=1;break;case -2147483646:this.Ub=0;this.Eb=3;break;case -2147483644:this.Ub=1024;this.Eb=2;break;case -2147483640:this.Ub=1040;this.Eb=0;break;case -2147483632:this.Ub=1032;this.Eb=0;break;case -2147483616:this.Ub=8196;this.Eb=1;break;default:this.Ub=c,this.Eb=0}if(this.W.Ln()&2)for(c=this.W.jf;c;c=c.ud())c!==this.Aj&&c.Eb&2&&c.Ln()&2&&this.W.bx(c);Y.prototype.C.call(this,
a);this.D.ta(5,this.m,"Keys: (L) liquid, (E) elastic, (S) spring");this.m+=25;this.D.ta(5,this.m,"(R) rigid, (W) wall, (V) viscous, (T) tensile");this.m+=25;this.D.ta(5,this.m,"(F) repulsive wall, (B) wall barrier");this.m+=25;this.D.ta(5,this.m,"(H) rigid barrier, (N) elastic barrier, (M) spring barrier");this.m+=25;this.D.ta(5,this.m,"(C) color mixing, (Z) erase, (X) move");this.m+=25};Al.prototype.Step=Al.prototype.C;Al.prototype.Vb=function(){return.1};Al.prototype.GetDefaultViewZoom=Al.prototype.Vb;
function Ql(a,c){return new Al(a,c)}Al.Create=Ql;function Rl(a,c){Y.call(this,a,c);this.j.ej(new r(0,0));var b=Array(4),d=Array(2),e=new G;e.type=0;e.position.h(0,0);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=0;e.lg=0;e.Me=!0;e.$k=!0;e.Rf=!1;e.tf=!1;e.Am=!0;e.Sf=1;b[0]=this.j.l(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.ui=!1;e.filter.uf=1;e.filter.Ef=65535;e.filter.Kd=0;var f=new C;f.N=.009999999776483;f.De.h(0,0);f.Kc.h(0,0);f.Pc.h(44.5217399597168,0);f.Ee.h(0,0);f.Pe=!1;f.Qe=!1;e.shape=f;b[0].k(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.ui=!1;e.filter.uf=1;e.filter.Ef=
65535;e.filter.Kd=0;f=new C;f.N=.009999999776483;f.De.h(0,0);f.Kc.h(0,16.69565200805664);f.Pc.h(44.5217399597168,16.69565200805664);f.Ee.h(0,0);f.Pe=!1;f.Qe=!1;e.shape=f;b[0].k(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.ui=!1;e.filter.uf=1;e.filter.Ef=65535;e.filter.Kd=0;f=new C;f.N=.009999999776483;f.De.h(0,0);f.Kc.h(0,16.69565200805664);f.Pc.h(0,0);f.Ee.h(0,0);f.Pe=!1;f.Qe=!1;e.shape=f;b[0].k(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.ui=!1;e.filter.uf=1;e.filter.Ef=65535;e.filter.Kd=0;f=new C;f.N=.009999999776483;
f.De.h(0,0);f.Kc.h(44.5217399597168,16.69565200805664);f.Pc.h(44.5217399597168,0);f.Ee.h(0,0);f.Pe=!1;f.Qe=!1;e.shape=f;b[0].k(e);e=new G;e.type=2;e.position.h(.847826063632965,2.5);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=.5;e.lg=.5;e.Me=!0;e.$k=!0;e.Rf=!1;e.tf=!1;e.Am=!0;e.Sf=1;b[1]=this.j.l(e);e=new E;e.gb=1;e.dc=.5;e.fa=10;e.ui=!1;e.filter.uf=1;e.filter.Ef=65535;e.filter.Kd=0;var f=new D,h=gb(8);h[0].h(6.907599925994873,.327199995517731);h[1].h(-.322800010442734,.282599985599518);h[2].h(-.322800010442734,
-.295700013637543);h[3].h(6.885900020599365,-.364100009202957);f.h(h,4);e.shape=f;b[1].k(e);e=new G;e.type=2;e.position.h(13.04347801208496,2.5);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=.5;e.lg=.5;e.Me=!0;e.$k=!0;e.Rf=!1;e.tf=!1;e.Am=!0;e.Sf=1;b[2]=this.j.l(e);e=new E;e.gb=1;e.dc=.5;e.fa=10;e.ui=!1;e.filter.uf=1;e.filter.Ef=65535;e.filter.Kd=0;f=new D;h=gb(8);h[0].h(.200000002980232,-.300000011920929);h[1].h(.200000002980232,.200000002980232);h[2].h(-6.900000095367432,.200000002980232);h[3].h(-6.900000095367432,
-.300000011920929);f.h(h,4);e.shape=f;b[2].k(e);e=new G;e.type=0;e.position.h(0,0);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=0;e.lg=0;e.Me=!0;e.$k=!0;e.Rf=!1;e.tf=!1;e.Am=!0;e.Sf=1;b[3]=this.j.l(e);e=new Pf;e.Ma=b[1];e.Ga=b[0];e.og=!1;e.va.h(0,0);e.Da.h(.847826063632965,2.5);e.If=0;e.bf=!1;e.ve=0;e.Fe=0;e.Id=!1;e.se=0;e.ag=0;d[0]=this.j.ja(e);e=new Of;e.Ma=b[1];e.Ga=b[2];e.og=!1;e.va.h(0,0);e.Da.h(-12.19565200805664,0);e.Gg.h(-1,0);e.If=0;e.bf=!0;e.gl=-20;e.nm=0;e.Id=!0;e.se=0;e.pn=10;d[1]=this.j.ja(e)}
q(Rl,Y);p("box2d.Testbed.DumpShell",Rl);function Sl(a,c){return new Rl(a,c)}Rl.Create=Sl;function Tl(){this.ra=new Jc}p("box2d.Testbed.Actor",Tl);Tl.prototype.ra=null;Tl.prototype.aabb=Tl.prototype.ra;Tl.prototype.ae=0;Tl.prototype.fraction=Tl.prototype.ae;Tl.prototype.kp=!1;Tl.prototype.overlap=Tl.prototype.kp;Tl.prototype.ei=null;Tl.prototype.proxyId=Tl.prototype.ei;
function Ul(a,c){Y.call(this,a,c);this.Bc=new qd;this.Ll=new Jc;this.Qg=new Hc;this.Lu=new Ic;this.kh=Array(128);for(var b=0;128>b;++b)this.kh[b]=new Tl;this.Jj=15;this.xr=.5;for(b=0;128>b;++b){var d=this.kh[b];this.Ss(d.ra);d.ei=this.Bc.ah(d.ra,d)}this.vg=0;b=this.Jj;this.Ll.lowerBound.h(-3,-4+b);this.Ll.upperBound.h(5,6+b);this.Qg.pd.h(-5,5+b);this.Qg.te.h(7,-4+b);this.Qg.Ff=1;this.Ao=!1}q(Ul,Y);p("box2d.Testbed.DynamicTreeTest",Ul);Ul.e_actorCount=128;Ul.prototype.Jj=0;
Ul.prototype.m_worldExtent=Ul.prototype.Jj;Ul.prototype.xr=0;Ul.prototype.m_proxyExtent=Ul.prototype.xr;Ul.prototype.Bc=null;Ul.prototype.m_tree=Ul.prototype.Bc;Ul.prototype.Ll=null;Ul.prototype.m_queryAABB=Ul.prototype.Ll;Ul.prototype.Qg=null;Ul.prototype.m_rayCastInput=Ul.prototype.Qg;Ul.prototype.Lu=null;Ul.prototype.m_rayCastOutput=Ul.prototype.Lu;Ul.prototype.fB=null;Ul.prototype.m_actor=Ul.prototype.fB;Ul.prototype.kh=null;Ul.prototype.m_actors=Ul.prototype.kh;Ul.prototype.vg=0;
Ul.prototype.m_stepCount=Ul.prototype.vg;Ul.prototype.Ao=!1;Ul.prototype.m_automated=Ul.prototype.Ao;
Ul.prototype.C=function(a){Y.prototype.C.call(this,a);this.Ml=null;for(a=0;128>a;++a)this.kh[a].ae=1,this.kh[a].kp=!1;if(this.Ao){var c=Ja(1,32);for(a=0;a<c;++a)this.vv()}this.eh();this.Aa();for(a=0;128>a;++a)if(c=this.kh[a],null!==c.ei){var b=new xa(.9,.9,.9);c===this.Ml&&c.kp?b.jg(.9,.6,.6):c===this.Ml?b.jg(.6,.9,.6):c.kp&&b.jg(.6,.6,.9);this.D.xs(c.ra,b)}b=new xa(.7,.7,.7);this.D.xs(this.Ll,b);this.D.oc(this.Qg.pd,this.Qg.te,b);a=new xa(.9,.2,.2);this.D.Ie(this.Qg.pd,6,new xa(.2,.9,.2));this.D.Ie(this.Qg.te,
6,a);this.Ml&&(a=new xa(.2,.2,.9),c=pb(this.Qg.pd,qb(this.Ml.ae,x(this.Qg.te,this.Qg.pd,new r),new r),new r),this.D.Ie(c,6,a));this.D.ta(5,this.m,"dynamic tree height = %d",this.Bc.Js());this.m+=25;++this.vg};Ul.prototype.Step=Ul.prototype.C;Ul.prototype.ua=function(a){switch(a){case Sk:this.Ao=!this.Ao;break;case gl:this.ah();break;case Dk:this.ii();break;case Ml:this.mi()}};Ul.prototype.Keyboard=Ul.prototype.ua;
Ul.prototype.Ss=function(a){var c=new r;c.h(2*this.xr,2*this.xr);a.lowerBound.x=Xa(-this.Jj,this.Jj);a.lowerBound.y=Xa(0,2*this.Jj);a.upperBound.e(a.lowerBound);a.upperBound.Qa(c)};Ul.prototype.GetRandomAABB=Ul.prototype.Ss;Ul.prototype.yw=function(a){var c=new r;c.x=Xa(-.5,.5);c.y=Xa(-.5,.5);a.lowerBound.Qa(c);a.upperBound.Qa(c);var c=qb(.5,pb(a.lowerBound,a.upperBound,u),new r),b=kb(c,new r(-this.Jj,0),new r(this.Jj,2*this.Jj),new r);a.lowerBound.Qa(x(b,c,new r));a.upperBound.Qa(x(b,c,new r))};
Ul.prototype.MoveAABB=Ul.prototype.yw;Ul.prototype.ah=function(){for(var a=0;128>a;++a){var c=this.kh[0|Xa(0,128)];if(null===c.ei){this.Ss(c.ra);c.ei=this.Bc.ah(c.ra,c);break}}};Ul.prototype.CreateProxy=Ul.prototype.ah;Ul.prototype.ii=function(){for(var a=0;128>a;++a){var c=this.kh[0|Xa(0,128)];if(null!==c.ei){this.Bc.ii(c.ei);c.ei=null;break}}};Ul.prototype.DestroyProxy=Ul.prototype.ii;
Ul.prototype.mi=function(){for(var a=0;128>a;++a){var c=this.kh[0|Xa(0,128)];if(null!==c.ei){a=new Jc;a.e(c.ra);this.yw(c.ra);a=x(c.ra.Yi(),a.Yi(),new r);this.Bc.mi(c.ei,c.ra,a);break}}};Ul.prototype.MoveProxy=Ul.prototype.mi;Ul.prototype.vv=function(){switch(0|Xa(0,20)){case 0:this.ah();break;case 1:this.ii();break;default:this.mi()}};Ul.prototype.Action=Ul.prototype.vv;
Ul.prototype.eh=function(){var a=this;this.Bc.eh(function(b){b=a.Bc.ec(b);b.kp=Lc(a.Ll,b.ra);return!0},this.Ll);for(var c=0;128>c;++c);};Ul.prototype.Query=Ul.prototype.eh;Ul.prototype.Aa=function(){var a=this;this.Ml=null;var c=new Hc;c.e(this.Qg);this.Bc.Aa(function(b,c){var d=a.Bc.ec(c),k=new Ic;return d.ra.Aa(k,b)?(a.Lu=k,a.Ml=d,a.Ml.ae=k.ae):b.Ff},c);for(var b=0;128>b;++b)if(null!==this.kh[b].ei){var d=new Ic;this.kh[b].ra.Aa(d,c)&&(c.Ff=d.ae)}};Ul.prototype.RayCast=Ul.prototype.Aa;
function Vl(a,c){return new Ul(a,c)}Ul.Create=Vl;function Wl(){this.dd=new r;this.Lb=new r}q(Wl,ve);p("box2d.Testbed.EdgeShapesCallback",Wl);Wl.prototype.ql=null;Wl.prototype.m_fixture=Wl.prototype.ql;Wl.prototype.dd=null;Wl.prototype.m_point=Wl.prototype.dd;Wl.prototype.Lb=null;Wl.prototype.m_normal=Wl.prototype.Lb;Wl.prototype.Xd=function(a,c,b,d){this.ql=a;this.dd.e(c);this.Lb.e(b);return d};Wl.prototype.ReportFixture=Wl.prototype.Xd;
function Xl(a,c){Y.call(this,a,c);this.Wc=0;this.Q=Array(256);this.Bd=Array(4);for(var b=0;4>b;++b)this.Bd[b]=new D;this.be=new A;this.Rd=0;for(var d=this.j.l(new G),e=-20,f=2*Sa(e/10*fa),b=0;80>b;++b){var h=e+.5,k=2*Sa(h/10*fa),l=new C;l.Ca(new r(e,f),new r(h,k));d.k(l,0);e=h;f=k}b=Array(3);b[0]=new r(-.5,0);b[1]=new r(.5,0);b[2]=new r(0,1.5);this.Bd[0].h(b,3);b=Array(3);b[0]=new r(-.1,0);b[1]=new r(.1,0);b[2]=new r(0,1.5);this.Bd[1].h(b,3);d=1/(2+Qa(2));e=Qa(2)*d;b=Array(8);b[0]=new r(.5*e,0);b[1]=
new r(.5,d);b[2]=new r(.5,d+e);b[3]=new r(.5*e,1);b[4]=new r(-.5*e,1);b[5]=new r(-.5,d+e);b[6]=new r(-.5,d);b[7]=new r(-.5*e,0);this.Bd[2].h(b,8);this.Bd[3].H(.5,.5);this.be.N=.5;for(b=0;256>b;++b)this.Q[b]=null}q(Xl,Y);p("box2d.Testbed.EdgeShapes",Xl);Xl.e_maxBodies=256;Xl.prototype.Wc=0;Xl.prototype.m_bodyIndex=Xl.prototype.Wc;Xl.prototype.Q=null;Xl.prototype.m_bodies=Xl.prototype.Q;Xl.prototype.Bd=null;Xl.prototype.m_polygons=Xl.prototype.Bd;Xl.prototype.be=null;Xl.prototype.m_circle=Xl.prototype.be;
Xl.prototype.Rd=0;Xl.prototype.m_angle=Xl.prototype.Rd;Xl.prototype.l=function(a){null!==this.Q[this.Wc]&&(this.j.sd(this.Q[this.Wc]),this.Q[this.Wc]=null);var c=new G;c.position.h(Xa(-10,10),Xa(10,20));c.fb=Xa(-fa,fa);c.type=2;4===a&&(c.lg=.02);this.Q[this.Wc]=this.j.l(c);4>a?(c=new E,c.shape=this.Bd[a]):(c=new E,c.shape=this.be);c.gb=.3;c.fa=20;this.Q[this.Wc].k(c);this.Wc=(this.Wc+1)%256};Xl.prototype.CreateBody=Xl.prototype.l;
Xl.prototype.sd=function(){for(var a=0;256>a;++a)if(null!==this.Q[a]){this.j.sd(this.Q[a]);this.Q[a]=null;break}};Xl.prototype.DestroyBody=Xl.prototype.sd;Xl.prototype.ua=function(a){switch(a){case Yl:case Zl:case $l:case am:case bm:this.l(a-Yl);break;case Dk:this.sd()}};Xl.prototype.Keyboard=Xl.prototype.ua;
Xl.prototype.C=function(a){var c=!a.pause||a.jm;Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press 1-5 to drop stuff, m to change the mode");this.m+=25;a=new r(0,10);var b=new r(25*Sa(this.Rd),-25*ra(Ta(this.Rd))),d=pb(a,b,new r),b=new Wl;this.j.Aa(b,a,d);b.ql?(this.D.Ie(b.dd,5,new xa(.4,.9,.4)),this.D.oc(a,b.dd,new xa(.8,.8,.8)),a=pb(b.dd,qb(.5,b.Lb,u),new r),this.D.oc(b.dd,a,new xa(.9,.9,.4))):this.D.oc(a,d,new xa(.8,.8,.8));c&&(this.Rd+=.25*fa/180)};Xl.prototype.Step=Xl.prototype.C;
function Dn(a,c){return new Xl(a,c)}Xl.Create=Dn;function En(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),e=new r(-10,0),f=new r(-7,-2),h=new r(-4,0),k=new r(0,0),l=new r(4,0),m=new r(7,2),n=new r(10,0),b=new C;b.Ca(e,f);b.Qe=!0;b.Ee.e(h);d.k(b,0);b.Ca(f,h);b.Pe=!0;b.Qe=!0;b.De.e(e);b.Ee.e(k);d.k(b,0);b.Ca(h,k);b.Pe=!0;b.Qe=!0;b.De.e(f);b.Ee.e(l);d.k(b,0);b.Ca(k,l);b.Pe=!0;b.Qe=!0;b.De.e(h);b.Ee.e(m);d.k(b,0);b.Ca(l,m);b.Pe=!0;b.Qe=!0;b.De.e(k);b.Ee.e(n);d.k(b,0);b.Ca(m,n);b.Pe=!0;b.De.e(l);d.k(b,0);b=new G;b.type=2;b.position.h(-.5,.6);b.Me=
!1;d=this.j.l(b);b=new A;b.N=.5;d.k(b,1);b=new G;b.type=2;b.position.h(1,.6);b.Me=!1;d=this.j.l(b);b=new D;b.H(.5,.5);d.k(b,1)}q(En,Y);p("box2d.Testbed.EdgeTest",En);function Fn(a,c){return new En(a,c)}En.Create=Fn;function Gn(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,2)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,2),new r(2,2)];b.h(e,4);d.k(b,0);this.W.Qd(.035*3);b=new A;b.Ka.h(0,3);b.N=.5;d=new zg;d.Ea=8;d.pi=1;d.shape=b;d.color.h(255,0,0,255);this.W.rd(d);b=new A;b.Ka.h(-1,3);b.N=.5;d=new zg;d.Ea=16;d.pi=1;d.shape=b;d.color.h(0,255,0,255);this.W.rd(d);
b=new D;b.H(1,.5);d=new zg;d.Ea=16;d.pi=1;d.position.h(1,4);d.fb=-.5;d.hh=2;d.shape=b;d.color.h(0,0,255,255);this.W.rd(d);b=new G;b.type=2;d=this.j.l(b);b=new A;b.Ka.h(0,8);b.N=.5;d.k(b,.5)}q(Gn,Y);p("box2d.Testbed.ElasticParticles",Gn);Gn.prototype.Vb=function(){return.1};Gn.prototype.GetDefaultViewZoom=Gn.prototype.Vb;function Hn(a,c){return new Gn(a,c)}Gn.Create=Hn;function In(a,c){Y.call(this,a,c)}q(In,Y);p("box2d.Testbed.Empty",In);In.prototype.Eg=function(a){Y.prototype.Eg.call(this,a)};In.prototype.JointDestroyed=In.prototype.Eg;In.prototype.gg=function(a){Y.prototype.gg.call(this,a)};In.prototype.ParticleGroupDestroyed=In.prototype.gg;In.prototype.ue=function(a){Y.prototype.ue.call(this,a)};In.prototype.BeginContact=In.prototype.ue;In.prototype.Je=function(a){Y.prototype.Je.call(this,a)};In.prototype.EndContact=In.prototype.Je;
In.prototype.jd=function(a,c){Y.prototype.jd.call(this,a,c)};In.prototype.PreSolve=In.prototype.jd;In.prototype.Of=function(a,c){Y.prototype.Of.call(this,a,c)};In.prototype.PostSolve=In.prototype.Of;In.prototype.ua=function(a){Y.prototype.ua.call(this,a)};In.prototype.Keyboard=In.prototype.ua;In.prototype.sf=function(a){Y.prototype.sf.call(this,a)};In.prototype.KeyboardUp=In.prototype.sf;In.prototype.Mf=function(a){Y.prototype.Mf.call(this,a)};In.prototype.MouseDown=In.prototype.Mf;
In.prototype.vd=function(a){Y.prototype.vd.call(this,a)};In.prototype.MouseUp=In.prototype.vd;In.prototype.Nf=function(a){Y.prototype.Nf.call(this,a)};In.prototype.MouseMove=In.prototype.Nf;In.prototype.C=function(a){Y.prototype.C.call(this,a)};In.prototype.Step=In.prototype.C;In.prototype.Vb=function(){return Y.prototype.Vb.call(this)};In.prototype.GetDefaultViewZoom=In.prototype.Vb;In.Create=function(a,c){return new In(a,c)};function Jn(a,c){Y.call(this,a,c);this.hf=new Ri;this.jB=new Kn(30,50);this.W.Qd(.035);this.W.lo(1E3);this.W.bq(!0);var b=null,b=this.j.l(new G),d=new D,e=.25;d.H(.95,.05,new r(0,0),0);b.k(d,0);d.H(.05,e,new r(-1,.2),0);b.k(d,0);d.H(.05,e,new r(1,.2),0);b.k(d,0);d=new D;d.H(5,.05,new r(0,-.1),0);b.k(d,0);var d=new D,f=2*this.W.vm(),h=4*f,k=.1*1.1,e=3+.5*h;d.H(f,h,new r(-k,e),0);b.k(d,0);d.H(f,h,new r(k,e),0);b.k(d,0);d.H(k-f,f,new r(0,e+h-f),0);b.k(d,0);b=4*this.W.vm();this.hf.W=this.W;this.hf.Xt=
this.jB;this.hf.gj(new r(.1,3+.5*b));this.hf.Yo.e(new r(0,0));this.hf.wl.e(new r(0,b)).Ia(.5);this.hf.cj(new Yf(255,255,255,255));this.hf.rj=120;this.hf.fj(yk());Dl.tk=!1;gk(Ln,Mn)}q(Jn,Y);p("box2d.Testbed.Faucet",Jn);Jn.prototype.Ym=0;var Ln=[new gg([new fg(0,6,"water"),new fg(0,7,"water (strict)"),new fg(32,6,"viscous"),new fg(64,6,"powder"),new fg(128,6,"tensile"),new fg(256,6,"color mixing"),new fg(2048,6,"static pressure")])],Mn=Ln.length;
Jn.prototype.C=function(a){var c=1/a.le;Y.prototype.C.call(this,a);this.Ym+=c;this.Ym>=fk&&(this.Ym-=fk);this.hf.fj(yk());this.hf.Rs()&256?this.hf.cj(ek[Math.floor(this.Ym)%fk]):this.hf.cj(new Yf(255,255,255,255));this.hf.C(c);a=["Keys: (w) water, (q) powder","      (t) tensile, (v) viscous","      (c) color mixing, (s) static pressure","      (+) increase flow, (-) decrease flow"];for(c=0;c<a.length;++c)this.D.ta(5,this.m,a[c]),this.m+=25};Jn.prototype.Step=Jn.prototype.C;
Jn.prototype.ua=function(a){var c=0;switch(a){case ul:c=0;break;case Tk:c=64;break;case Hl:c=128;break;case Il:c=32;break;case gl:c=256;break;case Ek:c=2048;break;case Nn:a=this.hf.rj;a=Ja(1.05*a,1);this.hf.rj=a;break;case On:a=this.hf.rj;a*=1/1.05;a=Ia(a,240);this.hf.rj=a;break;default:return}Pl(c)};Jn.prototype.Keyboard=Jn.prototype.ua;Jn.prototype.Vb=function(){return.1};Jn.prototype.GetDefaultViewZoom=Jn.prototype.Vb;function Kn(a,c){this.yu=a;this.Kx=c}q(Kn,Qi);Kn.prototype.yu=0;
Kn.prototype.Kx=0;Kn.prototype.zw=function(a,c){a.dq(c,Math.random()*(this.Kx-this.yu)+this.yu)};function Pn(a,c){return new Jn(a,c)}Jn.Create=Pn;function Qn(){this.yi=[]}Qn.prototype.yi=null;Qn.prototype.Yk=function(){for(var a=0;a<this.yi.length;++a)this.yi[a].Pt.Yk()};Qn.prototype.Dn=function(a,c){this.yi.push({Pt:a,vi:c})};Qn.prototype.C=function(a){for(var c=[],b=0;b<this.yi.length;++b){var d=this.yi[b].Pt,e=this.yi[b].vi-a;0>=e&&c.push(d);this.yi[b].vi=e;d.C(a)}for(b=0;b<c.length;++b)d=c[b],d.Yk(),this.yi=this.yi.filter(function(a){return a.Pt!==d})};function Rn(){this.Il=[]}q(Rn,ke);Rn.prototype.Il=null;
Rn.prototype.eo=function(a){this.Il.splice(this.Il.indexOf(a),1)};var Sn=.2*12,Tn=new xa(1,1,1),Un=new xa(1,.5,.5),Vn=new xa(.5,.5,.5),Wn=new Yf(new xa(1,0,0)),Xn=new Yf(new xa(0,.2,1)),Yn=new Yf(new xa(.8,.4,0)),Zn=.2*.2;function $n(a,c){Y.call(this,a,c);this.Xk()}q($n,Y);p("box2d.Testbed.Fracker",$n);function ao(){this.Il=[];this.Xk()}q(ao,Rn);g=ao.prototype;g.Ql=0;g.Ro=0;g.j=null;g.nB=null;g.Xk=function(){};g.Yk=function(){this.j&&this.j.Qk(this.nB)};g.S=function(a){this.j=a;this.j.Qk(this)};
g.pt=function(a,c){var b=a.Xs()[c];if(b)switch(b){case 3:this.Ql+=1;this.Ro+=-1;break;case 4:this.Ql+=-1}};g=$n.prototype;g.Ei=null;g.ep=18;g.Pr=15;g.Qu=2;g.Ou=null;g.xo=!1;g.vj=-1;g.Uh=null;g.Q=null;g.Yf=null;
g.Xk=function(){this.Ou=new Qn;this.Uh=[];this.Q=[];this.Yf=new ao;this.Yf.S(this.j);this.W.Qd(Zn);for(var a=0;384>a;++a)this.Uh[a]=0,this.Q[a]=null;var a=this.j.l(new G),c=new Fd,b=new r,d=new r;b.h(0-Sn,2-1.6);d.h(0+Sn,3.6);c.hi([new r(b.x,b.y),new r(d.x,b.y),new r(d.x,d.y),new r(b.x,d.y)],4);a.k(c,0);for(a=this.Qu;a<=this.Pr;a++)this.Uh[this.ep+24*a]=5;for(a=0;24>a;a++)for(c=0;16>c;c++)if(0===this.Uh[a+24*c])if(b=100*Math.random(),80>b||0===c){var b=a,d=c,e=bo(b,d),f=this.j.l(new G),h=new D;h.H(.1,
.1,co(e),0);f.k(h,.1);var e=b,h=d,k=this.Q[e+24*h];k&&this.j.sd(k);this.Q[e+24*h]=f;this.Uh[b+24*d]=1}else 90>b?this.Uh[a+24*c]=0:97>b?eo(this,a,c,3):eo(this,a,c,4);a=new G;a.type=1;this.Ei=this.j.l(a);a=new D;a.H(.1,.1,new r(.1,.1),0);this.Ei.k(a,.1);this.Ei.Et(bo(12,8),0)};g.Yk=function(){this.Yf.Yk()};g.Nb=function(a,c){return this.Q[a+24*c]};
function eo(a,c,b,d){var e=bo(c,b),f=new D;a.Uh[c+24*b]=d;f.H(.1,.1,co(e),0);e=new zg;e.Ea=672;e.shape=f;e.color.e(3===d?Wn:Xn);var h=a.W.rd(e);a.Yf.Il.push(h);for(var f=h.Rc(),e=a.W.Xs(),h=h.Kb,k=0;k<f;++k)e[h+k]=a.Uh[c+24*b];3===d&&(a=a.Yf,a.Ro+=f)}function fo(a,c,b){var d=a.Ei.Wb().sa,e=[0],f=[0];go(d,e,f);c=Ka(c,0,23);b=Ka(b,0,15);5===a.Uh[c+24*b]||e[0]===c&&f[0]===b||(ho(a),a.Ei.Et(bo(c,b),0))}
function ho(a){var c=!1,b=a.Ei.Wb().sa;if(1<a.vj){c=new zg;c=a.W.rd(c);a.Yf.Il.push(c);var d=new Ri;Si(d,c);d.W=a.W;d.gj(co(b));d.Yo.e(new r(0,-.1));d.wh=.1*.1;d.wl.e(new r(.1,.1)).Ia(.5);d.rj=20;d.cj(Yn);d.fj(160);a.Ou.Dn(d,5);b=a.Yf;b.Ql+=-10;c=!0}a.vj=-1;return c}g.Eg=function(a){Y.prototype.Eg.call(this,a)};$n.prototype.JointDestroyed=$n.prototype.Eg;$n.prototype.gg=function(a){Y.prototype.gg.call(this,a)};$n.prototype.ParticleGroupDestroyed=$n.prototype.gg;
$n.prototype.ue=function(a){Y.prototype.ue.call(this,a)};$n.prototype.BeginContact=$n.prototype.ue;$n.prototype.Je=function(a){Y.prototype.Je.call(this,a)};$n.prototype.EndContact=$n.prototype.Je;$n.prototype.jd=function(a,c){Y.prototype.jd.call(this,a,c)};$n.prototype.PreSolve=$n.prototype.jd;$n.prototype.Of=function(a,c){Y.prototype.Of.call(this,a,c)};$n.prototype.PostSolve=$n.prototype.Of;
$n.prototype.ua=function(a){if(this.xo){var c=this.Ei.Wb().sa,b=[0],d=[0];go(c,b,d);switch(a){case Sk:b[0]--;break;case Ek:d[0]--;break;case Dk:b[0]++;break;case ul:d[0]++;break;case Uk:0>this.vj?this.vj=0:ho(this);break;default:Y.prototype.ua.call(this,a)}fo(this,b[0],d[0]);this.xo=!1}};$n.prototype.Keyboard=$n.prototype.ua;$n.prototype.sf=function(a){Y.prototype.sf.call(this,a)};$n.prototype.KeyboardUp=$n.prototype.sf;$n.prototype.Mf=function(a){Y.prototype.Mf.call(this,a);this.vj=0};
$n.prototype.MouseDown=$n.prototype.Mf;$n.prototype.vd=function(a){Y.prototype.vd.call(this,a);if(this.xo){if(!ho(this)){var c=this.Ei.Wb().sa,b=[0],d=[0];go(c,b,d);a=x(a,co(c),new r);var c=Math.abs(a.x),e=Math.abs(a.y);c>e&&.1<=c?b[0]+=0<a.x?1:-1:.1<=e&&(d[0]+=0<a.y?1:-1);fo(this,b[0],d[0])}this.xo=!1}};$n.prototype.MouseUp=$n.prototype.vd;$n.prototype.Nf=function(a){Y.prototype.Nf.call(this,a)};$n.prototype.MouseMove=$n.prototype.Nf;
$n.prototype.C=function(a){Y.prototype.C.call(this,a);a=1/a.le;this.Ou.C(a);this.xo=!0;0<=this.vj&&(this.vj+=a);var c=this.Ei.Wb().sa,b=[0];a=[0];go(c,b,a);1===this.Uh[b[0]+24*a[0]]&&(this.Uh[b[0]+24*a[0]]=0,c=b[0],a=a[0],(b=this.Q[c+24*a])&&this.j.sd(b),this.Q[c+24*a]=null);var d=this.ep,c=this.Pr,b=this.ep,e=this.Pr;a=new D;b=b-d+1;e=e-c+1;d+=b/2;c+=e/2;a.H(.1*b,.1*e);b=new Vb;b.h(co(bo(d,c)),0);this.W.Xi(a,b);a=this.Yf.Il;for(c=0;c<a.length;++c)for(var f=a[c],b=f.Kb,d=this.W.Pb.data,e=this.W.Hb.data,
f=f.Rc(),h=0;h<f;++h){var k=co(bo(this.ep,this.Qu-2)),l=d[b+h],m=x(l,k,new r),n=Math.abs(m.x);.2>n&&-.4<m.y&&0>m.y?(k=x(k,l,new r),k.ic(),e[b+h].e(k.Ia(.2))):.1>=n&&0<m.y&&(k=new r(.1*Math.random()-m.x,.2),k.ic(),e[b+h].e(k.Ia(1)))}a=this.Ei.Wb().sa;c=Ja(this.vj/1,0);io(this,a,new xa(Tn.Bb*(1-c)+Un.Bb*c,Tn.yb*(1-c)+Un.yb*c,Tn.xb*(1-c)+Un.xb*c),!0);for(a=this.Qu;a<=this.Pr;++a)io(this,bo(this.ep,a),Vn);this.D.ta(5,this.m,"Score: %d, Remaining Oil %d",this.Yf.Ql,this.Yf.Ro);this.m+=25;this.D.ta(5,this.m,
"Move: a,s,d,w   Fracking Fluid: e");this.m+=25};$n.prototype.Step=$n.prototype.C;function io(a,c,b,d){d=d||!1;var e=gb(4),f=c.x+.2,h=c.y+.2;e[0].h(c.x,h);e[1].h(c.x,c.y);e[2].h(f,c.y);e[3].h(f,h);d?a.D.Kf(e,4,b):a.D.Jn(e,4,b)}$n.prototype.Vb=function(){return.1};$n.prototype.GetDefaultViewZoom=$n.prototype.Vb;function jo(a,c){return new $n(a,c)}$n.Create=jo;function go(a,c,b){var d=new r;d.h(0-Sn,2-1.6);c[0]=Math.floor((a.x-d.x)/.2+.1);b[0]=Math.floor((a.y-d.y)/.2+.1)}
function bo(a,c){var b;b=b||new r;var d=new r;d.h(0-Sn,2-1.6);return b.h(.2*a+d.x,.2*c+d.y)}function co(a){var c;c=c||new r;return c.h(a.x+.1,a.y+.1)};function ko(a,c){Y.call(this,a,c);var b=null,b=this.j.l(new G),d=new C;d.Ca(new r(-50,0),new r(50,0));b.k(d,0);var e=new A;e.N=1;var f=new D;f.H(.5,5);d=new A;d.N=2;var h=new G;h.type=0;h.position.h(10,9);var k=this.j.l(h);k.k(e,5);var l=new G;l.type=2;l.position.h(10,8);var m=this.j.l(l);m.k(f,5);var n=new G;n.type=2;n.position.h(10,6);l=this.j.l(n);l.k(d,5);var t=new Pf;t.S(m,k,h.position);f=this.j.ja(t);h=new Pf;h.S(m,l,n.position);m=this.j.ja(h);n=new Rf;n.Ma=k;n.Ga=l;n.el=f;n.fl=m;n.Lj=d.N/e.N;
this.j.ja(n);e=new A;e.N=1;d=new A;d.N=2;f=new D;f.H(.5,5);h=new G;h.type=2;h.position.h(-3,12);k=this.j.l(h);k.k(e,5);t=new Pf;t.Ma=b;t.Ga=k;b.Ke(h.position,t.va);k.Ke(h.position,t.Da);t.If=k.hc()-b.hc();this.yd=this.j.ja(t);l=new G;l.type=2;l.position.h(0,12);m=this.j.l(l);m.k(d,5);h=new Pf;h.S(b,m,l.position);this.Ae=this.j.ja(h);n=new G;n.type=2;n.position.h(2.5,12);l=this.j.l(n);l.k(f,5);f=new Of;f.S(b,l,n.position,new r(0,1));f.gl=-5;f.nm=5;f.bf=!0;this.jr=this.j.ja(f);n=new Rf;n.Ma=k;n.Ga=
m;n.el=this.yd;n.fl=this.Ae;n.Lj=d.N/e.N;this.ou=this.j.ja(n);b=new Rf;b.Ma=m;b.Ga=l;b.el=this.Ae;b.fl=this.jr;b.Lj=-1/d.N;this.pu=this.j.ja(b)}q(ko,Y);p("box2d.Testbed.Gears",ko);ko.prototype.yd=null;ko.prototype.m_joint1=ko.prototype.yd;ko.prototype.Ae=null;ko.prototype.m_joint2=ko.prototype.Ae;ko.prototype.jr=null;ko.prototype.m_joint3=ko.prototype.jr;ko.prototype.ou=null;ko.prototype.m_joint4=ko.prototype.ou;ko.prototype.pu=null;ko.prototype.m_joint5=ko.prototype.pu;ko.prototype.ua=function(){};
ko.prototype.Keyboard=ko.prototype.ua;ko.prototype.C=function(a){Y.prototype.C.call(this,a);var c;a=this.ou.Qb;c=this.yd.On()+a*this.Ae.On();this.D.ta(5,this.m,"theta1 + %4.2f * theta2 = %4.2f",a,c);this.m+=25;a=this.pu.Qb;c=this.Ae.On()+a*this.jr.dh();this.D.ta(5,this.m,"theta2 + %4.2f * delta = %4.2f",a,c);this.m+=25};ko.prototype.Step=ko.prototype.C;function lo(a,c){return new ko(a,c)}ko.Create=lo;function mo(a,c){Y.call(this,a,c);this.Pu=!1;var b=this.j.l(new G),d=[new r(no,oo),new r(po,oo),new r(po,qo),new r(no,qo)],e=new Fd;e.hi(d,d.length);b.k(e,0);this.W.Qd(.025*3);this.W.dj(.2);e=new D;e.H(.8,1,new r(0,1.01),0);b=new zg;b.Ea=yk();b.shape=e;e=this.W.rd(b);b.Ea&256&&this.Wi(e,0)}q(mo,Y);p("box2d.Testbed.Impulse",mo);var no=-2,po=2,oo=0,qo=4;mo.prototype.vd=function(a){Y.prototype.vd.call(this,a);no<=a.x&&a.x<=po&&oo<=a.y&&a.y<=qo&&(a=x(a,new r(.5*(no+po),.5*(oo+qo)),new r),a.ic(),this.Av(a))};
mo.prototype.MouseUp=mo.prototype.vd;mo.prototype.ua=function(a){Y.prototype.ua.call(this,a);switch(a){case ro:this.Pu=!0;break;case Nl:this.Pu=!1}};mo.prototype.Keyboard=mo.prototype.ua;mo.prototype.Av=function(a){var c=this.j.nf.jf,b=c.Rc();this.Pu?(a=qb(.005*b,a,new r),c.qf(a)):(a=qb(1*b,a,new r),c.He(a))};mo.prototype.ApplyImpulseOrForce=mo.prototype.Av;mo.prototype.Vb=function(){return.1};mo.prototype.GetDefaultViewZoom=mo.prototype.Vb;function so(a,c){return new mo(a,c)}mo.Create=so;function to(a,c){Y.call(this,a,c);gk(uo,vo);var b=new G,d=this.j.l(b),b=new Fd;b.hi([new r(-2,0),new r(2,0),new r(2,4),new r(-2,4)],4);d.k(b,0);this.W.Qd(.025);b=new D;b.H(2,.4,new r(0,3.6),0);d=new zg;d.Ea=yk();d.shape=b;b=this.W.rd(d);d.Ea&256&&this.Wi(b,0);b=new G;d=this.j.l(b);b=new C;b.h(new r(-2,3.2),new r(-1.2,3.2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.1,3.2),new r(2,3.2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.2,3.2),new r(-1.2,2.8));d.k(b,.1);b=new G;d=this.j.l(b);
b=new C;b.h(new r(-1.1,3.2),new r(-1.1,2.8));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.6,2.4),new r(.8,2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(1.6,1.6),new r(-.8,1.2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.2,.8),new r(-1.2,0));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-.4,.8),new r(-.4,0));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(.4,.8),new r(.4,0));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(1.2,.8),new r(1.2,0));d.k(b,.1)}q(to,Y);
p("box2d.Testbed.LiquidTimer",to);var uo=[new gg([new fg(160,6,"tensile + viscous")]),new gg(tg)],vo=uo.length;to.prototype.Vb=function(){return.1};to.prototype.GetDefaultViewZoom=to.prototype.Vb;function wo(a,c){return new to(a,c)}to.Create=wo;function xo(a,c){Y.call(this,a,c);this.Wf=.25;this.sk=2;this.Fj=null;this.Ul=5;this.nj=null;this.j.ej(new r(0,0));var b=this.j.l(new G),d=new Fd;d.hi([new r(-1,0),new r(1,0),new r(1,4),new r(-1,4)],4);var e=new E;e.shape=d;e.fa=0;e.dc=1;b.k(e);yo(this);zo(this)}q(xo,Y);p("box2d.Testbed.Maxwell",xo);g=xo.prototype;g.Wf=0;g.sk=0;g.Ul=0;g.nj=null;g.Fj=null;function Ao(a){a.nj&&(a.j.sd(a.nj),a.nj=null)}
function yo(a){if(!a.nj){a.nj=a.j.l(new G);var c=new D;c.H(1,.02,new r(0,a.sk),0);var b=new E;b.shape=c;b.fa=0;b.dc=1;a.nj.k(b)}}function zo(a){null!==a.Fj&&(a.Fj.ws(),a.Fj=null);a.W.Qd(.05);var c=new D;c.H(1*a.Wf,2*a.Wf,new r(0,2),0);var b=new zg;b.Ea=64;b.shape=c;a.Fj=a.W.rd(b);for(var c=a.W.Hb.data,b=a.Fj.Kb,d=0;d<a.Fj.Rc();++d){var e=c[b+d];e.h(mj()+1,mj()+1);e.ic();e.Ia(a.Ul)}}
g.ua=function(a){switch(a){case Sk:this.nj?Ao(this):yo(this);break;case Nn:this.Wf=Ia(1.25*this.Wf,.8);this.ub();break;case On:this.Wf=Ja(this.Wf/1.25,.01);this.ub();break;case Bo:Co(this,this.sk+.2);break;case Do:Co(this,this.sk-.2);break;case Eo:this.Ul=Ja(this.Ul-.2,.4);this.ub();break;case Fo:this.Ul=Ia(this.Ul+.2,10);this.ub();break;default:Y.prototype.ua.call(this,a)}};xo.prototype.Keyboard=xo.prototype.ua;function Go(a){return-1<=a.x&&1>=a.x&&0<=a.y&&4>=a.y}
xo.prototype.Mf=function(a){Go(a)||Y.prototype.Mf.call(this,a)};xo.prototype.MouseDown=xo.prototype.Mf;xo.prototype.vd=function(a){Go(a)?this.nj?Ao(this):yo(this):(Co(this,a.y),Y.prototype.vd.call(this,a))};xo.prototype.MouseUp=xo.prototype.vd;
xo.prototype.C=function(a){Y.prototype.C.call(this,a);var c=0;a=0;for(var b=this.Fj.Kb,d=this.W.Hb.data,e=this.W.Pb.data,f=0;f<this.Fj.Rc();f++){var h=d[b+f];h.ic();h.Ia(this.Ul);e[b+f].y>this.sk?c++:a++}c/=4-this.sk;a/=this.sk;this.D.ta(10,75,"Score: %f",0<c?a/c-1:0)};xo.prototype.Step=xo.prototype.C;xo.prototype.ub=function(){Ao(this);zo(this);yo(this)};function Co(a,c){a.sk=Ka(c,.2,3.8);a.ub()}xo.prototype.Vb=function(){return.1};xo.prototype.GetDefaultViewZoom=xo.prototype.Vb;
function Ho(a,c){return new xo(a,c)}xo.Create=Ho;function Io(a,c){Y.call(this,a,c);var b;b=new G;b.position.h(0,20);b=this.j.l(b);var d=new r(0,.5),e=this.Ek(b,ab,0,3,.5),f=new Pf;f.Ma=b;f.Ga=e;f.va.ba();f.Da.e(d);this.j.ja(f)}q(Io,Y);p("box2d.Testbed.Mobile",Io);Io.e_depth=4;
Io.prototype.Ek=function(a,c,b,d,e){var f=new r(0,e);a=a.ad().za().Qa(c).Ob(f);c=new G;c.type=2;c.position.e(a);a=this.j.l(c);c=new D;c.H(.25*e,e);a.k(c,20);if(4===b)return a;c=new r(d,-e);var h=new r(-d,-e),k=this.Ek(a,c,b+1,.5*d,e);b=this.Ek(a,h,b+1,.5*d,e);d=new Pf;d.Ma=a;d.Da.e(f);d.va.e(c);d.Ga=k;this.j.ja(d);d.va.e(h);d.Ga=b;this.j.ja(d);return a};function Jo(a,c){return new Io(a,c)}Io.Create=Jo;function Ko(a,c){Y.call(this,a,c);var b;b=new G;b.position.h(0,20);b=this.j.l(b);var d=new r(0,.5),e=this.Ek(b,ab,0,3,.5),f=new Pf;f.Ma=b;f.Ga=e;f.va.ba();f.Da.e(d);this.j.ja(f)}q(Ko,Y);p("box2d.Testbed.MobileBalanced",Ko);Ko.e_depth=4;
Ko.prototype.Ek=function(a,c,b,d,e){var f=new r(0,e);a=a.ad().za().Qa(c).Ob(f);c=new G;c.type=2;c.position.e(a);a=this.j.l(c);c=new D;c.H(.25*e,e);a.k(c,20);if(4===b)return a;c.H(d,.25*e,new r(0,-e),0);a.k(c,20);c=new r(d,-e);var h=new r(-d,-e),k=this.Ek(a,c,b+1,.5*d,e);b=this.Ek(a,h,b+1,.5*d,e);d=new Pf;d.Ma=a;d.Da.e(f);d.va.e(c);d.Ga=k;this.j.ja(d);d.va.e(h);d.Ga=b;this.j.ja(d);return a};function Lo(a,c){return new Ko(a,c)}Ko.Create=Lo;function Mo(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-20,0),new r(20,0));var f=new E;f.shape=e;b.k(f);d=new G;d.type=2;d.position.h(0,8);d=this.j.l(d);e=new D;e.H(2,.5);f=new E;f.shape=e;f.gb=.6;f.fa=2;d.k(f);e=new Vf;e.S(b,d);e.di=1E3;e.Zl=1E3;this.xc=this.j.ja(e);this.Ko=!1;this.ai=0}q(Mo,Y);p("box2d.Testbed.MotorJoint",Mo);Mo.prototype.xc=null;Mo.prototype.m_joint=Mo.prototype.xc;Mo.prototype.ai=0;Mo.prototype.m_time=Mo.prototype.ai;Mo.prototype.Ko=!1;
Mo.prototype.m_go=Mo.prototype.Ko;Mo.prototype.ua=function(a){switch(a){case Ek:this.Ko=!this.Ko}};Mo.prototype.Keyboard=Mo.prototype.ua;Mo.prototype.C=function(a){this.Ko&&0<a.le&&(this.ai+=1/a.le);var c=new r;c.x=6*Ta(2*this.ai);c.y=8+4*Ta(1*this.ai);var b=4*this.ai;this.xc.Mw(c);this.xc.Jw(b);this.D.Ie(c,4,new xa(.9,.9,.9));Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Keys: (s) pause");this.m+=25};Mo.prototype.Step=Mo.prototype.C;function No(a,c){return new Mo(a,c)}Mo.Create=No;function Oo(a,c){Y.call(this,a,c);this.Rh=[new Ri,new Ri];this.W.Qd(.05);this.W.lo(500);this.W.bq(!0);var b=new Vg;b.op=this.W.vm();b.Uj=!0;this.Hu=this.j.rs(b);this.Hu.lo(500);Dl.tk=!1;var b=new G,d=this.j.l(b),b=new D;b.H(5,.1);d.k(b,0);b=new G;b.type=2;var d=this.j.l(b),b=new D,e=new r(0,1.2);b.H(Po.x,Po.y,e,0);d.k(b,0);b=new Cd;b.od=1;b.jc.e(e);b.Lf=0;d.Sk(b);for(b=0;b<this.Rh.length;++b)d=b&1?-1:1,e=this.Rh[b],e.gj(new r(Qo.x*d,Qo.y)),e.wl.e(Ro).Ia(.5),e.Yo.e(new r(So.x*d,So.y)),e.rj=100,e.cj(b&
1?To:Uo),e.W=b&1?this.Hu:this.W}q(Oo,Y);p("box2d.Testbed.MultipleParticleSystems",Oo);Oo.prototype.Hu=null;Oo.prototype.Rh=null;var Po=new r(.5,.5),Qo=new r(-5,4),So=new r(7,-4),Ro=new r(1,1),Uo=new Yf(34,51,255,255),To=new Yf(255,34,17,255);Oo.prototype.C=function(a){var c=1/a.le;Y.prototype.C.call(this,a);for(a=0;a<this.Rh.length;++a)this.Rh[a].C(c)};Oo.prototype.Step=Oo.prototype.C;Oo.prototype.Vb=function(){return.2};Oo.prototype.GetDefaultViewZoom=Oo.prototype.Vb;
function Vo(a,c){return new Oo(a,c)}Oo.Create=Vo;function Wo(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new C;b.Ca(new r(-40,0),new r(40,0));d.k(b,0);b=new G;b.position.h(0,10);d=this.j.l(b);b=new D;b.H(3,.5);this.Ad=d.k(b,0);this.xx=9.5;this.Nu=10.5;b=new G;b.type=2;b.position.h(0,12);d=this.j.l(b);this.N=.5;b=new A;b.N=this.N;this.nh=d.k(b,20);d.Yd(new r(0,-50));this.cn=0}q(Wo,Y);p("box2d.Testbed.OneSidedPlatform",Wo);Wo.e_unknown=0;Wo.e_above=1;Wo.e_below=2;Wo.prototype.N=0;Wo.prototype.m_radius=Wo.prototype.N;Wo.prototype.Nu=0;
Wo.prototype.m_top=Wo.prototype.Nu;Wo.prototype.xx=0;Wo.prototype.m_bottom=Wo.prototype.xx;Wo.prototype.cn=0;Wo.prototype.m_state=Wo.prototype.cn;Wo.prototype.Ad=null;Wo.prototype.m_platform=Wo.prototype.Ad;Wo.prototype.nh=null;Wo.prototype.m_character=Wo.prototype.nh;Wo.prototype.jd=function(a,c){Y.prototype.jd.call(this,a,c);var b=a.Xb,d=a.Yb;b!==this.Ad&&b!==this.nh||d!==this.Ad&&d!==this.nh||this.nh.Nb().ad().y<this.Nu+this.N-.024&&a.vt(!1)};Wo.prototype.PreSolve=Wo.prototype.jd;
Wo.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press: (c) create a shape, (d) destroy a shape.");this.m+=25;a=this.nh.Nb().ie();this.D.ta(5,this.m,"Character Linear Velocity: %f",a.y);this.m+=25};Wo.prototype.Step=Wo.prototype.C;function Xo(a,c){return new Wo(a,c)}Wo.Create=Xo;function Yo(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,3)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,3),new r(2,2)];b.h(e,4);d.k(b,0);this.W.Qd(.035*3);e=yk();this.W.dj(.2);b=new A;b.Ka.h(0,3);b.N=2;d=new zg;d.Ea=e;d.shape=b;b=this.W.rd(d);d.Ea&256&&this.Wi(b,0);b=new G;b.type=2;d=this.j.l(b);b=new A;b.Ka.h(0,8);b.N=.5;d.k(b,.5)}q(Yo,Y);
p("box2d.Testbed.Particles",Yo);Yo.prototype.Vb=function(){return.1};Yo.prototype.GetDefaultViewZoom=Yo.prototype.Vb;function Zo(a,c){return new Yo(a,c)}Yo.Create=Zo;function $o(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,2)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,2),new r(2,2)];b.h(e,4);d.k(b,0);this.W.Qd(.035*3);b=new A;b.Ka.h(0,2);b.N=.5;d=new zg;d.Ea=384;d.shape=b;d.color.h(255,0,0,255);this.W.rd(d);b=new A;b.Ka.h(-1,2);b.N=.5;d=new zg;d.Ea=384;d.shape=b;d.color.h(0,255,0,255);this.W.rd(d);b=
new D;e=[new r(0,3),new r(2,3),new r(2,3.5),new r(0,3.5)];b.h(e,4);d=new zg;d.Ea=384;d.shape=b;d.color.h(0,0,255,255);this.W.rd(d);b=new G;b.type=2;d=this.j.l(b);b=new A;b.Ka.h(0,8);b.N=.5;d.k(b,.5)}q($o,Y);p("box2d.Testbed.ParticlesSurfaceTension",$o);$o.prototype.Vb=function(){return.1};$o.prototype.GetDefaultViewZoom=$o.prototype.Vb;function ap(a,c){return new $o(a,c)}$o.Create=ap;function bp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=gb(5);d[0].h(0,-2);d[1].h(8,6);d[2].h(8,20);d[3].h(-8,20);d[4].h(-8,6);var e=new Fd;e.hi(d,5);d=new E;d.shape=e;d.fa=0;b.k(d);var e=new r(-2,0),f=new r(2,0),d=new G;d.type=2;d.position=e;var h=this.j.l(d);d.position=f;var k=this.j.l(d),l=new D;l.H(1.75,.1);d=new E;d.shape=l;d.fa=1;h.k(d);k.k(d);d=new Pf;d.Ma=b;d.Da.ba();d.Id=!0;d.ag=1E3;d.bf=!0;d.se=0;d.va.e(e);d.Ga=h;d.ve=-30*fa/180;d.Fe=5*fa/180;this.pr=this.j.ja(d);d.se=0;d.va.e(f);
d.Ga=k;d.ve=-5*fa/180;d.Fe=30*fa/180;this.Er=this.j.ja(d);d=new G;d.position.h(1,15);d.type=2;d.tf=!0;this.jl=this.j.l(d);b=new A;b.N=.2;d=new E;d.shape=b;d.fa=1;this.jl.k(d);this.Bo=!1}q(bp,Y);p("box2d.Testbed.Pinball",bp);bp.prototype.pr=null;bp.prototype.m_leftJoint=bp.prototype.pr;bp.prototype.Er=null;bp.prototype.m_rightJoint=bp.prototype.Er;bp.prototype.jl=null;bp.prototype.m_ball=bp.prototype.jl;bp.prototype.Bo=!1;bp.prototype.m_button=bp.prototype.Bo;
bp.prototype.C=function(a){this.Bo?(this.pr.$e(20),this.Er.$e(-20)):(this.pr.$e(-10),this.Er.$e(10));Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press 'a' to control the flippers");this.m+=25};bp.prototype.Step=bp.prototype.C;bp.prototype.ua=function(a){switch(a){case Sk:this.Bo=!0}};bp.prototype.Keyboard=bp.prototype.ua;bp.prototype.sf=function(a){switch(a){case Sk:this.Bo=!1}};bp.prototype.KeyboardUp=bp.prototype.sf;function cp(a,c){return new bp(a,c)}bp.Create=cp;function dp(a,c){Y.call(this,a,c);for(var b=this.j.l(new G),d=-10;10>d;d+=1){var e=new D;e.h([new r(d,-10),new r(d+1,-10),new r(0,25)],3);b.k(e,0)}this.W.Qd(.75);0===yk()&&this.W.dj(.2);this.tu=new D;this.tu.H(50,1);this.uu=new Vb;this.uu.h(new r(-25,1),0)}q(dp,Y);p("box2d.Testbed.Pointy",dp);dp.prototype.tu=null;dp.prototype.uu=null;
dp.prototype.C=function(a){Y.prototype.C.call(this,a);a=yk();var c=new cg;c.position.h(0,33);c.cg.h(0,-1);c.Ea=a;a&24&&(c.cg.h(this.W.Rc()&1?-1:1,-5),c.Ea|=4096);this.W.pm(c);this.W.Xi(this.tu,this.uu)};dp.prototype.Step=dp.prototype.C;function ep(a,c){return new dp(a,c)}dp.Create=ep;function fp(a,c){Y.call(this,a,c);this.Cf=new D;this.$b=new D;this.Ug=new Vb;this.xg=new Vb;this.Zc=new r;this.Cf.H(.2,.4);this.Ug.Tk(new r(0,0),0);this.$b.H(.5,.5);this.Zc.h(19.345284,1.5632932);this.df=1.9160721;this.xg.Tk(this.Zc,this.df)}q(fp,Y);p("box2d.Testbed.PolyCollision",fp);fp.prototype.Cf=null;fp.prototype.m_polygonA=fp.prototype.Cf;fp.prototype.$b=null;fp.prototype.m_polygonB=fp.prototype.$b;fp.prototype.Ug=null;fp.prototype.m_transformA=fp.prototype.Ug;fp.prototype.xg=null;
fp.prototype.m_transformB=fp.prototype.xg;fp.prototype.Zc=null;fp.prototype.m_positionB=fp.prototype.Zc;fp.prototype.df=0;fp.prototype.m_angleB=fp.prototype.df;
fp.prototype.C=function(){var a=new Bc;od(a,this.Cf,this.Ug,this.$b,this.xg);var c=new Cc;c.S(a,this.Ug,this.Cf.N,this.xg,this.$b.N);this.D.ta(5,this.m,"point count = %d",a.Wa);this.m+=25;for(var b=new xa(.9,.9,.9),d=Array(8),e=0;e<this.Cf.n;++e)d[e]=Xb(this.Ug,this.Cf.Z[e],new r);this.D.Kf(d,this.Cf.n,b);for(e=0;e<this.$b.n;++e)d[e]=Xb(this.xg,this.$b.Z[e],new r);this.D.Kf(d,this.$b.n,b);for(e=0;e<a.Wa;++e)this.D.Ie(c.Oa[e],4,new xa(.9,.3,.3))};fp.prototype.Step=fp.prototype.C;
fp.prototype.ua=function(a){switch(a){case Sk:this.Zc.x-=.1;break;case Dk:this.Zc.x+=.1;break;case Ek:this.Zc.y-=.1;break;case ul:this.Zc.y+=.1;break;case Tk:this.df+=.1*fa;break;case Uk:this.df-=.1*fa}this.xg.Tk(this.Zc,this.df)};fp.prototype.Keyboard=fp.prototype.ua;function gp(a,c){return new fp(a,c)}fp.Create=gp;function hp(){this.be=new A;this.wg=new Vb}q(hp,ue);p("box2d.Testbed.PolyShapesCallback",hp);hp.e_maxCount=4;hp.prototype.be=null;hp.prototype.m_circle=hp.prototype.be;hp.prototype.wg=null;hp.prototype.m_transform=hp.prototype.wg;hp.prototype.gB=null;hp.prototype.m_debug_draw=hp.prototype.gB;hp.prototype.n=0;hp.prototype.m_count=hp.prototype.n;
hp.prototype.Xd=function(a){if(4===this.n)return!1;if(Oc(a.$a,0,this.be,0,a.Nb().Wb(),this.wg)){var c=new xa(.95,.95,.6),b=a.Nb().Wb();switch(a.Ic()){case 0:a=a.$a;b=Xb(b,a.Ka,new r);this.D.Ik(b,a.N,c);break;case 2:a=a.$a;for(var d=qa(a.n),e=Array(8),f=0;f<d;++f)e[f]=Xb(b,a.Z[f],new r);this.D.Kf(e,d,c)}++this.n}return!0};
function ip(a,c){Y.call(this,a,c);this.Wc=0;this.Q=Array(256);this.Bd=Array(4);for(var b=0;4>b;++b)this.Bd[b]=new D;this.be=new A;var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=Array(3);b[0]=new r(-.5,0);b[1]=new r(.5,0);b[2]=new r(0,1.5);this.Bd[0].h(b,3);b=Array(3);b[0]=new r(-.1,0);b[1]=new r(.1,0);b[2]=new r(0,1.5);this.Bd[1].h(b,3);var d=1/(2+Qa(2)),e=Qa(2)*d,b=Array(8);b[0]=new r(.5*e,0);b[1]=new r(.5,d);b[2]=new r(.5,d+e);b[3]=new r(.5*e,1);b[4]=new r(-.5*e,1);b[5]=
new r(-.5,d+e);b[6]=new r(-.5,d);b[7]=new r(-.5*e,0);this.Bd[2].h(b,8);this.Bd[3].H(.5,.5);this.be.N=.5;for(b=0;256>b;++b)this.Q[b]=null}q(ip,Y);p("box2d.Testbed.PolyShapes",ip);ip.e_maxBodies=256;
ip.prototype.l=function(a){null!==this.Q[this.Wc]&&(this.j.sd(this.Q[this.Wc]),this.Q[this.Wc]=null);var c=new G;c.type=2;c.position.h(Xa(-2,2),10);c.fb=Xa(-fa,fa);4===a&&(c.lg=.02);this.Q[this.Wc]=this.j.l(c);4>a?(c=new E,c.shape=this.Bd[a]):(c=new E,c.shape=this.be);c.fa=1;c.gb=.3;this.Q[this.Wc].k(c);this.Wc=(this.Wc+1)%256};ip.prototype.CreateBody=ip.prototype.l;ip.prototype.sd=function(){for(var a=0;256>a;++a)if(null!==this.Q[a]){this.j.sd(this.Q[a]);this.Q[a]=null;break}};
ip.prototype.DestroyBody=ip.prototype.sd;ip.prototype.ua=function(a){switch(a){case Yl:case Zl:case $l:case am:case bm:this.l(a-Yl);break;case Sk:for(a=0;256>a;a+=2)this.Q[a]&&this.Q[a].Gw(!this.Q[a].Gh());break;case Dk:this.sd()}};ip.prototype.Keyboard=ip.prototype.ua;
ip.prototype.C=function(a){Y.prototype.C.call(this,a);a=new hp;a.be.N=2;a.be.Ka.h(0,1.1);a.wg.Pf();a.D=this.D;var c=new Jc;a.be.Sb(c,a.wg,0);this.j.hg(a,c);this.D.Ik(a.be.Ka,a.be.N,new xa(.4,.7,.8));this.D.ta(5,this.m,"Press 1-5 to drop stuff");this.m+=25;this.D.ta(5,this.m,"Press 'a' to (de)activate some bodies");this.m+=25;this.D.ta(5,this.m,"Press 'd' to destroy a body");this.m+=25};ip.prototype.Step=ip.prototype.C;function jp(a,c){return new ip(a,c)}ip.Create=jp;function kp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.H(2,.5);d=new G;d.type=2;d.position.h(-10,10);d.fb=.5*fa;d.Me=!1;d=this.j.l(d);d.k(e,5);var e=new Of,f=new r(2,1);f.ic();e.S(b,d,new r(0,0),f);e.se=10;e.pn=1E4;e.Id=!0;e.gl=0;e.nm=20;e.bf=!0;this.xc=this.j.ja(e)}q(kp,Y);p("box2d.Testbed.Prismatic",kp);kp.prototype.xc=null;kp.prototype.m_joint=kp.prototype.xc;
kp.prototype.ua=function(a){switch(a){case ro:this.xc.Kn(!this.xc.xe);break;case Ml:this.xc.ji(!this.xc.md);break;case Ek:this.xc.$e(-this.xc.nd)}};kp.prototype.Keyboard=kp.prototype.ua;kp.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Keys: (l) limits, (m) motors, (s) speed");this.m+=25;this.D.ta(5,this.m,"Motor Force = %4.0f",this.xc.bw(a.le));this.m+=25};kp.prototype.Step=kp.prototype.C;function lp(a,c){return new kp(a,c)}kp.Create=lp;function mp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d);(new C).Ca(new r(-40,0),new r(40,0));var e=new A;e.N=2;e.Ka.h(-10,30);b.k(e,0);e.Ka.h(10,30);b.k(e,0);e=new D;e.H(1,2);d=new G;d.type=2;d.position.h(-10,16);b=this.j.l(d);b.k(e,5);d.position.h(10,16);d=this.j.l(d);d.k(e,5);e=new Qf;e.S(b,d,new r(-10,30),new r(10,30),new r(-10,18),new r(10,18),1.5);this.yd=this.j.ja(e)}q(mp,Y);p("box2d.Testbed.Pulleys",mp);mp.prototype.yd=null;mp.prototype.m_joint1=mp.prototype.yd;mp.prototype.ua=function(){};
mp.prototype.Keyboard=mp.prototype.ua;mp.prototype.C=function(a){Y.prototype.C.call(this,a);a=this.yd.Qb;var c=this.yd.Sp()+a*this.yd.Tp();this.D.ta(5,this.m,"L1 + %4.2f * L2 = %4.2f",a,c);this.m+=25};mp.prototype.Step=mp.prototype.C;function np(a,c){return new mp(a,c)}mp.Create=np;function op(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d=new D;d.H(.5,.5);for(var e=new r(-7,.75),f=new r(0,0),h=new r(.5625,1.25),k=new r(1.125,0),l=0;20>l;++l){f.e(e);for(var m=l;20>m;++m)b=new G,b.type=2,b.position.e(f),this.j.l(b).k(d,5),f.Qa(k);e.Qa(h)}}q(op,Y);p("box2d.Testbed.Pyramid",op);op.e_count=20;op.prototype.C=function(a){Y.prototype.C.call(this,a)};op.prototype.Step=op.prototype.C;function pp(a,c){return new op(a,c)}op.Create=pp;function qp(a,c){function b(a,b,c){var d=new G;d.type=2;d.position.e(b);a=a.l(d);b=new D;c?b.H(15,2):b.H(2,15);c=new E;c.shape=b;c.fa=1/120;c.gb=.6;c.dc=0;a.k(c)}Y.call(this,a,c);var d=this.j,e=d.l(new G),f=new C;f.Ca(new r(-600,-240),new r(600,-240));var h=new E;h.shape=f;h.gb=1;h.dc=1;e.k(h);for(e=0;12>e;e++)for(f=0;f<12-e;f++)h=new r(45*(f-.5*(11-e)),38*(e+.5)-4-240),b(d,h,!1),b(d,pb(h,new r(0,17),new r),!0),0===f&&b(d,pb(h,new r(-13,34),new r),!1),f!=12-e-1?b(d,pb(h,new r(22.5,21),new r),!0):
b(d,pb(h,new r(13,34),new r),!1)}q(qp,Y);p("box2d.Testbed.PyramidTopple",qp);qp.prototype.Vb=function(){return 10};qp.prototype.GetDefaultViewZoom=qp.prototype.Vb;function rp(a,c){return new qp(a,c)}qp.Create=rp;function sp(a,c){Y.call(this,a,c);var b=this.j.l(new G),d;for(d=30;0<d;d-=5){var e=new D,f=[new r(-25,d),new r(-25,d-5),new r(0,15)];e.h(f,3);b.k(e,0)}for(d=-25;25>d;d+=5)e=new D,f=[new r(d,0),new r(d+5,0),new r(0,15)],e.h(f,3),b.k(e,0);this.W.Qd(.25);f=yk();0===f&&this.W.dj(.2);e=new A;e.Ka.h(-20,33);e.N=3;b=new zg;b.Ea=f;b.shape=e;e=this.W.rd(b);b.Ea&256&&this.Wi(e,0)}q(sp,Y);p("box2d.Testbed.Ramp",sp);function tp(a,c){return new sp(a,c)}sp.Create=tp;function up(){this.dd=new r;this.Lb=new r}q(up,ve);p("box2d.Testbed.RayCastClosestCallback",up);up.prototype.zl=!1;up.prototype.m_hit=up.prototype.zl;up.prototype.dd=null;up.prototype.m_point=up.prototype.dd;up.prototype.Lb=null;up.prototype.m_normal=up.prototype.Lb;up.prototype.Xd=function(a,c,b,d){if((a=a.Nb().ec())&&0===a.index)return-1;this.zl=!0;this.dd.e(c);this.Lb.e(b);return d};up.prototype.ReportFixture=up.prototype.Xd;function vp(){this.dd=new r;this.Lb=new r}q(vp,ve);
p("box2d.Testbed.RayCastAnyCallback",vp);vp.prototype.zl=!1;vp.prototype.m_hit=vp.prototype.zl;vp.prototype.dd=null;vp.prototype.m_point=vp.prototype.dd;vp.prototype.Lb=null;vp.prototype.m_normal=vp.prototype.Lb;vp.prototype.Xd=function(a,c,b){if((a=a.Nb().ec())&&0===a.index)return-1;this.zl=!0;this.dd.e(c);this.Lb.e(b);return 0};vp.prototype.ReportFixture=vp.prototype.Xd;function wp(){this.Xh=gb(3);this.mc=gb(3)}q(wp,ve);p("box2d.Testbed.RayCastMultipleCallback",wp);wp.e_maxCount=3;
wp.prototype.Xh=null;wp.prototype.m_points=wp.prototype.Xh;wp.prototype.mc=null;wp.prototype.m_normals=wp.prototype.mc;wp.prototype.n=0;wp.prototype.m_count=wp.prototype.n;wp.prototype.Xd=function(a,c,b){if((a=a.Nb().ec())&&0===a.index)return-1;this.Xh[this.n].e(c);this.mc[this.n].e(b);++this.n;return 3===this.n?0:1};wp.prototype.ReportFixture=wp.prototype.Xd;var xp={fE:0,YD:1,xE:2};p("box2d.Testbed.RayCastMode",xp);xp.e_closest=0;xp.e_any=1;xp.e_multiple=2;
function yp(a,c){Y.call(this,a,c);this.Wc=0;this.Q=Array(256);this.Bd=Array(4);for(var b=0;4>b;++b)this.Bd[b]=new D;this.be=new A;this.Yq=new C;var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=Array(3);b[0]=new r(-.5,0);b[1]=new r(.5,0);b[2]=new r(0,1.5);this.Bd[0].h(b,3);b=Array(3);b[0]=new r(-.1,0);b[1]=new r(.1,0);b[2]=new r(0,1.5);this.Bd[1].h(b,3);var d=1/(2+Qa(2)),e=Qa(2)*d,b=Array(8);b[0]=new r(.5*e,0);b[1]=new r(.5,d);b[2]=new r(.5,d+e);b[3]=new r(.5*e,1);b[4]=new r(-.5*
e,1);b[5]=new r(-.5,d+e);b[6]=new r(-.5,d);b[7]=new r(-.5*e,0);this.Bd[2].h(b,8);this.Bd[3].H(.5,.5);this.be.N=.5;this.Yq.Ca(new r(-1,0),new r(1,0));for(b=0;256>b;++b)this.Q[b]=null;this.zi=this.Rd=0}q(yp,Y);p("box2d.Testbed.RayCast",yp);yp.e_maxBodies=256;yp.prototype.Wc=0;yp.prototype.m_bodyIndex=yp.prototype.Wc;yp.prototype.Q=null;yp.prototype.m_bodies=yp.prototype.Q;yp.prototype.Bd=null;yp.prototype.m_polygons=yp.prototype.Bd;yp.prototype.be=null;yp.prototype.m_circle=yp.prototype.be;
yp.prototype.Yq=null;yp.prototype.m_edge=yp.prototype.Yq;yp.prototype.l=function(a){null!==this.Q[this.Wc]&&(this.j.sd(this.Q[this.Wc]),this.Q[this.Wc]=null);var c=new G;c.position.h(Xa(-10,10),Xa(0,20));c.fb=Xa(-fa,fa);c.Hc={};c.Hc.index=a;4===a&&(c.lg=.02);this.Q[this.Wc]=this.j.l(c);4>a?(c=new E,c.shape=this.Bd[a]):5>a?(c=new E,c.shape=this.be):(c=new E,c.shape=this.Yq);c.gb=.3;this.Q[this.Wc].k(c);this.Wc=(this.Wc+1)%256};yp.prototype.CreateBody=yp.prototype.l;
yp.prototype.sd=function(){for(var a=0;256>a;++a)if(null!==this.Q[a]){this.j.sd(this.Q[a]);this.Q[a]=null;break}};yp.prototype.DestroyBody=yp.prototype.sd;yp.prototype.ua=function(a){switch(a){case Yl:case Zl:case $l:case am:case bm:case zp:this.l(a-Yl);break;case Dk:this.sd();break;case Ml:0===this.zi?this.zi=1:1===this.zi?this.zi=2:2===this.zi&&(this.zi=0)}};yp.prototype.Keyboard=yp.prototype.ua;
yp.prototype.C=function(a){var c=!a.pause||a.jm;Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press 1-6 to drop stuff, m to change the mode");this.m+=25;switch(this.zi){case 0:this.D.ta(5,this.m,"Ray-cast mode: closest - find closest fixture along the ray");break;case 1:this.D.ta(5,this.m,"Ray-cast mode: any - check for obstruction");break;case 2:this.D.ta(5,this.m,"Ray-cast mode: multiple - gather multiple fixtures")}this.m+=25;a=new r(0,10);var b=pb(a,new r(11*Sa(this.Rd),11*Ta(this.Rd)),new r);
if(0===this.zi){var d=new up;this.j.Aa(d,a,b);if(d.zl){this.D.Ie(d.dd,5,new xa(.4,.9,.4));this.D.oc(a,d.dd,new xa(.8,.8,.8));var e=pb(d.dd,qb(.5,d.Lb,u),new r);this.D.oc(d.dd,e,new xa(.9,.9,.4))}else this.D.oc(a,b,new xa(.8,.8,.8))}else if(1===this.zi)d=new vp,this.j.Aa(d,a,b),d.zl?(this.D.Ie(d.dd,5,new xa(.4,.9,.4)),this.D.oc(a,d.dd,new xa(.8,.8,.8)),e=pb(d.dd,qb(.5,d.Lb,u),new r),this.D.oc(d.dd,e,new xa(.9,.9,.4))):this.D.oc(a,b,new xa(.8,.8,.8));else if(2===this.zi)for(d=new wp,this.j.Aa(d,a,b),
this.D.oc(a,b,new xa(.8,.8,.8)),b=0;b<d.n;++b){var f=d.Xh[b],e=d.mc[b];this.D.Ie(f,5,new xa(.4,.9,.4));this.D.oc(a,f,new xa(.8,.8,.8));e=pb(f,qb(.5,e,u),new r);this.D.oc(f,e,new xa(.9,.9,.4))}c&&(this.Rd+=.25*fa/180)};yp.prototype.Step=yp.prototype.C;function Ap(a,c){return new yp(a,c)}yp.Create=Ap;function Bp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));d=new E;d.shape=e;b.k(d);e=new A;e.N=.5;d=new G;d.type=2;var f=new Pf;d.position.h(-10,20);d=this.j.l(d);d.k(e,5);d.Jh(100);d.Yd(new r(-800,0));f.S(b,d,new r(-10,12));f.se=1*fa;f.ag=1E4;f.Id=!1;f.ve=-.25*fa;f.Fe=.5*fa;f.bf=!0;f.og=!0;this.xc=this.j.ja(f);e=new A;e.N=3;f=new G;f.type=2;f.position.h(5,30);d=new E;d.fa=5;d.filter.Ef=1;d.shape=e;this.jl=this.j.l(f);this.jl.k(d);d=new D;d.H(10,.2,
new r(-10,0),0);e=new G;e.position.h(20,10);e.type=2;e.tf=!0;e=this.j.l(e);e.k(d,2);f=new Pf;f.S(b,e,new r(20,10));f.ve=-.25*fa;f.Fe=0*fa;f.bf=!0;this.j.ja(f);b=new G;b.type=2;d=this.j.l(b);b=new D;e=gb(3);e[0].h(17.63,36.31);e[1].h(17.52,36.69);e[2].h(17.19,36.36);b.h(e,3);e=new E;e.shape=b;e.fa=1;d.k(e)}q(Bp,Y);p("box2d.Testbed.Revolute",Bp);Bp.prototype.jl=null;Bp.prototype.m_ball=Bp.prototype.jl;Bp.prototype.xc=null;Bp.prototype.m_joint=Bp.prototype.xc;
Bp.prototype.ua=function(a){switch(a){case ro:this.xc.Kn(!this.xc.xe);break;case Ml:this.xc.ji(!this.xc.md)}};Bp.prototype.Keyboard=Bp.prototype.ua;Bp.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Keys: (l) limits, (m) motor");this.m+=25};Bp.prototype.Step=Bp.prototype.C;function Cp(a,c){return new Bp(a,c)}Bp.Create=Cp;function Dp(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,2)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,2),new r(2,2)];b.h(e,4);d.k(b,0);this.W.Qd(.035*3);b=new A;b.Ka.h(0,3);b.N=.5;d=new zg;d.pi=3;d.shape=b;d.color.h(255,0,0,255);this.W.rd(d);b=new A;b.Ka.h(-1,3);b.N=.5;d=new zg;d.pi=3;d.shape=b;d.color.h(0,255,0,255);this.W.rd(d);b=new D;
b.H(1,.5);d=new zg;d.pi=3;d.position.h(1,4);d.fb=-.5;d.hh=2;d.shape=b;d.color.h(0,0,255,255);this.W.rd(d);b=new G;b.type=2;d=this.j.l(b);b=new A;b.Ka.h(0,8);b.N=.5;d.k(b,.5)}q(Dp,Y);p("box2d.Testbed.RigidParticles",Dp);Dp.prototype.Vb=function(){return.1};Dp.prototype.GetDefaultViewZoom=Dp.prototype.Vb;function Ep(a,c){return new Dp(a,c)}Dp.Create=Ep;function Fp(a,c){Y.call(this,a,c);this.Df=new Xi;for(var b=gb(40),d=ta(40),e=0;40>e;++e)b[e].h(0,20-.25*e),d[e]=1;d[0]=0;d[1]=0;e=new Wi;e.dg=b;e.count=40;e.Vj.h(0,-10);e.Tu=d;e.nx=.1;e.sx=1;e.tx=.5;this.Df.S(e);this.Rd=0;this.Df.Ba(this.Rd)}q(Fp,Y);p("box2d.Testbed.Rope",Fp);Fp.prototype.Df=null;Fp.prototype.m_rope=Fp.prototype.Df;Fp.prototype.Rd=0;Fp.prototype.m_angle=Fp.prototype.Rd;
Fp.prototype.ua=function(a){switch(a){case Tk:this.Rd=Ja(-fa,this.Rd-.05*fa);this.Df.Ba(this.Rd);break;case Uk:this.Rd=Ia(fa,this.Rd+.05*fa),this.Df.Ba(this.Rd)}};Fp.prototype.Keyboard=Fp.prototype.ua;Fp.prototype.C=function(a){var c=0<a.le?1/a.le:0;a.pause&&!a.jm&&(c=0);this.Df.C(c,1);Y.prototype.C.call(this,a);this.Df.Hk(this.D);this.D.ta(5,this.m,"Press (q,e) to adjust target angle");this.m+=25;this.D.ta(5,this.m,"Target angle = %4.2f degrees",180*this.Rd/fa);this.m+=25};Fp.prototype.Step=Fp.prototype.C;
function Gp(a,c){return new Fp(a,c)}Fp.Create=Gp;function Hp(a,c){Y.call(this,a,c);this.Gj=new Uf;var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.H(.5,.125);var f=new E;f.shape=e;f.fa=20;f.gb=.2;f.filter.uf=1;f.filter.Ef=65533;var h=new Pf;h.og=!1;this.Gj.va.h(0,15);for(var k=b,l=0;10>l;++l)d=new G,d.type=2,d.position.h(.5+1*l,15),9===l&&(e.H(1.5,1.5),f.fa=100,f.filter.uf=2,d.position.h(1*l,15),d.lg=.4),d=this.j.l(d),d.k(f),h.S(k,d,new r(l,15)),this.j.ja(h),k=d;this.Gj.Da.ba();this.Gj.maxLength=9.01;this.Gj.Ga=
k;this.Gj.Ma=b;this.Df=this.j.ja(this.Gj)}q(Hp,Y);p("box2d.Testbed.RopeJoint",Hp);Hp.prototype.Gj=null;Hp.prototype.m_ropeDef=Hp.prototype.Gj;Hp.prototype.Df=null;Hp.prototype.m_rope=Hp.prototype.Df;Hp.prototype.ua=function(a){switch(a){case Ip:this.Df?(this.j.qm(this.Df),this.Df=null):this.Df=this.j.ja(this.Gj)}};Hp.prototype.Keyboard=Hp.prototype.ua;
Hp.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press (j) to toggle the rope joint.");this.m+=25;this.Df?this.D.ta(5,this.m,"Rope ON"):this.D.ta(5,this.m,"Rope OFF");this.m+=25};Hp.prototype.Step=Hp.prototype.C;function Jp(a,c){return new Hp(a,c)}Hp.Create=Jp;function Kp(){this.Xk()}q(Kp,ke);g=Kp.prototype;g.Jl=null;g.j=null;g.W=null;g.$t=0;g.zx=2;g.Xk=function(){this.Jl=[]};g.Yk=function(){this.j.Qk(null)};g.Dn=function(a,c){for(var b=0;b<c&&256>this.Jl.length;++b){var d=a[b];this.W.fj(d,this.W.Ya.data[d]|512);this.Jl.push(this.W.dw(d))}};g.C=function(a){a=this.$t+a;var c=this.zx;this.$t=a-Math.floor(a/c)*c;a=2*Math.abs(this.$t/this.zx-.5);a=new Yf(128+128*(1-a),128+256*Math.abs(.5-a),128+128*a,255);for(c=0;c<this.Jl.length;++c)this.W.Nn()[this.Jl[c].ye].e(a)};
g.co=function(){};g.$p=function(){};g.eo=function(){};g.pt=function(a,c){a===this.W&&(this.Jl=this.Jl.filter(function(a){return a.ye!==c}))};function Lp(a,c){Y.call(this,a,c);this.Xk()}q(Lp,Y);p("box2d.Testbed.Sandbox",Lp);g=Lp.prototype;g.Go=0;g.zr=0;g.$m=0;g.Ub=0;g.yr=null;g.ru=null;g.su=null;g.Ar=null;g.Rh=null;g.Gr=null;
var Mp=[new gg([new fg(0,6,"water"),new fg(0,7,"water (strict)"),new fg(64,6,"powder"),new fg(128,6,"tensile"),new fg(32,6,"viscous"),new fg(192,6,"tensile powder"),new fg(96,6,"viscous powder"),new fg(224,6,"viscous tensile powder"),new fg(160,6,"tensile viscous water")])],Np=Mp.length;
Lp.prototype.Xk=function(){var a=this.j.l(new G);this.Rh=[];for(var c=0;5>c;c++)this.Rh[c]=null;this.Ar=[];for(c=0;5>c;c++)this.Ar[c]=null;this.j.ej(new r(0,-20));var c=new D,b=[new r(-40,-10),new r(40,-10),new r(40,0),new r(-40,0)];c.h(b,4);a.k(c,0);c=new D;b=[new r(-40,-1),new r(-20,-1),new r(-20,50),new r(-40,50)];c.h(b,4);a.k(c,0);c=new D;b=[new r(20,-1),new r(40,-1),new r(40,50),new r(20,50)];c.h(b,4);a.k(c,0);this.W.Qd(.25);a=this.Gr=new Kp;c=this.W;a.j=this.j;a.W=c;a.j.Qk(a);this.zr=this.Go=
this.$m=0;a=new D;a.H(2,2);var d=gb(3);d[0].h(-2,-2);d[1].h(2,2);d[2].h(2,-2);c=new D;c.h(d,3);d[1].h(-2,2);b=new D;b.h(d,3);d=new A;d.N=1.4;var e=new Yf(255,128,128,255),f=new Yf(128,255,128,255),h=new Yf(128,128,255,255);this.yr=new r(600,0);for(var k=0;10>k;k++)for(var l=0;11>l;l++){var m=new r(4*k+-18,40-4*l+2);switch("# r#g #r##  /#  #  # ###     pA  #  /##### # /#  C  /# #   # ### # / # ## p /#   #  ####  A        /#####KK###"[10*l+k]){case "#":this.l(m,a,0);break;case "A":this.l(m,b,0);break;
case "/":this.l(m,c,0);break;case "C":this.l(m,d,2);break;case "p":var n=new D;n.H(1.95,1.95);var t=new G;t.position.e(m);t.type=2;t.fb=0;t=this.j.l(t);t.k(n,5);n=new Of;n.Ma=this.vl;n.Ga=t;n.og=!1;n.Gg.h(1,0);n.va.e(m);this.j.ja(n);this.Ar[this.zr]=t;this.zr++;break;case "b":Op(this,m,h);break;case "r":Op(this,m,e);break;case "g":Op(this,m,f)}}this.ru=new D;this.ru.H(40,1);this.su=new Vb;this.su.h(new r(-20,1),0);gk(Mp,Np);this.Ub=yk();Dl.tk=!1};
Lp.prototype.Yk=function(){for(var a=0;a<this.Go;a++)this.Rh[a]=null};Lp.prototype.l=function(a,c,b){var d=new G;d.position.e(a);d.type=b;this.j.l(d).k(c,10)};function Op(a,c,b){var d=new r(0,-9.8),e=new Ri;e.W=a.W;e.gj(c);e.Yo.e(d);e.wl.e(new r(3,0)).Ia(.5);e.rj=30;e.cj(b);a.Rh[a.Go]=e;a.Go++}Lp.prototype.Eg=function(a){Y.prototype.Eg.call(this,a)};Lp.prototype.JointDestroyed=Lp.prototype.Eg;Lp.prototype.gg=function(a){Y.prototype.gg.call(this,a)};Lp.prototype.ParticleGroupDestroyed=Lp.prototype.gg;
Lp.prototype.ue=function(a){Y.prototype.ue.call(this,a)};Lp.prototype.BeginContact=Lp.prototype.ue;Lp.prototype.Je=function(a){Y.prototype.Je.call(this,a)};Lp.prototype.EndContact=Lp.prototype.Je;Lp.prototype.jd=function(a,c){Y.prototype.jd.call(this,a,c)};Lp.prototype.PreSolve=Lp.prototype.jd;Lp.prototype.Of=function(a,c){Y.prototype.Of.call(this,a,c)};Lp.prototype.PostSolve=Lp.prototype.Of;
Lp.prototype.ua=function(a){Y.prototype.ua.call(this,a);var c=0;switch(a){case Sk:this.Ub=0;break;case Tk:c=64;break;case Hl:c=128;break;case Il:c=32;break;case ul:c=4}c&&(this.Ub=this.Ub&c?this.Ub&~c:this.Ub|c);Pl(this.Ub)};Lp.prototype.Keyboard=Lp.prototype.ua;Lp.prototype.sf=function(a){Y.prototype.sf.call(this,a)};Lp.prototype.KeyboardUp=Lp.prototype.sf;Lp.prototype.Mf=function(a){Y.prototype.Mf.call(this,a)};Lp.prototype.MouseDown=Lp.prototype.Mf;
Lp.prototype.vd=function(a){Y.prototype.vd.call(this,a)};Lp.prototype.MouseUp=Lp.prototype.vd;Lp.prototype.Nf=function(a){Y.prototype.Nf.call(this,a)};Lp.prototype.MouseMove=Lp.prototype.Nf;
Lp.prototype.C=function(a){Y.prototype.C.call(this,a);this.Ub=yk();a=1/a.le;for(var c=0;c<this.Go;c++){var b=[],d=this.Rh[c];d.fj(this.Ub);d=d.C(a,b,256);this.Gr.Dn(b,d)}this.Gr.C(a);this.W.Xi(this.ru,this.su);for(c=0;c<this.zr;c++)this.Ar[c].ls(this.yr,!0),this.$m+=a,6<this.$m&&(this.$m-=6,this.yr.x*=-1);this.D.ta(5,this.m,"Keys: (a) zero out (water), (q) powder");this.m+=25;this.D.ta(5,this.m,"      (t) tensile, (v) viscous");this.m+=25};Lp.prototype.Step=Lp.prototype.C;Lp.prototype.Vb=function(){return Y.prototype.Vb.call(this)};
Lp.prototype.GetDefaultViewZoom=Lp.prototype.Vb;function Pp(a,c){return new Lp(a,c)}Lp.Create=Pp;function Qp(a,c){Y.call(this,a,c);this.Q=Array(7);this.nn=Array(7);for(var b=0;7>b;++b)this.nn[b]=Array(1);var d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new A;e.N=5;e.Ka.h(0,10);var f=new E;f.shape=e;f.ui=!0;this.$f=b.k(f);e=new A;e.N=1;for(b=0;7>b;++b)d.type=2,d.position.h(-10+3*b,20),d.Hc=this.nn[b],this.nn[b][0]=!1,this.Q[b]=this.j.l(d),this.Q[b].k(e,1)}q(Qp,Y);p("box2d.Testbed.SensorTest",Qp);Qp.e_count=7;Qp.prototype.$f=null;Qp.prototype.m_sensor=Qp.prototype.$f;
Qp.prototype.Q=null;Qp.prototype.m_bodies=Qp.prototype.Q;Qp.prototype.nn=null;Qp.prototype.m_touching=Qp.prototype.nn;Qp.prototype.ue=function(a){var c=a.Xb;a=a.Yb;if(c===this.$f){var b=a.Nb().ec();b&&(b[0]=!0)}a===this.$f&&(b=c.Nb().ec())&&(b[0]=!0)};Qp.prototype.BeginContact=Qp.prototype.ue;Qp.prototype.Je=function(a){var c=a.Xb;a=a.Yb;if(c===this.$f){var b=a.Nb().ec();b&&(b[0]=!1)}a===this.$f&&(b=c.Nb().ec())&&(b[0]=!1)};Qp.prototype.EndContact=Qp.prototype.Je;
Qp.prototype.C=function(a){Y.prototype.C.call(this,a);for(a=0;7>a;++a)if(this.nn[a][0]){var c=this.Q[a],b=this.$f.Nb().sb(this.$f.$a.Ka,new r),d=c.ad(),b=x(b,d,new r);b.Ze()<ea||(b.ic(),b=qb(100,b,new r),c.He(b,d))}};Qp.prototype.Step=Qp.prototype.C;function Rp(a,c){return new Qp(a,c)}Qp.Create=Rp;function Sp(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,10);this.xa=this.j.l(b);d=new D;d.H(4,4,new r(0,0),0);this.Cx=this.xa.k(d,10);this.sj=null;this.$f=!1}q(Sp,Y);p("box2d.Testbed.ShapeEditing",Sp);Sp.prototype.xa=null;Sp.prototype.m_body=Sp.prototype.xa;Sp.prototype.Cx=null;Sp.prototype.m_fixture1=Sp.prototype.Cx;Sp.prototype.sj=null;Sp.prototype.m_fixture2=Sp.prototype.sj;Sp.prototype.$f=!1;
Sp.prototype.m_sensor=Sp.prototype.$f;Sp.prototype.ua=function(a){switch(a){case gl:null===this.sj&&(a=new A,a.N=3,a.Ka.h(.5,-4),this.sj=this.xa.k(a,10),this.xa.Ra(!0));break;case Dk:null!==this.sj&&(this.xa.vs(this.sj),this.sj=null,this.xa.Ra(!0));break;case Ek:null!==this.sj&&(this.$f=!this.$f,this.sj.Qw(this.$f))}};Sp.prototype.Keyboard=Sp.prototype.ua;
Sp.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press: (c) create a shape, (d) destroy a shape.");this.m+=25;this.D.ta(5,this.m,"sensor = %d",this.$f?1:0);this.m+=25};Sp.prototype.Step=Sp.prototype.C;function Tp(a,c){return new Sp(a,c)}Sp.Create=Tp;function Up(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);var f=b,e=new D;e.H(.5,2);d=new G;d.type=2;d.position.h(0,7);d=this.j.l(d);d.k(e,2);e=new Pf;e.S(f,d,new r(0,5));e.se=1*fa;e.ag=1E4;e.Id=!0;this.yd=this.j.ja(e);f=d;e=new D;e.H(.5,4);d=new G;d.type=2;d.position.h(0,13);d=this.j.l(d);d.k(e,2);e=new Pf;e.S(f,d,new r(0,9));e.Id=!1;this.j.ja(e);f=d;e=new D;e.H(1.5,1.5);d=new G;d.type=2;d.Rf=!0;d.position.h(0,17);d=this.j.l(d);d.k(e,2);e=
new Pf;e.S(f,d,new r(0,17));this.j.ja(e);f=new Of;f.S(b,d,new r(0,17),new r(0,1));f.pn=1E3;f.Id=!0;this.Ae=this.j.ja(f);e=new D;e.H(1.5,1.5);d=new G;d.type=2;d.position.h(0,23);d=this.j.l(d);d.k(e,2)}q(Up,Y);p("box2d.Testbed.SliderCrank",Up);Up.e_count=30;Up.prototype.yd=null;Up.prototype.m_joint1=Up.prototype.yd;Up.prototype.Ae=null;Up.prototype.m_joint2=Up.prototype.Ae;Up.prototype.ua=function(a){switch(a){case Nl:this.Ae.ji(!this.Ae.md);this.Ae.ia.Ra(!0);break;case Ml:this.yd.ji(!this.yd.md),this.yd.ia.Ra(!0)}};
Up.prototype.Keyboard=Up.prototype.ua;Up.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Keys: (f) toggle friction, (m) toggle motor");this.m+=25;this.D.ta(5,this.m,"Motor Torque = %5.0f",this.yd.Yp(a.le));this.m+=25};Up.prototype.Step=Up.prototype.C;function Vp(a,c){return new Up(a,c)}Up.Create=Vp;function Wp(a,c){Y.call(this,a,c);this.tw(1028);var b=new G;this.Lo=this.j.l(b);var b=new D,d=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(d,4);this.Lo.k(b,0);b=new D;d=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,3)];b.h(d,4);this.Lo.k(b,0);b=new D;d=[new r(2,-.1),new r(4,-.1),new r(4,3),new r(2,2)];b.h(d,4);this.Lo.k(b,0);this.W.Qd(.035*3);b=new D;b.H(2,1,new r(0,1),0);d=new zg;d.shape=b;d.Ea=yk();b=this.W.rd(d);d.Ea&256&&this.Wi(b,0);b=new G;b.type=2;d=this.j.l(b);b=new A;b.Ka.h(0,
.5);b.N=.1;d.k(b,.1);this.W.Xi(b,d.Wb());b=new G;b.type=2;d=this.j.l(b);b=new D;b.H(.1,.1,new r(-1,.5),0);d.k(b,.1);this.W.Xi(b,d.Wb());b=new G;b.type=2;d=this.j.l(b);b=new D;b.H(.1,.1,new r(1,.5),.5);d.k(b,.1);this.W.Xi(b,d.Wb());b=new G;b.type=2;d=this.j.l(b);b=new C;b.h(new r(0,2),new r(.1,2.1));d.k(b,1);var e=new Cd;e.od=.1;e.jc.x=.5*b.Kc.x+b.Pc.x;e.jc.y=.5*b.Kc.y+b.Pc.y;e.Lf=0;d.Sk(e);b=new G;b.type=2;d=this.j.l(b);b=new C;b.h(new r(.3,2),new r(.4,2.1));d.k(b,1);e=new Cd;e.od=.1;e.jc.x=.5*b.Kc.x+
b.Pc.x;e.jc.y=.5*b.Kc.y+b.Pc.y;e.Lf=0;d.Sk(e);b=new G;b.type=2;d=this.j.l(b);b=new C;b.h(new r(-.3,2.1),new r(-.2,2));d.k(b,1);e=new Cd;e.od=.1;e.jc.x=.5*b.Kc.x+b.Pc.x;e.jc.y=.5*b.Kc.y+b.Pc.y;e.Lf=0;d.Sk(e)}q(Wp,Y);p("box2d.Testbed.Soup",Wp);Wp.prototype.Lo=null;Wp.prototype.Vb=function(){return.1};Wp.prototype.GetDefaultViewZoom=Wp.prototype.Vb;function Xp(a,c){return new Wp(a,c)}Wp.Create=Xp;function Yp(a,c){Wp.call(this,a,c);this.W.dj(1);var b=new A;b.Ka.h(0,.7);b.N=.4;var d=new G;d.type=2;this.Tl=this.j.l(d);this.Tl.k(b,1);d=new Vb;d.Pf();this.W.Xi(b,d);this.ja()}q(Yp,Wp);p("box2d.Testbed.SoupStirrer",Yp);g=Yp.prototype;g.Tl=null;g.xc=null;g.Xm=0;g.ja=function(){var a=new Of;a.Ma=this.Lo;a.Ga=this.Tl;a.og=!0;a.Gg.h(1,0);a.va.e(this.Tl.ad());this.xc=this.j.ja(a)};function Zp(a){a.xc?(a.j.qm(a.xc),a.xc=null):a.ja()}
g.ua=function(a){switch(a){case Hl:Zp(this);break;default:Y.prototype.ua.call(this,a)}};Yp.prototype.Keyboard=Yp.prototype.ua;Yp.prototype.vd=function(a){Y.prototype.vd.call(this,a);$p(a)&&Zp(this)};Yp.prototype.MouseUp=Yp.prototype.vd;function $p(a){return-1<a.y&&2>a.y&&-3<a.x&&3>a.x}Yp.prototype.C=function(a){this.Xm+=1/a.le;5<this.Xm&&(this.Xm-=5);var c=.4*this.Xm*fa,c=(new r(Math.sin(c),Math.cos(c))).Ia(10);$p(this.Tl.ad())&&2>this.Tl.ie().qc()&&this.Tl.ls(c,!0);Y.prototype.C.call(this,a)};
Yp.prototype.Step=Yp.prototype.C;function aq(a,c){return new Yp(a,c)}Yp.Create=aq;function bq(a,c,b,d,e,f){this.sr=new Yf;var h=new A;h.Ka.e(c);h.N=b;b=new zg;b.Ea=f;b.shape=h;this.sr.h(Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),255);b.color.e(this.sr);this.W=a;this.Kl=this.W.rd(b);this.Dx=this.Nl=e;this.er=.5*this.Dx;a=this.Kl.Kb;e=this.W.Pb.data;f=this.W.Hb.data;for(h=a;h<a+this.Kl.Rc();h++)x(e[h],c,f[h]),rb(f[h],d,f[h])}g=bq.prototype;g.Dx=0;g.Nl=0;g.er=0;g.Kl=null;g.W=null;g.sr=null;g.ys=function(){this.Kl.ws(!1);this.Kl=null};
g.C=function(a){if(0<this.Nl){this.Nl=Math.max(this.Nl-a,0);a=this.Nl>=this.er?1:1-(this.er-this.Nl)/this.er;for(var c=this.W.Nn(),b=this.Kl.Kb,d=b;d<b+this.Kl.Rc();d++){var e=c[d];e.rt(a);e.o=this.sr.o}}};
function cq(a,c){Y.call(this,a,c);this.cu=new r;this.hl=[];for(var b=this.Gm=0;20>b;b++)this.hl[b]=null;var b=this.j.l(new G),d=new D,e=[new r(-40,-10),new r(40,-10),new r(40,0),new r(-40,0)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-40,40),new r(40,40),new r(40,50),new r(-40,50)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-40,-1),new r(-20,-1),new r(-20,40),new r(-40,40)];d.h(e,4);b.k(d,0);d=new D;e=[new r(20,-1),new r(40,-1),new r(40,40),new r(20,40)];d.h(e,4);b.k(d,0);this.W.Qd(.5);for(b=0;3>b;b++)d=new G,d.type=
2,d=this.j.l(d),e=new A,e.Ka.h(3*mj(),7+4.5*b),e.N=2,d.k(e,.5).fh({Wx:!0});Dl.tk=!1;Pl(64)}q(cq,Y);g=cq.prototype;g.Gm=0;g.hl=null;g.au=!1;g.cu=null;g.ue=function(a){Y.prototype.ue.call(this,a);var c=a.Xb.ec(),b=a.Yb.ec();if(c&&c.Wx||b&&b.Wx)c=new Cc,a.$s(c),this.cu.e(c.Oa[0]),this.au=!0};
g.C=function(a){var c=yk();Y.prototype.C.call(this,a);if(this.au){var b=this.cu,d=this.hl[this.Gm];null!==d&&(d.ys(),this.hl[this.Gm]=null);this.hl[this.Gm]=new bq(this.W,b,mj(1,2),mj(10,20),mj(.5,1),c);20<=++this.Gm&&(this.Gm=0);this.au=!1}for(c=0;20>c;c++)b=this.hl[c],null!==b&&(b.C(1/a.le),0>=b.Nl&&(b.ys(),this.hl[c]=null))};function dq(a,c){return new cq(a,c)}p("box2d.Testbed.Sparky.Create",dq);function eq(a,c){Y.call(this,a,c);this.Q=Array(10);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d=new A;d.N=1;for(var e=0;10>e;++e)b=new G,b.type=2,b.position.h(0,4+3*e),this.Q[e]=this.j.l(b),this.Q[e].k(d,1),this.Q[e].Yd(new r(0,-50))}q(eq,Y);p("box2d.Testbed.SphereStack",eq);eq.e_count=10;eq.prototype.Q=null;eq.prototype.m_bodies=eq.prototype.Q;eq.prototype.C=function(a){Y.prototype.C.call(this,a)};eq.prototype.Step=eq.prototype.C;
function fq(a,c){return new eq(a,c)}eq.Create=fq;function gq(a,c){Y.call(this,a,c);this.mf=new r;this.Iv()}q(gq,Y);p("box2d.Testbed.TheoJansen",gq);gq.prototype.mf=null;gq.prototype.m_offset=gq.prototype.mf;gq.prototype.Co=null;gq.prototype.m_chassis=gq.prototype.Co;gq.prototype.Li=null;gq.prototype.m_wheel=gq.prototype.Li;gq.prototype.Fl=null;gq.prototype.m_motorJoint=gq.prototype.Fl;gq.prototype.zu=!1;gq.prototype.m_motorOn=gq.prototype.zu;gq.prototype.nd=0;gq.prototype.m_motorSpeed=gq.prototype.nd;
gq.prototype.Gk=function(a,c){var b=new r(5.4*a,-6.1),d=new r(7.2*a,-1.2),e=new r(4.3*a,-1.9),f=new r(3.1*a,.8),h=new r(6*a,1.5),k=new r(2.5*a,3.7),l=new E,m=new E;l.filter.Kd=-1;m.filter.Kd=-1;l.fa=1;m.fa=1;var n=new D,t=new D;if(0<a){var z=[];z[0]=b;z[1]=d;z[2]=e;n.h(z);z[0]=ab;z[1]=x(h,f,new r);z[2]=x(k,f,new r)}else z=[],z[0]=b,z[1]=e,z[2]=d,n.h(z),z[0]=ab,z[1]=x(k,f,new r),z[2]=x(h,f,new r);t.h(z);l.shape=n;m.shape=t;b=new G;n=new G;b.type=2;n.type=2;b.position.e(this.mf);n.position.e(pb(f,this.mf,
new r));b.lg=10;n.lg=10;b=this.j.l(b);n=this.j.l(n);b.k(l);n.k(m);l=new Kf;l.wd=.5;l.Jd=10;l.S(b,n,pb(d,this.mf,new r),pb(h,this.mf,new r));this.j.ja(l);l.S(b,n,pb(e,this.mf,new r),pb(f,this.mf,new r));this.j.ja(l);l.S(b,this.Li,pb(e,this.mf,new r),pb(c,this.mf,new r));this.j.ja(l);l.S(n,this.Li,pb(k,this.mf,new r),pb(c,this.mf,new r));this.j.ja(l);d=new Pf;d.S(n,this.Co,pb(f,this.mf,new r));this.j.ja(d)};gq.prototype.CreateLeg=gq.prototype.Gk;
gq.prototype.Iv=function(){this.mf.h(0,8);this.nd=2;this.zu=!0;var a=new r(0,.8),c=new G,c=this.j.l(c),b=new C;b.Ca(new r(-50,0),new r(50,0));c.k(b,0);b.Ca(new r(-50,0),new r(-50,10));c.k(b,0);b.Ca(new r(50,0),new r(50,10));c.k(b,0);for(var d=0;40>d;++d)b=new A,b.N=.25,c=new G,c.type=2,c.position.h(-40+2*d,.5),this.j.l(c).k(b,1);b=new D;b.H(2.5,1);d=new E;d.fa=1;d.shape=b;d.filter.Kd=-1;c=new G;c.type=2;c.position=pb(a,this.mf,new r);this.Co=this.j.l(c);this.Co.k(d);b=new A;b.N=1.6;d=new E;d.fa=1;
d.shape=b;d.filter.Kd=-1;c=new G;c.type=2;c.position=pb(a,this.mf,new r);this.Li=this.j.l(c);this.Li.k(d);b=new Pf;b.S(this.Li,this.Co,pb(a,this.mf,new r));b.og=!1;b.se=this.nd;b.ag=400;b.Id=this.zu;this.Fl=this.j.ja(b);a=pb(a,new r(0,-.8),new r);this.Gk(-1,a);this.Gk(1,a);this.Li.hj(this.Li.ad(),120*fa/180);this.Gk(-1,a);this.Gk(1,a);this.Li.hj(this.Li.ad(),-120*fa/180);this.Gk(-1,a);this.Gk(1,a)};gq.prototype.Construct=gq.prototype.Iv;
gq.prototype.C=function(a){this.D.ta(5,this.m,"Keys: left = a, brake = s, right = d, toggle motor = m");this.m+=25;Y.prototype.C.call(this,a)};gq.prototype.Step=gq.prototype.C;gq.prototype.ua=function(a){switch(a){case Sk:this.Fl.$e(-this.nd);break;case Ek:this.Fl.$e(0);break;case Dk:this.Fl.$e(this.nd);break;case Ml:this.Fl.ji(!this.Fl.md)}};gq.prototype.Keyboard=gq.prototype.ua;function hq(a,c){return new gq(a,c)}gq.Create=hq;function iq(a,c){Y.call(this,a,c);this.oh=0;var b=new Hd,d=.5,e=new G;e.position.y=-d;for(var e=this.j.l(e),f=new r,h=f.y=0;10>h;++h){f.x=-200*d;for(var k=0;200>k;++k){var l=new D;l.H(d,d,f,0);e.k(l,0);++this.oh;f.x+=2*d}f.y-=2*d}d=.5;l=new D;l.H(d,d);for(var d=new r(-7,.75),f=new r,m=new r(.5625,1.25),n=new r(1.125,0),k=0;20>k;++k){f.e(d);for(h=k;20>h;++h)e=new G,e.type=2,e.position.e(f),this.j.l(e).k(l,5),++this.oh,f.Qa(n);d.Qa(m)}this.du=b.Eh()}q(iq,Y);p("box2d.Testbed.Tiles",iq);iq.e_count=20;
iq.prototype.oh=0;iq.prototype.m_fixtureCount=iq.prototype.oh;iq.prototype.du=0;iq.prototype.m_createTime=iq.prototype.du;iq.prototype.C=function(a){var c=this.j.jb,b=c.Xc.wm(),c=Math.ceil(Math.log(2*c.Xc.um()-1)/Math.log(2));this.D.ta(5,this.m,"dynamic tree height = %d, min = %d",b,c);this.m+=25;Y.prototype.C.call(this,a);this.D.ta(5,this.m,"create time = %6.2f ms, fixture count = %d",this.du,this.oh);this.m+=25};iq.prototype.Step=iq.prototype.C;function jq(a,c){return new iq(a,c)}iq.Create=jq;function kq(a,c){Y.call(this,a,c);this.Rl=new D;this.Rg=new D;this.Rl.H(25,5);this.Rg.H(2.5,2.5)}q(kq,Y);p("box2d.Testbed.TimeOfImpact",kq);kq.prototype.Rl=null;kq.prototype.m_shapeA=kq.prototype.Rl;kq.prototype.Rg=null;kq.prototype.m_shapeB=kq.prototype.Rg;
kq.prototype.C=function(a){Y.prototype.C.call(this,a);var c=new cc;c.Tc.h(24,-60);c.$d=2.95;c.V=c.Tc;c.o=c.$d;c.hb.ba();a=new cc;a.Tc.h(53.474274,-50.252514);a.$d=513.36676;a.V.h(54.595478,-51.083473);a.o=513.62781;a.hb.ba();var b=new Td;b.fd.Lh(this.Rl,0);b.Dd.Lh(this.Rg,0);b.xn.e(c);b.yn.e(a);b.zn=1;var d=new Vd;Yd(d,b);this.D.ta(5,this.m,"toi = %4.2f",d.Ah);this.m+=25;this.D.ta(5,this.m,"max toi iters = %d, max root iters = %d",Qd,Sd);this.m+=25;var b=Array(8),e=new Vb;c.Wb(e,0);for(c=0;c<this.Rl.n;++c)b[c]=
Xb(e,this.Rl.Z[c],new r);this.D.Kf(b,this.Rl.n,new xa(.9,.9,.9));e=new Vb;a.Wb(e,0);for(c=0;c<this.Rg.n;++c)b[c]=Xb(e,this.Rg.Z[c],new r);this.D.Kf(b,this.Rg.n,new xa(.5,.9,.5));a.Wb(e,d.Ah);for(c=0;c<this.Rg.n;++c)b[c]=Xb(e,this.Rg.Z[c],new r);this.D.Kf(b,this.Rg.n,new xa(.5,.7,.9));a.Wb(e,1);for(c=0;c<this.Rg.n;++c)b[c]=Xb(e,this.Rg.Z[c],new r);this.D.Kf(b,this.Rg.n,new xa(.9,.5,.5))};kq.prototype.Step=kq.prototype.C;function lq(a,c){return new kq(a,c)}kq.Create=lq;function mq(a){this.cb=a}function nq(){this.cb=0}q(nq,mq);function oq(a){this.cb=1;this.qx=a}q(oq,mq);function pq(a){this.Mo=[];var c=new G;c.type=2;this.xa=a.l(c);a=new D;a.H(.5,1.25);this.xa.k(a,1).fh(new nq);this.xa.fh(this);this.dk=1}function qq(a,c,b){a.lB=250;a.kB=-40;a.Ix=c;a.Jx=b}function rq(a){0===a.Mo.length?a.dk=1:(a.dk=0,a.Mo.forEach(function(a){a.qx>this.dk&&(this.dk=a.qx)}))}function sq(a){var c=a.xa.$i(new r(0,1),new r);return c.Ia(v(c,a.xa.ie()))}
function tq(a){this.mn=[];var c=new G;c.type=2;this.xa=a.l(c);this.xa.Iw(3);c=[];c[0]=new r(1.5,0);c[1]=new r(3,2.5);c[2]=new r(2.8,5.5);c[3]=new r(1,10);c[4]=new r(-1,10);c[5]=new r(-2.8,5.5);c[6]=new r(-3,2.5);c[7]=new r(-1.5,0);var b=new D;b.h(c,8);this.xa.k(b,.1);c=new Pf;c.Ma=this.xa;c.bf=!0;c.ve=0;c.Fe=0;c.Da.ba();b=new pq(a);qq(b,300,8.5);c.Ga=b.xa;c.va.h(-3,.75);a.ja(c);this.mn.push(b);b=new pq(a);qq(b,300,8.5);c.Ga=b.xa;c.va.h(3,.75);a.ja(c);this.mn.push(b);b=new pq(a);qq(b,500,7.5);c.Ga=
b.xa;c.va.h(-3,8.5);this.px=a.ja(c);this.mn.push(b);b=new pq(a);qq(b,500,7.5);c.Ga=b.xa;c.va.h(3,8.5);this.eB=a.ja(c);this.mn.push(b)}
tq.prototype.update=function(a){this.mn.forEach(function(a){var b=a.xa.$i(new r(1,0),new r),b=b.Ia(v(b,a.xa.ie())).Ia(-1*a.xa.je());b.qc()>a.Jx&&b.Ia(a.Jx/b.qc());a.xa.qf(b.Ia(a.dk),a.xa.Le());a.xa.ks(.1*a.dk*a.xa.ki()*-a.xa.sm());var b=sq(a),c=-2*b.ic();a.xa.He(b.Ia(a.dk*c),a.xa.Le())});this.mn.forEach(function(b){a:{var c=0;switch(a&12){case 4:c=b.lB;break;case 8:c=b.kB;break;default:break a}var f=b.xa.$i(new r(0,1),new r),h=v(sq(b),f),k=0;if(c>h)k=b.Ix;else if(c<h)k=-b.Ix;else break a;b.xa.He(f.Ia(b.dk*
k),b.xa.Le())}});var c=0;switch(a&3){case 1:c=.6108652381980153;break;case 2:c=-.6108652381980153}var b=this.px.On(),c=Ka(c-b,-.046542113386515455,.046542113386515455),b=b+c;this.px.jo(b,b);this.eB.jo(b,b)};
function uq(a,c){Y.call(this,a,c);this.j.ej(new r(0,0));this.j.Qk(this.Lg);this.vl=this.j.l(new G);var b=new D,d=new E;d.shape=b;d.ui=!0;b.H(9,7,new r(-10,15),.3490658503988659);var e=this.vl.k(d);e.fh(new oq(.5));b.H(9,5,new r(5,20),-.6981317007977318);e=this.vl.k(d);e.fh(new oq(.2));this.bk=new tq(this.j);this.gf=0}q(uq,Y);p("box2d.Testbed.TopdownCar",uq);
uq.prototype.ua=function(a){switch(a){case Sk:this.gf|=1;break;case Dk:this.gf|=2;break;case ul:this.gf|=4;break;case Ek:this.gf|=8;break;default:Y.prototype.ua.call(this,a)}};uq.prototype.Keyboard=uq.prototype.ua;uq.prototype.sf=function(a){switch(a){case Sk:this.gf&=-2;break;case Dk:this.gf&=-3;break;case ul:this.gf&=-5;break;case Ek:this.gf&=-9;break;default:Y.prototype.sf.call(this,a)}};uq.prototype.KeyboardUp=uq.prototype.sf;
function vq(a,c){var b=a.Xb,d=a.Yb,e=b.ec(),f=d.ec();e&&f&&(0==e.cb||1==f.cb?wq(b,d,c):1!=e.cb&&0!=f.cb||wq(d,b,c))}uq.prototype.ue=function(a){vq(a,!0)};uq.prototype.BeginContact=uq.prototype.ue;uq.prototype.Je=function(a){vq(a,!1)};uq.prototype.EndContact=uq.prototype.Je;function wq(a,c,b){a=a.Nb().ec();c=c.ec();b?a.Mo.push(c):a.Mo.splice(a.Mo.indexOf(c));rq(a)}
uq.prototype.C=function(a){this.bk.update(this.gf);Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press w/a/s/d to control the car");this.m+=25};uq.prototype.Step=uq.prototype.C;function xq(a,c){return new uq(a,c)}uq.Create=xq;function yq(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=new G;d.type=2;d.Me=!1;d.position.h(0,10);var d=this.j.l(d),e=new D;e.H(.5,10,new r(10,0),0);d.k(e,5);e.H(.5,10,new r(-10,0),0);d.k(e,5);e.H(10,.5,new r(0,10),0);d.k(e,5);e.H(10,.5,new r(0,-10),0);d.k(e,5);e=new Pf;e.Ma=b;e.Ga=d;e.va.h(0,10);e.Da.h(0,0);e.If=0;e.se=.05*fa;e.ag=1E8;e.Id=!0;this.xc=this.j.ja(e);this.n=0}q(yq,Y);p("box2d.Testbed.Tumbler",yq);yq.e_count=800;yq.prototype.xc=null;yq.prototype.m_joint=yq.prototype.xc;
yq.prototype.n=0;yq.prototype.m_count=yq.prototype.n;yq.prototype.C=function(a){Y.prototype.C.call(this,a);if(800>this.n){a=new G;a.type=2;a.position.h(0,10);a=this.j.l(a);var c=new D;c.H(.125,.125);a.k(c,1);++this.n}};yq.prototype.Step=yq.prototype.C;function zq(a,c){return new yq(a,c)}yq.Create=zq;function Aq(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),e=new C;e.Ca(new r(-40,0),new r(40,0));d.k(e,0);e=new D;e.H(13,.25);b=new G;b.position.h(-4,22);b.fb=-.25;d=this.j.l(b);d.k(e,0);e=new D;e.H(.25,1);b=new G;b.position.h(10.5,19);d=this.j.l(b);d.k(e,0);e=new D;e.H(13,.25);b=new G;b.position.h(4,14);b.fb=.25;d=this.j.l(b);d.k(e,0);e=new D;e.H(.25,1);b=new G;b.position.h(-10.5,11);d=this.j.l(b);d.k(e,0);e=new D;e.H(13,.25);b=new G;b.position.h(-4,6);b.fb=-.25;d=this.j.l(b);d.k(e,0);e=new D;
e.H(.5,.5);d=new E;d.shape=e;d.fa=25;for(var e=[.75,.5,.35,.1,0],f=0;5>f;++f)b=new G,b.type=2,b.position.h(-15+4*f,28),b=this.j.l(b),d.gb=e[f],b.k(d)}q(Aq,Y);p("box2d.Testbed.VaryingFriction",Aq);function Bq(a,c){return new Aq(a,c)}Aq.Create=Bq;function Cq(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),e=new C;e.Ca(new r(-40,0),new r(40,0));d.k(e,0);e=new A;e.N=1;d=new E;d.shape=e;d.fa=1;for(var e=[0,.1,.3,.5,.75,.9,1],f=0;7>f;++f)b=new G,b.type=2,b.position.h(-10+3*f,20),b=this.j.l(b),d.dc=e[f],b.k(d)}q(Cq,Y);p("box2d.Testbed.VaryingRestitution",Cq);function Dq(a,c){return new Cq(a,c)}Cq.Create=Dq;function Eq(a,c){Y.call(this,a,c);this.xf=null;this.Q=Array(15);this.fr=Array(15);var b=new G,d=this.j.l(b),e=new C;e.Ca(new r(-40,0),new r(40,0));d.k(e,0);e.Ca(new r(20,0),new r(20,20));d.k(e,0);for(var d=[0,-10,-5,5,10],f=0;1>f;++f){e=new D;e.H(.5,.5);var h=new E;h.shape=e;h.fa=1;h.gb=.3;for(e=0;15>e;++e){b=new G;b.type=2;var k=15*f+e;this.fr[k]=k;b.Hc=this.fr[k];b.position.h(d[f]+0,.55+1.1*e);b=this.j.l(b);this.Q[k]=b;b.k(h)}}}q(Eq,Y);p("box2d.Testbed.VerticalStack",Eq);Eq.e_columnCount=1;
Eq.e_rowCount=15;Eq.prototype.xf=null;Eq.prototype.m_bullet=Eq.prototype.xf;Eq.prototype.Q=null;Eq.prototype.m_bodies=Eq.prototype.Q;Eq.prototype.fr=null;Eq.prototype.m_indices=Eq.prototype.fr;Eq.prototype.ua=function(a){switch(a){case Do:this.xf&&(this.j.sd(this.xf),this.xf=null);var c=new A;c.N=.25;a=new E;a.shape=c;a.fa=20;a.dc=.05;c=new G;c.type=2;c.tf=!0;c.position.h(-31,5);this.xf=this.j.l(c);this.xf.k(a);this.xf.Yd(new r(400,0));break;case Jl:bf=!bf}};Eq.prototype.Keyboard=Eq.prototype.ua;
Eq.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"Press: (,) to launch a bullet.");this.m+=25;this.D.ta(5,this.m,"Blocksolve = %d",bf?1:0)};Eq.prototype.Step=Eq.prototype.C;function Fq(a,c){return new Eq(a,c)}Eq.Create=Fq;function Gq(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=new G;d.type=2;d.Me=!1;d.position.h(0,1);var d=this.j.l(d),e=new D;e.H(.05,1,new r(2,0),0);d.k(e,5);e.H(.05,1,new r(-2,0),0);d.k(e,5);e.H(2,.05,new r(0,1),0);d.k(e,5);e.H(2,.05,new r(0,-1),0);d.k(e,5);e=new Pf;e.Ma=b;e.Ga=d;e.va.h(0,1);e.Da.h(0,0);e.If=0;e.se=.05*fa;e.ag=1E7;e.Id=!0;this.xc=this.j.ja(e);this.W.Qd(.025*3);d=yk();this.W.dj(.2);b=new zg;b.Ea=d;e=new D;e.H(.9,.9,new r(0,1),0);b.shape=e;d=this.W.rd(b);b.Ea&256&&this.Wi(d,
0);this.ai=0}q(Gq,Y);p("box2d.Testbed.WaveMachine",Gq);Gq.prototype.C=function(a){Y.prototype.C.call(this,a);0<a.le&&(this.ai+=1/a.le);this.xc.$e(.05*Math.cos(this.ai)*fa)};Gq.prototype.Step=Gq.prototype.C;Gq.prototype.Vb=function(){return.1};Gq.prototype.GetDefaultViewZoom=Gq.prototype.Vb;function js(a,c){return new Gq(a,c)}Gq.Create=js;function ks(a,c){Y.call(this,a,c);this.Q=Array(4);this.vc=Array(8);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.H(.5,.5);d=new G;d.type=2;d.position.h(-5,5);this.Q[0]=this.j.l(d);this.Q[0].k(e,5);d.position.h(5,5);this.Q[1]=this.j.l(d);this.Q[1].k(e,5);d.position.h(5,15);this.Q[2]=this.j.l(d);this.Q[2].k(e,5);d.position.h(-5,15);this.Q[3]=this.j.l(d);this.Q[3].k(e,5);var d=new Kf,f;d.Jd=2;d.wd=0;d.Ma=b;d.Ga=this.Q[0];d.va.h(-10,0);d.Da.h(-.5,-.5);e=d.Ma.sb(d.va,
new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[0]=this.j.ja(d);d.Ma=b;d.Ga=this.Q[1];d.va.h(10,0);d.Da.h(.5,-.5);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[1]=this.j.ja(d);d.Ma=b;d.Ga=this.Q[2];d.va.h(10,20);d.Da.h(.5,.5);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[2]=this.j.ja(d);d.Ma=b;d.Ga=this.Q[3];d.va.h(-10,20);d.Da.h(-.5,.5);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=
e.qc();this.vc[3]=this.j.ja(d);d.Ma=this.Q[0];d.Ga=this.Q[1];d.va.h(.5,0);d.Da.h(-.5,0);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[4]=this.j.ja(d);d.Ma=this.Q[1];d.Ga=this.Q[2];d.va.h(0,.5);d.Da.h(0,-.5);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[5]=this.j.ja(d);d.Ma=this.Q[2];d.Ga=this.Q[3];d.va.h(-.5,0);d.Da.h(.5,0);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[6]=this.j.ja(d);d.Ma=
this.Q[3];d.Ga=this.Q[0];d.va.h(0,-.5);d.Da.h(0,.5);e=d.Ma.sb(d.va,new r);f=d.Ga.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.vc[7]=this.j.ja(d)}q(ks,Y);p("box2d.Testbed.Web",ks);ks.prototype.Q=null;ks.prototype.m_bodies=ks.prototype.Q;ks.prototype.vc=null;ks.prototype.m_joints=ks.prototype.vc;
ks.prototype.ua=function(a){switch(a){case Jl:for(a=0;4>a;++a)if(this.Q[a]){this.j.sd(this.Q[a]);this.Q[a]=null;break}break;case Ip:for(a=0;8>a;++a)if(this.vc[a]){this.j.qm(this.vc[a]);this.vc[a]=null;break}}};ks.prototype.Keyboard=ks.prototype.ua;ks.prototype.C=function(a){Y.prototype.C.call(this,a);this.D.ta(5,this.m,"This demonstrates a soft distance joint.");this.m+=25;this.D.ta(5,this.m,"Press: (b) to delete a body, (j) to delete a joint");this.m+=25};ks.prototype.Step=ks.prototype.C;
ks.prototype.Eg=function(a){for(var c=0;8>c;++c)if(this.vc[c]===a){this.vc[c]=null;break}};ks.prototype.JointDestroyed=ks.prototype.Eg;function ls(a,c){return new ks(a,c)}ks.Create=ls;var ms=-1!=gj.indexOf("Opera")||-1!=gj.indexOf("OPR"),ns=-1!=gj.indexOf("Trident")||-1!=gj.indexOf("MSIE"),os=-1!=gj.indexOf("Gecko")&&-1==gj.toLowerCase().indexOf("webkit")&&!(-1!=gj.indexOf("Trident")||-1!=gj.indexOf("MSIE")),ps=-1!=gj.toLowerCase().indexOf("webkit"),qs=function(){var a="",c;if(ms&&ba.opera)return a=ba.opera.version,"function"==ca(a)?a():a;os?c=/rv\:([^\);]+)(\)|;)/:ns?c=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:ps&&(c=/WebKit\/(\S+)/);c&&(a=(a=c.exec(gj))?a[1]:"");return ns&&(c=(c=ba.document)?
c.documentMode:void 0,c>parseFloat(a))?String(c):a}(),rs={};
function ss(a){var c;if(!(c=rs[a])){c=0;for(var b=ej(String(qs)).split("."),d=ej(String(a)).split("."),e=Math.max(b.length,d.length),f=0;0==c&&f<e;f++){var h=b[f]||"",k=d[f]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var n=l.exec(h)||["","",""],t=m.exec(k)||["","",""];if(0==n[0].length&&0==t[0].length)break;c=fj(0==n[1].length?0:parseInt(n[1],10),0==t[1].length?0:parseInt(t[1],10))||fj(0==n[2].length,0==t[2].length)||fj(n[2],t[2])}while(0==c)}c=rs[a]=0<=c}return c};ns&&ss("9");!ps||ss("528");os&&ss("1.9b")||ns&&ss("8")||ms&&ss("9.5")||ps&&ss("528");os&&!ss("8")||ns&&ss("9");var Yl=49,Zl=50,$l=51,am=52,bm=53,zp=54,Sk=65,Jl=66,gl=67,Dk=68,Uk=69,Nl=70,ll=71,Kl=72,Ip=74,Fk=75,ro=76,Ml=77,Ll=78,Fl=80,Tk=81,Gl=82,Ek=83,Hl=84,Il=86,ul=87,El=88,Ol=90,Eo=186,On=189,Nn=187,Do=188,Bo=190,Fo=222;function ts(a,c){Y.call(this,a,c);this.xa=null;this.j.ej(new r(0,0));var b=null,d=new G;d.position.h(0,20);var b=this.j.l(d),e=new C,f=new E;f.shape=e;f.fa=0;f.dc=.4;e.Ca(new r(-20,-20),new r(-20,20));b.k(f);e.Ca(new r(20,-20),new r(20,20));b.k(f);e.Ca(new r(-20,20),new r(20,20));b.k(f);e.Ca(new r(-20,-20),new r(20,-20));b.k(f);f=new Vb;f.ha.Ba(.3524*fa);f.sa.e(y(f.ha,new r(1,0),new r));e=[];e[0]=Xb(f,new r(-1,0),new r);e[1]=Xb(f,new r(1,0),new r);e[2]=Xb(f,new r(0,.5),new r);d=new D;d.h(e,3);f=new E;
f.shape=d;f.fa=4;d=new Vb;d.ha.Ba(-.3524*fa);d.sa.e(y(d.ha,new r(-1,0),new r));e[0]=Xb(d,new r(-1,0),new r);e[1]=Xb(d,new r(1,0),new r);e[2]=Xb(d,new r(0,.5),new r);d=new D;d.h(e,3);e=new E;e.shape=d;e.fa=2;d=new G;d.type=2;d.lg=2;d.Wj=.5;d.position.h(0,2);d.fb=fa;d.Me=!1;this.xa=this.j.l(d);this.xa.k(f);this.xa.k(e);e=new D;e.H(.5,.5);f=new E;f.shape=e;f.fa=1;f.gb=.3;for(e=0;10>e;++e){d=new G;d.type=2;d.position.h(0,5+1.54*e);d=this.j.l(d);d.k(f);var h=d.ki(),k=d.je(),h=Qa(2*h/k),l=new Lf;l.va.ba();
l.Da.ba();l.Ma=b;l.Ga=d;l.og=!0;l.di=10*k;l.Zl=k*h*10;this.j.ja(l)}}q(ts,Y);p("box2d.Testbed.ApplyForce",ts);ts.prototype.xa=null;ts.prototype.m_body=ts.prototype.xa;ts.prototype.ua=function(a){switch(a){case ul:var c=this.xa.$i(new r(0,-200),new r),b=this.xa.sb(new r(0,2),new r);this.xa.He(c,b);break;case Sk:this.xa.Fp(50);break;case Dk:this.xa.Fp(-50)}Y.prototype.ua.call(this,a)};ts.prototype.Keyboard=ts.prototype.ua;function us(a,c){return new ts(a,c)}ts.Create=us;function vs(a,c){Y.call(this,a,c);var b=null,d=new G;d.position.h(0,17);var e=b=this.j.l(d),f=new D;f.H(4,1);d=new G;d.type=2;d.position.h(-8,20);d=this.j.l(d);d.k(f,2);f=new Pf;f.S(e,d,new r(-12,20));this.j.ja(f);e=d;f=new D;f.H(8,1);d=new G;d.type=2;d.position.h(4,20);d=this.j.l(d);d.k(f,2);f=new Pf;f.S(e,d,new r(-4,20));this.j.ja(f);e=d;f=new D;f.H(3,3);d=new G;d.type=2;d.Rf=!0;d.position.h(12,20);d=this.j.l(d);d.k(f,2);f=new Pf;f.S(e,d,new r(12,20));this.j.ja(f);e=new Of;e.S(b,d,new r(12,17),
new r(1,0));this.j.ja(e)}q(vs,Y);p("box2d.Testbed.BasicSliderCrank",vs);function ws(a,c){return new vs(a,c)}vs.Create=ws;function xs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,.5);var e=this.j.l(b),d=new A;d.N=.5;e.k(d,10);b.position.h(0,6);e=this.j.l(b);d.N=5;e.k(d,10)}q(xs,Y);p("box2d.Testbed.HeavyOnLight",xs);function ys(a,c){return new xs(a,c)}xs.Create=ys;function zs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,2.5);var e=this.j.l(b),d=new A;d.N=.5;e.k(d,10);b.position.h(0,3.5);e=this.j.l(b);e.k(d,10);this.yl=null}q(zs,Y);p("box2d.Testbed.HeavyOnLightTwo",zs);zs.prototype.yl=null;zs.prototype.m_heavy=zs.prototype.yl;
zs.prototype.fx=function(){if(null!==this.yl)this.j.sd(this.yl),this.yl=null;else{var a=new G;a.type=2;a.position.h(0,9);this.yl=this.j.l(a);a=new A;a.N=5;this.yl.k(a,10)}};zs.prototype.ToggleHeavy=zs.prototype.fx;zs.prototype.ua=function(a){switch(a){case Kl:this.fx()}Y.prototype.ua.call(this,a)};zs.prototype.Keyboard=zs.prototype.ua;function As(a,c){return new zs(a,c)}zs.Create=As;function Bs(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=[];b[0]=new r(-30,0);b[1]=new r(30,0);b[2]=new r(30,40);b[3]=new r(-30,40);var e=new Fd;e.hi(b);d.k(e,0);this.j.ut(!0);d=new E;d.fa=4;d.dc=1.4;b=new G;b.type=2;b.tf=!0;b.position.h(15,5);b=this.j.l(b);e=new D;e.H(4.5,.45);d.shape=e;b.k(d);e=new D;e.H(.45,8.1,new r(-4.35,7.05),.2);d.shape=e;b.k(d);e=new D;e.H(.45,8.1,new r(4.35,7.05),-.2);d.shape=e;b.k(d);for(e=0;5>e;e++)d.shape=new A(1*Math.random()+.5),d.gb=.3,d.fa=1,d.dc=1.1,b=new G,
b.type=2,b.tf=!0,b.position.h(30*Math.random()-25,32*Math.random()+2),b=this.j.l(b),b.k(d)}q(Bs,Y);p("box2d.Testbed.TestCCD",Bs);function Cs(a,c){return new Bs(a,c)}Bs.Create=Cs;function Ds(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=[];d[0]=new r(-30,0);d[1]=new r(30,0);d[2]=new r(30,40);d[3]=new r(-30,40);var e=new Fd;e.hi(d);b.k(e,0);for(var b=new G,d=new E,e=new Pf,f=0;2>f;++f){var h=-20+2*Math.random()+40*f,k=30+5*Math.random();b.type=2;d.shape=new A(1.25);d.fa=1;d.gb=.4;d.dc=.3;b.position.h(h,k);var l=this.j.l(b);l.k(d);l.qf(new r(1E3*Math.random()-500,1E3*Math.random()-500),l.Le());d.shape=new D;d.shape.H(1.5,1);d.fa=1;d.gb=.4;d.dc=.1;b.position.h(h,k-2.8);var m=
this.j.l(b);m.k(d);d.shape.H(1.5,1);b.position.h(h,k-4.3);var n=this.j.l(b);n.k(d);d.shape.H(1.5,1);b.position.h(h,k-5.8);var t=this.j.l(b);t.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.H(1.8,.65);b.position.h(h-3,k-2);var z=this.j.l(b);z.k(d);d.shape.H(1.8,.65);b.position.h(h+3,k-2);var B=this.j.l(b);B.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.H(1.7,.6);b.position.h(h-5.7,k-2);var O=this.j.l(b);O.k(d);d.shape.H(1.7,.6);b.position.h(h+5.7,k-2);var ia=this.j.l(b);ia.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.H(.75,2.2);
b.position.h(h-.8,k-8.5);var aa=this.j.l(b);aa.k(d);d.shape.H(.75,2.2);b.position.h(h+.8,k-8.5);var ua=this.j.l(b);ua.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.H(.6,2);b.position.h(h-.8,k-12);var Fa=this.j.l(b);Fa.k(d);d.shape.H(.6,2);b.position.h(h+.8,k-12);var na=this.j.l(b);na.k(d);e.bf=!0;e.ve=-40*Ea;e.Fe=40*Ea;e.S(m,l,new r(h,k-1.5));this.j.ja(e);e.ve=-85*Ea;e.Fe=130*Ea;e.S(m,z,new r(h-1.8,k-2));this.j.ja(e);e.ve=-130*Ea;e.Fe=85*Ea;e.S(m,B,new r(h+1.8,k-2));this.j.ja(e);e.ve=-130*Ea;e.Fe=10*Ea;e.S(z,
O,new r(h-4.5,k-2));this.j.ja(e);e.ve=-10*Ea;e.Fe=130*Ea;e.S(B,ia,new r(h+4.5,k-2));this.j.ja(e);e.ve=-15*Ea;e.Fe=15*Ea;e.S(m,n,new r(h,k-3.5));this.j.ja(e);e.S(n,t,new r(h,k-5));this.j.ja(e);e.ve=-25*Ea;e.Fe=45*Ea;e.S(t,aa,new r(h-.8,k-7.2));this.j.ja(e);e.ve=-45*Ea;e.Fe=25*Ea;e.S(t,ua,new r(h+.8,k-7.2));this.j.ja(e);e.ve=-25*Ea;e.Fe=115*Ea;e.S(aa,Fa,new r(h-.8,k-10.5));this.j.ja(e);e.ve=-115*Ea;e.Fe=25*Ea;e.S(ua,na,new r(h+.8,k-10.5));this.j.ja(e)}b.type=0;d.shape=new D;d.fa=0;d.gb=.4;d.dc=.3;for(e=
1;10>=e;++e)d.shape.H(1*e,1),b.position.h(1*e-30,21-2*e),this.j.l(b).k(d);for(e=1;10>=e;++e)d.shape.H(1*e,1),b.position.h(30-1*e,21-2*e),this.j.l(b).k(d);d.shape.H(3,4);b.position.h(0,4);this.j.l(b).k(d)}q(Ds,Y);p("box2d.Testbed.TestRagdoll",Ds);function Es(a,c){return new Ds(a,c)}Ds.Create=Es;function Fs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=[];d[0]=new r(-30,0);d[1]=new r(30,0);d[2]=new r(30,40);d[3]=new r(-30,40);var e=new Fd;e.hi(d);b.k(e,0);b=new G;d=new E;b.type=2;d.shape=new D;d.fa=1;d.gb=.5;d.dc=.1;d.shape.H(1,1);for(e=0;10>e;++e)b.position.h(0+.2*Math.random()-.1,30-2.5*e),this.j.l(b).k(d);for(e=0;10>e;++e)b.position.h(10+.2*Math.random()-.1,30-2.5*e),this.j.l(b).k(d);for(e=0;10>e;++e)b.position.h(20+.2*Math.random()-.1,30-2.5*e),this.j.l(b).k(d);b.type=0;b.position.h(0,
0);e=[new r(-30,0),new r(-10,0),new r(-30,10)];d.shape.h(e,e.length);d.fa=0;this.j.l(b).k(d);b.type=2;b.position.h(-25,20);d.shape=new A(4);d.fa=2;d.dc=.2;d.gb=.5;this.j.l(b).k(d)}q(Fs,Y);p("box2d.Testbed.TestStack",Fs);function Gs(a,c){return new Fs(a,c)}Fs.Create=Gs;function Hs(a){a.push(new oj("Sparky",dq));a.push(new oj("Ragdolls",Es));a.push(new oj("Topdown Car",xq));a.push(new oj("Tiles",jq));a.push(new oj("Heavy on Light",ys));a.push(new oj("Heavy on Light Two",As));a.push(new oj("Vertical Stack",Fq));a.push(new oj("Basic Slider Crank",ws));a.push(new oj("Slider Crank",Vp));a.push(new oj("Sphere Stack",fq));a.push(new oj("Convex Hull",ml));a.push(new oj("Tumbler",zq));a.push(new oj("Ray-Cast",Ap));a.push(new oj("Dump Shell",Sl));a.push(new oj("Apply Force",
us));a.push(new oj("Continuous Test",jl));a.push(new oj("Time of Impact",lq));a.push(new oj("Motor Joint",No));a.push(new oj("One-Sided Platform",Xo));a.push(new oj("Mobile",Jo));a.push(new oj("MobileBalanced",Lo));a.push(new oj("Conveyor Belt",ol));a.push(new oj("Gears",lo));a.push(new oj("Varying Restitution",Dq));a.push(new oj("Cantilever",Qk));a.push(new oj("Character Collision",Zk));a.push(new oj("Edge Test",Fn));a.push(new oj("Body Types",Gk));a.push(new oj("Shape Editing",Tp));a.push(new oj("Car",
Vk));a.push(new oj("Prismatic",lp));a.push(new oj("Revolute",Cp));a.push(new oj("Pulleys",np));a.push(new oj("Polygon Shapes",jp));a.push(new oj("Web",ls));a.push(new oj("RopeJoint",Jp));a.push(new oj("Pinball",cp));a.push(new oj("Bullet Test",Mk));a.push(new oj("Confined",hl));a.push(new oj("Pyramid",pp));a.push(new oj("Theo Jansen's Walker",hq));a.push(new oj("Edge Shapes",Dn));a.push(new oj("PolyCollision",gp));a.push(new oj("Bridge",Kk));a.push(new oj("Breakable",Ik));a.push(new oj("Chain",Xk));
a.push(new oj("Collision Filtering",al));a.push(new oj("Collision Processing",cl));a.push(new oj("Compound Shapes",el));a.push(new oj("Distance Test",vl));a.push(new oj("Dominos",xl));a.push(new oj("Dynamic Tree",Vl));a.push(new oj("Sensor Test",Rp));a.push(new oj("Varying Friction",Bq));a.push(new oj("Add Pair Stress Test",wk));a.push(new oj("Rope",Gp));a.push(new oj("Blob Test",Bk));a.push(new oj("Buoyancy Test",Ok));a.push(new oj("Continuous Collision",Cs));a.push(new oj("Stacked Boxes",Gs));a.push(new oj("Domino Tower",
zl));a.push(new oj("Pyramid Topple",rp));a.push(new oj("Sandbox",Pp));a.push(new oj("Dam Break",sl));a.push(new oj("Liquid Timer",wo));a.push(new oj("Wave Machine",js));a.push(new oj("Particles",Zo));a.push(new oj("Faucet",Pn));a.push(new oj("Particle Drawing",Ql));a.push(new oj("Soup",Xp));a.push(new oj("Surface Tension",ap));a.push(new oj("Elastic Particles",Hn));a.push(new oj("Rigid Particles",Ep));a.push(new oj("Multiple Systems",Vo));a.push(new oj("Impulse",so));a.push(new oj("Soup Stirrer",
aq));a.push(new oj("Fracker",jo));a.push(new oj("Maxwell",Ho));a.push(new oj("Ramp",tp));a.push(new oj("Pointy",ep));a.push(new oj("AntiPointy",zk));a.push(new oj("Corner Case",ql));return a}p("box2d.Testbed.GetTestEntries",Hs);var Is=new da,Dl=new eg;
function Z(){function a(a,b,c){var d=document.createElement("input");d.type="button";d.style.width=100;d.value=b;d.addEventListener("click",c,!1);a.appendChild(d);a.appendChild(document.createElement("br"));return d}function c(a,b,c,d){var e=document.createElement("input");e.type="checkbox";e.checked=c;e.addEventListener("click",function(){d(this.checked)},!1);a.appendChild(e);a.appendChild(document.createTextNode(b));a.appendChild(document.createElement("br"))}function b(a,b,c,d,e,f){a=a.appendChild(document.createElement("tr"));
var h=a.appendChild(document.createElement("td"));h.align="right";h.appendChild(document.createTextNode(b));b=a.appendChild(document.createElement("td"));a=document.createElement("input");ns||(a.type="number");a.size=8;a.min=d||1;a.max=e||100;a.step=1;a.value=c;a.addEventListener("change",function(){f(parseInt(this.value,10))},!1);b.appendChild(a)}function d(){m.width!==m.parentNode.clientWidth&&(m.width=m.parentNode.clientWidth);m.height!==m.parentNode.clientHeight&&(m.height=m.parentNode.clientHeight)}
function e(){k.style.width=window.innerWidth+"px";k.style.height=window.innerHeight+"px"}var f=this,h=this.ju=document.body.appendChild(document.createElement("div"));h.style.position="absolute";h.style.left="0px";h.style.bottom="0px";h.style.backgroundColor="rgba(0,0,255,0.75)";h.style.color="white";h.style.font="10pt Courier New";h.style.zIndex=256;h.innerHTML="FPS";h=this.Bx=document.body.appendChild(document.createElement("div"));h.style.position="absolute";h.style.left="0px";h.style.bottom="0px";
h.style.backgroundColor="rgba(0,0,255,0.75)";h.style.color="white";h.style.font="10pt Courier New";h.style.zIndex=256;h.innerHTML="";this.ma=new nj;this.vk=Hs([]);this.wr=new r;this.Or=new r;document.body.style.backgroundColor="black";var k=document.body.appendChild(document.createElement("div"));k.style.position="absolute";k.style.left="0px";k.style.top="0px";window.addEventListener("resize",function(){e()},!1);window.addEventListener("orientationchange",function(){e()},!1);e();h=k.appendChild(document.createElement("div"));
h.style.textAlign="center";h.style.color="grey";h.innerHTML="Box2D Testbed version "+pa+" (revision 313)";var l=k.appendChild(document.createElement("div")),h=this.Pq=l.appendChild(document.createElement("div"));h.style.position="absolute";h.style.left="0px";h.style.right="0px";h.style.top="0px";h.style.bottom="0px";var m=this.mh=h.appendChild(document.createElement("canvas"));window.addEventListener("resize",function(){d()},!1);window.addEventListener("orientationchange",function(){d()},!1);d();
this.we=this.mh.getContext("2d");l=l.appendChild(document.createElement("div"));l.style.position="absolute";l.style.backgroundColor="rgba(255,255,255,0.5)";l.style.padding="8px";l.style.right="0px";l.style.top="0px";l.style.bottom="0px";l.style.overflowY="scroll";l.appendChild(document.createTextNode("Tests"));l.appendChild(document.createElement("br"));var n=document.createElement("select");n.id="testEntries";for(var t=0;t<this.vk.length;++t){var z=document.createElement("option");z.text=this.vk[t].name;
z.value=t;n.add(z,null)}n.selectedIndex=this.Tg;n.addEventListener("change",function(){f.Tg=this.selectedIndex;f.Pj()},!1);l.appendChild(n);l.appendChild(document.createElement("br"));l.appendChild(document.createElement("hr"));n=l.appendChild(document.createElement("table"));b(n,"Vel Iters",f.ma.Zg,1,20,function(a){f.ma.Zg=a});b(n,"Pos Iters",f.ma.zh,1,20,function(a){f.ma.zh=a});b(n,"Pcl Iters",f.ma.bg,1,100,function(a){f.ma.bg=a});b(n,"Hertz",f.ma.le,10,120,function(a){f.ma.le=a});c(l,"Sleep",f.ma.Aq,
function(a){f.ma.Aq=a});c(l,"Warm Starting",f.ma.Cq,function(a){f.ma.Cq=a});c(l,"Time of Impact",f.ma.zq,function(a){f.ma.zq=a});c(l,"Sub-Stepping",f.ma.Bq,function(a){f.ma.Bq=a});c(l,"Strict Particle/Body Contacts",f.ma.bs,function(a){f.ma.bs=a});n=l.appendChild(document.createElement("fieldset"));n.appendChild(document.createElement("legend")).appendChild(document.createTextNode("Draw"));c(n,"Shapes",f.ma.uq,function(a){f.ma.uq=a});c(n,"Particles",f.ma.sq,function(a){f.ma.sq=a});c(n,"Joints",f.ma.rq,
function(a){f.ma.rq=a});c(n,"AABBs",f.ma.lq,function(a){f.ma.lq=a});c(n,"Contact Points",f.ma.pq,function(a){f.ma.pq=a});c(n,"Contact Normals",f.ma.oq,function(a){f.ma.oq=a});c(n,"Contact Impulses",f.ma.nq,function(a){f.ma.nq=a});c(n,"Friction Impulses",f.ma.qq,function(a){f.ma.qq=a});c(n,"Center of Masses",f.ma.mq,function(a){f.ma.mq=a});c(n,"Statistics",f.ma.vq,function(a){f.ma.vq=a});c(n,"Profile",f.ma.tq,function(a){f.ma.tq=a});l=l.appendChild(document.createElement("div"));l.align="center";n=
a(l,"Pause",function(){f.it()});n=a(l,"Step",function(){f.Ft()});n=a(l,"Restart",function(){f.Pj(!0)});this.Wq=n=a(l,"Demo",function(){f.dx()});window.addEventListener("contextmenu",function(a){a.preventDefault()},!0);h.addEventListener("mousemove",function(a){f.nw(a)},!1);h.addEventListener("mousedown",function(a){f.mw(a)},!1);h.addEventListener("mouseup",function(a){f.ow(a)},!1);h.addEventListener("mousewheel",function(a){f.pw(a)},!1);h.addEventListener("touchmove",function(a){f.rw(a)},!1);h.addEventListener("touchstart",
function(a){f.sw(a)},!1);h.addEventListener("touchend",function(a){f.qw(a)},!1);window.addEventListener("keydown",function(a){f.kw(a)},!1);window.addEventListener("keyup",function(a){f.lw(a)},!1);this.Pj();this.ln=(new Date).getTime()}p("box2d.Testbed.Main",Z);Z.prototype.ln=0;Z.prototype.m_time_last=Z.prototype.ln;Z.prototype.Nm=0;Z.prototype.m_fps_time=Z.prototype.Nm;Z.prototype.cr=0;Z.prototype.m_fps_frames=Z.prototype.cr;Z.prototype.iu=0;Z.prototype.m_fps=Z.prototype.iu;Z.prototype.ju=null;
Z.prototype.m_fps_div=Z.prototype.ju;Z.prototype.Bx=null;Z.prototype.m_debug_div=Z.prototype.Bx;Z.prototype.ma=null;Z.prototype.m_settings=Z.prototype.ma;Z.prototype.Fc=null;Z.prototype.m_test=Z.prototype.Fc;Z.prototype.Tg=0;Z.prototype.m_test_index=Z.prototype.Tg;Z.prototype.vk=null;Z.prototype.m_test_entries=Z.prototype.vk;Z.prototype.bn=!1;Z.prototype.m_shift=Z.prototype.bn;Z.prototype.ol=!1;Z.prototype.m_ctrl=Z.prototype.ol;Z.prototype.kr=!1;Z.prototype.m_lMouseDown=Z.prototype.kr;
Z.prototype.Dr=!1;Z.prototype.m_rMouseDown=Z.prototype.Dr;Z.prototype.wr=null;Z.prototype.m_projection0=Z.prototype.wr;Z.prototype.Or=null;Z.prototype.m_viewCenter0=Z.prototype.Or;Z.prototype.Xq=!1;Z.prototype.m_demo_mode=Z.prototype.Xq;Z.prototype.Lm=0;Z.prototype.m_demo_time=Z.prototype.Lm;Z.prototype.xu=1E4;Z.prototype.m_max_demo_time=Z.prototype.xu;Z.prototype.Pq=null;Z.prototype.m_canvas_div=Z.prototype.Pq;Z.prototype.mh=null;Z.prototype.m_canvas=Z.prototype.mh;Z.prototype.we=null;
Z.prototype.m_ctx=Z.prototype.we;Z.prototype.Wq=null;Z.prototype.m_demo_button=Z.prototype.Wq;Z.prototype.iy=function(a,c){var b=this.Pq.getBoundingClientRect();return c.h(+a.x+b.left+.5*b.width,-a.y+b.top+.5*b.height)};Z.prototype.ConvertViewportToElement=Z.prototype.iy;Z.prototype.os=function(a,c){var b=this.Pq.getBoundingClientRect();return c.h(+(a.x-b.left-.5*b.width),-(a.y-b.top-.5*b.height))};Z.prototype.ConvertElementToViewport=Z.prototype.os;
Z.prototype.hy=function(a,c){var b=c.e(a);qb(1/this.ma.Bg,b,b);qb(this.ma.Tj,b,b);return b};Z.prototype.ConvertProjectionToViewport=Z.prototype.hy;Z.prototype.ps=function(a,c){var b=c.e(a);qb(1/this.ma.Tj,b,b);qb(this.ma.Bg,b,b);return b};Z.prototype.ConvertViewportToProjection=Z.prototype.ps;Z.prototype.jy=function(a,c){var b=c.e(a);x(b,this.ma.$g,b);Ub(this.ma.Ui,b,b);return b};Z.prototype.ConvertWorldToProjection=Z.prototype.jy;
Z.prototype.Kv=function(a,c){var b=c.e(a);y(this.ma.Ui,b,b);pb(this.ma.$g,b,b);return b};Z.prototype.ConvertProjectionToWorld=Z.prototype.Kv;Z.prototype.om=function(a,c){var b=this.os(a,c),b=this.ps(b,c);return this.Kv(b,c)};Z.prototype.ConvertElementToWorld=Z.prototype.om;Z.prototype.ns=function(a,c){var b=this.os(a,c);return this.ps(b,c)};Z.prototype.ConvertElementToProjection=Z.prototype.ns;Z.prototype.$n=function(a){var c=this.ma.$g.za(),b=this.ma.Ui.za();a.Fw(b.hc());c.Qa(a);this.ma.$g.e(c)};
Z.prototype.MoveCamera=Z.prototype.$n;Z.prototype.ot=function(a){this.ma.Ui.Ba(this.ma.Ui.hc()+a)};Z.prototype.RollCamera=Z.prototype.ot;Z.prototype.ro=function(a){this.ma.Bg*=a;this.ma.Bg=Ka(this.ma.Bg,.02,200)};Z.prototype.ZoomCamera=Z.prototype.ro;Z.prototype.at=function(){this.ma.Bg=this.Fc?this.Fc.Vb():1;this.ma.$g.h(0,20*this.ma.Bg);this.ma.Ui.Ba(0*Ea)};Z.prototype.HomeCamera=Z.prototype.at;
Z.prototype.nw=function(a){a=new r(a.clientX,a.clientY);var c=this.om(a,new r);this.kr&&this.Fc.Nf(c);this.Dr&&(a=this.ns(a,new r),a=x(a,this.wr,new r),a=x(this.Or,a,new r),this.ma.$g.e(a))};Z.prototype.HandleMouseMove=Z.prototype.nw;Z.prototype.mw=function(a){var c=new r(a.clientX,a.clientY),b=this.om(c,new r);switch(a.which){case 1:this.kr=!0;this.bn?this.Fc.Uw(b):this.Fc.Mf(b);break;case 3:a=this.ns(c,new r),this.wr.e(a),this.Or.e(this.ma.$g),this.Dr=!0}};Z.prototype.HandleMouseDown=Z.prototype.mw;
Z.prototype.ow=function(a){var c=this.om(new r(a.clientX,a.clientY),new r);switch(a.which){case 1:this.Fc.vd(c);this.kr=!1;break;case 3:this.Dr=!1}};Z.prototype.HandleMouseUp=Z.prototype.ow;Z.prototype.rw=function(a){var c=this.om(new r(a.touches[0].clientX,a.touches[0].clientY),new r);this.Fc.Nf(c);a.preventDefault()};Z.prototype.HandleTouchMove=Z.prototype.rw;Z.prototype.sw=function(a){var c=this.om(new r(a.touches[0].clientX,a.touches[0].clientY),new r);this.Fc.Mf(c);a.preventDefault()};
Z.prototype.HandleTouchStart=Z.prototype.sw;Z.prototype.qw=function(a){this.Fc.vd(this.Fc.Ai);a.preventDefault()};Z.prototype.HandleTouchEnd=Z.prototype.qw;Z.prototype.pw=function(a){0<a.wheelDelta?this.ro(1/1.1):0>a.wheelDelta&&this.ro(1.1);a.preventDefault()};Z.prototype.HandleMouseWheel=Z.prototype.pw;
Z.prototype.kw=function(a){switch(a.keyCode){case 17:this.ol=!0;break;case 16:this.bn=!0;break;case 37:this.ol?this.Fc&&this.Fc.Zd(new r(2,0)):this.$n(new r(-.5,0));break;case 39:this.ol?this.Fc&&this.Fc.Zd(new r(-2,0)):this.$n(new r(.5,0));break;case 40:this.ol?this.Fc&&this.Fc.Zd(new r(0,2)):this.$n(new r(0,-.5));break;case 38:this.ol?this.Fc&&this.Fc.Zd(new r(0,-2)):this.$n(new r(0,.5));break;case 34:this.ot(-1*Ea);break;case 33:this.ot(1*Ea);break;case Ol:this.ro(1/1.1);break;case El:this.ro(1.1);
break;case 36:this.at();break;case Gl:this.Pj(!0);break;case 32:this.Fc&&this.Fc.xw();break;case Fl:this.it();break;case 219:this.Pv();break;case 221:this.ct();break;case Do:this.bn&&Dl.us();break;case Bo:this.bn&&Dl.bt();break;case 191:this.Ft()}this.Fc&&this.Fc.ua(a.keyCode)};Z.prototype.HandleKeyDown=Z.prototype.kw;Z.prototype.lw=function(a){switch(a.keyCode){case 17:this.ol=!1;break;case 16:this.bn=!1}this.Fc&&this.Fc.sf(a.keyCode)};Z.prototype.HandleKeyUp=Z.prototype.lw;
Z.prototype.ix=function(a){this.Xq?(this.Lm+=a,this.Lm>this.xu&&this.ct(),this.Wq.value=((500+this.xu-this.Lm)/1E3).toFixed(0).toString()):this.Wq.value="Demo"};Z.prototype.UpdateTest=Z.prototype.ix;Z.prototype.Pv=function(){0>=this.Tg&&(this.Tg=this.vk.length);this.Tg--;document.getElementById("testEntries").selectedIndex=this.Tg;this.Pj()};Z.prototype.DecrementTest=Z.prototype.Pv;
Z.prototype.ct=function(){this.Tg++;this.Tg>=this.vk.length&&(this.Tg=0);document.getElementById("testEntries").selectedIndex=this.Tg;this.Pj()};Z.prototype.IncrementTest=Z.prototype.ct;Z.prototype.Pj=function(a){Is.ub();a||Dl.ub();this.Lm=0;this.Fc&&this.Fc.Cw();this.Fc=this.vk[this.Tg].bl(this.mh,this.ma);a||this.at()};Z.prototype.LoadTest=Z.prototype.Pj;Z.prototype.it=function(){this.ma.pause=!this.ma.pause};Z.prototype.Pause=Z.prototype.it;
Z.prototype.Ft=function(){this.ma.pause=!0;this.ma.jm=!0};Z.prototype.SingleStep=Z.prototype.Ft;Z.prototype.dx=function(){this.Xq=!this.Xq};Z.prototype.ToggleDemo=Z.prototype.dx;
Z.prototype.Xw=function(){var a=(new Date).getTime();this.ln=this.ln||a;var c=a-this.ln;this.ln=a;1E3<c&&(c=1E3);this.Nm+=c;this.cr++;500<=this.Nm&&(this.iu=1E3*this.cr/this.Nm,this.Nm=this.cr=0,this.ju.innerHTML=this.iu.toFixed(1).toString());if(0<c){var a=this.we,b=this.mh.width,d=this.mh.height;a.clearRect(0,0,b,d);a.save();a.translate(.5*b,.5*d);a.scale(1,-1);a.scale(this.ma.Tj,this.ma.Tj);a.lineWidth/=this.ma.Tj;a.scale(1/this.ma.Bg,1/this.ma.Bg);a.lineWidth*=this.ma.Bg;a.rotate(-this.ma.Ui.hc());
a.translate(-this.ma.$g.x,-this.ma.$g.y);this.Fc.C(this.ma);var b=[!1],d=Dl,e=d.Yt;d.Yt=!1;b&&(b[0]=e&&d.tk);d=this.vk[this.Tg].name;Is.Gu&&(d=d+" : "+Dl.Nr.name);this.Fc.Sv(d);a.restore();b[0]&&this.Pj(!0);this.ix(c)}};Z.prototype.SimulationLoop=Z.prototype.Xw;p("box2d.Testbed.TestMain.SetRestartOnParticleParameterChange",function(a){Dl.tk=a});
function Pl(a){a:{for(var c=Dl,b=0,d=0;d<c.Vq;++d)for(var e=c.Uq[d],f=e.jp,h=0;h<f;++h,++b)if(e.fs[h].value===a){a=b;break a}a=-1}Dl.h(0<=a?a:0);return Dl.Nr.value}p("box2d.Testbed.TestMain.SetParticleParameterValue",Pl);function yk(){Is.Gu=!0;return Dl.Nr.value}p("box2d.Testbed.TestMain.GetParticleParameterValue",yk);function gk(a,c){xg(Dl,a,c)}p("box2d.Testbed.TestMain.SetParticleParameters",gk);ba.tB=ba.requestAnimationFrame||ba.webkitRequestAnimationFrame||ba.mozRequestAnimationFrame||ba.oRequestAnimationFrame||ba.msRequestAnimationFrame||function(a){ba.setTimeout(a,1E3/60)};var Js=null;p("main.m_app",Js);p("main.start",function(){Js=new Z;Ks()});function Ks(){ba.tB(Ks);Js.Xw()}p("main.loop",Ks);

//# sourceMappingURL=box2d-html5-testbed.map.json
