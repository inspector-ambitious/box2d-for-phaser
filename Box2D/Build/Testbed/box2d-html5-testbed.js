var g,ba=this;
function ca(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
c&&"undefined"==typeof a.call)return"object";return c}function p(a,c){var b=a.split("."),d=ba;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d=d[e]?d[e]:d[e]={}:d[e]=c}function q(a,c){function b(){}b.prototype=c.prototype;a.SE=c.prototype;a.prototype=new b;a.prototype.constructor=a;a.WD=function(a,b,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return c.prototype[b].apply(a,h)}};function da(){this.ub()}da.prototype.Gu=!1;da.prototype.ub=function(){this.Gu=!1};Object.defineProperty||(Object.defineProperty=function(a,c,b){Object.__defineGetter__&&("get"in b?a.__defineGetter__(c,b.get):"value"in b&&a.__defineGetter__(c,b.value));Object.__defineSetter__&&("set"in b?a.__defineSetter__(c,b.set):"value"in b&&a.__defineSetter__(c,b.value))});p("box2d.DEBUG",!1);p("box2d.ENABLE_ASSERTS",!1);p("box2d.b2Assert",function(){});p("box2d.b2_maxFloat",1E37);p("box2d.b2_epsilon",1E-5);var ea=1E-5*1E-5;p("box2d.b2_epsilon_sq",ea);var fa=Math.PI;p("box2d.b2_pi",fa);
p("box2d.b2_maxManifoldPoints",2);p("box2d.b2_maxPolygonVertices",8);p("box2d.b2_aabbExtension",.1);p("box2d.b2_aabbMultiplier",2);p("box2d.b2_linearSlop",.008);var ga=2/180*fa;p("box2d.b2_angularSlop",ga);p("box2d.b2_polygonRadius",.016);p("box2d.b2_maxSubSteps",8);p("box2d.b2_maxTOIContacts",32);p("box2d.b2_velocityThreshold",1);p("box2d.b2_maxLinearCorrection",.2);var ha=8/180*fa;p("box2d.b2_maxAngularCorrection",ha);p("box2d.b2_maxTranslation",2);p("box2d.b2_maxTranslationSquared",4);
var ja=.5*fa;p("box2d.b2_maxRotation",ja);var ka=ja*ja;p("box2d.b2_maxRotationSquared",ka);p("box2d.b2_baumgarte",.2);p("box2d.b2_toiBaumgarte",.75);p("box2d.b2_invalidParticleIndex",-1);p("box2d.b2_maxParticleIndex",2147483647);p("box2d.b2_particleStride",.75);p("box2d.b2_minParticleWeight",1);p("box2d.b2_maxParticlePressure",.25);p("box2d.b2_maxParticleForce",.5);p("box2d.b2_maxTriadDistance",2);p("box2d.b2_maxTriadDistanceSquared",4);p("box2d.b2_minParticleSystemBufferCapacity",256);
p("box2d.b2_barrierCollisionTime",2.5);p("box2d.b2_timeToSleep",.5);p("box2d.b2_linearSleepTolerance",.01);var la=2/180*fa;p("box2d.b2_angularSleepTolerance",la);p("box2d.b2Alloc",function(){return null});p("box2d.b2Free",function(){});function ma(a){ba.console.log.apply(null,arguments)}p("box2d.b2Log",ma);function oa(a,c,b){this.Su=a||0;this.Uu=c||0;this.Xu=b||0}p("box2d.b2Version",oa);oa.prototype.Su=0;oa.prototype.major=oa.prototype.Su;oa.prototype.Uu=0;oa.prototype.minor=oa.prototype.Uu;
oa.prototype.Xu=0;oa.prototype.revision=oa.prototype.Xu;oa.prototype.toString=function(){return this.Su+"."+this.Uu+"."+this.Xu};oa.prototype.toString=oa.prototype.toString;var pa=new oa(2,3,2);p("box2d.b2_version",pa);p("box2d.b2_changelist",313);function qa(a){return parseInt(a,10)}p("box2d.b2ParseInt",qa);p("box2d.b2ParseUInt",function(a){return ra(parseInt(a,10))});
function sa(a,c){a="number"===typeof a?a:0;var b=[];if("function"===typeof c)for(var d=0;d<a;++d)b.push(c(d));else for(d=0;d<a;++d)b.push(null);return b}p("box2d.b2MakeArray",sa);function ta(a){return sa(a,function(){return 0})}p("box2d.b2MakeNumberArray",ta);function va(){}p("box2d.b2ControllerEdge",va);va.prototype.Nt=null;va.prototype.controller=va.prototype.Nt;va.prototype.body=null;va.prototype.body=va.prototype.body;va.prototype.cm=null;va.prototype.prevBody=va.prototype.cm;va.prototype.Nf=null;va.prototype.nextBody=va.prototype.Nf;va.prototype.dm=null;va.prototype.prevController=va.prototype.dm;va.prototype.zk=null;va.prototype.nextController=va.prototype.zk;function wa(){}p("box2d.b2Controller",wa);wa.prototype.j=null;wa.prototype.m_world=wa.prototype.j;
wa.prototype.Cb=null;wa.prototype.m_bodyList=wa.prototype.Cb;wa.prototype.Xc=0;wa.prototype.m_bodyCount=wa.prototype.Xc;wa.prototype.qb=null;wa.prototype.m_prev=wa.prototype.qb;wa.prototype.Y=null;wa.prototype.m_next=wa.prototype.Y;wa.prototype.o=function(){};wa.prototype.Step=wa.prototype.o;wa.prototype.Hk=function(){};wa.prototype.Draw=wa.prototype.Hk;wa.prototype.vd=function(){return this.Y};wa.prototype.GetNext=wa.prototype.vd;wa.prototype.wz=function(){return this.qb};wa.prototype.GetPrev=wa.prototype.wz;
wa.prototype.Zs=function(){return this.j};wa.prototype.GetWorld=wa.prototype.Zs;wa.prototype.Cs=function(){return this.Cb};wa.prototype.GetBodyList=wa.prototype.Cs;wa.prototype.Ch=function(a){var c=new va;c.body=a;c.Nt=this;c.Nf=this.Cb;c.cm=null;this.Cb&&(this.Cb.cm=c);this.Cb=c;++this.Xc;c.zk=a.pe;c.dm=null;a.pe&&(a.pe.dm=c);a.pe=c;++a.qj};wa.prototype.AddBody=wa.prototype.Ch;
wa.prototype.lt=function(a){for(var c=this.Cb;c&&c.body!==a;)c=c.Nf;c.cm&&(c.cm.Nf=c.Nf);c.Nf&&(c.Nf.cm=c.cm);this.Cb===c&&(this.Cb=c.Nf);--this.Xc;c.zk&&(c.zk.dm=c.dm);c.dm&&(c.dm.zk=c.zk);a.pe===c&&(a.pe=c.zk);--a.qj};wa.prototype.RemoveBody=wa.prototype.lt;wa.prototype.Fk=function(){for(;this.Cb;)this.lt(this.Cb.body);this.Xc=0};wa.prototype.Clear=wa.prototype.Fk;function xa(a,c,b,d){this.Bb=a;this.yb=c;this.xb=b;this.B="number"===typeof d?d:1}p("box2d.b2Color",xa);xa.prototype.Bb=.5;xa.prototype.r=xa.prototype.Bb;xa.prototype.yb=.5;xa.prototype.g=xa.prototype.yb;xa.prototype.xb=.5;xa.prototype.b=xa.prototype.xb;xa.prototype.B=1;xa.prototype.a=xa.prototype.B;xa.prototype.kg=function(a,c,b){this.Bb=a;this.yb=c;this.xb=b;return this};xa.prototype.SetRGB=xa.prototype.kg;
xa.prototype.hg=function(a){var c=Math.round(Math.max(0,Math.min(255,255*this.Bb))),b=Math.round(Math.max(0,Math.min(255,255*this.yb))),d=Math.round(Math.max(0,Math.min(255,255*this.xb)));a="undefined"===typeof a?this.B:Math.max(0,Math.min(1,a));return ya(c,b,d,a)};xa.prototype.MakeStyleString=xa.prototype.hg;function ya(a,c,b,d){return 1>d?"rgba("+a+","+c+","+b+","+d+")":"rgb("+a+","+c+","+b+")"}xa.MakeStyleString=ya;var za=new xa(1,0,0);xa.RED=za;var Aa=new xa(0,1,0);xa.GREEN=Aa;
xa.BLUE=new xa(0,0,1);var Ba={zE:0,KE:1,vE:2,XD:4,BE:8,cE:16,iE:32,CE:64,YD:65535};p("box2d.b2DrawFlags",Ba);Ba.e_none=0;Ba.e_shapeBit=1;Ba.e_jointBit=2;Ba.e_aabbBit=4;Ba.e_pairBit=8;Ba.e_centerOfMassBit=16;Ba.e_controllerBit=32;Ba.e_particleBit=64;Ba.e_all=65535;function Ca(){}p("box2d.b2Draw",Ca);Ca.prototype.pl=0;Ca.prototype.m_drawFlags=Ca.prototype.pl;Ca.prototype.cq=function(a){this.pl=a};Ca.prototype.SetFlags=Ca.prototype.cq;Ca.prototype.Vp=function(){return this.pl};
Ca.prototype.GetFlags=Ca.prototype.Vp;Ca.prototype.$x=function(a){this.pl|=a};Ca.prototype.AppendFlags=Ca.prototype.$x;Ca.prototype.fy=function(a){this.pl&=~a};Ca.prototype.ClearFlags=Ca.prototype.fy;Ca.prototype.eo=function(){};Ca.prototype.PushTransform=Ca.prototype.eo;Ca.prototype.co=function(){};Ca.prototype.PopTransform=Ca.prototype.co;Ca.prototype.Qf=function(){};Ca.prototype.DrawPolygon=Ca.prototype.Qf;Ca.prototype.Ln=function(){};Ca.prototype.DrawSolidPolygon=Ca.prototype.Ln;
Ca.prototype.Ik=function(){};Ca.prototype.DrawCircle=Ca.prototype.Ik;Ca.prototype.Mp=function(){};Ca.prototype.DrawSolidCircle=Ca.prototype.Mp;Ca.prototype.Kn=function(){};Ca.prototype.DrawParticles=Ca.prototype.Kn;Ca.prototype.oc=function(){};Ca.prototype.DrawSegment=Ca.prototype.oc;Ca.prototype.Np=function(){};Ca.prototype.DrawTransform=Ca.prototype.Np;function Da(a){this.Xo=Array(a)}p("box2d.b2GrowableStack",Da);Da.prototype.Xo=null;Da.prototype.m_stack=Da.prototype.Xo;Da.prototype.n=0;Da.prototype.m_count=Da.prototype.n;Da.prototype.ub=function(){this.n=0;return this};Da.prototype.Reset=Da.prototype.ub;Da.prototype.Yd=function(a){this.Xo[this.n]=a;++this.n};Da.prototype.Push=Da.prototype.Yd;Da.prototype.xm=function(){--this.n;var a=this.Xo[this.n];this.Xo[this.n]=null;return a};Da.prototype.Pop=Da.prototype.xm;Da.prototype.Lk=function(){return this.n};
Da.prototype.GetCount=Da.prototype.Lk;var Ea=fa/180;p("box2d.b2_pi_over_180",Ea);var Ga=180/fa;p("box2d.b2_180_over_pi",Ga);var Ha=2*fa;p("box2d.b2_two_pi",Ha);var ra=Math.abs;p("box2d.b2Abs",ra);var Ia=Math.min;p("box2d.b2Min",Ia);var Ja=Math.max;p("box2d.b2Max",Ja);function Ka(a,c,b){return Math.min(Math.max(a,c),b)}p("box2d.b2Clamp",Ka);p("box2d.b2Wrap",function(a,c,b){return c<b?a<c?b-(c-a)%(b-c):c+(a-c)%(b-c):c===b?c:a});function La(a){return 0>a?(a-fa)%Ha+fa:(a+fa)%Ha-fa}p("box2d.b2WrapAngle",La);
p("box2d.b2Swap",function(a,c){var b=a[0];a[0]=c[0];c[0]=b});p("box2d.b2IsValid",function(a){return isFinite(a)});function Ma(a){return a*a}p("box2d.b2Sq",Ma);function Pa(a){return 1/Math.sqrt(a)}p("box2d.b2InvSqrt",Pa);function Qa(a){return Math.sqrt(a)}p("box2d.b2Sqrt",Qa);function Ra(a,c){return Math.pow(a,c)}p("box2d.b2Pow",Ra);p("box2d.b2DegToRad",function(a){return a*Ea});p("box2d.b2RadToDeg",function(a){return a*Ga});function Sa(a){return Math.cos(a)}p("box2d.b2Cos",Sa);
function Ta(a){return Math.sin(a)}p("box2d.b2Sin",Ta);p("box2d.b2Acos",function(a){return Math.acos(a)});function Ua(a){return Math.asin(a)}p("box2d.b2Asin",Ua);function Va(a,c){return Math.atan2(a,c)}p("box2d.b2Atan2",Va);p("box2d.b2NextPowerOfTwo",function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1});p("box2d.b2IsPowerOfTwo",function(a){return 0<a&&0===(a&a-1)});function Wa(){return 2*Math.random()-1}p("box2d.b2Random",Wa);
function Xa(a,c){return(c-a)*Math.random()+a}p("box2d.b2RandomRange",Xa);function r(a,c){this.x=a||0;this.y=c||0}p("box2d.b2Vec2",r);r.prototype.x=0;r.prototype.x=r.prototype.x;r.prototype.y=0;r.prototype.y=r.prototype.y;var Ya=new r;p("box2d.b2Vec2_zero",Ya);r.ZERO=new r;var bb=new r(1,0);r.UNITX=bb;r.UNITY=new r(0,1);var u=new r;r.s_t0=u;var db=new r;r.s_t1=db;var eb=new r;r.s_t2=eb;var fb=new r;r.s_t3=fb;function gb(a){return sa(a,function(){return new r})}r.MakeArray=gb;
r.prototype.za=function(){return new r(this.x,this.y)};r.prototype.Clone=r.prototype.za;r.prototype.ba=function(){this.y=this.x=0;return this};r.prototype.SetZero=r.prototype.ba;r.prototype.h=function(a,c){this.x=a;this.y=c;return this};r.prototype.Set=r.prototype.h;r.prototype.e=function(a){this.x=a.x;this.y=a.y;return this};r.prototype.Copy=r.prototype.e;r.prototype.Qa=function(a){this.x+=a.x;this.y+=a.y;return this};r.prototype.SelfAdd=r.prototype.Qa;
r.prototype.qt=function(a,c){this.x+=a;this.y+=c;return this};r.prototype.SelfAddXY=r.prototype.qt;r.prototype.Pb=function(a){this.x-=a.x;this.y-=a.y;return this};r.prototype.SelfSub=r.prototype.Pb;r.prototype.tt=function(a,c){this.x-=a;this.y-=c;return this};r.prototype.SelfSubXY=r.prototype.tt;r.prototype.Ia=function(a){this.x*=a;this.y*=a;return this};r.prototype.SelfMul=r.prototype.Ia;r.prototype.wa=function(a,c){this.x+=a*c.x;this.y+=a*c.y;return this};r.prototype.SelfMulAdd=r.prototype.wa;
r.prototype.mb=function(a,c){this.x-=a*c.x;this.y-=a*c.y;return this};r.prototype.SelfMulSub=r.prototype.mb;r.prototype.oy=function(a){return this.x*a.x+this.y*a.y};r.prototype.Dot=r.prototype.oy;r.prototype.ly=function(a){return this.x*a.y-this.y*a.x};r.prototype.Cross=r.prototype.ly;r.prototype.qc=function(){var a=this.x,c=this.y;return Math.sqrt(a*a+c*c)};r.prototype.Length=r.prototype.qc;r.prototype.ef=function(){var a=this.x,c=this.y;return a*a+c*c};r.prototype.LengthSquared=r.prototype.ef;
r.prototype.ic=function(){var a=this.qc();if(1E-5<=a){var c=1/a;this.x*=c;this.y*=c}return a};r.prototype.Normalize=r.prototype.ic;r.prototype.jg=function(){this.ic();return this};r.prototype.SelfNormalize=r.prototype.jg;r.prototype.Ew=function(a,c){var b=this.x,d=this.y;this.x=a*b-c*d;this.y=c*b+a*d;return this};r.prototype.SelfRotate=r.prototype.Ew;r.prototype.Fw=function(a){return this.Ew(Math.cos(a),Math.sin(a))};r.prototype.SelfRotateAngle=r.prototype.Fw;
r.prototype.$n=function(){return isFinite(this.x)&&isFinite(this.y)};r.prototype.IsValid=r.prototype.$n;r.prototype.uA=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this};r.prototype.SelfMin=r.prototype.uA;r.prototype.tA=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this};r.prototype.SelfMax=r.prototype.tA;r.prototype.io=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);return this};r.prototype.SelfAbs=r.prototype.io;
r.prototype.Pa=function(){this.x=-this.x;this.y=-this.y;return this};r.prototype.SelfNeg=r.prototype.Pa;r.prototype.st=function(){var a=this.x;this.x=-this.y;this.y=a;return this};r.prototype.SelfSkew=r.prototype.st;function hb(a,c){c.x=Math.abs(a.x);c.y=Math.abs(a.y);return c}p("box2d.b2Abs_V2",hb);function ib(a,c,b){b.x=Math.min(a.x,c.x);b.y=Math.min(a.y,c.y);return b}p("box2d.b2Min_V2_V2",ib);function jb(a,c,b){b.x=Math.max(a.x,c.x);b.y=Math.max(a.y,c.y);return b}p("box2d.b2Max_V2_V2",jb);
function kb(a,c,b,d){d.x=Math.min(Math.max(a.x,c.x),b.x);d.y=Math.min(Math.max(a.y,c.y),b.y);return d}p("box2d.b2Clamp_V2_V2_V2",kb);function v(a,c){return a.x*c.x+a.y*c.y}p("box2d.b2Dot_V2_V2",v);function w(a,c){return a.x*c.y-a.y*c.x}p("box2d.b2Cross_V2_V2",w);function lb(a,c,b){var d=a.x;b.x=c*a.y;b.y=-c*d;return b}p("box2d.b2Cross_V2_S",lb);function ob(a,c,b){var d=c.x;b.x=-a*c.y;b.y=a*d;return b}p("box2d.b2Cross_S_V2",ob);function pb(a,c,b){b.x=a.x+c.x;b.y=a.y+c.y;return b}
p("box2d.b2Add_V2_V2",pb);function x(a,c,b){b.x=a.x-c.x;b.y=a.y-c.y;return b}p("box2d.b2Sub_V2_V2",x);p("box2d.b2Add_V2_S",function(a,c,b){b.x=a.x+c;b.y=a.y+c;return b});p("box2d.b2Sub_V2_S",function(a,c,b){b.x=a.x-c;b.y=a.y-c;return b});function qb(a,c,b){b.x=c.x*a;b.y=c.y*a;return b}p("box2d.b2Mul_S_V2",qb);function rb(a,c,b){b.x=a.x*c;b.y=a.y*c;return b}p("box2d.b2Mul_V2_S",rb);p("box2d.b2Div_V2_S",function(a,c,b){b.x=a.x/c;b.y=a.y/c;return b});
function sb(a,c,b,d){d.x=a.x+c*b.x;d.y=a.y+c*b.y;return d}p("box2d.b2AddMul_V2_S_V2",sb);function tb(a,c,b,d){d.x=a.x-c*b.x;d.y=a.y-c*b.y;return d}p("box2d.b2SubMul_V2_S_V2",tb);function ub(a,c,b,d){var e=b.x;d.x=a.x-c*b.y;d.y=a.y+c*e;return d}p("box2d.b2AddCross_V2_S_V2",ub);function vb(a,c,b){b.x=.5*(a.x+c.x);b.y=.5*(a.y+c.y);return b}p("box2d.b2Mid_V2_V2",vb);function wb(a,c,b){b.x=.5*(c.x-a.x);b.y=.5*(c.y-a.y);return b}p("box2d.b2Ext_V2_V2",wb);
function xb(a,c){var b=a.x-c.x,d=a.y-c.y;return Math.sqrt(b*b+d*d)}p("box2d.b2Distance",xb);function yb(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d}p("box2d.b2DistanceSquared",yb);function zb(a,c,b){this.x=a||0;this.y=c||0;this.z=b||0}p("box2d.b2Vec3",zb);zb.prototype.x=0;zb.prototype.x=zb.prototype.x;zb.prototype.y=0;zb.prototype.y=zb.prototype.y;zb.prototype.z=0;zb.prototype.z=zb.prototype.z;zb.ZERO=new zb;var Ab=new zb;zb.s_t0=Ab;zb.prototype.za=function(){return new zb(this.x,this.y,this.z)};
zb.prototype.Clone=zb.prototype.za;zb.prototype.ba=function(){this.z=this.y=this.x=0;return this};zb.prototype.SetZero=zb.prototype.ba;zb.prototype.h=function(a,c,b){this.x=a;this.y=c;this.z=b;return this};zb.prototype.Set=zb.prototype.h;zb.prototype.e=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};zb.prototype.Copy=zb.prototype.e;zb.prototype.Pa=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};zb.prototype.SelfNeg=zb.prototype.Pa;
zb.prototype.Qa=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};zb.prototype.SelfAdd=zb.prototype.Qa;zb.prototype.pA=function(a,c){this.x+=a.x;this.y+=a.y;this.z+=c;return this};zb.prototype.SelfAddV2=zb.prototype.pA;zb.prototype.qA=function(a,c,b){this.x+=a;this.y+=c;this.z+=b;return this};zb.prototype.SelfAddXYZ=zb.prototype.qA;zb.prototype.Pb=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};zb.prototype.SelfSub=zb.prototype.Pb;
zb.prototype.yA=function(a,c){this.x-=a.x;this.y-=a.y;this.z-=c;return this};zb.prototype.SelfSubV2=zb.prototype.yA;zb.prototype.zA=function(a,c,b){this.x-=a;this.y-=c;this.z-=b;return this};zb.prototype.SelfSubXYZ=zb.prototype.zA;zb.prototype.Ia=function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this};zb.prototype.SelfMul=zb.prototype.Ia;zb.prototype.vA=function(a,c){this.x*=a.x;this.y*=a.y;this.z*=c;return this};zb.prototype.SelfMulV2=zb.prototype.vA;
zb.prototype.xA=function(a,c,b){this.x*=a;this.y*=c;this.z*=b;return this};zb.prototype.SelfMulXYZ=zb.prototype.xA;zb.prototype.aq=function(a){this.x*=a;this.y*=a;this.z*=a;return this};zb.prototype.SelfMulScalar=zb.prototype.aq;zb.prototype.qc=function(){var a=this.x,c=this.y,b=this.z;return Math.sqrt(a*a+c*c+b*b)};zb.prototype.Length=zb.prototype.qc;zb.prototype.ef=function(){var a=this.x,c=this.y,b=this.z;return a*a+c*c+b*b};zb.prototype.LengthSquared=zb.prototype.ef;
zb.prototype.ic=function(){var a=this.qc();if(1E-5<=a){var c=1/a;this.x*=c;this.y*=c;this.z*=c}return a};zb.prototype.Normalize=zb.prototype.ic;zb.prototype.jg=function(){this.ic();return this};zb.prototype.SelfNormalize=zb.prototype.jg;function Bb(a,c,b){b.x=a.x+c.x;b.y=a.y+c.y;b.z=a.z+c.z;return b}p("box2d.b2Add_V3_V3",Bb);function Cb(a,c,b){b.x=a.x+c.x;b.y=a.y+c.y;b.z=a.z+c.z;return b}p("box2d.b2Sub_V3_V3",Cb);function Db(a,c){return a.x*c.x+a.y*c.y+a.z*c.z}p("box2d.b2Dot_V3_V3",Db);
function Eb(a,c,b){var d=a.x,e=a.y;a=a.z;var f=c.x,h=c.y;c=c.z;b.x=e*c-a*h;b.y=a*f-d*c;b.z=d*h-e*f;return b}p("box2d.b2Cross_V3_V3",Eb);function Fb(a,c,b,d){this.x=a||0;this.y=c||0;this.z=b||0;this.M=d||0}p("box2d.b2Vec4",Fb);Fb.prototype.x=0;Fb.prototype.x=Fb.prototype.x;Fb.prototype.y=0;Fb.prototype.y=Fb.prototype.y;Fb.prototype.z=0;Fb.prototype.z=Fb.prototype.z;Fb.prototype.M=0;Fb.prototype.w=Fb.prototype.M;Fb.ZERO=new Fb(0,0,0,0);Fb.s_t0=new Fb;
Fb.prototype.za=function(){return new Fb(this.x,this.y,this.z,this.M)};Fb.prototype.Clone=Fb.prototype.za;Fb.prototype.ba=function(){this.M=this.z=this.y=this.x=0;return this};Fb.prototype.SetZero=Fb.prototype.ba;Fb.prototype.h=function(a,c,b,d){this.x=a;this.y=c;this.z=b;this.M=d;return this};Fb.prototype.Set=Fb.prototype.h;Fb.prototype.e=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.M=a.M;return this};Fb.prototype.Copy=Fb.prototype.e;function Gb(){this.$=new r(1,0);this.ca=new r(0,1)}
p("box2d.b2Mat22",Gb);Gb.prototype.$=null;Gb.prototype.ex=Gb.prototype.$;Gb.prototype.ca=null;Gb.prototype.ey=Gb.prototype.ca;Gb.IDENTITY=new Gb;Gb.prototype.za=function(){return(new Gb).e(this)};Gb.prototype.Clone=Gb.prototype.za;Gb.prototype.Ba=function(a){var c=Math.cos(a);a=Math.sin(a);this.$.h(c,a);this.ca.h(-a,c);return this};Gb.prototype.SetAngle=Gb.prototype.Ba;Gb.prototype.e=function(a){this.$.e(a.$);this.ca.e(a.ca);return this};Gb.prototype.Copy=Gb.prototype.e;
Gb.prototype.Sf=function(){this.$.h(1,0);this.ca.h(0,1);return this};Gb.prototype.SetIdentity=Gb.prototype.Sf;Gb.prototype.ba=function(){this.$.ba();this.ca.ba();return this};Gb.prototype.SetZero=Gb.prototype.ba;Gb.prototype.hc=function(){return Math.atan2(this.$.y,this.$.x)};Gb.prototype.GetAngle=Gb.prototype.hc;Gb.prototype.tm=function(a){var c=this.$.x,b=this.ca.x,d=this.$.y,e=this.ca.y,f=c*e-b*d;0!==f&&(f=1/f);a.$.x=f*e;a.ca.x=-f*b;a.$.y=-f*d;a.ca.y=f*c;return a};Gb.prototype.GetInverse=Gb.prototype.tm;
Gb.prototype.gh=function(a,c,b){var d=this.$.x,e=this.ca.x,f=this.$.y,h=this.ca.y,k=d*h-e*f;0!==k&&(k=1/k);b.x=k*(h*a-e*c);b.y=k*(d*c-f*a);return b};Gb.prototype.Solve=Gb.prototype.gh;Gb.prototype.io=function(){this.$.io();this.ca.io();return this};Gb.prototype.SelfAbs=Gb.prototype.io;Gb.prototype.sA=function(){return this.tm(this)};Gb.prototype.SelfInv=Gb.prototype.sA;Gb.prototype.Qa=function(a){this.$.Qa(a.$);this.ca.Qa(a.ca);return this};Gb.prototype.SelfAdd=Gb.prototype.Qa;
Gb.prototype.Pb=function(a){this.$.Pb(a.$);this.ca.Pb(a.ca);return this};Gb.prototype.SelfSub=Gb.prototype.Pb;p("box2d.b2Abs_M22",function(a,c){var b=a.$,d=a.ca;c.$.x=ra(b.x);c.$.y=ra(b.y);c.ca.x=ra(d.x);c.ca.y=ra(d.y);return c});function Hb(a,c,b){var d=a.$;a=a.ca;var e=c.x;c=c.y;b.x=d.x*e+a.x*c;b.y=d.y*e+a.y*c;return b}p("box2d.b2Mul_M22_V2",Hb);function Ib(a,c,b){var d=a.$;a=a.ca;var e=c.x;c=c.y;b.x=d.x*e+d.y*c;b.y=a.x*e+a.y*c;return b}p("box2d.b2MulT_M22_V2",Ib);
p("box2d.b2Add_M22_M22",function(a,c,b){var d=a.$;a=a.ca;var e=c.$;c=c.ca;b.$.x=d.x+e.x;b.$.y=d.y+e.y;b.ca.x=a.x+c.x;b.ca.y=a.y+c.y;return b});function Jb(a,c,b){var d=a.$.x,e=a.$.y,f=a.ca.x;a=a.ca.y;var h=c.$.x,k=c.$.y,l=c.ca.x;c=c.ca.y;b.$.x=d*h+f*k;b.$.y=e*h+a*k;b.ca.x=d*l+f*c;b.ca.y=e*l+a*c;return b}p("box2d.b2Mul_M22_M22",Jb);function Kb(a,c,b){var d=a.$.x,e=a.$.y,f=a.ca.x;a=a.ca.y;var h=c.$.x,k=c.$.y,l=c.ca.x;c=c.ca.y;b.$.x=d*h+e*k;b.$.y=f*h+a*k;b.ca.x=d*l+e*c;b.ca.y=f*l+a*c;return b}
p("box2d.b2MulT_M22_M22",Kb);function Lb(){this.$=new zb(1,0,0);this.ca=new zb(0,1,0);this.Va=new zb(0,0,1)}p("box2d.b2Mat33",Lb);Lb.prototype.$=null;Lb.prototype.ex=Lb.prototype.$;Lb.prototype.ca=null;Lb.prototype.ey=Lb.prototype.ca;Lb.prototype.Va=null;Lb.prototype.ez=Lb.prototype.Va;Lb.IDENTITY=new Lb;Lb.prototype.za=function(){return(new Lb).e(this)};Lb.prototype.Clone=Lb.prototype.za;Lb.prototype.e=function(a){this.$.e(a.$);this.ca.e(a.ca);this.Va.e(a.Va);return this};Lb.prototype.Copy=Lb.prototype.e;
Lb.prototype.Sf=function(){this.$.h(1,0,0);this.ca.h(0,1,0);this.Va.h(0,0,1);return this};Lb.prototype.SetIdentity=Lb.prototype.Sf;Lb.prototype.ba=function(){this.$.ba();this.ca.ba();this.Va.ba();return this};Lb.prototype.SetZero=Lb.prototype.ba;Lb.prototype.Qa=function(a){this.$.Qa(a.$);this.ca.Qa(a.ca);this.Va.Qa(a.Va);return this};Lb.prototype.SelfAdd=Lb.prototype.Qa;
Lb.prototype.po=function(a,c,b,d){var e=this.$.x,f=this.$.y,h=this.$.z,k=this.ca.x,l=this.ca.y,m=this.ca.z,n=this.Va.x,t=this.Va.y,z=this.Va.z,B=e*(l*z-m*t)+f*(m*n-k*z)+h*(k*t-l*n);0!==B&&(B=1/B);d.x=B*(a*(l*z-m*t)+c*(m*n-k*z)+b*(k*t-l*n));d.y=B*(e*(c*z-b*t)+f*(b*n-a*z)+h*(a*t-c*n));d.z=B*(e*(l*b-m*c)+f*(m*a-k*b)+h*(k*c-l*a));return d};Lb.prototype.Solve33=Lb.prototype.po;
Lb.prototype.Rj=function(a,c,b){var d=this.$.x,e=this.ca.x,f=this.$.y,h=this.ca.y,k=d*h-e*f;0!==k&&(k=1/k);b.x=k*(h*a-e*c);b.y=k*(d*c-f*a);return b};Lb.prototype.Solve22=Lb.prototype.Rj;Lb.prototype.Ks=function(a){var c=this.$.x,b=this.ca.x,d=this.$.y,e=this.ca.y,f=c*e-b*d;0!==f&&(f=1/f);a.$.x=f*e;a.ca.x=-f*b;a.$.z=0;a.$.y=-f*d;a.ca.y=f*c;a.ca.z=0;a.Va.x=0;a.Va.y=0;a.Va.z=0};Lb.prototype.GetInverse22=Lb.prototype.Ks;
Lb.prototype.hw=function(a){var c=Db(this.$,Eb(this.ca,this.Va,Ab));0!==c&&(c=1/c);var b=this.$.x,d=this.ca.x,e=this.Va.x,f=this.ca.y,h=this.Va.y,k=this.Va.z;a.$.x=c*(f*k-h*h);a.$.y=c*(e*h-d*k);a.$.z=c*(d*h-e*f);a.ca.x=a.$.y;a.ca.y=c*(b*k-e*e);a.ca.z=c*(e*d-b*h);a.Va.x=a.$.z;a.Va.y=a.ca.z;a.Va.z=c*(b*f-d*d)};Lb.prototype.GetSymInverse33=Lb.prototype.hw;function Nb(a,c,b){var d=c.x,e=c.y;c=c.z;b.x=a.$.x*d+a.ca.x*e+a.Va.x*c;b.y=a.$.y*d+a.ca.y*e+a.Va.y*c;b.z=a.$.z*d+a.ca.z*e+a.Va.z*c;return b}
p("box2d.b2Mul_M33_V3",Nb);function Ob(a,c,b,d,e){e.x=a.$.x*c+a.ca.x*b+a.Va.x*d;e.y=a.$.y*c+a.ca.y*b+a.Va.y*d;e.z=a.$.z*c+a.ca.z*b+a.Va.z*d;return e}p("box2d.b2Mul_M33_X_Y_Z",Ob);function Pb(a,c,b){var d=c.x;c=c.y;b.x=a.$.x*d+a.ca.x*c;b.y=a.$.y*d+a.ca.y*c;return b}p("box2d.b2Mul22_M33_V2",Pb);function Qb(a,c,b,d){d.x=a.$.x*c+a.ca.x*b;d.y=a.$.y*c+a.ca.y*b;return d}p("box2d.b2Mul_M33_X_Y",Qb);function Rb(a){a&&(this.fb=a,this.Lc=Math.sin(a),this.W=Math.cos(a))}p("box2d.b2Rot",Rb);Rb.prototype.fb=0;
Rb.prototype.angle=Rb.prototype.fb;Rb.prototype.Lc=0;Rb.prototype.s=Rb.prototype.Lc;Rb.prototype.W=1;Rb.prototype.c=Rb.prototype.W;Rb.IDENTITY=new Rb;Rb.prototype.za=function(){return(new Rb).e(this)};Rb.prototype.Clone=Rb.prototype.za;Rb.prototype.e=function(a){this.fb=a.fb;this.Lc=a.Lc;this.W=a.W;return this};Rb.prototype.Copy=Rb.prototype.e;Rb.prototype.h=function(a){1E-5<=Math.abs(this.fb-a)&&(this.fb=a,this.Lc=Math.sin(a),this.W=Math.cos(a));return this};Rb.prototype.Set=Rb.prototype.h;
Rb.prototype.Ba=Rb.prototype.h;Rb.prototype.SetAngle=Rb.prototype.Ba;Rb.prototype.Sf=function(){this.Lc=this.fb=0;this.W=1;return this};Rb.prototype.SetIdentity=Rb.prototype.Sf;Rb.prototype.hc=function(){return this.fb};Rb.prototype.GetAngle=Rb.prototype.hc;Rb.prototype.Qz=function(a){a.x=this.W;a.y=this.Lc;return a};Rb.prototype.GetXAxis=Rb.prototype.Qz;Rb.prototype.Rz=function(a){a.x=-this.Lc;a.y=this.W;return a};Rb.prototype.GetYAxis=Rb.prototype.Rz;
function Sb(a,c,b){var d=a.W,e=a.Lc,f=c.W,h=c.Lc;b.Lc=e*f+d*h;b.W=d*f-e*h;b.fb=La(a.fb+c.fb);return b}p("box2d.b2Mul_R_R",Sb);function Tb(a,c,b){var d=a.W,e=a.Lc,f=c.W,h=c.Lc;b.Lc=d*h-e*f;b.W=d*f+e*h;b.fb=La(a.fb-c.fb);return b}p("box2d.b2MulT_R_R",Tb);function y(a,c,b){var d=a.W;a=a.Lc;var e=c.x;c=c.y;b.x=d*e-a*c;b.y=a*e+d*c;return b}p("box2d.b2Mul_R_V2",y);function Ub(a,c,b){var d=a.W;a=a.Lc;var e=c.x;c=c.y;b.x=d*e+a*c;b.y=-a*e+d*c;return b}p("box2d.b2MulT_R_V2",Ub);
function Vb(){this.ta=new r;this.ha=new Rb}p("box2d.b2Transform",Vb);Vb.prototype.ta=null;Vb.prototype.p=Vb.prototype.ta;Vb.prototype.ha=null;Vb.prototype.q=Vb.prototype.ha;var Wb=new Vb;Vb.IDENTITY=Wb;Vb.prototype.za=function(){return(new Vb).e(this)};Vb.prototype.Clone=Vb.prototype.za;Vb.prototype.e=function(a){this.ta.e(a.ta);this.ha.e(a.ha);return this};Vb.prototype.Copy=Vb.prototype.e;Vb.prototype.Sf=function(){this.ta.ba();this.ha.Sf();return this};Vb.prototype.SetIdentity=Vb.prototype.Sf;
Vb.prototype.h=function(a,c){return this.Tk(a,c)};Vb.prototype.Nw=function(a,c){this.ta.e(a);this.ha.e(c);return this};Vb.prototype.SetPositionRotation=Vb.prototype.Nw;Vb.prototype.Tk=function(a,c){this.ta.e(a);this.ha.Ba(c);return this};Vb.prototype.SetPositionRotationAngle=Vb.prototype.Tk;Vb.prototype.gj=function(a){this.ta.e(a);return this};Vb.prototype.SetPosition=Vb.prototype.gj;Vb.prototype.zt=function(a,c){this.ta.h(a,c);return this};Vb.prototype.SetPositionXY=Vb.prototype.zt;
Vb.prototype.Bt=function(a){this.ha.e(a);return this};Vb.prototype.SetRotation=Vb.prototype.Bt;Vb.prototype.Pw=function(a){this.ha.Ba(a);return this};Vb.prototype.SetRotationAngle=Vb.prototype.Pw;Vb.prototype.cd=function(){return this.ta};Vb.prototype.GetPosition=Vb.prototype.cd;Vb.prototype.Vs=function(){return this.ha};Vb.prototype.GetRotation=Vb.prototype.Vs;Vb.prototype.yz=function(){return this.ha.hc()};Vb.prototype.GetRotationAngle=Vb.prototype.yz;Vb.prototype.hc=function(){return this.ha.hc()};
Vb.prototype.GetAngle=Vb.prototype.hc;function Xb(a,c,b){var d=a.ha.W,e=a.ha.Lc,f=c.x;c=c.y;b.x=d*f-e*c+a.ta.x;b.y=e*f+d*c+a.ta.y;return b}p("box2d.b2Mul_X_V2",Xb);function Yb(a,c,b){var d=a.ha.W,e=a.ha.Lc,f=c.x-a.ta.x;a=c.y-a.ta.y;b.x=d*f+e*a;b.y=-e*f+d*a;return b}p("box2d.b2MulT_X_V2",Yb);function Zb(a,c,b){Sb(a.ha,c.ha,b.ha);pb(y(a.ha,c.ta,b.ta),a.ta,b.ta);return b}p("box2d.b2Mul_X_X",Zb);function $b(a,c,b){Tb(a.ha,c.ha,b.ha);Ub(a.ha,x(c.ta,a.ta,b.ta),b.ta);return b}p("box2d.b2MulT_X_X",$b);
function ac(){this.hb=new r;this.Vc=new r;this.W=new r}p("box2d.b2Sweep",ac);ac.prototype.hb=null;ac.prototype.localCenter=ac.prototype.hb;ac.prototype.Vc=null;ac.prototype.c0=ac.prototype.Vc;ac.prototype.W=null;ac.prototype.c=ac.prototype.W;ac.prototype.be=0;ac.prototype.a0=ac.prototype.be;ac.prototype.B=0;ac.prototype.a=ac.prototype.B;ac.prototype.Tf=0;ac.prototype.alpha0=ac.prototype.Tf;ac.prototype.za=function(){return(new ac).e(this)};ac.prototype.Clone=ac.prototype.za;
ac.prototype.e=function(a){this.hb.e(a.hb);this.Vc.e(a.Vc);this.W.e(a.W);this.be=a.be;this.B=a.B;this.Tf=a.Tf;return this};ac.prototype.Copy=ac.prototype.e;ac.prototype.Wb=function(a,c){var b=1-c;a.ta.x=b*this.Vc.x+c*this.W.x;a.ta.y=b*this.Vc.y+c*this.W.y;a.ha.Ba(b*this.be+c*this.B);a.ta.Pb(y(a.ha,this.hb,u));return a};ac.prototype.GetTransform=ac.prototype.Wb;
ac.prototype.Wi=function(a){var c=(a-this.Tf)/(1-this.Tf);this.Vc.x+=c*(this.W.x-this.Vc.x);this.Vc.y+=c*(this.W.y-this.Vc.y);this.be+=c*(this.B-this.be);this.Tf=a};ac.prototype.Advance=ac.prototype.Wi;ac.prototype.ic=function(){this.be=La(this.be);this.B=La(this.B)};ac.prototype.Normalize=ac.prototype.ic;p("box2d.b2Dot",function(a,c){if(a instanceof r&&c instanceof r)return v(a,c);if(a instanceof zb&&c instanceof zb)return Db(a,c);throw Error();});
p("box2d.b2Cross",function(a,c,b){if(a instanceof r&&c instanceof r)return w(a,c);if(a instanceof r&&"number"===typeof c&&b instanceof r)return lb(a,c,b);if("number"===typeof a&&c instanceof r&&b instanceof r)return ob(a,c,b);if(a instanceof zb&&c instanceof zb&&b instanceof zb)return Eb(a,c,b);throw Error();});p("box2d.b2Add",function(a,c,b){if(a instanceof r&&c instanceof r&&b instanceof r)return pb(a,c,b);if(a instanceof zb&&c instanceof zb&&b instanceof zb)return Bb(a,c,b);throw Error();});
p("box2d.b2Sub",function(a,c,b){if(a instanceof r&&c instanceof r&&b instanceof r)return x(a,c,b);if(a instanceof zb&&c instanceof zb&&b instanceof zb)return Cb(a,c,b);throw Error();});
p("box2d.b2Mul",function(a,c,b){if(a instanceof Gb&&c instanceof r&&b instanceof r)return Hb(a,c,b);if(a instanceof Gb&&c instanceof Gb&&b instanceof Gb)return Jb(a,c,b);if(a instanceof Lb&&c instanceof zb&&b instanceof zb)return Nb(a,c,b);if(a instanceof Rb&&c instanceof Rb&&b instanceof Rb)return Sb(a,c,b);if(a instanceof Rb&&c instanceof r&&b instanceof r)return y(a,c,b);if(a instanceof Vb&&c instanceof r&&b instanceof r)return Xb(a,c,b);if(a instanceof Vb&&c instanceof Vb&&b instanceof Vb)return Zb(a,
c,b);throw Error();});p("box2d.b2Mul22",function(a,c,b){if(a instanceof Lb&&c instanceof r)return Pb(a,c,b);throw Error();});
p("box2d.b2MulT",function(a,c,b){if(a instanceof Gb&&c instanceof r&&b instanceof r)return Ib(a,c,b);if(a instanceof Gb&&c instanceof Gb&&b instanceof Gb)return Kb(a,c,b);if(a instanceof Rb&&c instanceof Rb&&b instanceof Rb)return Tb(a,c,b);if(a instanceof Rb&&c instanceof r&&b instanceof r)return Ub(a,c,b);if(a instanceof Vb&&c instanceof r&&b instanceof r)return Yb(a,c,b);if(a instanceof Vb&&c instanceof Vb&&b instanceof Vb)return $b(a,c,b);throw Error();});function dc(){this.hs=new r(0,0)}q(dc,wa);p("box2d.b2ConstantAccelController",dc);dc.prototype.hs=null;dc.prototype.A=dc.prototype.hs;dc.prototype.o=function(a){a=qb(a.Jb,this.hs,dc.prototype.o.ZB);for(var c=this.Cb;c;c=c.Nf){var b=c.body;b.vc&&b.$d(pb(b.le(),a,u))}};dc.prototype.Step=dc.prototype.o;dc.prototype.o.ZB=new r;function ec(){this.As=new r(0,0)}q(ec,wa);p("box2d.b2ConstantForceController",ec);dc.prototype.As=null;dc.prototype.F=dc.prototype.As;ec.prototype.o=function(){for(var a=this.Cb;a;a=a.Nf){var c=a.body;c.vc&&c.Ke(this.As,c.Ne())}};ec.prototype.Step=ec.prototype.o;function fc(){}q(fc,wa);p("box2d.b2GravityController",fc);fc.prototype.Bs=1;fc.prototype.G=fc.prototype.Bs;fc.prototype.rx=!0;fc.prototype.invSqr=fc.prototype.rx;
fc.prototype.o=function(){if(this.rx)for(var a=this.Cb;a;a=a.Nf)for(var c=a.body,b=c.Ne(),d=c.me(),e=this.Cb;e!==a;e=e.Nf){var f=e.body,h=f.Ne(),k=f.me(),l=h.x-b.x,m=h.y-b.y,n=l*l+m*m;1E-5>n||(l=fc.prototype.o.Ux.h(l,m),l.Ia(this.Bs/n/Qa(n)*d*k),c.vc&&c.Ke(l,b),f.vc&&f.Ke(l.Ia(-1),h))}else for(a=this.Cb;a;a=a.Nf)for(c=a.body,b=c.Ne(),d=c.me(),e=this.Cb;e!==a;e=e.Nf)f=e.body,h=f.Ne(),k=f.me(),l=h.x-b.x,m=h.y-b.y,n=l*l+m*m,1E-5>n||(l=fc.prototype.o.Ux.h(l,m),l.Ia(this.Bs/n*d*k),c.vc&&c.Ke(l,b),f.vc&&
f.Ke(l.Ia(-1),h))};fc.prototype.Step=fc.prototype.o;fc.prototype.o.Ux=new r;function gc(){this.Ht=new Gb;this.ip=0}q(gc,wa);p("box2d.b2TensorDampingController",gc);gc.prototype.Ht=new Gb;gc.prototype.T=gc.prototype.Ht;gc.prototype.ip=0;gc.prototype.maxTimestep=gc.prototype.ip;gc.prototype.o=function(a){a=a.Jb;if(!(1E-5>=a)){a>this.ip&&0<this.ip&&(a=this.ip);for(var c=this.Cb;c;c=c.Nf){var b=c.body;if(b.vc){var d=b.aj(Hb(this.Ht,b.Wp(b.le(),u),db),gc.prototype.o.QB);b.$d(pb(b.le(),qb(a,d,u),db))}}}};gc.prototype.o.QB=new r;function hc(){this.Cf=gb(2)}p("box2d.b2DistanceProxy",hc);hc.prototype.Cf=null;hc.prototype.m_buffer=hc.prototype.Cf;hc.prototype.Z=null;hc.prototype.m_vertices=hc.prototype.Z;hc.prototype.n=0;hc.prototype.m_count=hc.prototype.n;hc.prototype.N=0;hc.prototype.m_radius=hc.prototype.N;hc.prototype.ub=function(){this.Z=null;this.N=this.n=0;return this};hc.prototype.Reset=hc.prototype.ub;hc.prototype.Lh=function(a,c){a.no(this,c)};hc.prototype.SetShape=hc.prototype.Lh;
hc.prototype.Ok=function(a){for(var c=0,b=v(this.Z[0],a),d=1;d<this.n;++d){var e=v(this.Z[d],a);e>b&&(c=d,b=e)}return c};hc.prototype.GetSupport=hc.prototype.Ok;hc.prototype.Hz=function(a,c){for(var b=0,d=v(this.Z[0],a),e=1;e<this.n;++e){var f=v(this.Z[e],a);f>d&&(b=e,d=f)}return c.e(this.Z[b])};hc.prototype.GetSupportVertex=hc.prototype.Hz;hc.prototype.Ys=function(){return this.n};hc.prototype.GetVertexCount=hc.prototype.Ys;hc.prototype.Id=function(a){return this.Z[a]};hc.prototype.GetVertex=hc.prototype.Id;
function ic(){this.X=ta(3);this.aa=ta(3)}p("box2d.b2SimplexCache",ic);ic.prototype.Qr=0;ic.prototype.metric=ic.prototype.Qr;ic.prototype.count=0;ic.prototype.count=ic.prototype.count;ic.prototype.X=null;ic.prototype.indexA=ic.prototype.X;ic.prototype.aa=null;ic.prototype.indexB=ic.prototype.aa;ic.prototype.ub=function(){this.count=this.Qr=0;return this};ic.prototype.Reset=ic.prototype.ub;function jc(){this.hd=new hc;this.Ed=new hc;this.lm=new Vb;this.mm=new Vb}p("box2d.b2DistanceInput",jc);
jc.prototype.hd=null;jc.prototype.proxyA=jc.prototype.hd;jc.prototype.Ed=null;jc.prototype.proxyB=jc.prototype.Ed;jc.prototype.lm=null;jc.prototype.transformA=jc.prototype.lm;jc.prototype.mm=null;jc.prototype.transformB=jc.prototype.mm;jc.prototype.Dn=!1;jc.prototype.useRadii=jc.prototype.Dn;jc.prototype.ub=function(){this.hd.ub();this.Ed.ub();this.lm.Sf();this.mm.Sf();this.Dn=!1;return this};jc.prototype.Reset=jc.prototype.ub;function kc(){this.Ni=new r;this.Oi=new r}p("box2d.b2DistanceOutput",kc);
kc.prototype.Ni=null;kc.prototype.pointA=kc.prototype.Ni;kc.prototype.Oi=null;kc.prototype.pointB=kc.prototype.Oi;kc.prototype.Bf=0;kc.prototype.distance=kc.prototype.Bf;kc.prototype.Fq=0;kc.prototype.iterations=kc.prototype.Fq;kc.prototype.ub=function(){this.Ni.ba();this.Oi.ba();this.Fq=this.Bf=0;return this};kc.prototype.Reset=kc.prototype.ub;var lc=0;p("box2d.b2_gjkCalls",lc);var mc=0;p("box2d.b2_gjkIters",mc);var nc=0;p("box2d.b2_gjkMaxIters",nc);
function pc(){this.je=new r;this.gg=new r;this.M=new r}p("box2d.b2SimplexVertex",pc);pc.prototype.je=null;pc.prototype.wA=pc.prototype.je;pc.prototype.gg=null;pc.prototype.wB=pc.prototype.gg;pc.prototype.M=null;pc.prototype.w=pc.prototype.M;pc.prototype.B=0;pc.prototype.a=pc.prototype.B;pc.prototype.X=0;pc.prototype.indexA=pc.prototype.X;pc.prototype.aa=0;pc.prototype.indexB=pc.prototype.aa;
pc.prototype.e=function(a){this.je.e(a.je);this.gg.e(a.gg);this.M.e(a.M);this.B=a.B;this.X=a.X;this.aa=a.aa;return this};pc.prototype.Copy=pc.prototype.e;function qc(){this.eb=new pc;this.Fb=new pc;this.he=new pc;this.Z=Array(3);this.Z[0]=this.eb;this.Z[1]=this.Fb;this.Z[2]=this.he}p("box2d.b2Simplex",qc);qc.prototype.eb=null;qc.prototype.m_v1=qc.prototype.eb;qc.prototype.Fb=null;qc.prototype.m_v2=qc.prototype.Fb;qc.prototype.he=null;qc.prototype.m_v3=qc.prototype.he;qc.prototype.Z=null;
qc.prototype.m_vertices=qc.prototype.Z;qc.prototype.n=0;qc.prototype.m_count=qc.prototype.n;qc.prototype.Aw=function(a,c,b,d,e){this.n=a.count;for(var f=this.Z,h=0;h<this.n;++h){var k=f[h];k.X=a.X[h];k.aa=a.aa[h];var l=c.Id(k.X),m=d.Id(k.aa);Xb(b,l,k.je);Xb(e,m,k.gg);x(k.gg,k.je,k.M);k.B=0}1<this.n&&(a=a.Qr,h=this.Qs(),h<.5*a||2*a<h||1E-5>h)&&(this.n=0);0===this.n&&(k=f[0],k.X=0,k.aa=0,l=c.Id(0),m=d.Id(0),Xb(b,l,k.je),Xb(e,m,k.gg),x(k.gg,k.je,k.M),this.n=k.B=1)};qc.prototype.ReadCache=qc.prototype.Aw;
qc.prototype.jx=function(a){a.Qr=this.Qs();a.count=this.n;for(var c=this.Z,b=0;b<this.n;++b)a.X[b]=c[b].X,a.aa[b]=c[b].aa};qc.prototype.WriteCache=qc.prototype.jx;qc.prototype.gw=function(a){switch(this.n){case 1:return a.e(this.eb.M).Pa();case 2:var c=x(this.Fb.M,this.eb.M,a);return 0<w(c,u.e(this.eb.M).Pa())?ob(1,c,a):lb(c,1,a);default:return a.ba()}};qc.prototype.GetSearchDirection=qc.prototype.gw;
qc.prototype.Wv=function(a){switch(this.n){case 0:return a.ba();case 1:return a.e(this.eb.M);case 2:return a.h(this.eb.B*this.eb.M.x+this.Fb.B*this.Fb.M.x,this.eb.B*this.eb.M.y+this.Fb.B*this.Fb.M.y);case 3:return a.ba();default:return a.ba()}};qc.prototype.GetClosestPoint=qc.prototype.Wv;
qc.prototype.jw=function(a,c){switch(this.n){case 1:a.e(this.eb.je);c.e(this.eb.gg);break;case 2:a.x=this.eb.B*this.eb.je.x+this.Fb.B*this.Fb.je.x;a.y=this.eb.B*this.eb.je.y+this.Fb.B*this.Fb.je.y;c.x=this.eb.B*this.eb.gg.x+this.Fb.B*this.Fb.gg.x;c.y=this.eb.B*this.eb.gg.y+this.Fb.B*this.Fb.gg.y;break;case 3:c.x=a.x=this.eb.B*this.eb.je.x+this.Fb.B*this.Fb.je.x+this.he.B*this.he.je.x,c.y=a.y=this.eb.B*this.eb.je.y+this.Fb.B*this.Fb.je.y+this.he.B*this.he.je.y}};qc.prototype.GetWitnessPoints=qc.prototype.jw;
qc.prototype.Qs=function(){switch(this.n){case 0:return 0;case 1:return 0;case 2:return xb(this.eb.M,this.Fb.M);case 3:return w(x(this.Fb.M,this.eb.M,u),x(this.he.M,this.eb.M,db));default:return 0}};qc.prototype.GetMetric=qc.prototype.Qs;qc.prototype.Yw=function(){var a=this.eb.M,c=this.Fb.M,b=x(c,a,rc),a=-v(a,b);0>=a?this.n=this.eb.B=1:(c=v(c,b),0>=c?(this.n=this.Fb.B=1,this.eb.e(this.Fb)):(b=1/(c+a),this.eb.B=c*b,this.Fb.B=a*b,this.n=2))};qc.prototype.Solve2=qc.prototype.Yw;
qc.prototype.Zw=function(){var a=this.eb.M,c=this.Fb.M,b=this.he.M,d=x(c,a,rc),e=v(c,d),f=-v(a,d),h=x(b,a,sc),k=v(b,h),l=-v(a,h),m=x(b,c,tc),n=v(b,m),m=-v(c,m),h=w(d,h),d=h*w(c,b),b=h*w(b,a),a=h*w(a,c);0>=f&&0>=l?this.n=this.eb.B=1:0<e&&0<f&&0>=a?(k=1/(e+f),this.eb.B=e*k,this.Fb.B=f*k,this.n=2):0<k&&0<l&&0>=b?(e=1/(k+l),this.eb.B=k*e,this.he.B=l*e,this.n=2,this.Fb.e(this.he)):0>=e&&0>=m?(this.n=this.Fb.B=1,this.eb.e(this.Fb)):0>=k&&0>=n?(this.n=this.he.B=1,this.eb.e(this.he)):0<n&&0<m&&0>=d?(e=1/
(n+m),this.Fb.B=n*e,this.he.B=m*e,this.n=2,this.eb.e(this.he)):(e=1/(d+b+a),this.eb.B=d*e,this.Fb.B=b*e,this.he.B=a*e,this.n=3)};qc.prototype.Solve3=qc.prototype.Zw;var rc=new r,sc=new r,tc=new r;
function uc(a,c,b){++lc;var d=b.hd,e=b.Ed,f=b.lm,h=b.mm,k=xb.MC;k.Aw(c,d,f,e,h);for(var l=k.Z,m=xb.KC,n=xb.LC,t=0,z=0;20>z;){for(var t=k.n,B=0;B<t;++B)m[B]=l[B].X,n[B]=l[B].aa;switch(k.n){case 2:k.Yw();break;case 3:k.Zw()}if(3===k.n)break;var O=k.Wv(xb.Ri),B=k.gw(xb.sd);if(B.ef()<ea)break;O=l[k.n];O.X=d.Ok(Ub(f.ha,u.e(B).Pa(),xb.SC));Xb(f,d.Id(O.X),O.je);O.aa=e.Ok(Ub(h.ha,B,xb.TC));Xb(h,e.Id(O.aa),O.gg);x(O.gg,O.je,O.M);++z;++mc;for(var ia=!1,B=0;B<t;++B)if(O.X===m[B]&&O.aa===n[B]){ia=!0;break}if(ia)break;
++k.n}nc=Ja(nc,z);k.jw(a.Ni,a.Oi);a.Bf=xb(a.Ni,a.Oi);a.Fq=z;k.jx(c);b.Dn&&(c=d.N,e=e.N,a.Bf>c+e&&1E-5<a.Bf?(a.Bf-=c+e,b=x(a.Oi,a.Ni,xb.Qi),b.ic(),a.Ni.wa(c,b),a.Oi.mb(e,b)):(O=vb(a.Ni,a.Oi,xb.Ri),a.Ni.e(O),a.Oi.e(O),a.Bf=0))}p("box2d.b2ShapeDistance",uc);xb.MC=new qc;xb.KC=ta(3);xb.LC=ta(3);xb.Ri=new r;xb.sd=new r;xb.Qi=new r;xb.SC=new r;xb.TC=new r;var vc={OE:0,pE:1};p("box2d.b2ContactFeatureType",vc);vc.e_vertex=0;vc.e_face=1;function wc(a){this.oi=a}p("box2d.b2ContactFeature",wc);wc.prototype.oi=null;wc.prototype._id=wc.prototype.oi;wc.prototype.so=0;wc.prototype._indexA=wc.prototype.so;wc.prototype.to=0;wc.prototype._indexB=wc.prototype.to;wc.prototype.uo=0;wc.prototype._typeA=wc.prototype.uo;wc.prototype.vo=0;wc.prototype._typeB=wc.prototype.vo;
Object.defineProperty(wc.prototype,"indexA",{enumerable:!1,configurable:!0,get:function(){return this.so},set:function(a){this.so=a;this.oi.Fg=this.oi.Fg&4294967040|this.so&255}});Object.defineProperty(wc.prototype,"indexB",{enumerable:!1,configurable:!0,get:function(){return this.to},set:function(a){this.to=a;this.oi.Fg=this.oi.Fg&4294902015|this.to<<8&65280}});
Object.defineProperty(wc.prototype,"typeA",{enumerable:!1,configurable:!0,get:function(){return this.uo},set:function(a){this.uo=a;this.oi.Fg=this.oi.Fg&4278255615|this.uo<<16&16711680}});Object.defineProperty(wc.prototype,"typeB",{enumerable:!1,configurable:!0,get:function(){return this.vo},set:function(a){this.vo=a;this.oi.Fg=this.oi.Fg&16777215|this.vo<<24&4278190080}});function xc(){this.ib=new wc(this)}p("box2d.b2ContactID",xc);xc.prototype.ib=null;xc.prototype.cf=xc.prototype.ib;
xc.prototype.key=0;xc.prototype.key=xc.prototype.key;xc.prototype.e=function(a){this.key=a.key;return this};xc.prototype.Copy=xc.prototype.e;xc.prototype.za=function(){return(new xc).e(this)};xc.prototype.Clone=xc.prototype.za;Object.defineProperty(xc.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.Fg},set:function(a){this.Fg=a;this.ib.so=this.Fg&255;this.ib.to=this.Fg>>8&255;this.ib.uo=this.Fg>>16&255;this.ib.vo=this.Fg>>24&255}});
function yc(){this.nb=new r;this.id=new xc}p("box2d.b2ManifoldPoint",yc);yc.prototype.nb=null;yc.prototype.localPoint=yc.prototype.nb;yc.prototype.gc=0;yc.prototype.normalImpulse=yc.prototype.gc;yc.prototype.Hd=0;yc.prototype.tangentImpulse=yc.prototype.Hd;yc.prototype.id=null;yc.prototype.id=yc.prototype.id;function zc(a){return sa(a,function(){return new yc})}yc.MakeArray=zc;yc.prototype.ub=function(){this.nb.ba();this.Hd=this.gc=0;this.id.key=0};yc.prototype.Reset=yc.prototype.ub;
yc.prototype.e=function(a){this.nb.e(a.nb);this.gc=a.gc;this.Hd=a.Hd;this.id.e(a.id);return this};yc.prototype.Copy=yc.prototype.e;var Ac={wq:-1,fE:0,dB:1,eB:2};p("box2d.b2ManifoldType",Ac);Ac.e_unknown=-1;Ac.e_circles=0;Ac.e_faceA=1;Ac.e_faceB=2;function Bc(){this.Oa=zc(2);this.md=new r;this.nb=new r;this.type=-1;this.Wa=0}p("box2d.b2Manifold",Bc);Bc.prototype.Oa=null;Bc.prototype.points=Bc.prototype.Oa;Bc.prototype.md=null;Bc.prototype.localNormal=Bc.prototype.md;Bc.prototype.nb=null;
Bc.prototype.localPoint=Bc.prototype.nb;Bc.prototype.type=-1;Bc.prototype.type=Bc.prototype.type;Bc.prototype.Wa=0;Bc.prototype.pointCount=Bc.prototype.Wa;Bc.prototype.ub=function(){for(var a=0;2>a;++a)this.Oa[a].ub();this.md.ba();this.nb.ba();this.type=-1;this.Wa=0};Bc.prototype.Reset=Bc.prototype.ub;Bc.prototype.e=function(a){this.Wa=a.Wa;for(var c=0;2>c;++c)this.Oa[c].e(a.Oa[c]);this.md.e(a.md);this.nb.e(a.nb);this.type=a.type;return this};Bc.prototype.Copy=Bc.prototype.e;Bc.prototype.za=function(){return(new Bc).e(this)};
Bc.prototype.Clone=Bc.prototype.za;function Cc(){this.V=new r;this.Oa=gb(2);this.wn=ta(2)}p("box2d.b2WorldManifold",Cc);Cc.prototype.V=null;Cc.prototype.normal=Cc.prototype.V;Cc.prototype.Oa=null;Cc.prototype.points=Cc.prototype.Oa;Cc.prototype.wn=null;Cc.prototype.separations=Cc.prototype.wn;
Cc.prototype.U=function(a,c,b,d,e){if(0!==a.Wa)switch(a.type){case 0:this.V.h(1,0);c=Xb(c,a.nb,Cc.prototype.U.Wg);a=Xb(d,a.Oa[0].nb,Cc.prototype.U.Xg);yb(c,a)>ea&&x(a,c,this.V).jg();var f=sb(c,b,this.V,Cc.prototype.U.Zu),h=tb(a,e,this.V,Cc.prototype.U.$u);vb(f,h,this.Oa[0]);this.wn[0]=v(x(h,f,u),this.V);break;case 1:y(c.ha,a.md,this.V);for(var k=Xb(c,a.nb,Cc.prototype.U.un),l=0,m=a.Wa;l<m;++l){var n=Xb(d,a.Oa[l].nb,Cc.prototype.U.Wr),f=b-v(x(n,k,u),this.V),f=sb(n,f,this.V,Cc.prototype.U.Zu),h=tb(n,
e,this.V,Cc.prototype.U.$u);vb(f,h,this.Oa[l]);this.wn[l]=v(x(h,f,u),this.V)}break;case 2:y(d.ha,a.md,this.V);k=Xb(d,a.nb,Cc.prototype.U.un);l=0;for(m=a.Wa;l<m;++l)n=Xb(c,a.Oa[l].nb,Cc.prototype.U.Wr),f=e-v(x(n,k,u),this.V),h=sb(n,f,this.V,Cc.prototype.U.$u),f=tb(n,b,this.V,Cc.prototype.U.Zu),vb(f,h,this.Oa[l]),this.wn[l]=v(x(f,h,u),this.V);this.V.Pa()}};Cc.prototype.Initialize=Cc.prototype.U;g=Cc.prototype;g.U.Wg=new r;g.U.Xg=new r;g.U.Zu=new r;g.U.$u=new r;g.U.un=new r;g.U.Wr=new r;
var Dc={AD:0,qD:1,GD:2,JD:3};p("box2d.b2PointState",Dc);Dc["b2_nullState   "]=0;Dc["b2_addState    "]=1;Dc.b2_persistState=2;Dc["b2_removeState "]=3;function Ec(a,c,b,d){for(var e=0,f=b.Wa;e<f;++e){var h=b.Oa[e].id,h=h.key;a[e]=3;for(var k=0,l=d.Wa;k<l;++k)if(d.Oa[k].id.key===h){a[e]=2;break}}for(f=2;e<f;++e)a[e]=0;e=0;for(f=d.Wa;e<f;++e)for(h=d.Oa[e].id,h=h.key,c[e]=1,k=0,l=b.Wa;k<l;++k)if(b.Oa[k].id.key===h){c[e]=2;break}for(f=2;e<f;++e)c[e]=0}p("box2d.b2GetPointStates",Ec);
function Fc(){this.oa=new r;this.id=new xc}p("box2d.b2ClipVertex",Fc);Fc.prototype.oa=null;Fc.prototype.v=Fc.prototype.oa;Fc.prototype.id=null;Fc.prototype.id=Fc.prototype.id;function Gc(a){return sa(a,function(){return new Fc})}Fc.MakeArray=Gc;Fc.prototype.e=function(a){this.oa.e(a.oa);this.id.e(a.id);return this};Fc.prototype.Copy=Fc.prototype.e;function Hc(){this.rd=new r;this.ve=new r;this.Lf=1}p("box2d.b2RayCastInput",Hc);Hc.prototype.rd=null;Hc.prototype.p1=Hc.prototype.rd;Hc.prototype.ve=null;
Hc.prototype.p2=Hc.prototype.ve;Hc.prototype.Lf=1;Hc.prototype.maxFraction=Hc.prototype.Lf;Hc.prototype.e=function(a){this.rd.e(a.rd);this.ve.e(a.ve);this.Lf=a.Lf;return this};Hc.prototype.Copy=Hc.prototype.e;function Ic(){this.V=new r;this.ce=0}p("box2d.b2RayCastOutput",Ic);Ic.prototype.V=null;Ic.prototype.normal=Ic.prototype.V;Ic.prototype.ce=0;Ic.prototype.fraction=Ic.prototype.ce;Ic.prototype.e=function(a){this.V.e(a.V);this.ce=a.ce;return this};Ic.prototype.Copy=Ic.prototype.e;
function Jc(){this.lowerBound=new r;this.upperBound=new r;this.Bu=new r;this.Cu=new r}p("box2d.b2AABB",Jc);Jc.prototype.lowerBound=null;Jc.prototype.lowerBound=Jc.prototype.lowerBound;Jc.prototype.upperBound=null;Jc.prototype.upperBound=Jc.prototype.upperBound;Jc.prototype.Bu=null;Jc.prototype.m_out_center=Jc.prototype.Bu;Jc.prototype.Cu=null;Jc.prototype.m_out_extent=Jc.prototype.Cu;Jc.prototype.za=function(){return(new Jc).e(this)};Jc.prototype.Clone=Jc.prototype.za;
Jc.prototype.e=function(a){this.lowerBound.e(a.lowerBound);this.upperBound.e(a.upperBound);return this};Jc.prototype.Copy=Jc.prototype.e;Jc.prototype.$n=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.$n()&&this.upperBound.$n()};Jc.prototype.IsValid=Jc.prototype.$n;Jc.prototype.Zi=function(){return vb(this.lowerBound,this.upperBound,this.Bu)};Jc.prototype.GetCenter=Jc.prototype.Zi;
Jc.prototype.Yv=function(){return wb(this.lowerBound,this.upperBound,this.Cu)};Jc.prototype.GetExtents=Jc.prototype.Yv;Jc.prototype.Fh=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))};Jc.prototype.GetPerimeter=Jc.prototype.Fh;
Jc.prototype.Ev=function(a){this.lowerBound.x=Ia(this.lowerBound.x,a.lowerBound.x);this.lowerBound.y=Ia(this.lowerBound.y,a.lowerBound.y);this.upperBound.x=Ja(this.upperBound.x,a.upperBound.x);this.upperBound.y=Ja(this.upperBound.y,a.upperBound.y);return this};Jc.prototype.Combine1=Jc.prototype.Ev;
Jc.prototype.ke=function(a,c){this.lowerBound.x=Ia(a.lowerBound.x,c.lowerBound.x);this.lowerBound.y=Ia(a.lowerBound.y,c.lowerBound.y);this.upperBound.x=Ja(a.upperBound.x,c.upperBound.x);this.upperBound.y=Ja(a.upperBound.y,c.upperBound.y);return this};Jc.prototype.Combine2=Jc.prototype.ke;Jc.Combine=function(a,c,b){b.ke(a,c);return b};
Jc.prototype.Jv=function(a){var c;return c=(c=(c=(c=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};Jc.prototype.Contains=Jc.prototype.Jv;
Jc.prototype.Aa=function(a,c){var b=-1E37,d=1E37,e=c.rd.x,f=c.rd.y,h=c.ve.x-c.rd.x,k=c.ve.y-c.rd.y,l=ra(h),m=ra(k),n=a.V;if(1E-5>l){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(l=1/h,h=(this.lowerBound.x-e)*l,e=(this.upperBound.x-e)*l,l=-1,h>e&&(l=h,h=e,e=l,l=1),h>b&&(n.x=l,n.y=0,b=h),d=Ia(d,e),b>d)return!1;if(1E-5>m){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else if(l=1/k,h=(this.lowerBound.y-f)*l,e=(this.upperBound.y-f)*l,l=-1,h>e&&(l=h,h=e,e=l,l=1),h>b&&(n.x=0,n.y=l,
b=h),d=Ia(d,e),b>d)return!1;if(0>b||c.Lf<b)return!1;a.ce=b;return!0};Jc.prototype.RayCast=Jc.prototype.Aa;Jc.prototype.qo=function(a){var c=a.lowerBound.y-this.upperBound.y,b=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<c||0<this.lowerBound.x-a.upperBound.x||0<b?!1:!0};Jc.prototype.TestOverlap=Jc.prototype.qo;
function Kc(a,c){var b=c.lowerBound.y-a.upperBound.y,d=a.lowerBound.y-c.upperBound.y;return 0<c.lowerBound.x-a.upperBound.x||0<b||0<a.lowerBound.x-c.upperBound.x||0<d?!1:!0}p("box2d.b2TestOverlapAABB",Kc);function Mc(a,c,b,d,e){var f=0,h=c[0];c=c[1];var k=v(b,h.oa)-d;b=v(b,c.oa)-d;0>=k&&a[f++].e(h);0>=b&&a[f++].e(c);0>k*b&&(b=k/(k-b),d=a[f].oa,d.x=h.oa.x+b*(c.oa.x-h.oa.x),d.y=h.oa.y+b*(c.oa.y-h.oa.y),a=a[f].id,a.ib.X=e,a.ib.aa=h.id.ib.aa,a.ib.Yg=0,a.ib.gi=1,++f);return f}
p("box2d.b2ClipSegmentToLine",Mc);function Oc(a,c,b,d,e,f){var h=Oc.up.ub();h.hd.Lh(a,c);h.Ed.Lh(b,d);h.lm.e(e);h.mm.e(f);h.Dn=!0;a=Oc.NC.ub();a.count=0;c=Oc.vp.ub();uc(c,a,h);return 1E-4>c.Bf}p("box2d.b2TestOverlapShape",Oc);Oc.up=new jc;Oc.NC=new ic;Oc.vp=new kc;function Pc(a,c,b,d,e){a.Wa=0;b=Xb(b,c.La,Pc.hv);e=Xb(e,d.La,Pc.iv);var f=c.N+d.N;yb(b,e)>f*f||(a.type=0,a.nb.e(c.La),a.md.ba(),a.Wa=1,a.Oa[0].nb.e(d.La),a.Oa[0].id.key=0)}p("box2d.b2CollideCircles",Pc);Pc.hv=new r;Pc.iv=new r;
function Qc(a,c,b,d,e){a.Wa=0;e=Xb(e,d.La,Qc.JB);b=Yb(b,e,Qc.KB);var f=0,h=-1E37;e=c.N+d.N;var k=c.n,l=c.Z;c=c.mc;for(var m=0;m<k;++m){var n=v(c[m],x(b,l[m],u));if(n>e)return;n>h&&(h=n,f=m)}m=f;n=l[m];k=l[(m+1)%k];1E-5>h?(a.Wa=1,a.type=1,a.md.e(c[f]),vb(n,k,a.nb),a.Oa[0].nb.e(d.La),a.Oa[0].id.key=0):(h=v(x(b,n,u),x(k,n,db)),f=v(x(b,k,u),x(n,k,db)),0>=h?yb(b,n)>e*e||(a.Wa=1,a.type=1,x(b,n,a.md).jg(),a.nb.e(n),a.Oa[0].nb.e(d.La),a.Oa[0].id.key=0):0>=f?yb(b,k)>e*e||(a.Wa=1,a.type=1,x(b,k,a.md).jg(),
a.nb.e(k),a.Oa[0].nb.e(d.La),a.Oa[0].id.key=0):(f=vb(n,k,Qc.gC),h=v(x(b,f,db),c[m]),h>e||(a.Wa=1,a.type=1,a.md.e(c[m]).jg(),a.nb.e(f),a.Oa[0].nb.e(d.La),a.Oa[0].id.key=0)))}p("box2d.b2CollidePolygonAndCircle",Qc);Qc.JB=new r;Qc.KB=new r;Qc.gC=new r;function Rc(a,c,b,d,e){a.Wa=0;b=Yb(b,Xb(e,d.La,u),Rc.AB);var f=c.Kc,h=c.Qc,k=x(h,f,Rc.rp),l=v(k,x(h,b,u)),m=v(k,x(b,f,u)),n=c.N+d.N;e=Rc.jC;e.ib.aa=0;e.ib.gi=0;if(0>=m){var t=f,l=x(b,t,Rc.sd),l=v(l,l);if(!(l>n*n)){if(c.Ue&&(c=x(f,c.Ge,Rc.sp),0<v(c,x(f,b,u))))return;e.ib.X=0;e.ib.Yg=0;a.Wa=1;a.type=0;a.md.ba();a.nb.e(t);a.Oa[0].id.e(e);a.Oa[0].nb.e(d.La)}}else if(0>=l){if(t=h,l=x(b,t,Rc.sd),l=v(l,l),!(l>n*n)){if(c.Ve&&(f=x(c.He,h,Rc.tp),0<v(f,x(b,h,u))))return;e.ib.X=1;e.ib.Yg=0;a.Wa=1;a.type=0;a.md.ba();
a.nb.e(t);a.Oa[0].id.e(e);a.Oa[0].nb.e(d.La)}}else c=v(k,k),t=Rc.tb,t.x=1/c*(l*f.x+m*h.x),t.y=1/c*(l*f.y+m*h.y),l=x(b,t,Rc.sd),l=v(l,l),l>n*n||(t=Rc.ev.h(-k.y,k.x),0>v(t,x(b,f,u))&&t.h(-t.x,-t.y),t.ic(),e.ib.X=0,e.ib.Yg=1,a.Wa=1,a.type=1,a.md.e(t),a.nb.e(f),a.Oa[0].id.e(e),a.Oa[0].nb.e(d.La))}p("box2d.b2CollideEdgeAndCircle",Rc);Rc.AB=new r;Rc.rp=new r;Rc.sd=new r;Rc.sp=new r;Rc.tp=new r;Rc.tb=new r;Rc.ev=new r;Rc.jC=new xc;var Sc={wq:0,lE:1,mE:2};p("box2d.b2EPAxisType",Sc);Sc.e_unknown=0;
Sc.e_edgeA=1;Sc.e_edgeB=2;function Tc(){}p("box2d.b2EPAxis",Tc);Tc.prototype.type=0;Tc.prototype.type=Tc.prototype.type;Tc.prototype.index=0;Tc.prototype.index=Tc.prototype.index;Tc.prototype.Vd=0;Tc.prototype.separation=Tc.prototype.Vd;function Uc(){this.fg=gb(8);this.am=gb(8);this.count=0}p("box2d.b2TempPolygon",Uc);Uc.prototype.fg=null;Uc.prototype.vertices=Uc.prototype.fg;Uc.prototype.am=null;Uc.prototype.normals=Uc.prototype.am;Uc.prototype.count=0;Uc.prototype.count=Uc.prototype.count;
function Vc(){this.dl=this.Mh=0;this.Bk=new r;this.En=new r;this.V=new r;this.xn=new r;this.Xr=0;this.Ep=new r;this.Yr=0}p("box2d.b2ReferenceFace",Vc);Vc.prototype.Mh=0;Vc.prototype.i1=Vc.prototype.Mh;Vc.prototype.dl=0;Vc.prototype.i2=Vc.prototype.dl;Vc.prototype.Bk=null;Vc.prototype.v1=Vc.prototype.Bk;Vc.prototype.En=null;Vc.prototype.v2=Vc.prototype.En;Vc.prototype.V=null;Vc.prototype.normal=Vc.prototype.V;Vc.prototype.xn=null;Vc.prototype.sideNormal1=Vc.prototype.xn;Vc.prototype.Xr=0;
Vc.prototype.sideOffset1=Vc.prototype.Xr;Vc.prototype.Ep=null;Vc.prototype.sideNormal2=Vc.prototype.Ep;Vc.prototype.Yr=0;Vc.prototype.sideOffset2=Vc.prototype.Yr;var Wc={uE:0,hE:1,jE:2};p("box2d.b2EPColliderVertexType",Wc);Wc.e_isolated=0;Wc.e_concave=1;Wc.e_convex=2;
function Zc(){this.$b=new Uc;this.Ma=new Vb;this.Mm=new r;this.cp=new r;this.eb=new r;this.Fb=new r;this.he=new r;this.Di=new r;this.vb=new r;this.Ei=new r;this.Mb=new r;this.Px=this.Ox=0;this.fe=new r;this.Fe=new r;this.N=0;this.sc=!1}p("box2d.b2EPCollider",Zc);Zc.prototype.$b=null;Zc.prototype.m_polygonB=Zc.prototype.$b;Zc.prototype.Ma=null;Zc.prototype.m_xf=Zc.prototype.Ma;Zc.prototype.Mm=null;Zc.prototype.m_centroidB=Zc.prototype.Mm;Zc.prototype.cp=null;Zc.prototype.m_v0=Zc.prototype.cp;
Zc.prototype.eb=null;Zc.prototype.m_v1=Zc.prototype.eb;Zc.prototype.Fb=null;Zc.prototype.m_v2=Zc.prototype.Fb;Zc.prototype.he=null;Zc.prototype.m_v3=Zc.prototype.he;Zc.prototype.Di=null;Zc.prototype.m_normal0=Zc.prototype.Di;Zc.prototype.vb=null;Zc.prototype.m_normal1=Zc.prototype.vb;Zc.prototype.Ei=null;Zc.prototype.m_normal2=Zc.prototype.Ei;Zc.prototype.Mb=null;Zc.prototype.m_normal=Zc.prototype.Mb;Zc.prototype.Ox=0;Zc.prototype.m_type1=Zc.prototype.Ox;Zc.prototype.Px=0;Zc.prototype.m_type2=Zc.prototype.Px;
Zc.prototype.fe=null;Zc.prototype.m_lowerLimit=Zc.prototype.fe;Zc.prototype.Fe=null;Zc.prototype.m_upperLimit=Zc.prototype.Fe;Zc.prototype.N=0;Zc.prototype.m_radius=Zc.prototype.N;Zc.prototype.sc=!1;Zc.prototype.m_front=Zc.prototype.sc;
Zc.prototype.Gn=function(a,c,b,d,e){$b(b,e,this.Ma);Xb(this.Ma,d.ck,this.Mm);this.cp.e(c.Ge);this.eb.e(c.Kc);this.Fb.e(c.Qc);this.he.e(c.He);b=c.Ue;c=c.Ve;e=x(this.Fb,this.eb,$c);e.ic();this.vb.h(e.y,-e.x);var f=v(this.vb,x(this.Mm,this.eb,u)),h=0,k=0,l=!1,m=!1;b&&(h=x(this.eb,this.cp,ad),h.ic(),this.Di.h(h.y,-h.x),l=0<=w(h,e),h=v(this.Di,x(this.Mm,this.cp,u)));c&&(k=x(this.he,this.Fb,bd),k.ic(),this.Ei.h(k.y,-k.x),m=0<w(e,k),k=v(this.Ei,x(this.Mm,this.Fb,u)));b&&c?l&&m?(this.sc=0<=h||0<=f||0<=k)?
(this.Mb.e(this.vb),this.fe.e(this.Di),this.Fe.e(this.Ei)):(this.Mb.e(this.vb).Pa(),this.fe.e(this.vb).Pa(),this.Fe.e(this.vb).Pa()):l?(this.sc=0<=h||0<=f&&0<=k)?(this.Mb.e(this.vb),this.fe.e(this.Di),this.Fe.e(this.vb)):(this.Mb.e(this.vb).Pa(),this.fe.e(this.Ei).Pa(),this.Fe.e(this.vb).Pa()):m?(this.sc=0<=k||0<=h&&0<=f)?(this.Mb.e(this.vb),this.fe.e(this.vb),this.Fe.e(this.Ei)):(this.Mb.e(this.vb).Pa(),this.fe.e(this.vb).Pa(),this.Fe.e(this.Di).Pa()):(this.sc=0<=h&&0<=f&&0<=k)?(this.Mb.e(this.vb),
this.fe.e(this.vb),this.Fe.e(this.vb)):(this.Mb.e(this.vb).Pa(),this.fe.e(this.Ei).Pa(),this.Fe.e(this.Di).Pa()):b?l?((this.sc=0<=h||0<=f)?(this.Mb.e(this.vb),this.fe.e(this.Di)):(this.Mb.e(this.vb).Pa(),this.fe.e(this.vb)),this.Fe.e(this.vb).Pa()):(this.sc=0<=h&&0<=f)?(this.Mb.e(this.vb),this.fe.e(this.vb),this.Fe.e(this.vb).Pa()):(this.Mb.e(this.vb).Pa(),this.fe.e(this.vb),this.Fe.e(this.Di).Pa()):c?m?(this.sc=0<=f||0<=k)?(this.Mb.e(this.vb),this.fe.e(this.vb).Pa(),this.Fe.e(this.Ei)):(this.Mb.e(this.vb).Pa(),
this.fe.e(this.vb).Pa(),this.Fe.e(this.vb)):((this.sc=0<=f&&0<=k)?(this.Mb.e(this.vb),this.fe.e(this.vb).Pa()):(this.Mb.e(this.vb).Pa(),this.fe.e(this.Ei).Pa()),this.Fe.e(this.vb)):(this.sc=0<=f)?(this.Mb.e(this.vb),this.fe.e(this.vb).Pa(),this.Fe.e(this.vb).Pa()):(this.Mb.e(this.vb).Pa(),this.fe.e(this.vb),this.Fe.e(this.vb));this.$b.count=d.n;f=0;for(h=d.n;f<h;++f)Xb(this.Ma,d.Z[f],this.$b.fg[f]),y(this.Ma.ha,d.mc[f],this.$b.am[f]);this.N=.032;a.Wa=0;b=this.Gv(cd);if(!(0===b.type||b.Vd>this.N||
(c=this.Hv(dd),0!==c.type&&c.Vd>this.N))){b=0===c.type?b:c.Vd>.98*b.Vd+.001?c:b;e=ed;c=fd;if(1===b.type){a.type=1;k=0;l=v(this.Mb,this.$b.am[0]);f=1;for(h=this.$b.count;f<h;++f)m=v(this.Mb,this.$b.am[f]),m<l&&(l=m,k=f);h=k;f=(h+1)%this.$b.count;k=e[0];k.oa.e(this.$b.fg[h]);k.id.ib.X=0;k.id.ib.aa=h;k.id.ib.Yg=1;k.id.ib.gi=0;h=e[1];h.oa.e(this.$b.fg[f]);h.id.ib.X=0;h.id.ib.aa=f;h.id.ib.Yg=1;h.id.ib.gi=0;this.sc?(c.Mh=0,c.dl=1,c.Bk.e(this.eb),c.En.e(this.Fb),c.V.e(this.vb)):(c.Mh=1,c.dl=0,c.Bk.e(this.Fb),
c.En.e(this.eb),c.V.e(this.vb).Pa())}else a.type=2,k=e[0],k.oa.e(this.eb),k.id.ib.X=0,k.id.ib.aa=b.index,k.id.ib.Yg=0,k.id.ib.gi=1,h=e[1],h.oa.e(this.Fb),h.id.ib.X=0,h.id.ib.aa=b.index,h.id.ib.Yg=0,h.id.ib.gi=1,c.Mh=b.index,c.dl=(c.Mh+1)%this.$b.count,c.Bk.e(this.$b.fg[c.Mh]),c.En.e(this.$b.fg[c.dl]),c.V.e(this.$b.am[c.Mh]);c.xn.h(c.V.y,-c.V.x);c.Ep.e(c.xn).Pa();c.Xr=v(c.xn,c.Bk);c.Yr=v(c.Ep,c.En);f=gd;k=hd;h=0;h=Mc(f,e,c.xn,c.Xr,c.Mh);if(!(2>h||(h=Mc(k,f,c.Ep,c.Yr,c.dl),2>h))){1===b.type?(a.md.e(c.V),
a.nb.e(c.Bk)):(a.md.e(d.mc[c.Mh]),a.nb.e(d.Z[c.Mh]));f=d=0;for(h=2;f<h;++f)v(c.V,x(k[f].oa,c.Bk,u))<=this.N&&(e=a.Oa[d],1===b.type?(Yb(this.Ma,k[f].oa,e.nb),e.id=k[f].id):(e.nb.e(k[f].oa),e.id.ib.Yg=k[f].id.ib.gi,e.id.ib.gi=k[f].id.ib.Yg,e.id.ib.X=k[f].id.ib.aa,e.id.ib.aa=k[f].id.ib.X),++d);a.Wa=d}}};Zc.prototype.Collide=Zc.prototype.Gn;var $c=new r,ad=new r,bd=new r,ed=Gc(2),fd=new Vc,gd=Gc(2),hd=Gc(2),cd=new Tc,dd=new Tc;
Zc.prototype.Gv=function(a){a.type=1;a.index=this.sc?0:1;a.Vd=1E37;for(var c=0,b=this.$b.count;c<b;++c){var d=v(this.Mb,x(this.$b.fg[c],this.eb,u));d<a.Vd&&(a.Vd=d)}return a};Zc.prototype.ComputeEdgeSeparation=Zc.prototype.Gv;
Zc.prototype.Hv=function(a){a.type=0;a.index=-1;a.Vd=-1E37;for(var c=id.h(-this.Mb.y,this.Mb.x),b=0,d=this.$b.count;b<d;++b){var e=jd.e(this.$b.am[b]).Pa(),f=v(e,x(this.$b.fg[b],this.eb,u)),h=v(e,x(this.$b.fg[b],this.Fb,u)),f=Ia(f,h);if(f>this.N){a.type=2;a.index=b;a.Vd=f;break}if(0<=v(e,c)){if(v(x(e,this.Fe,u),this.Mb)<-ga)continue}else if(v(x(e,this.fe,u),this.Mb)<-ga)continue;f>a.Vd&&(a.type=2,a.index=b,a.Vd=f)}return a};Zc.prototype.ComputePolygonSeparation=Zc.prototype.Hv;var jd=new r,id=new r;
function kd(a,c,b,d,e){kd.PB.Gn(a,c,b,d,e)}p("box2d.b2CollideEdgeAndPolygon",kd);kd.PB=new Zc;function ld(a,c,b,d,e){var f=c.n,h=d.n,k=c.mc;c=c.Z;d=d.Z;b=$b(e,b,ld.pv);e=0;for(var l=-1E37,m=0;m<f;++m){for(var n=y(b.ha,k[m],ld.ev),t=Xb(b,c[m],ld.Ak),z=1E37,B=0;B<h;++B){var O=v(n,x(d[B],t,u));O<z&&(z=O)}z>l&&(l=z,e=m)}a[0]=e;return l}p("box2d.b2FindMaxSeparation",ld);ld.pv=new Vb;ld.ev=new r;ld.Ak=new r;
function md(a,c,b,d,e,f){var h=e.n,k=e.Z;e=e.mc;c=Ub(f.ha,y(b.ha,c.mc[d],u),md.xC);b=0;for(var l=1E37,m=0;m<h;++m){var n=v(c,e[m]);n<l&&(l=n,b=m)}e=b;h=(e+1)%h;c=a[0];Xb(f,k[e],c.oa);c=c.id.ib;c.X=d;c.aa=e;c.Yg=1;c.gi=0;a=a[1];Xb(f,k[h],a.oa);f=a.id.ib;f.X=d;f.aa=h;f.Yg=1;f.gi=0}p("box2d.b2FindIncidentEdge",md);md.xC=new r;
function od(a,c,b,d,e){a.Wa=0;var f=c.N+d.N,h=od.cC;h[0]=0;var k=ld(h,c,b,d,e);if(!(k>f)){var l=od.dC;l[0]=0;var m=ld(l,d,e,c,b);if(!(m>f)){var n=0,t=0;m>.98*k+.001?(k=d,d=c,c=e,n=l[0],a.type=2,t=1):(k=c,c=b,b=e,n=h[0],a.type=1,t=0);h=od.mC;md(h,k,c,n,d,b);e=k.Z;var l=n,k=(n+1)%k.n,z=e[l],B=e[k],n=x(B,z,od.sC);n.ic();e=lb(n,1,od.rC);d=vb(z,B,od.un);var m=y(c.ha,n,od.WC),n=lb(m,1,od.Qi),z=Xb(c,z,od.$C),O=Xb(c,B,od.aD);c=v(n,z);var B=-v(m,z)+f,O=v(m,O)+f,ia=od.NB,z=od.OB,aa=od.AC.e(m).Pa(),h=Mc(ia,
h,aa,B,l);if(!(2>h||(h=Mc(z,ia,m,O,k),2>h))){a.md.e(e);a.nb.e(d);for(l=h=0;2>l;++l)e=z[l],v(n,e.oa)-c<=f&&(k=a.Oa[h],Yb(b,e.oa,k.nb),k.id.e(e.id),t&&(e=k.id.ib,k.id.ib.X=e.aa,k.id.ib.aa=e.X,k.id.ib.Yg=e.gi,k.id.ib.gi=e.Yg),++h);a.Wa=h}}}}p("box2d.b2CollidePolygons",od);od.mC=Gc(2);od.NB=Gc(2);od.OB=Gc(2);od.cC=ta(1);od.dC=ta(1);od.sC=new r;od.rC=new r;od.un=new r;od.Qi=new r;od.WC=new r;od.AC=new r;od.$C=new r;od.aD=new r;function pd(a){this.Ff=a||0;this.sa=new Jc}p("box2d.b2TreeNode",pd);pd.prototype.Ff=0;pd.prototype.m_id=pd.prototype.Ff;pd.prototype.sa=null;pd.prototype.aabb=pd.prototype.sa;pd.prototype.Hc=null;pd.prototype.userData=pd.prototype.Hc;pd.prototype.parent=null;pd.prototype.parent=pd.prototype.parent;pd.prototype.uc=null;pd.prototype.child1=pd.prototype.uc;pd.prototype.Nc=null;pd.prototype.child2=pd.prototype.Nc;pd.prototype.height=0;pd.prototype.height=pd.prototype.height;
pd.prototype.li=function(){return null===this.uc};pd.prototype.IsLeaf=pd.prototype.li;function qd(){}p("box2d.b2DynamicTree",qd);qd.prototype.Dd=null;qd.prototype.m_root=qd.prototype.Dd;qd.prototype.tl=null;qd.prototype.m_freeList=qd.prototype.tl;qd.prototype.nB=0;qd.prototype.m_path=qd.prototype.nB;qd.prototype.Ex=0;qd.prototype.m_insertionCount=qd.prototype.Ex;var rd=new Da(256),sd=new r,td=new r,ud=new r,vd=new Jc,wd=new Hc,xd=new Jc,yd=new Jc;qd.prototype.ec=function(a){return a.Hc};
qd.prototype.GetUserData=qd.prototype.ec;qd.prototype.$i=function(a){return a.sa};qd.prototype.GetFatAABB=qd.prototype.$i;qd.prototype.eh=function(a,c){if(null!==this.Dd){var b=rd.ub();for(b.Yd(this.Dd);0<b.Lk();){var d=b.xm();if(null!==d&&d.sa.qo(c))if(d.li()){if(!a(d))break}else b.Yd(d.uc),b.Yd(d.Nc)}}};qd.prototype.Query=qd.prototype.eh;
qd.prototype.Aa=function(a,c){if(null!==this.Dd){var b=c.rd,d=c.ve,e=x(d,b,sd);e.ic();var e=ob(1,e,td),f=hb(e,ud),h=c.Lf,k=b.x+h*(d.x-b.x),l=b.y+h*(d.y-b.y);vd.lowerBound.x=Ia(b.x,k);vd.lowerBound.y=Ia(b.y,l);vd.upperBound.x=Ja(b.x,k);vd.upperBound.y=Ja(b.y,l);var m=rd.ub();for(m.Yd(this.Dd);0<m.Lk();)if(k=m.xm(),null!==k&&Kc(k.sa,vd)){var l=k.sa.Zi(),n=k.sa.Yv();if(!(0<ra(v(e,x(b,l,u)))-v(f,n)))if(k.li()){l=wd;l.rd.e(c.rd);l.ve.e(c.ve);l.Lf=h;k=a(l,k);if(0===k)break;0<k&&(h=k,k=b.x+h*(d.x-b.x),l=
b.y+h*(d.y-b.y),vd.lowerBound.x=Ia(b.x,k),vd.lowerBound.y=Ia(b.y,l),vd.upperBound.x=Ja(b.x,k),vd.upperBound.y=Ja(b.y,l))}else m.Yd(k.uc),m.Yd(k.Nc)}}};qd.prototype.RayCast=qd.prototype.Aa;qd.prototype.js=function(){if(this.tl){var a=this.tl;this.tl=a.parent;a.parent=null;a.uc=null;a.Nc=null;a.height=0;a.Hc=null;return a}return new pd(qd.prototype.wC++)};qd.prototype.AllocateNode=qd.prototype.js;qd.prototype.wC=0;qd.prototype.Qp=function(a){a.parent=this.tl;a.height=-1;this.tl=a};
qd.prototype.FreeNode=qd.prototype.Qp;qd.prototype.ah=function(a,c){var b=this.js();b.sa.lowerBound.x=a.lowerBound.x-.1;b.sa.lowerBound.y=a.lowerBound.y-.1;b.sa.upperBound.x=a.upperBound.x+.1;b.sa.upperBound.y=a.upperBound.y+.1;b.Hc=c;b.height=0;this.et(b);return b};qd.prototype.CreateProxy=qd.prototype.ah;qd.prototype.ii=function(a){this.mt(a);this.Qp(a)};qd.prototype.DestroyProxy=qd.prototype.ii;
qd.prototype.mi=function(a,c,b){if(a.sa.Jv(c))return!1;this.mt(a);var d=.1+2*(0<b.x?b.x:-b.x);b=.1+2*(0<b.y?b.y:-b.y);a.sa.lowerBound.x=c.lowerBound.x-d;a.sa.lowerBound.y=c.lowerBound.y-b;a.sa.upperBound.x=c.upperBound.x+d;a.sa.upperBound.y=c.upperBound.y+b;this.et(a);return!0};qd.prototype.MoveProxy=qd.prototype.mi;
qd.prototype.et=function(a){++this.Ex;if(null===this.Dd)this.Dd=a,this.Dd.parent=null;else{var c=a.sa;c.Zi();for(var b=this.Dd,d,e;!b.li();){d=b.uc;e=b.Nc;var f=b.sa.Fh(),h=xd;h.ke(b.sa,c);var k=h.Fh(),h=2*k,k=2*(k-f),l=yd,m,n;d.li()?(l.ke(c,d.sa),f=l.Fh()+k):(l.ke(c,d.sa),m=d.sa.Fh(),n=l.Fh(),f=n-m+k);e.li()?(l.ke(c,e.sa),k=l.Fh()+k):(l.ke(c,e.sa),m=e.sa.Fh(),n=l.Fh(),k=n-m+k);if(h<f&&h<k)break;b=f<k?d:e}d=b.parent;e=this.js();e.parent=d;e.Hc=null;e.sa.ke(c,b.sa);e.height=b.height+1;d?(d.uc===b?
d.uc=e:d.Nc=e,e.uc=b,e.Nc=a,b.parent=e,a.parent=e):(e.uc=b,e.Nc=a,b.parent=e,this.Dd=a.parent=e);for(b=a.parent;null!==b;)b=this.ms(b),d=b.uc,e=b.Nc,b.height=1+Ja(d.height,e.height),b.sa.ke(d.sa,e.sa),b=b.parent}};qd.prototype.InsertLeaf=qd.prototype.et;
qd.prototype.mt=function(a){if(a===this.Dd)this.Dd=null;else{var c=a.parent,b=c.parent;a=c.uc===a?c.Nc:c.uc;if(b)for(b.uc===c?b.uc=a:b.Nc=a,a.parent=b,this.Qp(c),c=b;c;)c=this.ms(c),b=c.uc,a=c.Nc,c.sa.ke(b.sa,a.sa),c.height=1+Ja(b.height,a.height),c=c.parent;else this.Dd=a,a.parent=null,this.Qp(c)}};qd.prototype.RemoveLeaf=qd.prototype.mt;
qd.prototype.ms=function(a){if(a.li()||2>a.height)return a;var c=a.uc,b=a.Nc,d=b.height-c.height;if(1<d){var d=b.uc,e=b.Nc;b.uc=a;b.parent=a.parent;a.parent=b;null!==b.parent?b.parent.uc===a?b.parent.uc=b:b.parent.Nc=b:this.Dd=b;d.height>e.height?(b.Nc=d,a.Nc=e,e.parent=a,a.sa.ke(c.sa,e.sa),b.sa.ke(a.sa,d.sa),a.height=1+Ja(c.height,e.height),b.height=1+Ja(a.height,d.height)):(b.Nc=e,a.Nc=d,d.parent=a,a.sa.ke(c.sa,d.sa),b.sa.ke(a.sa,e.sa),a.height=1+Ja(c.height,d.height),b.height=1+Ja(a.height,e.height));
return b}return-1>d?(d=c.uc,e=c.Nc,c.uc=a,c.parent=a.parent,a.parent=c,null!==c.parent?c.parent.uc===a?c.parent.uc=c:c.parent.Nc=c:this.Dd=c,d.height>e.height?(c.Nc=d,a.uc=e,e.parent=a,a.sa.ke(b.sa,e.sa),c.sa.ke(a.sa,d.sa),a.height=1+Ja(b.height,e.height),c.height=1+Ja(a.height,d.height)):(c.Nc=e,a.uc=d,d.parent=a,a.sa.ke(b.sa,d.sa),c.sa.ke(a.sa,e.sa),a.height=1+Ja(b.height,d.height),c.height=1+Ja(a.height,e.height)),c):a};qd.prototype.Balance=qd.prototype.ms;
qd.prototype.Js=function(){return null===this.Dd?0:this.Dd.height};qd.prototype.GetHeight=qd.prototype.Js;qd.prototype.Vv=function(){function a(c){if(null===c||c.li())return 0;var b=c.sa.Fh(),b=b+a(c.uc);return b+=a(c.Nc)}return null===this.Dd?0:a(this.Dd)/this.Dd.sa.Fh()};qd.prototype.GetAreaRatio=qd.prototype.Vv;qd.prototype.Hp=function(a){if(a.li())return 0;var c=this.Hp(a.uc);a=this.Hp(a.Nc);return 1+Ja(c,a)};qd.prototype.ComputeHeightNode=qd.prototype.Hp;qd.prototype.hy=function(){return this.Hp(this.Dd)};
qd.prototype.ComputeHeight=qd.prototype.hy;qd.prototype.cB=function(){};qd.prototype.ValidateStructure=qd.prototype.cB;qd.prototype.gq=function(a){if(null!==a){var c=a.uc,b=a.Nc;a.li()||(Ja(c.height,b.height),yd.ke(c.sa,b.sa),this.gq(c),this.gq(b))}};qd.prototype.ValidateMetrics=qd.prototype.gq;qd.prototype.jj=function(){this.gq(this.Dd);for(var a=0,c=this.tl;null!==c;)c=c.parent,++a};qd.prototype.Validate=qd.prototype.jj;
qd.prototype.aw=function(){var a;a=this.Dd;null===a||1>=a.height?a=0:(a=ra(a.Nc.height-a.uc.height),a=Ja(0,a));return a};qd.prototype.GetMaxBalance=qd.prototype.aw;qd.prototype.iA=function(){this.jj()};qd.prototype.RebuildBottomUp=qd.prototype.iA;qd.prototype.ae=function(a){function c(a,d){if(null!==a&&!(1>=a.height)){var e=a.Nc;c(a.uc,d);c(e,d);a.sa.lowerBound.Pb(d);a.sa.upperBound.Pb(d)}}c(this.Dd,a)};qd.prototype.ShiftOrigin=qd.prototype.ae;function zd(){}p("box2d.b2Pair",zd);zd.prototype.hd=null;zd.prototype.proxyA=zd.prototype.hd;zd.prototype.Ed=null;zd.prototype.proxyB=zd.prototype.Ed;function Ad(){this.Bc=new qd;this.Ym=[];this.Ec=[]}p("box2d.b2BroadPhase",Ad);Ad.prototype.Bc=null;Ad.prototype.m_tree=Ad.prototype.Bc;Ad.prototype.tf=0;Ad.prototype.m_proxyCount=Ad.prototype.tf;Ad.prototype.Qo=0;Ad.prototype.m_moveCount=Ad.prototype.Qo;Ad.prototype.Ym=null;Ad.prototype.m_moveBuffer=Ad.prototype.Ym;Ad.prototype.Ej=0;
Ad.prototype.m_pairCount=Ad.prototype.Ej;Ad.prototype.Ec=null;Ad.prototype.m_pairBuffer=Ad.prototype.Ec;Ad.prototype.ah=function(a,c){var b=this.Bc.ah(a,c);++this.tf;this.Gp(b);return b};Ad.prototype.CreateProxy=Ad.prototype.ah;Ad.prototype.ii=function(a){this.gx(a);--this.tf;this.Bc.ii(a)};Ad.prototype.DestroyProxy=Ad.prototype.ii;Ad.prototype.mi=function(a,c,b){this.Bc.mi(a,c,b)&&this.Gp(a)};Ad.prototype.MoveProxy=Ad.prototype.mi;Ad.prototype.It=function(a){this.Gp(a)};Ad.prototype.TouchProxy=Ad.prototype.It;
Ad.prototype.$i=function(a){return this.Bc.$i(a)};Ad.prototype.GetFatAABB=Ad.prototype.$i;Ad.prototype.ec=function(a){return this.Bc.ec(a)};Ad.prototype.GetUserData=Ad.prototype.ec;Ad.prototype.qo=function(a,c){return Kc(this.Bc.$i(a),this.Bc.$i(c))};Ad.prototype.TestOverlap=Ad.prototype.qo;Ad.prototype.um=function(){return this.tf};Ad.prototype.GetProxyCount=Ad.prototype.um;Ad.prototype.wm=function(){return this.Bc.Js()};Ad.prototype.GetTreeHeight=Ad.prototype.wm;Ad.prototype.Wn=function(){return this.Bc.aw()};
Ad.prototype.GetTreeBalance=Ad.prototype.Wn;Ad.prototype.Xn=function(){return this.Bc.Vv()};Ad.prototype.GetTreeQuality=Ad.prototype.Xn;Ad.prototype.ae=function(a){this.Bc.ae(a)};Ad.prototype.ShiftOrigin=Ad.prototype.ae;
Ad.prototype.hx=function(a){for(var c=this.Ej=0;c<this.Qo;++c){var b=this.Ym[c];if(null!==b){var d=this;this.Bc.eh(function(a){if(a.Ff===b.Ff)return!0;d.Ej===d.Ec.length&&(d.Ec[d.Ej]=new zd);var c=d.Ec[d.Ej];a.Ff<b.Ff?(c.hd=a,c.Ed=b):(c.hd=b,c.Ed=a);++d.Ej;return!0},this.Bc.$i(b))}}this.Qo=0;this.Ec.length=this.Ej;this.Ec.sort(Bd);for(c=0;c<this.Ej;){var e=this.Ec[c];a.zv(this.Bc.ec(e.hd),this.Bc.ec(e.Ed));for(++c;c<this.Ej;){var f=this.Ec[c];if(f.hd.Ff!==e.hd.Ff||f.Ed.Ff!==e.Ed.Ff)break;++c}}};
Ad.prototype.UpdatePairs=Ad.prototype.hx;Ad.prototype.eh=function(a,c){this.Bc.eh(a,c)};Ad.prototype.Query=Ad.prototype.eh;Ad.prototype.Aa=function(a,c){this.Bc.Aa(a,c)};Ad.prototype.RayCast=Ad.prototype.Aa;Ad.prototype.Gp=function(a){this.Ym[this.Qo]=a;++this.Qo};Ad.prototype.BufferMove=Ad.prototype.Gp;Ad.prototype.gx=function(a){this.Ym[this.Ym.indexOf(a)]=null};Ad.prototype.UnBufferMove=Ad.prototype.gx;function Bd(a,c){return a.hd.Ff===c.hd.Ff?a.Ed.Ff-c.Ed.Ff:a.hd.Ff-c.hd.Ff};function Cd(){this.jc=new r(0,0)}p("box2d.b2MassData",Cd);Cd.prototype.qd=0;Cd.prototype.mass=Cd.prototype.qd;Cd.prototype.jc=null;Cd.prototype.center=Cd.prototype.jc;Cd.prototype.Rf=0;Cd.prototype.I=Cd.prototype.Rf;var Dd={wq:-1,eE:0,nE:1,EE:2,dE:3,LE:4};p("box2d.b2ShapeType",Dd);Dd.e_unknown=-1;Dd.e_circleShape=0;Dd.e_edgeShape=1;Dd.e_polygonShape=2;Dd.e_chainShape=3;Dd.e_shapeTypeCount=4;function Ed(a,c){this.cb=a;this.N=c}p("box2d.b2Shape",Ed);Ed.prototype.cb=-1;Ed.prototype.m_type=Ed.prototype.cb;
Ed.prototype.N=0;Ed.prototype.m_radius=Ed.prototype.N;Ed.prototype.za=function(){return null};Ed.prototype.Clone=Ed.prototype.za;Ed.prototype.e=function(a){this.N=a.N;return this};Ed.prototype.Copy=Ed.prototype.e;Ed.prototype.Ic=function(){return this.cb};Ed.prototype.GetType=Ed.prototype.Ic;Ed.prototype.xf=function(){return 0};Ed.prototype.GetChildCount=Ed.prototype.xf;Ed.prototype.Uc=function(){return!1};Ed.prototype.TestPoint=Ed.prototype.Uc;Ed.prototype.ac=function(){return 0};
Ed.prototype.ComputeDistance=Ed.prototype.ac;Ed.prototype.Aa=function(){return!1};Ed.prototype.RayCast=Ed.prototype.Aa;Ed.prototype.Tb=function(){};Ed.prototype.ComputeAABB=Ed.prototype.Tb;Ed.prototype.Wd=function(){};Ed.prototype.ComputeMass=Ed.prototype.Wd;Ed.prototype.no=function(){};Ed.prototype.Rd=function(){return 0};Ed.prototype.ComputeSubmergedArea=Ed.prototype.Rd;Ed.prototype.Nb=function(){};Ed.prototype.Dump=Ed.prototype.Nb;function A(a){Ed.call(this,0,a||0);this.La=new r}q(A,Ed);p("box2d.b2CircleShape",A);A.prototype.La=null;A.prototype.m_p=A.prototype.La;A.prototype.za=function(){return(new A).e(this)};A.prototype.Clone=A.prototype.za;A.prototype.e=function(a){Ed.prototype.e.call(this,a);this.La.e(a.La);return this};A.prototype.Copy=A.prototype.e;A.prototype.xf=function(){return 1};A.prototype.GetChildCount=A.prototype.xf;
A.prototype.Uc=function(a,c){var b=Xb(a,this.La,A.prototype.Uc.fm),b=x(c,b,A.prototype.Uc.sd);return v(b,b)<=Ma(this.N)};A.prototype.TestPoint=A.prototype.Uc;A.prototype.Uc.fm=new r;A.prototype.Uc.sd=new r;A.prototype.ac=function(a,c,b){a=Xb(a,this.La,A.prototype.ac.fm);x(c,a,b);return b.ic()-this.N};A.prototype.ComputeDistance=A.prototype.ac;A.prototype.ac.fm=new r;
A.prototype.Aa=function(a,c,b){b=Xb(b,this.La,A.prototype.Aa.FC);b=x(c.rd,b,A.prototype.Aa.zp);var d=v(b,b)-Ma(this.N),e=x(c.ve,c.rd,A.prototype.Aa.yp),f=v(b,e),h=v(e,e),d=f*f-h*d;if(0>d||1E-5>h)return!1;f=-(f+Qa(d));return 0<=f&&f<=c.Lf*h?(f/=h,a.ce=f,sb(b,f,e,a.V).jg(),!0):!1};A.prototype.RayCast=A.prototype.Aa;A.prototype.Aa.FC=new r;A.prototype.Aa.zp=new r;A.prototype.Aa.yp=new r;
A.prototype.Tb=function(a,c){var b=Xb(c,this.La,A.prototype.Tb.Ri);a.lowerBound.h(b.x-this.N,b.y-this.N);a.upperBound.h(b.x+this.N,b.y+this.N)};A.prototype.ComputeAABB=A.prototype.Tb;A.prototype.Tb.Ri=new r;A.prototype.Wd=function(a,c){var b=Ma(this.N);a.qd=c*fa*b;a.jc.e(this.La);a.Rf=a.qd*(.5*b+v(this.La,this.La))};A.prototype.ComputeMass=A.prototype.Wd;A.prototype.no=function(a){a.Z=a.Cf;a.Z[0].e(this.La);a.n=1;a.N=this.N};
A.prototype.Rd=function(a,c,b,d){b=Xb(b,this.La,new r);var e=-(v(a,b)-c);if(e<-this.N+1E-5)return 0;if(e>this.N)return d.e(b),fa*this.N*this.N;c=this.N*this.N;var f=e*e,e=c*(Ua(e/this.N)+fa/2)+e*Qa(c-f);c=-2/3*Ra(c-f,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};A.prototype.ComputeSubmergedArea=A.prototype.Rd;
A.prototype.Nb=function(){ma("    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();\n");ma("    shape.m_radius = %.15f;\n",this.N);ma("    shape.m_p.Set(%.15f, %.15f);\n",this.La.x,this.La.y)};A.prototype.Dump=A.prototype.Nb;function C(){Ed.call(this,1,.016);this.Kc=new r;this.Qc=new r;this.Ge=new r;this.He=new r}q(C,Ed);p("box2d.b2EdgeShape",C);C.prototype.Kc=null;C.prototype.m_vertex1=C.prototype.Kc;C.prototype.Qc=null;C.prototype.m_vertex2=C.prototype.Qc;C.prototype.Ge=null;C.prototype.m_vertex0=C.prototype.Ge;C.prototype.He=null;C.prototype.m_vertex3=C.prototype.He;C.prototype.Ue=!1;C.prototype.m_hasVertex0=C.prototype.Ue;C.prototype.Ve=!1;C.prototype.m_hasVertex3=C.prototype.Ve;
C.prototype.h=function(a,c){this.Kc.e(a);this.Qc.e(c);this.Ve=this.Ue=!1;return this};C.prototype.Set=C.prototype.h;C.prototype.Ca=C.prototype.h;C.prototype.za=function(){return(new C).e(this)};C.prototype.Clone=C.prototype.za;C.prototype.e=function(a){Ed.prototype.e.call(this,a);this.Kc.e(a.Kc);this.Qc.e(a.Qc);this.Ge.e(a.Ge);this.He.e(a.He);this.Ue=a.Ue;this.Ve=a.Ve;return this};C.prototype.Copy=C.prototype.e;C.prototype.xf=function(){return 1};C.prototype.GetChildCount=C.prototype.xf;
C.prototype.Uc=function(){return!1};C.prototype.TestPoint=C.prototype.Uc;C.prototype.ac=function(a,c,b){var d=Xb(a,this.Kc,C.prototype.ac.Ak);a=Xb(a,this.Qc,C.prototype.ac.vn);var e=x(c,d,C.prototype.ac.sd),d=x(a,d,C.prototype.ac.zp),f=v(e,d);if(0<f){var h=v(d,d);f>h?x(c,a,e):e.mb(f/h,d)}b.e(e);return b.ic()};C.prototype.ComputeDistance=C.prototype.ac;g=C.prototype;g.ac.Ak=new r;g.ac.vn=new r;g.ac.sd=new r;g.ac.zp=new r;
g.Aa=function(a,c,b){var d=Yb(b,c.rd,C.prototype.Aa.wp),e=Yb(b,c.ve,C.prototype.Aa.xp),f=x(e,d,C.prototype.Aa.sd),e=this.Kc,h=this.Qc,k=x(h,e,C.prototype.Aa.rp),l=a.V.h(k.y,-k.x).jg(),k=v(l,x(e,d,u)),l=v(l,f);if(0===l)return!1;l=k/l;if(0>l||c.Lf<l)return!1;c=sb(d,l,f,C.prototype.Aa.HC);d=x(h,e,C.prototype.Aa.yp);h=v(d,d);if(0===h)return!1;e=v(x(c,e,u),d)/h;if(0>e||1<e)return!1;a.ce=l;y(b.ha,a.V,a.V);0<k&&a.V.Pa();return!0};C.prototype.RayCast=C.prototype.Aa;g=C.prototype;g.Aa.wp=new r;g.Aa.xp=new r;
g.Aa.sd=new r;g.Aa.rp=new r;g.Aa.HC=new r;g.Aa.yp=new r;g.Tb=function(a,c){var b=Xb(c,this.Kc,C.prototype.Tb.Ak),d=Xb(c,this.Qc,C.prototype.Tb.vn);ib(b,d,a.lowerBound);jb(b,d,a.upperBound);b=this.N;a.lowerBound.tt(b,b);a.upperBound.qt(b,b)};C.prototype.ComputeAABB=C.prototype.Tb;C.prototype.Tb.Ak=new r;C.prototype.Tb.vn=new r;C.prototype.Wd=function(a){a.qd=0;vb(this.Kc,this.Qc,a.jc);a.Rf=0};C.prototype.ComputeMass=C.prototype.Wd;
C.prototype.no=function(a){a.Z=a.Cf;a.Z[0].e(this.Kc);a.Z[1].e(this.Qc);a.n=2;a.N=this.N};C.prototype.Rd=function(a,c,b,d){d.ba();return 0};C.prototype.ComputeSubmergedArea=C.prototype.Rd;
C.prototype.Nb=function(){ma("    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();\n");ma("    shape.m_radius = %.15f;\n",this.N);ma("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.Ge.x,this.Ge.y);ma("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.Kc.x,this.Kc.y);ma("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.Qc.x,this.Qc.y);ma("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.He.x,this.He.y);ma("    shape.m_hasVertex0 = %s;\n",this.Ue);ma("    shape.m_hasVertex3 = %s;\n",this.Ve)};
C.prototype.Dump=C.prototype.Nb;function Fd(){Ed.call(this,3,.016);this.Gi=new r;this.Ci=new r}q(Fd,Ed);p("box2d.b2ChainShape",Fd);Fd.prototype.Z=null;Fd.prototype.m_vertices=Fd.prototype.Z;Fd.prototype.n=0;Fd.prototype.m_count=Fd.prototype.n;Fd.prototype.Gi=null;Fd.prototype.m_prevVertex=Fd.prototype.Gi;Fd.prototype.Ci=null;Fd.prototype.m_nextVertex=Fd.prototype.Ci;Fd.prototype.lk=!1;Fd.prototype.m_hasPrevVertex=Fd.prototype.lk;Fd.prototype.kk=!1;Fd.prototype.m_hasNextVertex=Fd.prototype.kk;
Fd.prototype.Fk=function(){this.Z=null;this.n=0};Fd.prototype.Clear=Fd.prototype.Fk;Fd.prototype.hi=function(a,c){var b;c=c||a.length;this.n=c+1;this.Z=gb(this.n);for(b=0;b<c;++b)this.Z[b].e(a[b]);this.Z[c].e(this.Z[0]);this.Gi.e(this.Z[this.n-2]);this.Ci.e(this.Z[1]);this.kk=this.lk=!0;return this};Fd.prototype.CreateLoop=Fd.prototype.hi;Fd.prototype.Jn=function(a,c){var b;this.n=c=c||a.length;this.Z=gb(c);for(b=0;b<c;++b)this.Z[b].e(a[b]);this.kk=this.lk=!1;this.Gi.ba();this.Ci.ba();return this};
Fd.prototype.CreateChain=Fd.prototype.Jn;Fd.prototype.RA=function(a){this.Gi.e(a);this.lk=!0;return this};Fd.prototype.SetPrevVertex=Fd.prototype.RA;Fd.prototype.NA=function(a){this.Ci.e(a);this.kk=!0;return this};Fd.prototype.SetNextVertex=Fd.prototype.NA;Fd.prototype.za=function(){return(new Fd).e(this)};Fd.prototype.Clone=Fd.prototype.za;Fd.prototype.e=function(a){Ed.prototype.e.call(this,a);this.Jn(a.Z,a.n);this.Gi.e(a.Gi);this.Ci.e(a.Ci);this.lk=a.lk;this.kk=a.kk;return this};
Fd.prototype.Copy=Fd.prototype.e;Fd.prototype.xf=function(){return this.n-1};Fd.prototype.GetChildCount=Fd.prototype.xf;Fd.prototype.On=function(a,c){a.cb=1;a.N=this.N;a.Kc.e(this.Z[c]);a.Qc.e(this.Z[c+1]);0<c?(a.Ge.e(this.Z[c-1]),a.Ue=!0):(a.Ge.e(this.Gi),a.Ue=this.lk);c<this.n-2?(a.He.e(this.Z[c+2]),a.Ve=!0):(a.He.e(this.Ci),a.Ve=this.kk)};Fd.prototype.GetChildEdge=Fd.prototype.On;Fd.prototype.Uc=function(){return!1};Fd.prototype.TestPoint=Fd.prototype.Uc;
Fd.prototype.ac=function(a,c,b,d){var e=Fd.prototype.ac.bv;this.On(e,d);return e.ac(a,c,b,0)};Fd.prototype.ComputeDistance=Fd.prototype.ac;Fd.prototype.ac.bv=new C;Fd.prototype.Aa=function(a,c,b,d){var e=Fd.prototype.Aa.bv;e.Kc.e(this.Z[d]);e.Qc.e(this.Z[(d+1)%this.n]);return e.Aa(a,c,b,0)};Fd.prototype.RayCast=Fd.prototype.Aa;Fd.prototype.Aa.bv=new C;
Fd.prototype.Tb=function(a,c,b){var d=this.Z[(b+1)%this.n];b=Xb(c,this.Z[b],Fd.prototype.Tb.Ak);c=Xb(c,d,Fd.prototype.Tb.vn);ib(b,c,a.lowerBound);jb(b,c,a.upperBound)};Fd.prototype.ComputeAABB=Fd.prototype.Tb;Fd.prototype.Tb.Ak=new r;Fd.prototype.Tb.s_v1=Fd.prototype.Tb.Ak;Fd.prototype.Tb.vn=new r;Fd.prototype.Tb.s_v2=Fd.prototype.Tb.vn;Fd.prototype.Wd=function(a){a.qd=0;a.jc.ba();a.Rf=0};Fd.prototype.ComputeMass=Fd.prototype.Wd;
Fd.prototype.no=function(a,c){a.Cf[0].e(this.Z[c]);c+1<this.n?a.Cf[1].e(this.Z[c+1]):a.Cf[1].e(this.Z[0]);a.Z=a.Cf;a.n=2;a.N=this.N};Fd.prototype.Rd=function(a,c,b,d){d.ba();return 0};Fd.prototype.ComputeSubmergedArea=Fd.prototype.Rd;
Fd.prototype.Nb=function(){ma("    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();\n");ma("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",8);for(var a=0;a<this.n;++a)ma("    vs[%d].Set(%.15f, %.15f);\n",a,this.Z[a].x,this.Z[a].y);ma("    shape.CreateChain(vs, %d);\n",this.n);ma("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.Gi.x,this.Gi.y);ma("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.Ci.x,this.Ci.y);ma("    shape.m_hasPrevVertex = %s;\n",this.lk?"true":"false");
ma("    shape.m_hasNextVertex = %s;\n",this.kk?"true":"false")};Fd.prototype.Dump=Fd.prototype.Nb;function D(){Ed.call(this,2,.016);this.ck=new r(0,0);this.Z=gb(8);this.mc=gb(8)}q(D,Ed);p("box2d.b2PolygonShape",D);D.prototype.ck=null;D.prototype.m_centroid=D.prototype.ck;D.prototype.Z=null;D.prototype.m_vertices=D.prototype.Z;D.prototype.mc=null;D.prototype.m_normals=D.prototype.mc;D.prototype.n=0;D.prototype.m_count=D.prototype.n;D.prototype.za=function(){return(new D).e(this)};D.prototype.Clone=D.prototype.za;
D.prototype.e=function(a){Ed.prototype.e.call(this,a);this.ck.e(a.ck);this.n=a.n;for(var c=0,b=this.n;c<b;++c)this.Z[c].e(a.Z[c]),this.mc[c].e(a.mc[c]);return this};D.prototype.Copy=D.prototype.e;
D.prototype.D=function(a,c,b,d){this.n=4;this.Z[0].h(-a,-c);this.Z[1].h(a,-c);this.Z[2].h(a,c);this.Z[3].h(-a,c);this.mc[0].h(0,-1);this.mc[1].h(1,0);this.mc[2].h(0,1);this.mc[3].h(-1,0);this.ck.ba();if(b instanceof r)for(d="number"===typeof d?d:0,this.ck.e(b),a=new Vb,a.gj(b),a.Pw(d),b=0,d=this.n;b<d;++b)Xb(a,this.Z[b],this.Z[b]),y(a.ha,this.mc[b],this.mc[b]);return this};D.prototype.SetAsBox=D.prototype.D;
D.prototype.h=function(a,c,b){c="number"===typeof c?c:a.length;b="number"===typeof b?b:0;if(3>c)return this.D(1,1);c=Ia(c,8);for(var d=D.prototype.h.GC,e=0,f=0;f<c;++f){for(var h=a[b+f],k=!0,l=0;l<e;++l)if(1.6E-5>yb(h,d[l])){k=!1;break}k&&d[e++].e(h)}c=e;if(3>c)return this.D(1,1);a=0;h=d[0].x;for(f=1;f<c;++f)if(l=d[f].x,l>h||l===h&&d[f].y<d[a].y)a=f,h=l;e=D.prototype.h.iC;b=0;for(f=a;;){e[b]=f;k=0;for(l=1;l<c;++l)if(k===f)k=l;else{var m=x(d[k],d[e[b]],D.prototype.h.yp),h=x(d[l],d[e[b]],D.prototype.h.Bp),
n=w(m,h);0>n&&(k=l);0===n&&h.ef()>m.ef()&&(k=l)}++b;f=k;if(k===a)break}if(3>b)return this.D(1,1);this.n=b;for(f=0;f<b;++f)this.Z[f].e(d[e[f]]);f=0;for(c=b;f<c;++f)d=x(this.Z[(f+1)%c],this.Z[f],u),lb(d,1,this.mc[f]).jg();Gd(this.Z,b,this.ck);return this};D.prototype.Set=D.prototype.h;g=D.prototype;g.h.GC=gb(8);g.h.iC=ta(8);g.h.yp=new r;g.h.Bp=new r;g.xf=function(){return 1};D.prototype.GetChildCount=D.prototype.xf;
D.prototype.Uc=function(a,c){for(var b=Yb(a,c,D.prototype.Uc.jv),d=0,e=this.n;d<e;++d)if(0<v(this.mc[d],x(b,this.Z[d],u)))return!1;return!0};D.prototype.TestPoint=D.prototype.Uc;D.prototype.Uc.jv=new r;
D.prototype.ac=function(a,c,b){c=Yb(a,c,D.prototype.ac.jv);for(var d=-1E37,e=D.prototype.ac.yC.e(c),f=0;f<this.n;++f){var h=v(this.mc[f],x(c,this.Z[f],u));h>d&&(d=h,e.e(this.mc[f]))}if(0<d){e=D.prototype.ac.vC.e(e);d*=d;for(f=0;f<this.n;++f){var h=x(c,this.Z[f],D.prototype.ac.WB),k=h.ef();d>k&&(e.e(h),d=k)}y(a.ha,e,b);b.ic();return Math.sqrt(d)}y(a.ha,e,b);return d};D.prototype.ComputeDistance=D.prototype.ac;g=D.prototype;g.ac.jv=new r;g.ac.yC=new r;g.ac.vC=new r;g.ac.WB=new r;
g.Aa=function(a,c,b){var d=Yb(b,c.rd,D.prototype.Aa.wp),e=Yb(b,c.ve,D.prototype.Aa.xp),e=x(e,d,D.prototype.Aa.sd),f=0;c=c.Lf;for(var h=-1,k=0,l=this.n;k<l;++k){var m=v(this.mc[k],x(this.Z[k],d,u)),n=v(this.mc[k],e);if(0===n){if(0>m)return!1}else 0>n&&m<f*n?(f=m/n,h=k):0<n&&m<c*n&&(c=m/n);if(c<f)return!1}return 0<=h?(a.ce=f,y(b.ha,this.mc[h],a.V),!0):!1};D.prototype.RayCast=D.prototype.Aa;D.prototype.Aa.wp=new r;D.prototype.Aa.xp=new r;D.prototype.Aa.sd=new r;
D.prototype.Tb=function(a,c){for(var b=Xb(c,this.Z[0],a.lowerBound),d=a.upperBound.e(b),e=0,f=this.n;e<f;++e){var h=Xb(c,this.Z[e],D.prototype.Tb.Bp);ib(h,b,b);jb(h,d,d)}e=this.N;b.tt(e,e);d.qt(e,e)};D.prototype.ComputeAABB=D.prototype.Tb;D.prototype.Tb.Bp=new r;
D.prototype.Wd=function(a,c){for(var b=D.prototype.Wd.fm.ba(),d=0,e=0,f=D.prototype.Wd.zp.ba(),h=0,k=this.n;h<k;++h)f.Qa(this.Z[h]);f.Ia(1/this.n);for(var l=1/3,h=0,k=this.n;h<k;++h){var m=x(this.Z[h],f,D.prototype.Wd.sp),n=x(this.Z[(h+1)%k],f,D.prototype.Wd.tp),t=w(m,n),z=.5*t,d=d+z;b.Qa(qb(z*l,pb(m,n,u),db));var z=m.x,m=m.y,B=n.x,n=n.y,e=e+.25*l*t*(z*z+B*z+B*B+(m*m+n*m+n*n))}a.qd=c*d;b.Ia(1/d);pb(b,f,a.jc);a.Rf=c*e;a.Rf+=a.qd*(v(a.jc,a.jc)-v(b,b))};D.prototype.ComputeMass=D.prototype.Wd;g=D.prototype;
g.Wd.fm=new r;g.Wd.zp=new r;g.Wd.sp=new r;g.Wd.tp=new r;g.jj=function(){for(var a=0;a<this.n;++a)for(var c=a,b=(a+1)%this.n,d=this.Z[c],e=x(this.Z[b],d,D.prototype.jj.rp),f=0;f<this.n;++f)if(f!==c&&f!==b){var h=x(this.Z[f],d,D.prototype.jj.Bp);if(0>w(e,h))return!1}return!0};D.prototype.Validate=D.prototype.jj;D.prototype.jj.rp=new r;D.prototype.jj.Bp=new r;D.prototype.no=function(a){a.Z=this.Z;a.n=this.n;a.N=this.N};
D.prototype.Rd=function(a,c,b,d){var e=Ub(b.ha,a,D.prototype.Rd.zC),f=c-v(a,b.ta),h=D.prototype.Rd.SB,k=0,l=-1;c=-1;var m=!1;a=0;for(var n=this.n;a<n;++a){h[a]=v(e,this.Z[a])-f;var t=-1E-5>h[a];0<a&&(t?m||(l=a-1,k++):m&&(c=a-1,k++));m=t}switch(k){case 0:return m?(a=D.prototype.Rd.uC,this.Wd(a,1),Xb(b,a.jc,d),a.qd):0;case 1:-1===l?l=this.n-1:c=this.n-1}a=(l+1)%this.n;e=(c+1)%this.n;f=(0-h[l])/(h[a]-h[l]);h=(0-h[c])/(h[e]-h[c]);l=D.prototype.Rd.pC.h(this.Z[l].x*(1-f)+this.Z[a].x*f,this.Z[l].y*(1-f)+
this.Z[a].y*f);c=D.prototype.Rd.CC.h(this.Z[c].x*(1-h)+this.Z[e].x*h,this.Z[c].y*(1-h)+this.Z[e].y*h);h=0;f=D.prototype.Rd.fm.ba();k=this.Z[a];for(m=null;a!==e;)a=(a+1)%this.n,m=a===e?c:this.Z[a],n=.5*((k.x-l.x)*(m.y-l.y)-(k.y-l.y)*(m.x-l.x)),h+=n,f.x+=n*(l.x+k.x+m.x)/3,f.y+=n*(l.y+k.y+m.y)/3,k=m;f.Ia(1/h);Xb(b,f,d);return h};D.prototype.ComputeSubmergedArea=D.prototype.Rd;g=D.prototype;g.Rd.zC=new r;g.Rd.SB=ta(8);g.Rd.uC=new Cd;g.Rd.pC=new r;g.Rd.CC=new r;g.Rd.fm=new r;
g.Nb=function(){ma("    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();\n");ma("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",8);for(var a=0;a<this.n;++a)ma("    vs[%d].Set(%.15f, %.15f);\n",a,this.Z[a].x,this.Z[a].y);ma("    shape.Set(vs, %d);\n",this.n)};D.prototype.Dump=D.prototype.Nb;
function Gd(a,c,b){b.ba();for(var d=0,e=Gd.DC.ba(),f=1/3,h=0;h<c;++h){var k=e,l=a[h],m=a[(h+1)%c],n=x(l,k,Gd.sp),t=x(m,k,Gd.tp),n=.5*w(n,t),d=d+n;b.x+=n*f*(k.x+l.x+m.x);b.y+=n*f*(k.y+l.y+m.y)}b.Ia(1/d);return b}D.ComputeCentroid=Gd;Gd.DC=new r;Gd.sp=new r;Gd.tp=new r;function Hd(){this.Jr=(new Date).getTime()}p("box2d.b2Timer",Hd);Hd.prototype.Jr=0;Hd.prototype.m_start=Hd.prototype.Jr;Hd.prototype.ub=function(){this.Jr=(new Date).getTime();return this};Hd.prototype.Reset=Hd.prototype.ub;Hd.prototype.Eh=function(){return(new Date).getTime()-this.Jr};Hd.prototype.GetMilliseconds=Hd.prototype.Eh;function Id(){}p("box2d.b2Counter",Id);Id.prototype.n=0;Id.prototype.m_count=Id.prototype.n;Id.prototype.Po=0;Id.prototype.m_min_count=Id.prototype.Po;Id.prototype.Oo=0;
Id.prototype.m_max_count=Id.prototype.Oo;Id.prototype.Lk=function(){return this.n};Id.prototype.GetCount=Id.prototype.Lk;Id.prototype.mz=function(){return this.Po};Id.prototype.GetMinCount=Id.prototype.mz;Id.prototype.iz=function(){return this.Oo};Id.prototype.GetMaxCount=Id.prototype.iz;Id.prototype.kA=function(){var a=this.n;this.n=0;return a};Id.prototype.ResetCount=Id.prototype.kA;Id.prototype.nA=function(){this.Po=0};Id.prototype.ResetMinCount=Id.prototype.nA;
Id.prototype.mA=function(){this.Oo=0};Id.prototype.ResetMaxCount=Id.prototype.mA;Id.prototype.bt=function(){this.n++;this.Oo<this.n&&(this.Oo=this.n)};Id.prototype.Increment=Id.prototype.bt;Id.prototype.us=function(){this.n--;this.Po>this.n&&(this.Po=this.n)};Id.prototype.Decrement=Id.prototype.us;var Jd=0;p("box2d.b2_toiTime",Jd);var Kd=0;p("box2d.b2_toiMaxTime",Kd);var Od=0;p("box2d.b2_toiCalls",Od);var Pd=0;p("box2d.b2_toiIters",Pd);var Qd=0;p("box2d.b2_toiMaxIters",Qd);var Rd=0;p("box2d.b2_toiRootIters",Rd);var Sd=0;p("box2d.b2_toiMaxRootIters",Sd);function Td(){this.hd=new hc;this.Ed=new hc;this.zn=new ac;this.An=new ac}p("box2d.b2TOIInput",Td);Td.prototype.hd=null;Td.prototype.proxyA=Td.prototype.hd;Td.prototype.Ed=null;Td.prototype.proxyB=Td.prototype.Ed;Td.prototype.zn=null;
Td.prototype.sweepA=Td.prototype.zn;Td.prototype.An=null;Td.prototype.sweepB=Td.prototype.An;Td.prototype.Bn=0;Td.prototype.tMax=Td.prototype.Bn;var Ud={wq:0,qE:1,AE:2,ME:3,JE:4};p("box2d.b2TOIOutputState",Ud);Ud.e_unknown=0;Ud.e_failed=1;Ud.e_overlapped=2;Ud.e_touching=3;Ud.e_separated=4;function Vd(){}p("box2d.b2TOIOutput",Vd);Vd.prototype.state=0;Vd.prototype.state=Vd.prototype.state;Vd.prototype.Ah=0;Vd.prototype.t=Vd.prototype.Ah;var Wd={wq:-1,DE:0,dB:1,eB:2};
p("box2d.b2SeparationFunctionType",Wd);Wd.e_unknown=-1;Wd.e_points=0;Wd.e_faceA=1;Wd.e_faceB=2;function Xd(){this.jn=new ac;this.kn=new ac;this.Sh=new r;this.rc=new r}p("box2d.b2SeparationFunction",Xd);Xd.prototype.th=null;Xd.prototype.m_proxyA=Xd.prototype.th;Xd.prototype.uh=null;Xd.prototype.m_proxyB=Xd.prototype.uh;Xd.prototype.jn=null;Xd.prototype.m_sweepA=Xd.prototype.jn;Xd.prototype.kn=null;Xd.prototype.m_sweepB=Xd.prototype.kn;Xd.prototype.cb=-1;Xd.prototype.m_type=Xd.prototype.cb;
Xd.prototype.Sh=null;Xd.prototype.m_localPoint=Xd.prototype.Sh;Xd.prototype.rc=null;Xd.prototype.m_axis=Xd.prototype.rc;
Xd.prototype.U=function(a,c,b,d,e,f){this.th=c;this.uh=d;c=a.count;this.jn.e(b);this.kn.e(e);b=Yd.Si;e=Yd.Ti;this.jn.Wb(b,f);this.kn.Wb(e,f);1===c?(this.cb=0,c=this.th.Id(a.X[0]),a=this.uh.Id(a.aa[0]),b=Xb(b,c,Yd.Wg),e=Xb(e,a,Yd.Xg),x(e,b,this.rc),a=this.rc.ic(),this.Sh.ba()):(a.X[0]===a.X[1]?(this.cb=2,c=this.uh.Id(a.aa[0]),d=this.uh.Id(a.aa[1]),lb(x(d,c,u),1,this.rc).jg(),f=y(e.ha,this.rc,Yd.Qi),vb(c,d,this.Sh),e=Xb(e,this.Sh,Yd.Xg),c=this.th.Id(a.X[0]),b=Xb(b,c,Yd.Wg),a=v(x(b,e,u),f)):(this.cb=
1,c=this.th.Id(a.X[0]),d=this.th.Id(a.X[1]),lb(x(d,c,u),1,this.rc).jg(),f=y(b.ha,this.rc,Yd.Qi),vb(c,d,this.Sh),b=Xb(b,this.Sh,Yd.Wg),a=this.uh.Id(a.aa[0]),e=Xb(e,a,Yd.Xg),a=v(x(e,b,u),f)),0>a&&(this.rc.Pa(),a=-a));return a};Xd.prototype.Initialize=Xd.prototype.U;
Xd.prototype.Tv=function(a,c,b){var d=Yd.Si,e=Yd.Ti;this.jn.Wb(d,b);this.kn.Wb(e,b);switch(this.cb){case 0:var f=Ub(d.ha,this.rc,Yd.Sx),h=Ub(e.ha,u.e(this.rc).Pa(),Yd.Tx);a[0]=this.th.Ok(f);c[0]=this.uh.Ok(h);a=this.th.Id(a[0]);c=this.uh.Id(c[0]);d=Xb(d,a,Yd.Wg);e=Xb(e,c,Yd.Xg);return c=v(x(e,d,u),this.rc);case 1:return b=y(d.ha,this.rc,Yd.Qi),d=Xb(d,this.Sh,Yd.Wg),h=Ub(e.ha,u.e(b).Pa(),Yd.Tx),a[0]=-1,c[0]=this.uh.Ok(h),c=this.uh.Id(c[0]),e=Xb(e,c,Yd.Xg),c=v(x(e,d,u),b);case 2:return b=y(e.ha,this.rc,
Yd.Qi),e=Xb(e,this.Sh,Yd.Xg),f=Ub(d.ha,u.e(b).Pa(),Yd.Sx),c[0]=-1,a[0]=this.th.Ok(f),a=this.th.Id(a[0]),d=Xb(d,a,Yd.Wg),c=v(x(d,e,u),b);default:return a[0]=-1,c[0]=-1,0}};Xd.prototype.FindMinSeparation=Xd.prototype.Tv;
Xd.prototype.ud=function(a,c,b){var d=Yd.Si,e=Yd.Ti;this.jn.Wb(d,b);this.kn.Wb(e,b);switch(this.cb){case 0:return a=this.th.Id(a),c=this.uh.Id(c),d=Xb(d,a,Yd.Wg),e=Xb(e,c,Yd.Xg),d=v(x(e,d,u),this.rc);case 1:return b=y(d.ha,this.rc,Yd.Qi),d=Xb(d,this.Sh,Yd.Wg),c=this.uh.Id(c),e=Xb(e,c,Yd.Xg),d=v(x(e,d,u),b);case 2:return b=y(e.ha,this.rc,Yd.Qi),e=Xb(e,this.Sh,Yd.Xg),a=this.th.Id(a),d=Xb(d,a,Yd.Wg),d=v(x(d,e,u),b);default:return 0}};Xd.prototype.Evaluate=Xd.prototype.ud;
function Yd(a,c){var b=Yd.XC.ub();++Od;a.state=0;a.Ah=c.Bn;var d=c.hd,e=c.Ed,f=Yd.UC.e(c.zn),h=Yd.VC.e(c.An);f.ic();h.ic();var k=c.Bn,l=Ja(.008,d.N+e.N-.024),m=0,n=0,t=Yd.LB;t.count=0;var z=Yd.XB;z.hd=c.hd;z.Ed=c.Ed;for(z.Dn=!1;;){var B=Yd.Si,O=Yd.Ti;f.Wb(B,m);h.Wb(O,m);z.lm.e(B);z.mm.e(O);B=Yd.YB;uc(B,t,z);if(0>=B.Bf){a.state=2;a.Ah=0;break}if(B.Bf<l+.002){a.state=3;a.Ah=m;break}B=Yd.hC;B.U(t,d,f,e,h,m);for(var O=!1,ia=k,aa=0;;){var ua=Yd.nC,Fa=Yd.oC,na=B.Tv(ua,Fa,ia);if(na>l+.002){a.state=4;a.Ah=
k;O=!0;break}if(na>l-.002){m=ia;break}var mb=B.ud(ua[0],Fa[0],m);if(mb<l-.002){a.state=1;a.Ah=m;O=!0;break}if(mb<=l+.002){a.state=3;a.Ah=m;O=!0;break}for(var Za=0,$a=m,nb=ia;;){var Na=0,Na=Za&1?$a+(l-mb)*(nb-$a)/(na-mb):.5*($a+nb);++Za;++Rd;var Oa=B.ud(ua[0],Fa[0],Na);if(.002>ra(Oa-l)){ia=Na;break}Oa>l?($a=Na,mb=Oa):(nb=Na,na=Oa);if(50===Za)break}Sd=Ja(Sd,Za);++aa;if(8===aa)break}++n;++Pd;if(O)break;if(20===n){a.state=1;a.Ah=m;break}}Qd=Ja(Qd,n);b=b.Eh();Kd=Ja(Kd,b);Jd+=b}
p("box2d.b2TimeOfImpact",Yd);Yd.XC=new Hd;Yd.LB=new ic;Yd.XB=new jc;Yd.YB=new kc;Yd.Si=new Vb;Yd.Ti=new Vb;Yd.nC=ta(1);Yd.oC=ta(1);Yd.hC=new Xd;Yd.UC=new ac;Yd.VC=new ac;Yd.Wg=new r;Yd.Xg=new r;Yd.Qi=new r;Yd.Sx=new r;Yd.Tx=new r;function Zd(){}p("box2d.b2Filter",Zd);Zd.prototype.Af=1;Zd.prototype.categoryBits=Zd.prototype.Af;Zd.prototype.Kf=65535;Zd.prototype.maskBits=Zd.prototype.Kf;Zd.prototype.Ld=0;Zd.prototype.groupIndex=Zd.prototype.Ld;Zd.prototype.za=function(){return(new Zd).e(this)};Zd.prototype.Clone=Zd.prototype.za;Zd.prototype.e=function(a){this.Af=a.Af;this.Kf=a.Kf;this.Ld=a.Ld;return this};Zd.prototype.Copy=Zd.prototype.e;function E(){this.filter=new Zd}p("box2d.b2FixtureDef",E);E.prototype.shape=null;
E.prototype.shape=E.prototype.shape;E.prototype.Hc=null;E.prototype.userData=E.prototype.Hc;E.prototype.gb=.2;E.prototype.friction=E.prototype.gb;E.prototype.dc=0;E.prototype.restitution=E.prototype.dc;E.prototype.fa=0;E.prototype.density=E.prototype.fa;E.prototype.vi=!1;E.prototype.isSensor=E.prototype.vi;E.prototype.filter=null;E.prototype.filter=E.prototype.filter;function ae(){this.sa=new Jc}p("box2d.b2FixtureProxy",ae);ae.prototype.sa=null;ae.prototype.aabb=ae.prototype.sa;ae.prototype.qg=null;
ae.prototype.fixture=ae.prototype.qg;ae.prototype.wo=0;ae.prototype.childIndex=ae.prototype.wo;ae.prototype.Pi=null;ae.prototype.proxy=ae.prototype.Pi;function be(a){return sa(a,function(){return new ae})}ae.MakeArray=be;function F(){this.tf=0;this.Ho=new Zd}p("box2d.b2Fixture",F);F.prototype.Zf=0;F.prototype.m_density=F.prototype.Zf;F.prototype.Y=null;F.prototype.m_next=F.prototype.Y;F.prototype.xa=null;F.prototype.m_body=F.prototype.xa;F.prototype.$a=null;F.prototype.m_shape=F.prototype.$a;
F.prototype.$f=0;F.prototype.m_friction=F.prototype.$f;F.prototype.bg=0;F.prototype.m_restitution=F.prototype.bg;F.prototype.Zh=null;F.prototype.m_proxies=F.prototype.Zh;F.prototype.tf=0;F.prototype.m_proxyCount=F.prototype.tf;F.prototype.Ho=null;F.prototype.m_filter=F.prototype.Ho;F.prototype.We=!1;F.prototype.m_isSensor=F.prototype.We;F.prototype.$e=null;F.prototype.m_userData=F.prototype.$e;F.prototype.Ic=function(){return this.$a.Ic()};F.prototype.GetType=F.prototype.Ic;F.prototype.zz=function(){return this.$a};
F.prototype.GetShape=F.prototype.zz;F.prototype.Yz=function(){return this.We};F.prototype.IsSensor=F.prototype.Yz;F.prototype.Fs=function(a){a=a||new Zd;return a.e(this.Ho)};F.prototype.GetFilterData=F.prototype.Fs;F.prototype.ec=function(){return this.$e};F.prototype.GetUserData=F.prototype.ec;F.prototype.fh=function(a){this.$e=a};F.prototype.SetUserData=F.prototype.fh;F.prototype.Ob=function(){return this.xa};F.prototype.GetBody=F.prototype.Ob;F.prototype.vd=function(){return this.Y};
F.prototype.GetNext=F.prototype.vd;F.prototype.zm=function(a){this.Zf=a};F.prototype.SetDensity=F.prototype.zm;F.prototype.Up=function(){return this.Zf};F.prototype.GetDensity=F.prototype.Up;F.prototype.Gs=function(){return this.$f};F.prototype.GetFriction=F.prototype.Gs;F.prototype.wt=function(a){this.$f=a};F.prototype.SetFriction=F.prototype.wt;F.prototype.Us=function(){return this.bg};F.prototype.GetRestitution=F.prototype.Us;F.prototype.At=function(a){this.bg=a};F.prototype.SetRestitution=F.prototype.At;
F.prototype.Uc=function(a){return this.$a.Uc(this.xa.Wb(),a)};F.prototype.TestPoint=F.prototype.Uc;F.prototype.ac=function(a,c,b){return this.$a.ac(this.xa.Wb(),a,c,b)};F.prototype.ComputeDistance=F.prototype.ac;F.prototype.Aa=function(a,c,b){return this.$a.Aa(a,c,this.xa.Wb(),b)};F.prototype.RayCast=F.prototype.Aa;F.prototype.Xp=function(a){a=a||new Cd;this.$a.Wd(a,this.Zf);return a};F.prototype.GetMassData=F.prototype.Xp;F.prototype.Uv=function(a){return this.Zh[a].sa};F.prototype.GetAABB=F.prototype.Uv;
F.prototype.In=function(a,c){this.$e=c.Hc;this.$f=c.gb;this.bg=c.dc;this.xa=a;this.Y=null;this.Ho.e(c.filter);this.We=c.vi;this.$a=c.shape.za();this.Zh=be(this.$a.xf());this.tf=0;this.Zf=c.fa};F.prototype.Create=F.prototype.In;F.prototype.Pf=function(){this.$a=null};F.prototype.Destroy=F.prototype.Pf;F.prototype.ts=function(a,c){this.tf=this.$a.xf();for(var b=0;b<this.tf;++b){var d=this.Zh[b];this.$a.Tb(d.sa,c,b);d.Pi=a.ah(d.sa,d);d.qg=this;d.wo=b}};F.prototype.CreateProxies=F.prototype.ts;
F.prototype.Lp=function(a){for(var c=0;c<this.tf;++c){var b=this.Zh[c];a.ii(b.Pi);b.Pi=null}this.tf=0};F.prototype.DestroyProxies=F.prototype.Lp;F.prototype.ij=function(a,c,b){if(0!==this.tf)for(var d=0;d<this.tf;++d){var e=this.Zh[d],f=F.prototype.ij.CB,h=F.prototype.ij.DB;this.$a.Tb(f,c,d);this.$a.Tb(h,b,d);e.sa.ke(f,h);f=x(b.ta,c.ta,F.prototype.ij.VB);a.mi(e.Pi,e.sa,f)}};F.prototype.Synchronize=F.prototype.ij;F.prototype.ij.CB=new Jc;F.prototype.ij.DB=new Jc;F.prototype.ij.VB=new r;
F.prototype.FA=function(a){this.Ho.e(a);this.Bw()};F.prototype.SetFilterData=F.prototype.FA;F.prototype.Bw=function(){if(!this.xa){for(var a=this.xa.Kk();a;){var c=a.ne,b=c.Yb;c.Xb!==this&&b!==this||c.Pp();a=a.next}a=this.xa.j;if(null!==a)for(a=a.jb.Zc,c=0;c<this.tf;++c)a.It(this.Zh[c].Pi)}};F.prototype.Refilter=F.prototype.Bw;F.prototype.Qw=function(a){a!==this.We&&(this.xa.Ra(!0),this.We=a)};F.prototype.SetSensor=F.prototype.Qw;F.prototype.Nb=function(){};F.prototype.Dump=F.prototype.Nb;var ce={RD:-1,OD:0,zD:1,vD:2,sD:3};p("box2d.b2BodyType",ce);ce.b2_unknown=-1;ce.b2_staticBody=0;ce.b2_kinematicBody=1;ce.b2_dynamicBody=2;ce.b2_bulletBody=3;function G(){this.position=new r(0,0);this.ih=new r(0,0)}p("box2d.b2BodyDef",G);G.prototype.type=0;G.prototype.type=G.prototype.type;G.prototype.position=null;G.prototype.position=G.prototype.position;G.prototype.fb=0;G.prototype.angle=G.prototype.fb;G.prototype.ih=null;G.prototype.linearVelocity=G.prototype.ih;G.prototype.hh=0;
G.prototype.angularVelocity=G.prototype.hh;G.prototype.Wj=0;G.prototype.linearDamping=G.prototype.Wj;G.prototype.mg=0;G.prototype.angularDamping=G.prototype.mg;G.prototype.xe=!0;G.prototype.allowSleep=G.prototype.xe;G.prototype.$k=!0;G.prototype.awake=G.prototype.$k;G.prototype.Uf=!1;G.prototype.fixedRotation=G.prototype.Uf;G.prototype.zf=!1;G.prototype.bullet=G.prototype.zf;G.prototype.Cm=!0;G.prototype.active=G.prototype.Cm;G.prototype.Hc=null;G.prototype.userData=G.prototype.Hc;
G.prototype.Vf=1;G.prototype.gravityScale=G.prototype.Vf;
function H(a,c){this.Ma=new Vb;this.So=new Vb;this.Xl=new Vb;this.P=new ac;this.ur=new ac;this.fc=new r;this.Eu=new r;this.Ef=new r;a.zf&&(this.tj=!0);a.Uf&&(this.ek=!0);a.xe&&(this.sl=!0);a.$k&&(this.vc=!0);a.Cm&&(this.rl=!0);this.j=c;this.Ma.ta.e(a.position);this.Ma.ha.Ba(a.fb);this.Xl.e(this.Ma);this.P.hb.ba();this.P.Vc.e(this.Ma.ta);this.P.W.e(this.Ma.ta);this.P.be=a.fb;this.P.B=a.fb;this.P.Tf=0;this.fc.e(a.ih);this.ab=a.hh;this.Um=a.Wj;this.Jm=a.mg;this.ul=a.Vf;this.Ef.ba();this.uk=this.Li=0;
this.cb=a.type;this.zb=2===a.type?this.da=1:this.da=0;this.cc=this.Wf=0;this.$e=a.Hc;this.qe=null;this.oh=0;this.pe=null;this.qj=0}p("box2d.b2Body",H);H.prototype.$c=!1;H.prototype.m_flag_islandFlag=H.prototype.$c;H.prototype.vc=!1;H.prototype.m_flag_awakeFlag=H.prototype.vc;H.prototype.sl=!1;H.prototype.m_flag_autoSleepFlag=H.prototype.sl;H.prototype.tj=!1;H.prototype.m_flag_bulletFlag=H.prototype.tj;H.prototype.ek=!1;H.prototype.m_flag_fixedRotationFlag=H.prototype.ek;H.prototype.rl=!1;
H.prototype.m_flag_activeFlag=H.prototype.rl;H.prototype.fk=!1;H.prototype.m_flag_toiFlag=H.prototype.fk;H.prototype.Zb=0;H.prototype.m_islandIndex=H.prototype.Zb;H.prototype.j=null;H.prototype.m_world=H.prototype.j;H.prototype.Ma=null;H.prototype.m_xf=H.prototype.Ma;H.prototype.So=null;H.prototype.m_out_xf=H.prototype.So;H.prototype.Xl=null;H.prototype.m_xf0=H.prototype.Xl;H.prototype.P=null;H.prototype.m_sweep=H.prototype.P;H.prototype.ur=null;H.prototype.m_out_sweep=H.prototype.ur;
H.prototype.yc=null;H.prototype.m_jointList=H.prototype.yc;H.prototype.bc=null;H.prototype.m_contactList=H.prototype.bc;H.prototype.qb=null;H.prototype.m_prev=H.prototype.qb;H.prototype.Y=null;H.prototype.m_next=H.prototype.Y;H.prototype.fc=null;H.prototype.m_linearVelocity=H.prototype.fc;H.prototype.Eu=null;H.prototype.m_out_linearVelocity=H.prototype.Eu;H.prototype.ab=0;H.prototype.m_angularVelocity=H.prototype.ab;H.prototype.Um=0;H.prototype.m_linearDamping=H.prototype.Um;H.prototype.Jm=0;
H.prototype.m_angularDamping=H.prototype.Jm;H.prototype.ul=1;H.prototype.m_gravityScale=H.prototype.ul;H.prototype.Ef=null;H.prototype.m_force=H.prototype.Ef;H.prototype.Li=0;H.prototype.m_torque=H.prototype.Li;H.prototype.uk=0;H.prototype.m_sleepTime=H.prototype.uk;H.prototype.cb=0;H.prototype.m_type=H.prototype.cb;H.prototype.da=1;H.prototype.m_mass=H.prototype.da;H.prototype.zb=1;H.prototype.m_invMass=H.prototype.zb;H.prototype.Wf=0;H.prototype.m_I=H.prototype.Wf;H.prototype.cc=0;
H.prototype.m_invI=H.prototype.cc;H.prototype.$e=null;H.prototype.m_userData=H.prototype.$e;H.prototype.qe=null;H.prototype.m_fixtureList=H.prototype.qe;H.prototype.oh=0;H.prototype.m_fixtureCount=H.prototype.oh;H.prototype.pe=null;H.prototype.m_controllerList=H.prototype.pe;H.prototype.qj=0;H.prototype.m_controllerCount=H.prototype.qj;H.prototype.k=function(a,c){if(a instanceof E)return this.qs(a);if(a instanceof Ed&&"number"===typeof c)return this.Ip(a,c);throw Error();};
H.prototype.CreateFixture=H.prototype.k;H.prototype.qs=function(a){if(this.j.ee)return null;var c=new F;c.In(this,a);this.rl&&c.ts(this.j.jb.Zc,this.Ma);c.Y=this.qe;this.qe=c;++this.oh;c.xa=this;0<c.Zf&&this.Ih();this.j.br=!0;return c};H.prototype.CreateFixture_Def=H.prototype.qs;H.prototype.Ip=function(a,c){var b=H.prototype.Ip.RB;b.shape=a;b.fa="number"===typeof c?c:0;return this.qs(b)};H.prototype.CreateFixture_Shape_Density=H.prototype.Ip;H.prototype.Ip.RB=new E;
H.prototype.vs=function(a){if(!this.j.ee){for(var c=this.qe,b=null;null!==c;){if(c===a){b?b.Y=a.Y:this.qe=a.Y;break}b=c;c=c.Y}for(c=this.bc;c;){var b=c.ne,c=c.next,d=b.Yb;a!==b.Xb&&a!==d||this.j.jb.Pf(b)}this.rl&&a.Lp(this.j.jb.Zc);a.Pf();a.xa=null;a.Y=null;--this.oh;this.Ih()}};H.prototype.DestroyFixture=H.prototype.vs;
H.prototype.Et=function(a,c,b){if(a instanceof r&&"number"===typeof c)this.Uk(a.x,a.y,c);else if(a instanceof Vb)this.Uk(a.ta.x,a.ta.y,a.hc());else if("number"===typeof a&&"number"===typeof c&&"number"===typeof b)this.Uk(a,c,b);else throw Error();};H.prototype.SetTransform=H.prototype.Et;H.prototype.hj=function(a,c){this.Uk(a.x,a.y,c)};H.prototype.SetTransform_V2_A=H.prototype.hj;
H.prototype.Uk=function(a,c,b){if(!this.j.ee&&(this.Ma.ta.x!==a||this.Ma.ta.y!==c||this.Ma.ha.hc()!==b))for(this.Ma.ha.Ba(b),this.Ma.ta.h(a,c),this.Xl.e(this.Ma),Xb(this.Ma,this.P.hb,this.P.W),this.P.B=b,this.P.Vc.e(this.P.W),this.P.be=b,a=this.j.jb.Zc,c=this.qe;c;c=c.Y)c.ij(a,this.Ma,this.Ma)};H.prototype.SetTransform_X_Y_A=H.prototype.Uk;H.prototype.XA=function(a){this.Uk(a.ta.x,a.ta.y,a.hc())};H.prototype.SetTransform_X=H.prototype.XA;H.prototype.Wb=function(a){a=a||this.So;return a.e(this.Ma)};
H.prototype.GetTransform=H.prototype.Wb;H.prototype.cd=function(a){a=a||this.So.ta;return a.e(this.Ma.ta)};H.prototype.GetPosition=H.prototype.cd;H.prototype.gj=function(a){this.hj(a,this.hc())};H.prototype.SetPosition=H.prototype.gj;H.prototype.zt=function(a,c){this.Uk(a,c,this.hc())};H.prototype.SetPositionXY=H.prototype.zt;H.prototype.Vs=function(a){a=a||this.So.ha;return a.e(this.Ma.ha)};H.prototype.GetRotation=H.prototype.Vs;H.prototype.Bt=function(a){this.hj(this.cd(),a.hc())};
H.prototype.SetRotation=H.prototype.Bt;H.prototype.hc=function(){return this.P.B};H.prototype.GetAngle=H.prototype.hc;H.prototype.Ba=function(a){this.hj(this.cd(),a)};H.prototype.SetAngle=H.prototype.Ba;H.prototype.Ne=function(a){a=a||this.ur.W;return a.e(this.P.W)};H.prototype.GetWorldCenter=H.prototype.Ne;H.prototype.Sn=function(a){a=a||this.ur.hb;return a.e(this.P.hb)};H.prototype.GetLocalCenter=H.prototype.Sn;H.prototype.$d=function(a){0!==this.cb&&(0<v(a,a)&&this.Ra(!0),this.fc.e(a))};
H.prototype.SetLinearVelocity=H.prototype.$d;H.prototype.le=function(a){a=a||this.Eu;return a.e(this.fc)};H.prototype.GetLinearVelocity=H.prototype.le;H.prototype.Jh=function(a){0!==this.cb&&(0<a*a&&this.Ra(!0),this.ab=a)};H.prototype.SetAngularVelocity=H.prototype.Jh;H.prototype.sm=function(){return this.ab};H.prototype.GetAngularVelocity=H.prototype.sm;
H.prototype.Ds=function(a){a.type=this.Ic();a.xe=this.sl;a.fb=this.hc();a.mg=this.Jm;a.Vf=this.ul;a.hh=this.ab;a.Uf=this.ek;a.zf=this.tj;a.$k=this.vc;a.Wj=this.Um;a.ih.e(this.le());a.position.e(this.cd());a.Hc=this.ec();return a};H.prototype.GetDefinition=H.prototype.Ds;H.prototype.Ke=function(a,c,b){2===this.cb&&(!this.vc&&this.Ra(!0),this.vc&&(this.Ef.x+=a.x,this.Ef.y+=a.y,this.Li+=(c.x-this.P.W.x)*a.y-(c.y-this.P.W.y)*a.x))};H.prototype.ApplyForce=H.prototype.Ke;
H.prototype.ls=function(a,c){2===this.cb&&(("boolean"===typeof c?c:1)&&!this.vc&&this.Ra(!0),this.vc&&(this.Ef.x+=a.x,this.Ef.y+=a.y))};H.prototype.ApplyForceToCenter=H.prototype.ls;H.prototype.Fp=function(a,c){2===this.cb&&(("boolean"===typeof c?c:1)&&!this.vc&&this.Ra(!0),this.vc&&(this.Li+=a))};H.prototype.ApplyTorque=H.prototype.Fp;
H.prototype.wf=function(a,c,b){2===this.cb&&(("boolean"===typeof b?b:1)&&!this.vc&&this.Ra(!0),this.vc&&(this.fc.x+=this.zb*a.x,this.fc.y+=this.zb*a.y,this.ab+=this.cc*((c.x-this.P.W.x)*a.y-(c.y-this.P.W.y)*a.x)))};H.prototype.ApplyLinearImpulse=H.prototype.wf;H.prototype.ks=function(a,c){2===this.cb&&(("boolean"===typeof c?c:1)&&!this.vc&&this.Ra(!0),this.vc&&(this.ab+=this.cc*a))};H.prototype.ApplyAngularImpulse=H.prototype.ks;H.prototype.me=function(){return this.da};H.prototype.GetMass=H.prototype.me;
H.prototype.ki=function(){return this.Wf+this.da*v(this.P.hb,this.P.hb)};H.prototype.GetInertia=H.prototype.ki;H.prototype.Xp=function(a){a.qd=this.da;a.Rf=this.Wf+this.da*v(this.P.hb,this.P.hb);a.jc.e(this.P.hb);return a};H.prototype.GetMassData=H.prototype.Xp;
H.prototype.Sk=function(a){if(!this.j.ee&&2===this.cb){this.cc=this.Wf=this.zb=0;this.da=a.qd;0>=this.da&&(this.da=1);this.zb=1/this.da;0<a.Rf&&!this.ek&&(this.Wf=a.Rf-this.da*v(a.jc,a.jc),this.cc=1/this.Wf);var c=H.prototype.Sk.fv.e(this.P.W);this.P.hb.e(a.jc);Xb(this.Ma,this.P.hb,this.P.W);this.P.Vc.e(this.P.W);ub(this.fc,this.ab,x(this.P.W,c,u),this.fc)}};H.prototype.SetMassData=H.prototype.Sk;H.prototype.Sk.fv=new r;
H.prototype.Ih=function(){this.cc=this.Wf=this.zb=this.da=0;this.P.hb.ba();if(0===this.cb||1===this.cb)this.P.Vc.e(this.Ma.ta),this.P.W.e(this.Ma.ta),this.P.be=this.P.B;else{for(var a=H.prototype.Ih.qC.ba(),c=this.qe;c;c=c.Y)if(0!==c.Zf){var b=c.Xp(H.prototype.Ih.tC);this.da+=b.qd;a.x+=b.jc.x*b.qd;a.y+=b.jc.y*b.qd;this.Wf+=b.Rf}0<this.da?(this.zb=1/this.da,a.x*=this.zb,a.y*=this.zb):this.zb=this.da=1;0<this.Wf&&!this.ek?(this.Wf-=this.da*v(a,a),this.cc=1/this.Wf):this.cc=this.Wf=0;c=H.prototype.Ih.fv.e(this.P.W);
this.P.hb.e(a);Xb(this.Ma,this.P.hb,this.P.W);this.P.Vc.e(this.P.W);ub(this.fc,this.ab,x(this.P.W,c,u),this.fc)}};H.prototype.ResetMassData=H.prototype.Ih;H.prototype.Ih.qC=new r;H.prototype.Ih.fv=new r;H.prototype.Ih.tC=new Cd;H.prototype.sb=function(a,c){return Xb(this.Ma,a,c)};H.prototype.GetWorldPoint=H.prototype.sb;H.prototype.aj=function(a,c){return y(this.Ma.ha,a,c)};H.prototype.GetWorldVector=H.prototype.aj;H.prototype.Me=function(a,c){return Yb(this.Ma,a,c)};H.prototype.GetLocalPoint=H.prototype.Me;
H.prototype.Wp=function(a,c){return Ub(this.Ma.ha,a,c)};H.prototype.GetLocalVector=H.prototype.Wp;H.prototype.Dh=function(a,c){return ub(this.fc,this.ab,x(a,this.P.W,u),c)};H.prototype.GetLinearVelocityFromWorldPoint=H.prototype.Dh;H.prototype.fz=function(a,c){return this.Dh(this.sb(a,c),c)};H.prototype.GetLinearVelocityFromLocalPoint=H.prototype.fz;H.prototype.cz=function(){return this.Um};H.prototype.GetLinearDamping=H.prototype.cz;H.prototype.KA=function(a){this.Um=a};
H.prototype.SetLinearDamping=H.prototype.KA;H.prototype.ty=function(){return this.Jm};H.prototype.GetAngularDamping=H.prototype.ty;H.prototype.Iw=function(a){this.Jm=a};H.prototype.SetAngularDamping=H.prototype.Iw;H.prototype.Is=function(){return this.ul};H.prototype.GetGravityScale=H.prototype.Is;H.prototype.Am=function(a){this.ul=a};H.prototype.SetGravityScale=H.prototype.Am;
H.prototype.eq=function(a){if(!this.j.ee&&this.cb!==a){this.cb=a;this.Ih();0===this.cb&&(this.fc.ba(),this.ab=0,this.P.be=this.P.B,this.P.Vc.e(this.P.W),this.Bm());this.Ra(!0);this.Ef.ba();this.Li=0;for(a=this.bc;a;){var c=a;a=a.next;this.j.jb.Pf(c.ne)}this.bc=null;a=this.j.jb.Zc;for(c=this.qe;c;c=c.Y)for(var b=c.tf,d=0;d<b;++d)a.It(c.Zh[d].Pi)}};H.prototype.SetType=H.prototype.eq;H.prototype.Ic=function(){return this.cb};H.prototype.GetType=H.prototype.Ic;H.prototype.CA=function(a){this.tj=a};
H.prototype.SetBullet=H.prototype.CA;H.prototype.Tz=function(){return this.tj};H.prototype.IsBullet=H.prototype.Tz;H.prototype.TA=function(a){a?this.sl=!0:(this.sl=!1,this.Ra(!0))};H.prototype.SetSleepingAllowed=H.prototype.TA;H.prototype.Zz=function(){return this.sl};H.prototype.IsSleepingAllowed=H.prototype.Zz;H.prototype.Ra=function(a){a?this.vc||(this.vc=!0,this.uk=0):(this.vc=!1,this.uk=0,this.fc.ba(),this.ab=0,this.Ef.ba(),this.Li=0)};H.prototype.SetAwake=H.prototype.Ra;H.prototype.Sz=function(){return this.vc};
H.prototype.IsAwake=H.prototype.Sz;H.prototype.Gw=function(a){if(a!==this.Gh())if(a){this.rl=!0;a=this.j.jb.Zc;for(var c=this.qe;c;c=c.Y)c.ts(a,this.Ma)}else{this.rl=!1;a=this.j.jb.Zc;for(c=this.qe;c;c=c.Y)c.Lp(a);for(a=this.bc;a;)c=a,a=a.next,this.j.jb.Pf(c.ne);this.bc=null}};H.prototype.SetActive=H.prototype.Gw;H.prototype.Gh=function(){return this.rl};H.prototype.IsActive=H.prototype.Gh;H.prototype.GA=function(a){this.ek!==a&&(this.ek=a,this.ab=0,this.Ih())};H.prototype.SetFixedRotation=H.prototype.GA;
H.prototype.Vz=function(){return this.ek};H.prototype.IsFixedRotation=H.prototype.Vz;H.prototype.Oy=function(){return this.qe};H.prototype.GetFixtureList=H.prototype.Oy;H.prototype.Ls=function(){return this.yc};H.prototype.GetJointList=H.prototype.Ls;H.prototype.Kk=function(){return this.bc};H.prototype.GetContactList=H.prototype.Kk;H.prototype.vd=function(){return this.Y};H.prototype.GetNext=H.prototype.vd;H.prototype.ec=function(){return this.$e};H.prototype.GetUserData=H.prototype.ec;
H.prototype.fh=function(a){this.$e=a};H.prototype.SetUserData=H.prototype.fh;H.prototype.Zs=function(){return this.j};H.prototype.GetWorld=H.prototype.Zs;H.prototype.Bm=function(){var a=H.prototype.Bm.dD;a.ha.Ba(this.P.be);y(a.ha,this.P.hb,a.ta);x(this.P.Vc,a.ta,a.ta);for(var c=this.j.jb.Zc,b=this.qe;b;b=b.Y)b.ij(c,a,this.Ma)};H.prototype.SynchronizeFixtures=H.prototype.Bm;H.prototype.Bm.dD=new Vb;
H.prototype.Wk=function(){this.Ma.ha.Ba(this.P.B);y(this.Ma.ha,this.P.hb,this.Ma.ta);x(this.P.W,this.Ma.ta,this.Ma.ta)};H.prototype.SynchronizeTransform=H.prototype.Wk;H.prototype.Vk=function(a){if(2!==this.cb&&2!==a.cb)return!1;for(var c=this.yc;c;c=c.next)if(c.Of===a&&!c.kj.Do)return!1;return!0};H.prototype.ShouldCollide=H.prototype.Vk;
H.prototype.Wi=function(a){this.P.Wi(a);this.P.W.e(this.P.Vc);this.P.B=this.P.be;this.Ma.ha.Ba(this.P.B);y(this.Ma.ha,this.P.hb,this.Ma.ta);x(this.P.W,this.Ma.ta,this.Ma.ta)};H.prototype.Advance=H.prototype.Wi;H.prototype.Nb=function(){};H.prototype.Dump=H.prototype.Nb;H.prototype.Jy=function(){return this.pe};H.prototype.GetControllerList=H.prototype.Jy;H.prototype.Iy=function(){return this.qj};H.prototype.GetControllerCount=H.prototype.Iy;function de(){}p("box2d.b2Profile",de);de.prototype.step=0;de.prototype.step=de.prototype.step;de.prototype.og=0;de.prototype.collide=de.prototype.og;de.prototype.Ag=0;de.prototype.solve=de.prototype.Ag;de.prototype.af=0;de.prototype.solveInit=de.prototype.af;de.prototype.df=0;de.prototype.solveVelocity=de.prototype.df;de.prototype.bf=0;de.prototype.solvePosition=de.prototype.bf;de.prototype.ng=0;de.prototype.broadphase=de.prototype.ng;de.prototype.Bg=0;de.prototype.solveTOI=de.prototype.Bg;
de.prototype.ub=function(){this.Bg=this.ng=this.bf=this.df=this.af=this.Ag=this.og=this.step=0;return this};de.prototype.Reset=de.prototype.ub;function ee(){}p("box2d.b2TimeStep",ee);ee.prototype.Jb=0;ee.prototype.dt=ee.prototype.Jb;ee.prototype.Wc=0;ee.prototype.inv_dt=ee.prototype.Wc;ee.prototype.xd=0;ee.prototype.dtRatio=ee.prototype.xd;ee.prototype.Zg=0;ee.prototype.velocityIterations=ee.prototype.Zg;ee.prototype.zh=0;ee.prototype.positionIterations=ee.prototype.zh;ee.prototype.dg=0;
ee.prototype.particleIterations=ee.prototype.dg;ee.prototype.Je=!1;ee.prototype.warmStarting=ee.prototype.Je;ee.prototype.e=function(a){this.Jb=a.Jb;this.Wc=a.Wc;this.xd=a.xd;this.zh=a.zh;this.Zg=a.Zg;this.dg=a.dg;this.Je=a.Je;return this};ee.prototype.Copy=ee.prototype.e;function fe(){this.W=new r}p("box2d.b2Position",fe);fe.prototype.W=null;fe.prototype.c=fe.prototype.W;fe.prototype.B=0;fe.prototype.a=fe.prototype.B;function ge(a){return sa(a,function(){return new fe})}fe.MakeArray=ge;
function he(){this.oa=new r}p("box2d.b2Velocity",he);he.prototype.oa=null;he.prototype.v=he.prototype.oa;he.prototype.M=0;he.prototype.w=he.prototype.M;function ie(a){return sa(a,function(){return new he})}he.MakeArray=ie;function je(){this.step=new ee}p("box2d.b2SolverData",je);je.prototype.step=null;je.prototype.step=je.prototype.step;je.prototype.ga=null;je.prototype.positions=je.prototype.ga;je.prototype.L=null;je.prototype.velocities=je.prototype.L;function ke(){}p("box2d.b2DestructionListener",ke);ke.prototype.fo=function(){};ke.prototype.SayGoodbyeJoint=ke.prototype.fo;ke.prototype.$p=function(){};ke.prototype.SayGoodbyeFixture=ke.prototype.$p;ke.prototype.ho=function(){};ke.prototype.pt=function(){};function le(){}p("box2d.b2ContactFilter",le);le.prototype.Vk=function(a,c){var b=a.Fs(),d=c.Fs();return b.Ld===d.Ld&&0!==b.Ld?0<b.Ld:0!==(b.Kf&d.Af)&&0!==(b.Af&d.Kf)};le.prototype.ShouldCollide=le.prototype.Vk;le.prototype.oo=function(){return!0};
le.prototype.ShouldCollideFixtureParticle=le.prototype.oo;le.prototype.aB=function(){return!0};le.prototype.ShouldCollideParticleParticle=le.prototype.aB;var qe=new le;function re(){this.Rr=ta(2);this.sv=ta(2)}p("box2d.b2ContactImpulse",re);re.prototype.Rr=null;re.prototype.normalImpulses=re.prototype.Rr;re.prototype.sv=null;re.prototype.tangentImpulses=re.prototype.sv;re.prototype.count=0;re.prototype.count=re.prototype.count;function se(){}p("box2d.b2ContactListener",se);se.prototype.Qd=function(){};
se.prototype.BeginContact=se.prototype.Qd;se.prototype.Xd=function(){};se.prototype.EndContact=se.prototype.Xd;se.prototype.by=function(){};se.prototype.BeginContactFixtureParticle=se.prototype.by;se.prototype.py=function(){};se.prototype.EndContactFixtureParticle=se.prototype.py;se.prototype.cy=function(){};se.prototype.BeginContactParticleParticle=se.prototype.cy;se.prototype.qy=function(){};se.prototype.EndContactParticleParticle=se.prototype.qy;se.prototype.Mc=function(){};
se.prototype.PreSolve=se.prototype.Mc;se.prototype.Qe=function(){};se.prototype.PostSolve=se.prototype.Qe;var te=new se;se.b2_defaultListener=te;function ue(){}p("box2d.b2QueryCallback",ue);ue.prototype.Zd=function(){return!0};ue.prototype.ReportFixture=ue.prototype.Zd;ue.prototype.Hh=function(){return!1};ue.prototype.ReportParticle=ue.prototype.Hh;ue.prototype.Qj=function(){return!0};ue.prototype.ShouldQueryParticleSystem=ue.prototype.Qj;function ve(){}p("box2d.b2RayCastCallback",ve);
ve.prototype.Zd=function(a,c,b,d){return d};ve.prototype.ReportFixture=ve.prototype.Zd;ve.prototype.Hh=function(){return 0};ve.prototype.ReportParticle=ve.prototype.Hh;ve.prototype.Qj=function(){return!0};ve.prototype.ShouldQueryParticleSystem=ve.prototype.Qj;function we(){this.V=new r(0,1);this.eg=new r(0,0);this.Vj=new r(0,0)}q(we,wa);p("box2d.b2BuoyancyController",we);we.prototype.V=null;we.prototype.normal=we.prototype.V;we.prototype.offset=0;we.prototype.offset=we.prototype.offset;we.prototype.fa=0;we.prototype.density=we.prototype.fa;we.prototype.eg=null;we.prototype.velocity=we.prototype.eg;we.prototype.St=0;we.prototype.linearDrag=we.prototype.St;we.prototype.Mt=0;we.prototype.angularDrag=we.prototype.Mt;we.prototype.Yx=!1;
we.prototype.useDensity=we.prototype.Yx;we.prototype.Zx=!0;we.prototype.useWorldGravity=we.prototype.Zx;we.prototype.Vj=null;we.prototype.gravity=we.prototype.Vj;
we.prototype.o=function(){if(this.Cb){this.Zx&&this.Vj.e(this.j.Hs());for(var a=this.Cb;a;a=a.Nf){var c=a.body;if(c.vc){for(var b=new r,d=new r,e=0,f=0,h=c.qe;h;h=h.Y){var k=new r,l=h.$a.Rd(this.V,this.offset,c.Wb(),k),e=e+l;b.x+=l*k.x;b.y+=l*k.y;var m=0,m=this.Yx?h.Up():1,f=f+l*m;d.x+=l*k.x*m;d.y+=l*k.y*m}b.x/=e;b.y/=e;d.x/=f;d.y/=f;1E-5>e||(f=this.Vj.za().Pa(),f.Ia(this.fa*e),c.Ke(f,d),d=c.Dh(b,new r),d.Pb(this.eg),d.Ia(-this.St*e),c.Ke(d,b),c.Fp(-c.ki()/c.me()*e*c.sm()*this.Mt))}}}};
we.prototype.Step=we.prototype.o;we.prototype.Hk=function(a){var c=new r,b=new r;c.x=this.V.x*this.offset+100*this.V.y;c.y=this.V.y*this.offset-100*this.V.x;b.x=this.V.x*this.offset-100*this.V.y;b.y=this.V.y*this.offset+100*this.V.x;a.oc(c,b,new xa(0,0,.8))};we.prototype.Draw=we.prototype.Hk;p("box2d.b2MixFriction",function(a,c){return Qa(a*c)});function xe(a,c){return a>c?a:c}p("box2d.b2MixRestitution",xe);function ye(){}p("box2d.b2ContactEdge",ye);ye.prototype.Of=null;ye.prototype.other=ye.prototype.Of;ye.prototype.ne=null;ye.prototype.contact=ye.prototype.ne;ye.prototype.Cc=null;ye.prototype.prev=ye.prototype.Cc;ye.prototype.next=null;ye.prototype.next=ye.prototype.next;function I(){this.re=new ye;this.se=new ye;this.Xe=new Bc;this.Hl=new Bc}p("box2d.b2Contact",I);I.prototype.$c=!1;
I.prototype.m_flag_islandFlag=I.prototype.$c;I.prototype.gk=!1;I.prototype.m_flag_touchingFlag=I.prototype.gk;I.prototype.uj=!1;I.prototype.m_flag_enabledFlag=I.prototype.uj;I.prototype.ar=!1;I.prototype.m_flag_filterFlag=I.prototype.ar;I.prototype.iB=!1;I.prototype.m_flag_bulletHitFlag=I.prototype.iB;I.prototype.fk=!1;I.prototype.m_flag_toiFlag=I.prototype.fk;I.prototype.qb=null;I.prototype.m_prev=I.prototype.qb;I.prototype.Y=null;I.prototype.m_next=I.prototype.Y;I.prototype.re=null;
I.prototype.m_nodeA=I.prototype.re;I.prototype.se=null;I.prototype.m_nodeB=I.prototype.se;I.prototype.Xb=null;I.prototype.m_fixtureA=I.prototype.Xb;I.prototype.Yb=null;I.prototype.m_fixtureB=I.prototype.Yb;I.prototype.O=0;I.prototype.m_indexA=I.prototype.O;I.prototype.J=0;I.prototype.m_indexB=I.prototype.J;I.prototype.Xe=null;I.prototype.m_manifold=I.prototype.Xe;I.prototype.$o=0;I.prototype.m_toiCount=I.prototype.$o;I.prototype.Mr=0;I.prototype.m_toi=I.prototype.Mr;I.prototype.$f=0;
I.prototype.m_friction=I.prototype.$f;I.prototype.bg=0;I.prototype.m_restitution=I.prototype.bg;I.prototype.Lr=0;I.prototype.m_tangentSpeed=I.prototype.Lr;I.prototype.Hl=null;I.prototype.m_oldManifold=I.prototype.Hl;I.prototype.gz=function(){return this.Xe};I.prototype.GetManifold=I.prototype.gz;I.prototype.$s=function(a){var c=this.Yb.Ob(),b=this.Xb.$a,d=this.Yb.$a;a.U(this.Xe,this.Xb.Ob().Wb(),b.N,c.Wb(),d.N)};I.prototype.GetWorldManifold=I.prototype.$s;I.prototype.$z=function(){return this.gk};
I.prototype.IsTouching=I.prototype.$z;I.prototype.vt=function(a){this.uj=a};I.prototype.SetEnabled=I.prototype.vt;I.prototype.Uz=function(){return this.uj};I.prototype.IsEnabled=I.prototype.Uz;I.prototype.vd=function(){return this.Y};I.prototype.GetNext=I.prototype.vd;I.prototype.My=function(){return this.Xb};I.prototype.GetFixtureA=I.prototype.My;I.prototype.Cy=function(){return this.O};I.prototype.GetChildIndexA=I.prototype.Cy;I.prototype.Ny=function(){return this.Yb};I.prototype.GetFixtureB=I.prototype.Ny;
I.prototype.Dy=function(){return this.J};I.prototype.GetChildIndexB=I.prototype.Dy;I.prototype.ud=function(){};I.prototype.Evaluate=I.prototype.ud;I.prototype.Pp=function(){this.ar=!0};I.prototype.FlagForFiltering=I.prototype.Pp;I.prototype.wt=function(a){this.$f=a};I.prototype.SetFriction=I.prototype.wt;I.prototype.Gs=function(){return this.$f};I.prototype.GetFriction=I.prototype.Gs;I.prototype.lA=function(){this.$f=Qa(this.Xb.$f*this.Yb.$f)};I.prototype.ResetFriction=I.prototype.lA;
I.prototype.At=function(a){this.bg=a};I.prototype.SetRestitution=I.prototype.At;I.prototype.Us=function(){return this.bg};I.prototype.GetRestitution=I.prototype.Us;I.prototype.oA=function(){this.bg=xe(this.Xb.bg,this.Yb.bg)};I.prototype.ResetRestitution=I.prototype.oA;I.prototype.Dt=function(a){this.Lr=a};I.prototype.SetTangentSpeed=I.prototype.Dt;I.prototype.Iz=function(){return this.Lr};I.prototype.GetTangentSpeed=I.prototype.Iz;
I.prototype.ub=function(a,c,b,d){this.uj=!0;this.Xb=a;this.Yb=b;this.O=c;this.J=d;this.Xe.Wa=0;this.Y=this.qb=null;this.re.ne=null;this.re.Cc=null;this.re.next=null;this.re.Of=null;this.se.ne=null;this.se.Cc=null;this.se.next=null;this.se.Of=null;this.$o=0;this.$f=Qa(this.Xb.$f*this.Yb.$f);this.bg=xe(this.Xb.bg,this.Yb.bg)};I.prototype.Reset=I.prototype.ub;
I.prototype.fq=function(a){var c=this.Hl;this.Hl=this.Xe;this.Xe=c;this.uj=!0;var b=!1,c=this.gk,d=this.Yb.We,d=this.Xb.We||d,e=this.Xb.Ob(),f=this.Yb.Ob(),b=e.Wb(),h=f.Wb();if(d)b=Oc(this.Xb.$a,this.O,this.Yb.$a,this.J,b,h),this.Xe.Wa=0;else{this.ud(this.Xe,b,h);b=0<this.Xe.Wa;for(h=0;h<this.Xe.Wa;++h){var k=this.Xe.Oa[h];k.gc=0;k.Hd=0;for(var l=k.id,m=0;m<this.Hl.Wa;++m){var n=this.Hl.Oa[m];if(n.id.key===l.key){k.gc=n.gc;k.Hd=n.Hd;break}}}b!==c&&(e.Ra(!0),f.Ra(!0))}this.gk=b;!c&&b&&a&&a.Qd(this);
c&&!b&&a&&a.Xd(this);!d&&b&&a&&a.Mc(this,this.Hl)};I.prototype.Update=I.prototype.fq;I.prototype.Hn=function(a,c){var b=I.prototype.Hn.up;b.hd.Lh(this.Xb.$a,this.O);b.Ed.Lh(this.Yb.$a,this.J);b.zn.e(a);b.An.e(c);b.Bn=.008;var d=I.prototype.Hn.vp;Yd(d,b);return d.Ah};I.prototype.ComputeTOI=I.prototype.Hn;I.prototype.Hn.up=new Td;I.prototype.Hn.vp=new Vd;function ze(){I.call(this)}q(ze,I);p("box2d.b2ChainAndCircleContact",ze);function Ae(){return new ze}ze.Create=Ae;ze.Destroy=function(){};ze.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a,f=ze.prototype.ud.av;(d instanceof Fd?d:null).On(f,this.O);Rc(a,f,c,e instanceof A?e:null,b)};ze.prototype.Evaluate=ze.prototype.ud;ze.prototype.ud.av=new C;function Be(){I.call(this)}q(Be,I);p("box2d.b2ChainAndPolygonContact",Be);function Me(){return new Be}Be.Create=Me;Be.Destroy=function(){};Be.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a,f=Be.prototype.ud.av;(d instanceof Fd?d:null).On(f,this.O);kd(a,f,c,e instanceof D?e:null,b)};Be.prototype.Evaluate=Be.prototype.ud;Be.prototype.ud.av=new C;function Ne(){I.call(this)}q(Ne,I);p("box2d.b2CircleContact",Ne);function Oe(){return new Ne}Ne.Create=Oe;Ne.Destroy=function(){};Ne.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;Pc(a,d instanceof A?d:null,c,e instanceof A?e:null,b)};Ne.prototype.Evaluate=Ne.prototype.ud;function Pe(){}p("box2d.b2ContactRegister",Pe);Pe.prototype.bl=null;Pe.prototype.Ot=null;Pe.prototype.Wu=!1;function Qe(a){this.Xf=a;this.uw()}p("box2d.b2ContactFactory",Qe);Qe.prototype.Xf=null;Qe.prototype.Mj=function(a,c,b,d){function e(a){h.push(a)}function f(b){return 0<h.length?h.pop():a(b)}var h=sa(256,function(){return a()});this.vh[b][d].tB=h;this.vh[b][d].bl=f;this.vh[b][d].Ot=e;this.vh[b][d].Wu=!0;b!==d&&(this.vh[d][b].tB=h,this.vh[d][b].bl=f,this.vh[d][b].Ot=e,this.vh[d][b].Wu=!1)};
Qe.prototype.AddType=Qe.prototype.Mj;Qe.prototype.uw=function(){this.vh=Array(4);for(var a=0;4>a;a++){this.vh[a]=Array(4);for(var c=0;4>c;c++)this.vh[a][c]=new Pe}this.Mj(Oe,0,0,0);this.Mj(Re,0,2,0);this.Mj(Se,0,2,2);this.Mj(Te,0,1,0);this.Mj(We,0,1,2);this.Mj(Ae,0,3,0);this.Mj(Me,0,3,2)};Qe.prototype.InitializeRegisters=Qe.prototype.uw;Qe.prototype.In=function(a,c,b,d){var e=this.vh[a.Ic()][b.Ic()],f=e.bl;return null!==f?(e.Wu?(e=f(this.Xf),e.ub(a,c,b,d)):(e=f(this.Xf),e.ub(b,d,a,c)),e):null};
Qe.prototype.Create=Qe.prototype.In;Qe.prototype.Pf=function(a){var c=a.Xb,b=a.Yb;0<a.Xe.Wa&&!c.We&&!b.We&&(c.Ob().Ra(!0),b.Ob().Ra(!0));c=this.vh[c.Ic()][b.Ic()].Ot;c(a,this.Xf)};Qe.prototype.Destroy=Qe.prototype.Pf;function Xe(){this.Zc=new Ad;this.Rq=new Qe(this.Xf)}Xe.prototype.Zc=null;p("box2d.b2ContactManager.prototype.m_broadPhase",Xe.prototype.Zc);Xe.prototype.bc=null;p("box2d.b2ContactManager.prototype.m_contactList",Xe.prototype.bc);Xe.prototype.tg=0;p("box2d.b2ContactManager.prototype.m_contactCount",Xe.prototype.tg);Xe.prototype.Ph=qe;p("box2d.b2ContactManager.prototype.m_contactFilter",Xe.prototype.Ph);Xe.prototype.Qh=te;p("box2d.b2ContactManager.prototype.m_contactListener",Xe.prototype.Qh);
Xe.prototype.Xf=null;p("box2d.b2ContactManager.prototype.m_allocator",Xe.prototype.Xf);Xe.prototype.Rq=null;p("box2d.b2ContactManager.prototype.m_contactFactory",Xe.prototype.Rq);
Xe.prototype.Pf=function(a){var c=a.Xb.Ob(),b=a.Yb.Ob();this.Qh&&a.gk&&this.Qh.Xd(a);a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.bc&&(this.bc=a.Y);a.re.Cc&&(a.re.Cc.next=a.re.next);a.re.next&&(a.re.next.Cc=a.re.Cc);a.re===c.bc&&(c.bc=a.re.next);a.se.Cc&&(a.se.Cc.next=a.se.next);a.se.next&&(a.se.next.Cc=a.se.Cc);a.se===b.bc&&(b.bc=a.se.next);this.Rq.Pf(a);--this.tg};p("box2d.b2ContactManager.prototype.Destroy",Xe.prototype.Pf);
Xe.prototype.Gn=function(){for(var a=this.bc;a;){var c=a.Xb,b=a.Yb,d=a.O,e=a.J,f=c.Ob(),h=b.Ob();if(a.ar){if(!h.Vk(f)){c=a;a=c.Y;this.Pf(c);continue}if(this.Ph&&!this.Ph.Vk(c,b)){c=a;a=c.Y;this.Pf(c);continue}a.ar=!1}h=h.vc&&0!==h.cb;f.vc&&0!==f.cb||h?this.Zc.qo(c.Zh[d].Pi,b.Zh[e].Pi)?(a.fq(this.Qh),a=a.Y):(c=a,a=c.Y,this.Pf(c)):a=a.Y}};p("box2d.b2ContactManager.prototype.Collide",Xe.prototype.Gn);Xe.prototype.Op=function(){this.Zc.hx(this)};p("box2d.b2ContactManager.prototype.FindNewContacts",Xe.prototype.Op);
Xe.prototype.zv=function(a,c){var b=a.qg,d=c.qg,e=a.wo,f=c.wo,h=b.Ob(),k=d.Ob();if(h!==k){for(var l=k.Kk();l;){if(l.Of===h){var m=l.ne.Xb,n=l.ne.Yb,t=l.ne.O,z=l.ne.J;if(m===b&&n===d&&t===e&&z===f||m===d&&n===b&&t===f&&z===e)return}l=l.next}!k.Vk(h)||this.Ph&&!this.Ph.Vk(b,d)||(e=this.Rq.In(b,e,d,f),null!==e&&(b=e.Xb,d=e.Yb,h=b.xa,k=d.xa,e.qb=null,e.Y=this.bc,null!==this.bc&&(this.bc.qb=e),this.bc=e,e.re.ne=e,e.re.Of=k,e.re.Cc=null,e.re.next=h.bc,null!==h.bc&&(h.bc.Cc=e.re),h.bc=e.re,e.se.ne=e,e.se.Of=
h,e.se.Cc=null,e.se.next=k.bc,null!==k.bc&&(k.bc.Cc=e.se),k.bc=e.se,b.We||d.We||(h.Ra(!0),k.Ra(!0)),++this.tg))}};p("box2d.b2ContactManager.prototype.AddPair",Xe.prototype.zv);function Ye(){I.call(this)}q(Ye,I);p("box2d.b2EdgeAndCircleContact",Ye);function Te(){return new Ye}Ye.Create=Te;Ye.Destroy=function(){};Ye.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;Rc(a,d instanceof C?d:null,c,e instanceof A?e:null,b)};Ye.prototype.Evaluate=Ye.prototype.ud;function Ze(){I.call(this)}q(Ze,I);p("box2d.b2EdgeAndPolygonContact",Ze);function We(){return new Ze}Ze.Create=We;Ze.Destroy=function(){};Ze.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;kd(a,d instanceof C?d:null,c,e instanceof D?e:null,b)};Ze.prototype.Evaluate=Ze.prototype.ud;function $e(){I.call(this)}q($e,I);p("box2d.b2PolygonAndCircleContact",$e);function Re(){return new $e}$e.Create=Re;$e.Destroy=function(){};$e.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;Qc(a,d instanceof D?d:null,c,e instanceof A?e:null,b)};$e.prototype.Evaluate=$e.prototype.ud;function af(){I.call(this)}q(af,I);p("box2d.b2PolygonContact",af);function Se(){return new af}af.Create=Se;af.Destroy=function(){};af.prototype.ud=function(a,c,b){var d=this.Xb.$a,e=this.Yb.$a;od(a,d instanceof D?d:null,c,e instanceof D?e:null,b)};af.prototype.Evaluate=af.prototype.ud;var bf=!0;function cf(){this.Fd=new r;this.Gd=new r}p("box2d.b2VelocityConstraintPoint",cf);cf.prototype.Fd=null;cf.prototype.rA=cf.prototype.Fd;cf.prototype.Gd=null;cf.prototype.rB=cf.prototype.Gd;cf.prototype.gc=0;cf.prototype.normalImpulse=cf.prototype.gc;cf.prototype.Hd=0;cf.prototype.tangentImpulse=cf.prototype.Hd;cf.prototype.yh=0;cf.prototype.normalMass=cf.prototype.yh;cf.prototype.es=0;cf.prototype.tangentMass=cf.prototype.es;cf.prototype.Ck=0;cf.prototype.velocityBias=cf.prototype.Ck;
function df(a){return sa(a,function(){return new cf})}cf.MakeArray=df;function ef(){this.Oa=df(2);this.V=new r;this.Cn=new r;this.yh=new Gb;this.cj=new Gb}p("box2d.b2ContactVelocityConstraint",ef);ef.prototype.Oa=null;ef.prototype.points=ef.prototype.Oa;ef.prototype.V=null;ef.prototype.normal=ef.prototype.V;ef.prototype.Cn=null;ef.prototype.tangent=ef.prototype.Cn;ef.prototype.yh=null;ef.prototype.normalMass=ef.prototype.yh;ef.prototype.cj=null;ef.prototype.K=ef.prototype.cj;ef.prototype.X=0;
ef.prototype.indexA=ef.prototype.X;ef.prototype.aa=0;ef.prototype.indexB=ef.prototype.aa;ef.prototype.ti=0;ef.prototype.invMassA=ef.prototype.ti;ef.prototype.ui=0;ef.prototype.invMassB=ef.prototype.ui;ef.prototype.ri=0;ef.prototype.invIA=ef.prototype.ri;ef.prototype.si=0;ef.prototype.invIB=ef.prototype.si;ef.prototype.gb=0;ef.prototype.friction=ef.prototype.gb;ef.prototype.dc=0;ef.prototype.restitution=ef.prototype.dc;ef.prototype.tv=0;ef.prototype.tangentSpeed=ef.prototype.tv;ef.prototype.Wa=0;
ef.prototype.pointCount=ef.prototype.Wa;ef.prototype.jq=0;ef.prototype.contactIndex=ef.prototype.jq;function ff(a){return sa(a,function(){return new ef})}ef.MakeArray=ff;function gf(){this.Gm=gb(2);this.md=new r;this.nb=new r;this.Em=new r;this.Fm=new r}p("box2d.b2ContactPositionConstraint",gf);gf.prototype.Gm=null;gf.prototype.localPoints=gf.prototype.Gm;gf.prototype.md=null;gf.prototype.localNormal=gf.prototype.md;gf.prototype.nb=null;gf.prototype.localPoint=gf.prototype.nb;gf.prototype.X=0;
gf.prototype.indexA=gf.prototype.X;gf.prototype.aa=0;gf.prototype.indexB=gf.prototype.aa;gf.prototype.ti=0;gf.prototype.invMassA=gf.prototype.ti;gf.prototype.ui=0;gf.prototype.invMassB=gf.prototype.ui;gf.prototype.Em=null;gf.prototype.localCenterA=gf.prototype.Em;gf.prototype.Fm=null;gf.prototype.localCenterB=gf.prototype.Fm;gf.prototype.ri=0;gf.prototype.invIA=gf.prototype.ri;gf.prototype.si=0;gf.prototype.invIB=gf.prototype.si;gf.prototype.type=-1;gf.prototype.type=gf.prototype.type;
gf.prototype.sn=0;gf.prototype.radiusA=gf.prototype.sn;gf.prototype.tn=0;gf.prototype.radiusB=gf.prototype.tn;gf.prototype.Wa=0;gf.prototype.pointCount=gf.prototype.Wa;function hf(a){return sa(a,function(){return new gf})}gf.MakeArray=hf;function jf(){this.step=new ee}p("box2d.b2ContactSolverDef",jf);jf.prototype.step=null;jf.prototype.step=jf.prototype.step;jf.prototype.kq=null;jf.prototype.contacts=jf.prototype.kq;jf.prototype.count=0;jf.prototype.count=jf.prototype.count;jf.prototype.ga=null;
jf.prototype.positions=jf.prototype.ga;jf.prototype.L=null;jf.prototype.velocities=jf.prototype.L;jf.prototype.Zk=null;jf.prototype.allocator=jf.prototype.Zk;function kf(){this.xh=new ee;this.Yh=hf(1024);this.zg=ff(1024)}p("box2d.b2ContactSolver",kf);kf.prototype.xh=null;kf.prototype.m_step=kf.prototype.xh;kf.prototype.Ab=null;kf.prototype.m_positions=kf.prototype.Ab;kf.prototype.Sb=null;kf.prototype.m_velocities=kf.prototype.Sb;kf.prototype.Xf=null;kf.prototype.m_allocator=kf.prototype.Xf;
kf.prototype.Yh=null;kf.prototype.m_positionConstraints=kf.prototype.Yh;kf.prototype.zg=null;kf.prototype.m_velocityConstraints=kf.prototype.zg;kf.prototype.Yf=null;kf.prototype.m_contacts=kf.prototype.Yf;kf.prototype.n=0;kf.prototype.m_count=kf.prototype.n;
kf.prototype.U=function(a){this.xh.e(a.step);this.Xf=a.Zk;this.n=a.count;if(this.Yh.length<this.n)for(var c=Ja(2*this.Yh.length,this.n);this.Yh.length<c;)this.Yh[this.Yh.length]=new gf;if(this.zg.length<this.n)for(c=Ja(2*this.zg.length,this.n);this.zg.length<c;)this.zg[this.zg.length]=new ef;this.Ab=a.ga;this.Sb=a.L;this.Yf=a.kq;var b,d,e,f,h,k,l,m;a=0;for(c=this.n;a<c;++a)for(e=this.Yf[a],f=e.Xb,h=e.Yb,b=f.$a,d=h.$a,b=b.N,d=d.N,k=f.Ob(),l=h.Ob(),h=e.Xe,m=h.Wa,f=this.zg[a],f.gb=e.$f,f.dc=e.bg,f.tv=
e.Lr,f.X=k.Zb,f.aa=l.Zb,f.ti=k.zb,f.ui=l.zb,f.ri=k.cc,f.si=l.cc,f.jq=a,f.Wa=m,f.cj.ba(),f.yh.ba(),e=this.Yh[a],e.X=k.Zb,e.aa=l.Zb,e.ti=k.zb,e.ui=l.zb,e.Em.e(k.P.hb),e.Fm.e(l.P.hb),e.ri=k.cc,e.si=l.cc,e.md.e(h.md),e.nb.e(h.nb),e.Wa=m,e.sn=b,e.tn=d,e.type=h.type,b=0,d=m;b<d;++b)k=h.Oa[b],m=f.Oa[b],this.xh.Je?(m.gc=this.xh.xd*k.gc,m.Hd=this.xh.xd*k.Hd):(m.gc=0,m.Hd=0),m.Fd.ba(),m.Gd.ba(),m.yh=0,m.es=0,m.Ck=0,e.Gm[b].e(k.nb);return this};kf.prototype.Initialize=kf.prototype.U;
kf.prototype.bj=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa,na,mb=kf.prototype.bj.Si,Za=kf.prototype.bj.Ti,$a=kf.prototype.bj.ov;a=0;for(c=this.n;a<c;++a){e=this.zg[a];f=this.Yh[a];b=f.sn;d=f.tn;h=this.Yf[e.jq].Xe;k=e.X;l=e.aa;m=e.ti;n=e.ui;t=e.ri;z=e.si;B=f.Em;O=f.Fm;f=this.Ab[k].W;ia=this.Ab[k].B;aa=this.Sb[k].oa;k=this.Sb[k].M;ua=this.Ab[l].W;Fa=this.Ab[l].B;na=this.Sb[l].oa;l=this.Sb[l].M;mb.ha.Ba(ia);Za.ha.Ba(Fa);x(f,y(mb.ha,B,u),mb.ta);x(ua,y(Za.ha,O,u),Za.ta);$a.U(h,mb,b,Za,d);
e.V.e($a.V);lb(e.V,1,e.Cn);d=e.Wa;for(b=0;b<d;++b)h=e.Oa[b],x($a.Oa[b],f,h.Fd),x($a.Oa[b],ua,h.Gd),B=w(h.Fd,e.V),O=w(h.Gd,e.V),B=m+n+t*B*B+z*O*O,h.yh=0<B?1/B:0,O=e.Cn,B=w(h.Fd,O),O=w(h.Gd,O),B=m+n+t*B*B+z*O*O,h.es=0<B?1/B:0,h.Ck=0,B=v(e.V,x(ub(na,l,h.Gd,u),ub(aa,k,h.Fd,db),u)),-1>B&&(h.Ck+=-e.dc*B);2===e.Wa&&bf&&(aa=e.Oa[0],ua=e.Oa[1],f=w(aa.Fd,e.V),aa=w(aa.Gd,e.V),k=w(ua.Fd,e.V),l=w(ua.Gd,e.V),ua=m+n+t*f*f+z*aa*aa,na=m+n+t*k*k+z*l*l,m=m+n+t*f*k+z*aa*l,ua*ua<1E3*(ua*na-m*m)?(e.cj.$.h(ua,m),e.cj.ca.h(m,
na),e.cj.tm(e.yh)):e.Wa=1)}};kf.prototype.InitializeVelocityConstraints=kf.prototype.bj;kf.prototype.bj.Si=new Vb;kf.prototype.bj.Ti=new Vb;kf.prototype.bj.ov=new Cc;
kf.prototype.hq=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa=kf.prototype.hq.tb;a=0;for(c=this.n;a<c;++a){e=this.zg[a];f=e.X;h=e.aa;k=e.ti;l=e.ri;m=e.ui;n=e.si;d=e.Wa;t=this.Sb[f].oa;z=this.Sb[f].M;B=this.Sb[h].oa;O=this.Sb[h].M;ia=e.V;aa=e.Cn;for(b=0;b<d;++b)ua=e.Oa[b],pb(qb(ua.gc,ia,u),qb(ua.Hd,aa,db),Fa),z-=l*w(ua.Fd,Fa),t.mb(k,Fa),O+=n*w(ua.Gd,Fa),B.wa(m,Fa);this.Sb[f].M=z;this.Sb[h].M=O}};kf.prototype.WarmStart=kf.prototype.hq;kf.prototype.hq.tb=new r;
kf.prototype.R=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa,na,mb=kf.prototype.R.$B,Za=kf.prototype.R.aC,$a=kf.prototype.R.bC,nb,Na,Oa=kf.prototype.R.tb,Mb=kf.prototype.R.BB,oc=kf.prototype.R.FB,cb=kf.prototype.R.cD,ab=kf.prototype.R.sd,bc=kf.prototype.R.xB,cc=kf.prototype.R.zB,Lc=kf.prototype.R.yB;a=0;for(c=this.n;a<c;++a){e=this.zg[a];f=e.X;h=e.aa;k=e.ti;l=e.ri;m=e.ui;n=e.si;t=e.Wa;z=this.Sb[f].oa;B=this.Sb[f].M;O=this.Sb[h].oa;ia=this.Sb[h].M;aa=e.V;ua=e.Cn;Fa=e.gb;b=0;for(d=t;b<d;++b)na=
e.Oa[b],x(ub(O,ia,na.Gd,u),ub(z,B,na.Fd,db),mb),nb=v(mb,ua)-e.tv,nb=na.es*-nb,Na=Fa*na.gc,Na=Ka(na.Hd+nb,-Na,Na),nb=Na-na.Hd,na.Hd=Na,qb(nb,ua,Oa),z.mb(k,Oa),B-=l*w(na.Fd,Oa),O.wa(m,Oa),ia+=n*w(na.Gd,Oa);if(1!==e.Wa&&bf)for(t=e.Oa[0],na=e.Oa[1],Mb.h(t.gc,na.gc),x(ub(O,ia,t.Gd,u),ub(z,B,t.Fd,db),Za),x(ub(O,ia,na.Gd,u),ub(z,B,na.Fd,db),$a),b=v(Za,aa),d=v($a,aa),oc.x=b-t.Ck,oc.y=d-na.Ck,oc.Pb(Hb(e.cj,Mb,u));;){Hb(e.yh,oc,cb).Pa();if(0<=cb.x&&0<=cb.y){x(cb,Mb,ab);qb(ab.x,aa,bc);qb(ab.y,aa,cc);pb(bc,cc,
Lc);z.mb(k,Lc);B-=l*(w(t.Fd,bc)+w(na.Fd,cc));O.wa(m,Lc);ia+=n*(w(t.Gd,bc)+w(na.Gd,cc));t.gc=cb.x;na.gc=cb.y;break}cb.x=-t.yh*oc.x;cb.y=0;d=e.cj.$.y*cb.x+oc.y;if(0<=cb.x&&0<=d){x(cb,Mb,ab);qb(ab.x,aa,bc);qb(ab.y,aa,cc);pb(bc,cc,Lc);z.mb(k,Lc);B-=l*(w(t.Fd,bc)+w(na.Fd,cc));O.wa(m,Lc);ia+=n*(w(t.Gd,bc)+w(na.Gd,cc));t.gc=cb.x;na.gc=cb.y;break}cb.x=0;cb.y=-na.yh*oc.y;b=e.cj.ca.x*cb.y+oc.x;if(0<=cb.y&&0<=b){x(cb,Mb,ab);qb(ab.x,aa,bc);qb(ab.y,aa,cc);pb(bc,cc,Lc);z.mb(k,Lc);B-=l*(w(t.Fd,bc)+w(na.Fd,cc));
O.wa(m,Lc);ia+=n*(w(t.Gd,bc)+w(na.Gd,cc));t.gc=cb.x;na.gc=cb.y;break}cb.x=0;cb.y=0;b=oc.x;d=oc.y;if(0<=b&&0<=d){x(cb,Mb,ab);qb(ab.x,aa,bc);qb(ab.y,aa,cc);pb(bc,cc,Lc);z.mb(k,Lc);B-=l*(w(t.Fd,bc)+w(na.Fd,cc));O.wa(m,Lc);ia+=n*(w(t.Gd,bc)+w(na.Gd,cc));t.gc=cb.x;na.gc=cb.y;break}break}else for(b=0;b<t;++b)na=e.Oa[b],x(ub(O,ia,na.Gd,u),ub(z,B,na.Fd,db),mb),d=v(mb,aa),nb=-na.yh*(d-na.Ck),Na=Ja(na.gc+nb,0),nb=Na-na.gc,na.gc=Na,qb(nb,aa,Oa),z.mb(k,Oa),B-=l*w(na.Fd,Oa),O.wa(m,Oa),ia+=n*w(na.Gd,Oa);this.Sb[f].M=
B;this.Sb[h].M=ia}};kf.prototype.SolveVelocityConstraints=kf.prototype.R;g=kf.prototype;g.R.$B=new r;g.R.aC=new r;g.R.bC=new r;g.R.tb=new r;g.R.BB=new r;g.R.FB=new r;g.R.cD=new r;g.R.sd=new r;g.R.xB=new r;g.R.zB=new r;g.R.yB=new r;g.cx=function(){var a,c,b,d,e,f;a=0;for(c=this.n;a<c;++a)for(e=this.zg[a],f=this.Yf[e.jq].Xe,b=0,d=e.Wa;b<d;++b)f.Oa[b].gc=e.Oa[b].gc,f.Oa[b].Hd=e.Oa[b].Hd};kf.prototype.StoreImpulses=kf.prototype.cx;function lf(){this.V=new r;this.bm=new r}
p("box2d.b2PositionSolverManifold",lf);lf.prototype.V=null;lf.prototype.normal=lf.prototype.V;lf.prototype.bm=null;lf.prototype.point=lf.prototype.bm;lf.prototype.Vd=0;lf.prototype.separation=lf.prototype.Vd;
lf.prototype.U=function(a,c,b,d){var e=lf.prototype.U.Wg,f=lf.prototype.U.Xg,h=lf.prototype.U.un,k=lf.prototype.U.Wr;switch(a.type){case 0:Xb(c,a.nb,e);Xb(b,a.Gm[0],f);x(f,e,this.V).jg();vb(e,f,this.bm);this.Vd=v(x(f,e,u),this.V)-a.sn-a.tn;break;case 1:y(c.ha,a.md,this.V);Xb(c,a.nb,h);Xb(b,a.Gm[d],k);this.Vd=v(x(k,h,u),this.V)-a.sn-a.tn;this.bm.e(k);break;case 2:y(b.ha,a.md,this.V),Xb(b,a.nb,h),Xb(c,a.Gm[d],k),this.Vd=v(x(k,h,u),this.V)-a.sn-a.tn,this.bm.e(k),this.V.Pa()}};
lf.prototype.Initialize=lf.prototype.U;lf.prototype.U.Wg=new r;lf.prototype.U.Xg=new r;lf.prototype.U.un=new r;lf.prototype.U.Wr=new r;
kf.prototype.ra=function(){var a,c,b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua=kf.prototype.ra.Si,Fa=kf.prototype.ra.Ti,na=kf.prototype.ra.kv,mb,Za,$a,nb=kf.prototype.ra.hm,Na=kf.prototype.ra.im,Oa,Mb=kf.prototype.ra.tb,oc=0;a=0;for(c=this.n;a<c;++a){e=this.Yh[a];f=e.X;h=e.aa;k=e.Em;l=e.ti;m=e.ri;n=e.Fm;t=e.ui;z=e.si;d=e.Wa;B=this.Ab[f].W;O=this.Ab[f].B;ia=this.Ab[h].W;aa=this.Ab[h].B;for(b=0;b<d;++b)ua.ha.Ba(O),Fa.ha.Ba(aa),x(B,y(ua.ha,k,u),ua.ta),x(ia,y(Fa.ha,n,u),Fa.ta),na.U(e,ua,Fa,b),mb=na.V,Za=na.bm,
$a=na.Vd,x(Za,B,nb),x(Za,ia,Na),oc=Ia(oc,$a),Za=Ka(.2*($a+.008),-.2,0),$a=w(nb,mb),Oa=w(Na,mb),$a=l+t+m*$a*$a+z*Oa*Oa,Za=0<$a?-Za/$a:0,qb(Za,mb,Mb),B.mb(l,Mb),O-=m*w(nb,Mb),ia.wa(t,Mb),aa+=z*w(Na,Mb);this.Ab[f].B=O;this.Ab[h].B=aa}return-.024<oc};kf.prototype.SolvePositionConstraints=kf.prototype.ra;g=kf.prototype;g.ra.Si=new Vb;g.ra.Ti=new Vb;g.ra.kv=new lf;g.ra.hm=new r;g.ra.im=new r;g.ra.tb=new r;
g.lg=function(a,c){var b,d,e,f,h,k,l,m,n,t,z,B,O,ia,aa,ua,Fa,na=kf.prototype.lg.Si,mb=kf.prototype.lg.Ti,Za=kf.prototype.lg.kv,$a,nb,Na,Oa=kf.prototype.lg.hm,Mb=kf.prototype.lg.im,oc,cb=kf.prototype.lg.tb,ab=0;b=0;for(d=this.n;b<d;++b){h=this.Yh[b];k=h.X;l=h.aa;m=h.Em;n=h.Fm;f=h.Wa;z=t=0;if(k===a||k===c)t=h.ti,z=h.ri;O=B=0;if(l===a||l===c)B=h.ui,O=h.si;ia=this.Ab[k].W;aa=this.Ab[k].B;ua=this.Ab[l].W;Fa=this.Ab[l].B;for(e=0;e<f;++e)na.ha.Ba(aa),mb.ha.Ba(Fa),x(ia,y(na.ha,m,u),na.ta),x(ua,y(mb.ha,n,
u),mb.ta),Za.U(h,na,mb,e),$a=Za.V,nb=Za.bm,Na=Za.Vd,x(nb,ia,Oa),x(nb,ua,Mb),ab=Ia(ab,Na),nb=Ka(.75*(Na+.008),-.2,0),Na=w(Oa,$a),oc=w(Mb,$a),Na=t+B+z*Na*Na+O*oc*oc,nb=0<Na?-nb/Na:0,qb(nb,$a,cb),ia.mb(t,cb),aa-=z*w(Oa,cb),ua.wa(B,cb),Fa+=O*w(Mb,cb);this.Ab[k].B=aa;this.Ab[l].B=Fa}return-.012<=ab};kf.prototype.SolveTOIPositionConstraints=kf.prototype.lg;g=kf.prototype;g.lg.Si=new Vb;g.lg.Ti=new Vb;g.lg.kv=new lf;g.lg.hm=new r;g.lg.im=new r;g.lg.tb=new r;function nf(){this.Q=Array(1024);this.Yf=Array(1024);this.wc=Array(1024);this.Ab=ge(1024);this.Sb=ie(1024)}p("box2d.b2Island",nf);nf.prototype.Xf=null;nf.prototype.m_allocator=nf.prototype.Xf;nf.prototype.ag=null;nf.prototype.m_listener=nf.prototype.ag;nf.prototype.Q=null;nf.prototype.m_bodies=nf.prototype.Q;nf.prototype.Yf=null;nf.prototype.m_contacts=nf.prototype.Yf;nf.prototype.wc=null;nf.prototype.m_joints=nf.prototype.wc;nf.prototype.Ab=null;nf.prototype.m_positions=nf.prototype.Ab;
nf.prototype.Sb=null;nf.prototype.m_velocities=nf.prototype.Sb;nf.prototype.Xc=0;nf.prototype.m_bodyCount=nf.prototype.Xc;nf.prototype.vg=0;nf.prototype.m_jointCount=nf.prototype.vg;nf.prototype.tg=0;nf.prototype.m_contactCount=nf.prototype.tg;nf.prototype.Wt=0;nf.prototype.m_bodyCapacity=nf.prototype.Wt;nf.prototype.bu=0;nf.prototype.m_contactCapacity=nf.prototype.bu;nf.prototype.Gx=0;nf.prototype.m_jointCapacity=nf.prototype.Gx;
nf.prototype.U=function(a,c,b,d,e){this.Wt=a;this.bu=c;this.Gx=b;this.vg=this.tg=this.Xc=0;this.Xf=d;for(this.ag=e;this.Q.length<a;)this.Q[this.Q.length]=null;for(;this.Yf.length<c;)this.Yf[this.Yf.length]=null;for(;this.wc.length<b;)this.wc[this.wc.length]=null;if(this.Ab.length<a)for(c=Ja(2*this.Ab.length,a);this.Ab.length<c;)this.Ab[this.Ab.length]=new fe;if(this.Sb.length<a)for(c=Ja(2*this.Sb.length,a);this.Sb.length<c;)this.Sb[this.Sb.length]=new he};nf.prototype.Initialize=nf.prototype.U;
nf.prototype.Fk=function(){this.vg=this.tg=this.Xc=0};nf.prototype.Clear=nf.prototype.Fk;nf.prototype.Ch=function(a){a.Zb=this.Xc;this.Q[this.Xc++]=a};nf.prototype.AddBody=nf.prototype.Ch;nf.prototype.Dk=function(a){this.Yf[this.tg++]=a};nf.prototype.AddContact=nf.prototype.Dk;nf.prototype.yv=function(a){this.wc[this.vg++]=a};nf.prototype.AddJoint=nf.prototype.yv;
nf.prototype.gh=function(a,c,b,d){for(var e=of.ub(),f=c.Jb,h=0;h<this.Xc;++h){var k=this.Q[h],l=this.Ab[h].W.e(k.P.W),m=k.P.B,n=this.Sb[h].oa.e(k.fc),t=k.ab;k.P.Vc.e(k.P.W);k.P.be=k.P.B;2===k.cb&&(n.x+=f*(k.ul*b.x+k.zb*k.Ef.x),n.y+=f*(k.ul*b.y+k.zb*k.Ef.y),t+=f*k.cc*k.Li,n.Ia(1/(1+f*k.Um)),t*=1/(1+f*k.Jm));this.Ab[h].B=m;this.Sb[h].M=t}e.ub();k=pf;k.step.e(c);k.ga=this.Ab;k.L=this.Sb;h=qf;h.step.e(c);h.kq=this.Yf;h.count=this.tg;h.ga=this.Ab;h.L=this.Sb;h.Zk=this.Xf;b=rf.U(h);b.bj();c.Je&&b.hq();
for(h=0;h<this.vg;++h)this.wc[h].Xa(k);a.af=e.Eh();e.ub();for(h=0;h<c.Zg;++h){for(m=0;m<this.vg;++m)this.wc[m].R(k);b.R()}b.cx();a.df=e.Eh();for(h=0;h<this.Xc;++h){var l=this.Ab[h].W,m=this.Ab[h].B,n=this.Sb[h].oa,t=this.Sb[h].M,z=qb(f,n,sf);4<v(z,z)&&(z=2/z.qc(),n.Ia(z));z=f*t;z*z>ka&&(z=ja/ra(z),t*=z);l.x+=f*n.x;l.y+=f*n.y;m+=f*t;this.Ab[h].B=m;this.Sb[h].M=t}e.ub();l=!1;for(h=0;h<c.zh;++h){n=b.ra();t=!0;for(m=0;m<this.vg;++m)z=this.wc[m].ra(k),t=t&&z;if(n&&t){l=!0;break}}for(h=0;h<this.Xc;++h)c=
this.Q[h],c.P.W.e(this.Ab[h].W),c.P.B=this.Ab[h].B,c.fc.e(this.Sb[h].oa),c.ab=this.Sb[h].M,c.Wk();a.bf=e.Eh();this.nt(b.zg);if(d){a=1E37;d=la*la;for(h=0;h<this.Xc;++h)k=this.Q[h],0!==k.Ic()&&(!k.sl||k.ab*k.ab>d||1E-4<v(k.fc,k.fc)?a=k.uk=0:(k.uk+=f,a=Ia(a,k.uk)));if(.5<=a&&l)for(h=0;h<this.Xc;++h)k=this.Q[h],k.Ra(!1)}};nf.prototype.Solve=nf.prototype.gh;
nf.prototype.gf=function(a,c,b){for(var d=0;d<this.Xc;++d){var e=this.Q[d];this.Ab[d].W.e(e.P.W);this.Ab[d].B=e.P.B;this.Sb[d].oa.e(e.fc);this.Sb[d].M=e.ab}d=qf;d.kq=this.Yf;d.count=this.tg;d.Zk=this.Xf;d.step.e(a);d.ga=this.Ab;d.L=this.Sb;e=rf.U(d);for(d=0;d<a.zh&&!e.lg(c,b);++d);this.Q[c].P.Vc.e(this.Ab[c].W);this.Q[c].P.be=this.Ab[c].B;this.Q[b].P.Vc.e(this.Ab[b].W);this.Q[b].P.be=this.Ab[b].B;e.bj();for(d=0;d<a.Zg;++d)e.R();a=a.Jb;for(d=0;d<this.Xc;++d){c=this.Ab[d].W;b=this.Ab[d].B;var f=this.Sb[d].oa,
h=this.Sb[d].M,k=qb(a,f,sf);4<v(k,k)&&(k=2/k.qc(),f.Ia(k));k=a*h;k*k>ka&&(k=ja/ra(k),h*=k);c.wa(a,f);b+=a*h;this.Ab[d].B=b;this.Sb[d].M=h;k=this.Q[d];k.P.W.e(c);k.P.B=b;k.fc.e(f);k.ab=h;k.Wk()}this.nt(e.zg)};nf.prototype.SolveTOI=nf.prototype.gf;nf.prototype.nt=function(a){if(null!==this.ag)for(var c=0;c<this.tg;++c){var b=this.Yf[c];if(b){var d=a[c],e=tf;e.count=d.Wa;for(var f=0;f<d.Wa;++f)e.Rr[f]=d.Oa[f].gc,e.sv[f]=d.Oa[f].Hd;this.ag.Qe(b,e)}}};nf.prototype.Report=nf.prototype.nt;
var of=new Hd,pf=new je,qf=new jf,rf=new kf,sf=new r,tf=new re;var uf={NE:0,HE:1,FE:2,kE:3,GE:4,xE:5,sE:6,QE:7,PE:8,rE:9,IE:10,wE:11,$D:12};p("box2d.b2JointType",uf);uf.e_unknownJoint=0;uf.e_revoluteJoint=1;uf.e_prismaticJoint=2;uf.e_distanceJoint=3;uf.e_pulleyJoint=4;uf.e_mouseJoint=5;uf.e_gearJoint=6;uf.e_wheelJoint=7;uf.e_weldJoint=8;uf.e_frictionJoint=9;uf.e_ropeJoint=10;uf.e_motorJoint=11;uf.e_areaJoint=12;var vf={tE:0,aE:1,bE:2,oE:3};p("box2d.b2LimitState",vf);vf.e_inactiveLimit=0;vf.e_atLowerLimit=1;vf.e_atUpperLimit=2;vf.e_equalLimits=3;
function wf(){this.Iq=new r}p("box2d.b2Jacobian",wf);wf.prototype.Iq=null;wf.prototype.linear=wf.prototype.Iq;wf.prototype.Kt=0;wf.prototype.angularA=wf.prototype.Kt;wf.prototype.Lt=0;wf.prototype.angularB=wf.prototype.Lt;wf.prototype.ba=function(){this.Iq.ba();this.Lt=this.Kt=0;return this};wf.prototype.SetZero=wf.prototype.ba;wf.prototype.h=function(a,c,b){this.Iq.e(a);this.Kt=c;this.Lt=b;return this};wf.prototype.Set=wf.prototype.h;function xf(){}p("box2d.b2JointEdge",xf);xf.prototype.Of=null;
xf.prototype.other=xf.prototype.Of;xf.prototype.kj=null;xf.prototype.joint=xf.prototype.kj;xf.prototype.Cc=null;xf.prototype.prev=xf.prototype.Cc;xf.prototype.next=null;xf.prototype.next=xf.prototype.next;function yf(a){this.type=a}p("box2d.b2JointDef",yf);yf.prototype.type=0;yf.prototype.type=yf.prototype.type;yf.prototype.Hc=null;yf.prototype.userData=yf.prototype.Hc;yf.prototype.Ja=null;yf.prototype.bodyA=yf.prototype.Ja;yf.prototype.Fa=null;yf.prototype.bodyB=yf.prototype.Fa;yf.prototype.pg=!1;
yf.prototype.collideConnected=yf.prototype.pg;function J(a){this.cb=a.type;this.Se=new xf;this.Te=new xf;this.na=a.Ja;this.ia=a.Fa;this.Do=a.pg;this.$e=a.Hc}p("box2d.b2Joint",J);J.prototype.cb=0;J.prototype.m_type=J.prototype.cb;J.prototype.qb=null;J.prototype.m_prev=J.prototype.qb;J.prototype.Y=null;J.prototype.m_next=J.prototype.Y;J.prototype.Se=null;J.prototype.m_edgeA=J.prototype.Se;J.prototype.Te=null;J.prototype.m_edgeB=J.prototype.Te;J.prototype.na=null;J.prototype.m_bodyA=J.prototype.na;
J.prototype.ia=null;J.prototype.m_bodyB=J.prototype.ia;J.prototype.Be=0;J.prototype.m_index=J.prototype.Be;J.prototype.hr=!1;J.prototype.m_islandFlag=J.prototype.hr;J.prototype.Do=!1;J.prototype.m_collideConnected=J.prototype.Do;J.prototype.$e=null;J.prototype.m_userData=J.prototype.$e;J.prototype.bd=function(a){return a.ba()};J.prototype.GetAnchorA=J.prototype.bd;J.prototype.Rc=function(a){return a.ba()};J.prototype.GetAnchorB=J.prototype.Rc;J.prototype.kd=function(a,c){return c.ba()};
J.prototype.GetReactionForce=J.prototype.kd;J.prototype.ld=function(){return 0};J.prototype.GetReactionTorque=J.prototype.ld;J.prototype.Xa=function(){};J.prototype.InitVelocityConstraints=J.prototype.Xa;J.prototype.R=function(){};J.prototype.SolveVelocityConstraints=J.prototype.R;J.prototype.ra=function(){return!1};J.prototype.SolvePositionConstraints=J.prototype.ra;J.prototype.Ic=function(){return this.cb};J.prototype.GetType=J.prototype.Ic;J.prototype.wy=function(){return this.na};
J.prototype.GetBodyA=J.prototype.wy;J.prototype.xy=function(){return this.ia};J.prototype.GetBodyB=J.prototype.xy;J.prototype.vd=function(){return this.Y};J.prototype.GetNext=J.prototype.vd;J.prototype.ec=function(){return this.$e};J.prototype.GetUserData=J.prototype.ec;J.prototype.fh=function(a){this.$e=a};J.prototype.SetUserData=J.prototype.fh;J.prototype.Ey=function(){return this.Do};J.prototype.GetCollideConnected=J.prototype.Ey;J.prototype.Nb=function(){};J.prototype.Dump=J.prototype.Nb;
J.prototype.Gh=function(){return this.na.Gh()&&this.ia.Gh()};J.prototype.IsActive=J.prototype.Gh;J.prototype.ae=function(){};J.prototype.ShiftOrigin=J.prototype.ae;function zf(){this.type=12;this.pi=[]}q(zf,yf);p("box2d.b2AreaJointDef",zf);zf.prototype.uv=null;zf.prototype.world=zf.prototype.uv;zf.prototype.pi=null;zf.prototype.bodies=zf.prototype.pi;zf.prototype.Kd=0;zf.prototype.frequencyHz=zf.prototype.Kd;zf.prototype.wd=0;zf.prototype.dampingRatio=zf.prototype.wd;zf.prototype.Ch=function(a){this.pi.push(a);1===this.pi.length?this.Ja=a:2===this.pi.length&&(this.Fa=a)};zf.prototype.AddBody=zf.prototype.Ch;
function Af(a){J.call(this,a);this.Q=a.pi;this.lc=a.Kd;this.Oc=a.wd;this.Nx=ta(a.pi.length);this.mc=gb(a.pi.length);this.wc=Array(a.pi.length);this.Fo=gb(a.pi.length);this.eu=new r;var c=new Bf;c.Kd=a.Kd;c.wd=a.wd;for(var b=this.ln=0,d=this.Q.length;b<d;++b){var e=this.Q[b],f=this.Q[(b+1)%d],h=e.Ne(),k=f.Ne();this.Nx[b]=xb(h,k);this.ln+=w(h,k);c.U(e,f,h,k);this.wc[b]=a.uv.ja(c)}this.ln*=.5}q(Af,J);p("box2d.b2AreaJoint",Af);Af.prototype.Q=null;Af.prototype.m_bodies=Af.prototype.Q;Af.prototype.lc=0;
Af.prototype.m_frequencyHz=Af.prototype.lc;Af.prototype.Oc=0;Af.prototype.m_dampingRatio=Af.prototype.Oc;Af.prototype.C=0;Af.prototype.m_impulse=Af.prototype.C;g=Af.prototype;g.Nx=null;g.ln=0;g.mc=null;g.wc=null;g.Fo=null;g.eu=null;g.bd=function(a){return a.ba()};Af.prototype.GetAnchorA=Af.prototype.bd;Af.prototype.Rc=function(a){return a.ba()};Af.prototype.GetAnchorB=Af.prototype.Rc;Af.prototype.kd=function(a,c){return c.ba()};Af.prototype.GetReactionForce=Af.prototype.kd;Af.prototype.ld=function(){return 0};
Af.prototype.GetReactionTorque=Af.prototype.ld;Af.prototype.Rk=function(a){this.lc=a;for(var c=0,b=this.wc.length;c<b;++c)this.wc[c].Rk(a)};Af.prototype.SetFrequency=Af.prototype.Rk;Af.prototype.Nk=function(){return this.lc};Af.prototype.GetFrequency=Af.prototype.Nk;Af.prototype.Pk=function(a){this.Oc=a;for(var c=0,b=this.wc.length;c<b;++c)this.wc[c].Pk(a)};Af.prototype.SetDampingRatio=Af.prototype.Pk;Af.prototype.Mk=function(){return this.Oc};Af.prototype.GetDampingRatio=Af.prototype.Mk;
Af.prototype.Nb=function(){};Af.prototype.Dump=Af.prototype.Nb;Af.prototype.Xa=function(a){for(var c=0,b=this.Q.length;c<b;++c){var d=this.Fo[c];x(a.ga[this.Q[(c+1)%b].Zb].W,a.ga[this.Q[(c+b-1)%b].Zb].W,d)}if(a.step.Je)for(this.C*=a.step.xd,c=0,b=this.Q.length;c<b;++c){var e=this.Q[c],f=a.L[e.Zb].oa,d=this.Fo[c];f.x+=e.zb*d.y*.5*this.C;f.y+=e.zb*-d.x*.5*this.C}else this.C=0};Af.prototype.InitVelocityConstraints=Af.prototype.Xa;
Af.prototype.R=function(a){for(var c=0,b=0,d=0,e=this.Q.length;d<e;++d)var f=this.Q[d],h=a.L[f.Zb].oa,k=this.Fo[d],c=c+k.ef()/f.me(),b=b+w(h,k);c=-2*b/c;this.C+=c;d=0;for(e=this.Q.length;d<e;++d)f=this.Q[d],h=a.L[f.Zb].oa,k=this.Fo[d],h.x+=f.zb*k.y*.5*c,h.y+=f.zb*-k.x*.5*c};Af.prototype.SolveVelocityConstraints=Af.prototype.R;
Af.prototype.ra=function(a){for(var c=0,b=0,d=0,e=this.Q.length;d<e;++d){var f=this.Q[d],f=a.ga[f.Zb].W,h=a.ga[this.Q[(d+1)%e].Zb].W,k=x(h,f,this.eu),l=k.qc();1E-5>l&&(l=1);this.mc[d].x=k.y/l;this.mc[d].y=-k.x/l;c+=l;b+=w(f,h)}c=.5*(this.ln-.5*b)/c;b=!0;d=0;for(e=this.Q.length;d<e;++d)f=this.Q[d],f=a.ga[f.Zb].W,k=pb(this.mc[d],this.mc[(d+1)%e],this.eu),k.Ia(c),h=k.ef(),h>.2*.2&&k.Ia(.2/Qa(h)),6.4E-5<h&&(b=!1),f.x+=k.x,f.y+=k.y;return b};Af.prototype.SolvePositionConstraints=Af.prototype.ra;function Bf(){this.type=3;this.va=new r;this.Da=new r}q(Bf,yf);p("box2d.b2DistanceJointDef",Bf);Bf.prototype.va=null;Bf.prototype.localAnchorA=Bf.prototype.va;Bf.prototype.Da=null;Bf.prototype.localAnchorB=Bf.prototype.Da;Bf.prototype.length=1;Bf.prototype.length=Bf.prototype.length;Bf.prototype.Kd=0;Bf.prototype.frequencyHz=Bf.prototype.Kd;Bf.prototype.wd=0;Bf.prototype.dampingRatio=Bf.prototype.wd;
Bf.prototype.U=function(a,c,b,d){this.Ja=a;this.Fa=c;this.Ja.Me(b,this.va);this.Fa.Me(d,this.Da);this.length=xb(b,d);this.wd=this.Kd=0};Bf.prototype.Initialize=Bf.prototype.U;function K(a){J.call(this,a);this.Gc=new r;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.lc=a.Kd;this.Oc=a.wd;this.Ga=a.va.za();this.ya=a.Da.za();this.Pg=a.length}q(K,J);p("box2d.b2DistanceJoint",K);K.prototype.lc=0;K.prototype.m_frequencyHz=K.prototype.lc;
K.prototype.Oc=0;K.prototype.m_dampingRatio=K.prototype.Oc;K.prototype.sg=0;K.prototype.m_bias=K.prototype.sg;K.prototype.Ga=null;K.prototype.m_localAnchorA=K.prototype.Ga;K.prototype.ya=null;K.prototype.m_localAnchorB=K.prototype.ya;K.prototype.Ub=0;K.prototype.m_gamma=K.prototype.Ub;K.prototype.C=0;K.prototype.m_impulse=K.prototype.C;K.prototype.Pg=0;K.prototype.m_length=K.prototype.Pg;K.prototype.O=0;K.prototype.m_indexA=K.prototype.O;K.prototype.J=0;K.prototype.m_indexB=K.prototype.J;
K.prototype.Gc=null;K.prototype.m_u=K.prototype.Gc;K.prototype.la=null;K.prototype.m_rA=K.prototype.la;K.prototype.ea=null;K.prototype.m_rB=K.prototype.ea;K.prototype.lb=null;K.prototype.m_localCenterA=K.prototype.lb;K.prototype.Za=null;K.prototype.m_localCenterB=K.prototype.Za;K.prototype.Ua=0;K.prototype.m_invMassA=K.prototype.Ua;K.prototype.Ka=0;K.prototype.m_invMassB=K.prototype.Ka;K.prototype.Sa=0;K.prototype.m_invIA=K.prototype.Sa;K.prototype.Ha=0;K.prototype.m_invIB=K.prototype.Ha;
K.prototype.da=0;K.prototype.m_mass=K.prototype.da;K.prototype.rb=null;K.prototype.m_qA=K.prototype.rb;K.prototype.bb=null;K.prototype.m_qB=K.prototype.bb;K.prototype.Ta=null;K.prototype.m_lalcA=K.prototype.Ta;K.prototype.Na=null;K.prototype.m_lalcB=K.prototype.Na;K.prototype.bd=function(a){return this.na.sb(this.Ga,a)};K.prototype.GetAnchorA=K.prototype.bd;K.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};K.prototype.GetAnchorB=K.prototype.Rc;
K.prototype.kd=function(a,c){return c.h(a*this.C*this.Gc.x,a*this.C*this.Gc.y)};K.prototype.GetReactionForce=K.prototype.kd;K.prototype.ld=function(){return 0};K.prototype.GetReactionTorque=K.prototype.ld;K.prototype.Dg=function(a){return a.e(this.Ga)};K.prototype.GetLocalAnchorA=K.prototype.Dg;K.prototype.Eg=function(a){return a.e(this.ya)};K.prototype.GetLocalAnchorB=K.prototype.Eg;K.prototype.JA=function(a){this.Pg=a};K.prototype.SetLength=K.prototype.JA;K.prototype.Zy=function(){return this.Pg};
K.prototype.GetLength=K.prototype.Zy;K.prototype.Rk=function(a){this.lc=a};K.prototype.SetFrequency=K.prototype.Rk;K.prototype.Nk=function(){return this.lc};K.prototype.GetFrequency=K.prototype.Nk;K.prototype.Pk=function(a){this.Oc=a};K.prototype.SetDampingRatio=K.prototype.Pk;K.prototype.Mk=function(){return this.Oc};K.prototype.GetDampingRatio=K.prototype.Mk;K.prototype.Nb=function(){};K.prototype.Dump=K.prototype.Nb;
K.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].W,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].W,f=a.ga[this.J].B,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].B),f=this.bb.Ba(f);x(this.Ga,this.lb,this.Ta);y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(f,this.Na,this.ea);this.Gc.x=e.x+this.ea.x-c.x-this.la.x;this.Gc.y=e.y+
this.ea.y-c.y-this.la.y;e=this.Gc.qc();.008<e?this.Gc.Ia(1/e):this.Gc.ba();c=w(this.la,this.Gc);l=w(this.ea,this.Gc);c=this.Ua+this.Sa*c*c+this.Ka+this.Ha*l*l;this.da=0!==c?1/c:0;if(0<this.lc){var e=e-this.Pg,l=2*fa*this.lc,f=this.da*l*l,m=a.step.Jb;this.Ub=m*(2*this.da*this.Oc*l+m*f);this.Ub=0!==this.Ub?1/this.Ub:0;this.sg=e*m*f*this.Ub;c+=this.Ub;this.da=0!==c?1/c:0}else this.sg=this.Ub=0;a.step.Je?(this.C*=a.step.xd,c=qb(this.C,this.Gc,K.prototype.Xa.tb),b.mb(this.Ua,c),d-=this.Sa*w(this.la,c),
h.wa(this.Ka,c),k+=this.Ha*w(this.ea,c)):this.C=0;a.L[this.O].M=d;a.L[this.J].M=k};K.prototype.InitVelocityConstraints=K.prototype.Xa;K.prototype.Xa.tb=new r;
K.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=ub(c,b,this.la,K.prototype.R.Cp),h=ub(d,e,this.ea,K.prototype.R.Dp),f=v(this.Gc,x(h,f,u)),f=-this.da*(f+this.sg+this.Ub*this.C);this.C+=f;f=qb(f,this.Gc,K.prototype.R.tb);c.mb(this.Ua,f);b-=this.Sa*w(this.la,f);d.wa(this.Ka,f);e+=this.Ha*w(this.ea,f);a.L[this.O].M=b;a.L[this.J].M=e};K.prototype.SolveVelocityConstraints=K.prototype.R;K.prototype.R.Cp=new r;K.prototype.R.Dp=new r;K.prototype.R.tb=new r;
K.prototype.ra=function(a){if(0<this.lc)return!0;var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B;this.rb.Ba(b);this.bb.Ba(e);var f=y(this.rb,this.Ta,this.la),h=y(this.bb,this.Na,this.ea),k=this.Gc;k.x=d.x+h.x-c.x-f.x;k.y=d.y+h.y-c.y-f.y;var l=this.Gc.ic()-this.Pg,l=Ka(l,-.2,.2),k=qb(-this.da*l,k,K.prototype.ra.tb);c.mb(this.Ua,k);b-=this.Sa*w(f,k);d.wa(this.Ka,k);e+=this.Ha*w(h,k);a.ga[this.O].B=b;a.ga[this.J].B=e;return.008>ra(l)};K.prototype.SolvePositionConstraints=K.prototype.ra;
K.prototype.ra.tb=new r;function Lf(){this.type=9;this.va=new r;this.Da=new r}q(Lf,yf);p("box2d.b2FrictionJointDef",Lf);Lf.prototype.va=null;Lf.prototype.localAnchorA=Lf.prototype.va;Lf.prototype.Da=null;Lf.prototype.localAnchorB=Lf.prototype.Da;Lf.prototype.di=0;Lf.prototype.maxForce=Lf.prototype.di;Lf.prototype.Zl=0;Lf.prototype.maxTorque=Lf.prototype.Zl;Lf.prototype.U=function(a,c,b){this.Ja=a;this.Fa=c;this.Ja.Me(b,this.va);this.Fa.Me(b,this.Da)};Lf.prototype.Initialize=Lf.prototype.U;
function L(a){J.call(this,a);this.Ga=a.va.za();this.ya=a.Da.za();this.dd=(new r).ba();this.qf=a.di;this.Wh=a.Zl;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.Bj=(new Gb).ba();this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.Kb=new Gb}q(L,J);p("box2d.b2FrictionJoint",L);L.prototype.Ga=null;L.prototype.m_localAnchorA=L.prototype.Ga;L.prototype.ya=null;L.prototype.m_localAnchorB=L.prototype.ya;L.prototype.dd=null;L.prototype.m_linearImpulse=L.prototype.dd;
L.prototype.Nd=0;L.prototype.m_angularImpulse=L.prototype.Nd;L.prototype.qf=0;L.prototype.m_maxForce=L.prototype.qf;L.prototype.Wh=0;L.prototype.m_maxTorque=L.prototype.Wh;L.prototype.O=0;L.prototype.m_indexA=L.prototype.O;L.prototype.J=0;L.prototype.m_indexB=L.prototype.J;L.prototype.la=null;L.prototype.m_rA=L.prototype.la;L.prototype.ea=null;L.prototype.m_rB=L.prototype.ea;L.prototype.lb=null;L.prototype.m_localCenterA=L.prototype.lb;L.prototype.Za=null;L.prototype.m_localCenterB=L.prototype.Za;
L.prototype.Ua=0;L.prototype.m_invMassA=L.prototype.Ua;L.prototype.Ka=0;L.prototype.m_invMassB=L.prototype.Ka;L.prototype.Sa=0;L.prototype.m_invIA=L.prototype.Sa;L.prototype.Ha=0;L.prototype.m_invIB=L.prototype.Ha;L.prototype.Bj=null;L.prototype.m_linearMass=L.prototype.Bj;L.prototype.Jg=0;L.prototype.m_angularMass=L.prototype.Jg;L.prototype.rb=null;L.prototype.m_qA=L.prototype.rb;L.prototype.bb=null;L.prototype.m_qB=L.prototype.bb;L.prototype.Ta=null;L.prototype.m_lalcA=L.prototype.Ta;
L.prototype.Na=null;L.prototype.m_lalcB=L.prototype.Na;L.prototype.Kb=null;L.prototype.m_K=L.prototype.Kb;
L.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.ga[this.J].B,e=a.L[this.J].oa,f=a.L[this.J].M,h=this.rb.Ba(a.ga[this.O].B),d=this.bb.Ba(d);x(this.Ga,this.lb,this.Ta);h=y(h,this.Ta,this.la);x(this.ya,this.Za,this.Na);var k=y(d,this.Na,this.ea),d=this.Ua,l=this.Ka,m=this.Sa,n=this.Ha,t=this.Kb;t.$.x=d+l+m*h.y*h.y+n*k.y*k.y;
t.$.y=-m*h.x*h.y-n*k.x*k.y;t.ca.x=t.$.y;t.ca.y=d+l+m*h.x*h.x+n*k.x*k.x;t.tm(this.Bj);this.Jg=m+n;0<this.Jg&&(this.Jg=1/this.Jg);a.step.Je?(this.dd.Ia(a.step.xd),this.Nd*=a.step.xd,h=this.dd,c.mb(d,h),b-=m*(w(this.la,h)+this.Nd),e.wa(l,h),f+=n*(w(this.ea,h)+this.Nd)):(this.dd.ba(),this.Nd=0);a.L[this.O].M=b;a.L[this.J].M=f};L.prototype.InitVelocityConstraints=L.prototype.Xa;
L.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ka,k=this.Sa,l=this.Ha,m=a.step.Jb,n,t=-this.Jg*(e-b),z=this.Nd;n=m*this.Wh;this.Nd=Ka(this.Nd+t,-n,n);t=this.Nd-z;b-=k*t;e+=l*t;n=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),L.prototype.R.em);t=Hb(this.Bj,n,L.prototype.R.lC).Pa();z=L.prototype.R.BC.e(this.dd);this.dd.Qa(t);n=m*this.qf;this.dd.ef()>n*n&&(this.dd.ic(),this.dd.Ia(n));x(this.dd,z,t);c.mb(f,t);b-=k*w(this.la,t);d.wa(h,t);e+=l*w(this.ea,
t);a.L[this.O].M=b;a.L[this.J].M=e};L.prototype.SolveVelocityConstraints=L.prototype.R;L.prototype.R.em=new r;L.prototype.R.lC=new r;L.prototype.R.BC=new r;L.prototype.ra=function(){return!0};L.prototype.SolvePositionConstraints=L.prototype.ra;L.prototype.bd=function(a){return this.na.sb(this.Ga,a)};L.prototype.GetAnchorA=L.prototype.bd;L.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};L.prototype.GetAnchorB=L.prototype.Rc;L.prototype.kd=function(a,c){return c.h(a*this.dd.x,a*this.dd.y)};
L.prototype.GetReactionForce=L.prototype.kd;L.prototype.ld=function(a){return a*this.Nd};L.prototype.GetReactionTorque=L.prototype.ld;L.prototype.Dg=function(a){return a.e(this.Ga)};L.prototype.GetLocalAnchorA=L.prototype.Dg;L.prototype.Eg=function(a){return a.e(this.ya)};L.prototype.GetLocalAnchorB=L.prototype.Eg;L.prototype.ko=function(a){this.qf=a};L.prototype.SetMaxForce=L.prototype.ko;L.prototype.Tn=function(){return this.qf};L.prototype.GetMaxForce=L.prototype.Tn;
L.prototype.yt=function(a){this.Wh=a};L.prototype.SetMaxTorque=L.prototype.yt;L.prototype.Ps=function(){return this.Wh};L.prototype.GetMaxTorque=L.prototype.Ps;L.prototype.Nb=function(){};L.prototype.Dump=L.prototype.Nb;function Mf(a){var c=null;switch(a.type){case 3:c=new K(a instanceof Bf?a:null);break;case 5:c=new M(a instanceof Nf?a:null);break;case 2:c=new N(a instanceof Of?a:null);break;case 1:c=new P(a instanceof Pf?a:null);break;case 4:c=new Q(a instanceof Qf?a:null);break;case 6:c=new R(a instanceof Rf?a:null);break;case 7:c=new S(a instanceof Sf?a:null);break;case 8:c=new T(a instanceof Tf?a:null);break;case 9:c=new L(a instanceof Lf?a:null);break;case 10:c=new U(a instanceof Uf?a:null);break;case 11:c=
new V(a instanceof Vf?a:null);break;case 12:c=new Af(a instanceof zf?a:null)}return c}p("box2d.b2JointFactory.Create",Mf);p("box2d.b2JointFactory.Destroy",function(){});function W(a){this.Io=!0;this.jb=new Xe;this.ph=a.za();this.Du=new r;this.il=!0;this.H=this.Lg=null;this.Eo=this.dp=!0;this.Zo=!1;this.fn=!0;this.Ee=new de;this.gr=new nf;this.nv=[]}p("box2d.b2World",W);W.prototype.br=!1;W.prototype.m_flag_newFixture=W.prototype.br;W.prototype.ee=!1;W.prototype.m_flag_locked=W.prototype.ee;W.prototype.Io=!1;W.prototype.m_flag_clearForces=W.prototype.Io;W.prototype.jb=null;W.prototype.m_contactManager=W.prototype.jb;W.prototype.Cb=null;W.prototype.m_bodyList=W.prototype.Cb;
W.prototype.yc=null;W.prototype.m_jointList=W.prototype.yc;W.prototype.sf=null;W.prototype.m_particleSystemList=W.prototype.sf;W.prototype.Xc=0;W.prototype.m_bodyCount=W.prototype.Xc;W.prototype.vg=0;W.prototype.m_jointCount=W.prototype.vg;W.prototype.ph=null;W.prototype.m_gravity=W.prototype.ph;W.prototype.Du=null;W.prototype.m_out_gravity=W.prototype.Du;W.prototype.il=!0;W.prototype.m_allowSleep=W.prototype.il;W.prototype.Lg=null;W.prototype.m_destructionListener=W.prototype.Lg;W.prototype.H=null;
W.prototype.m_debugDraw=W.prototype.H;W.prototype.nu=0;W.prototype.m_inv_dt0=W.prototype.nu;W.prototype.dp=!0;W.prototype.m_warmStarting=W.prototype.dp;W.prototype.Eo=!0;W.prototype.m_continuousPhysics=W.prototype.Eo;W.prototype.Zo=!1;W.prototype.m_subStepping=W.prototype.Zo;W.prototype.fn=!0;W.prototype.m_stepComplete=W.prototype.fn;W.prototype.Ee=null;W.prototype.m_profile=W.prototype.Ee;W.prototype.gr=null;W.prototype.m_island=W.prototype.gr;W.prototype.nv=null;W.prototype.s_stack=W.prototype.nv;
W.prototype.pe=null;W.prototype.m_controllerList=W.prototype.pe;W.prototype.qj=0;W.prototype.m_controllerCount=W.prototype.qj;W.prototype.Hw=function(a){if(a!==this.il&&(this.il=a,!this.il))for(a=this.Cb;a;a=a.Y)a.Ra(!0)};W.prototype.SetAllowSleeping=W.prototype.Hw;W.prototype.sy=function(){return this.il};W.prototype.GetAllowSleeping=W.prototype.sy;W.prototype.Tw=function(a){this.dp=a};W.prototype.SetWarmStarting=W.prototype.Tw;W.prototype.Nz=function(){return this.dp};
W.prototype.GetWarmStarting=W.prototype.Nz;W.prototype.ut=function(a){this.Eo=a};W.prototype.SetContinuousPhysics=W.prototype.ut;W.prototype.Hy=function(){return this.Eo};W.prototype.GetContinuousPhysics=W.prototype.Hy;W.prototype.Rw=function(a){this.Zo=a};W.prototype.SetSubStepping=W.prototype.Rw;W.prototype.Gz=function(){return this.Zo};W.prototype.GetSubStepping=W.prototype.Gz;W.prototype.Cs=function(){return this.Cb};W.prototype.GetBodyList=W.prototype.Cs;W.prototype.Ls=function(){return this.yc};
W.prototype.GetJointList=W.prototype.Ls;W.prototype.sz=function(){return this.sf};W.prototype.GetParticleSystemList=W.prototype.sz;W.prototype.Kk=function(){return this.jb.bc};W.prototype.GetContactList=W.prototype.Kk;W.prototype.Ay=function(){return this.Xc};W.prototype.GetBodyCount=W.prototype.Ay;W.prototype.Yy=function(){return this.vg};W.prototype.GetJointCount=W.prototype.Yy;W.prototype.Rp=function(){return this.jb.tg};W.prototype.GetContactCount=W.prototype.Rp;
W.prototype.ej=function(a,c){c=c||!0;if(this.ph.x!==a.x||this.ph.y!==a.y)if(this.ph.e(a),c)for(var b=this.Cb;b;b=b.Y)b.Ra(!0)};W.prototype.SetGravity=W.prototype.ej;W.prototype.Hs=function(a){a=a||this.Du;return a.e(this.ph)};W.prototype.GetGravity=W.prototype.Hs;W.prototype.Wz=function(){return this.ee};W.prototype.IsLocked=W.prototype.Wz;W.prototype.AA=function(a){this.Io=a};W.prototype.SetAutoClearForces=W.prototype.AA;W.prototype.vy=function(){return this.Io};W.prototype.GetAutoClearForces=W.prototype.vy;
W.prototype.Fy=function(){return this.jb};W.prototype.GetContactManager=W.prototype.Fy;W.prototype.xz=function(){return this.Ee};W.prototype.GetProfile=W.prototype.xz;W.prototype.Qk=function(a){this.Lg=a};W.prototype.SetDestructionListener=W.prototype.Qk;W.prototype.EA=function(a){this.jb.Ph=a};W.prototype.SetContactFilter=W.prototype.EA;W.prototype.Kw=function(a){this.jb.Qh=a};W.prototype.SetContactListener=W.prototype.Kw;W.prototype.Lw=function(a){this.H=a};W.prototype.SetDebugDraw=W.prototype.Lw;
W.prototype.l=function(a){if(this.ee)return null;a=new H(a,this);a.qb=null;if(a.Y=this.Cb)this.Cb.qb=a;this.Cb=a;++this.Xc;return a};W.prototype.CreateBody=W.prototype.l;
W.prototype.td=function(a){if(!this.ee){for(var c=a.yc;c;){var b=c,c=c.next;this.Lg&&this.Lg.fo(b.kj);this.qm(b.kj);a.yc=c}a.yc=null;for(c=a.pe;c;)b=c,c=c.zk,b.Nt.lt(a);for(c=a.bc;c;)b=c,c=c.next,this.jb.Pf(b.ne);a.bc=null;for(c=a.qe;c;)b=c,c=c.Y,b.Lp(this.jb.Zc),b.Pf(),a.qe=c,--a.oh;a.qe=null;a.oh=0;a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.Cb&&(this.Cb=a.Y);--this.Xc}};W.prototype.DestroyBody=W.prototype.td;
W.prototype.ja=function(a){if(this.ee)return null;var c=Mf(a);c.qb=null;if(c.Y=this.yc)this.yc.qb=c;this.yc=c;++this.vg;c.Se.kj=c;c.Se.Of=c.ia;c.Se.Cc=null;if(c.Se.next=c.na.yc)c.na.yc.Cc=c.Se;c.na.yc=c.Se;c.Te.kj=c;c.Te.Of=c.na;c.Te.Cc=null;if(c.Te.next=c.ia.yc)c.ia.yc.Cc=c.Te;c.ia.yc=c.Te;var b=a.Ja,d=a.Fa;if(!a.pg)for(a=d.Kk();a;)a.Of===b&&a.ne.Pp(),a=a.next;return c};W.prototype.CreateJoint=W.prototype.ja;
W.prototype.qm=function(a){if(!this.ee){var c=a.Do;a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.yc&&(this.yc=a.Y);var b=a.na,d=a.ia;b.Ra(!0);d.Ra(!0);a.Se.Cc&&(a.Se.Cc.next=a.Se.next);a.Se.next&&(a.Se.next.Cc=a.Se.Cc);a.Se===b.yc&&(b.yc=a.Se.next);a.Se.Cc=null;a.Se.next=null;a.Te.Cc&&(a.Te.Cc.next=a.Te.next);a.Te.next&&(a.Te.next.Cc=a.Te.Cc);a.Te===d.yc&&(d.yc=a.Te.next);a.Te.Cc=null;a.Te.next=null;--this.vg;if(!c)for(a=d.Kk();a;)a.Of===b&&a.ne.Pp(),a=a.next}};W.prototype.DestroyJoint=W.prototype.qm;
W.prototype.rs=function(a){if(this.ee)return null;a=new X(a,this);a.qb=null;if(a.Y=this.sf)this.sf.qb=a;return this.sf=a};W.prototype.CreateParticleSystem=W.prototype.rs;W.prototype.my=function(a){this.ee||(a.qb&&(a.qb.Y=a.Y),a.Y&&(a.Y.qb=a.qb),a===this.sf&&(this.sf=a.Y))};W.prototype.DestroyParticleSystem=W.prototype.my;
W.prototype.gh=function(a){for(var c=this.Cb;c;c=c.Y)c.Xl.e(c.Ma);for(var b=this.pe;b;b=b.Y)b.o(a);this.Ee.af=0;this.Ee.df=0;this.Ee.bf=0;b=this.gr;b.U(this.Xc,this.jb.tg,this.vg,null,this.jb.Qh);for(c=this.Cb;c;c=c.Y)c.$c=!1;for(var d=this.jb.bc;d;d=d.Y)d.$c=!1;for(d=this.yc;d;d=d.Y)d.hr=!1;for(var d=this.nv,e=this.Cb;e;e=e.Y)if(!e.$c&&e.vc&&e.Gh()&&0!==e.Ic()){b.Fk();var f=0;d[f++]=e;for(e.$c=!0;0<f;)if(c=d[--f],b.Ch(c),c.Ra(!0),0!==c.Ic()){for(var h=c.bc;h;h=h.next){var k=h.ne;if(!k.$c&&k.uj&&
k.gk){var l=k.Yb.We;k.Xb.We||l||(b.Dk(k),k.$c=!0,k=h.Of,k.$c||(d[f++]=k,k.$c=!0))}}for(c=c.yc;c;c=c.next)c.kj.hr||(k=c.Of,k.Gh()&&(b.yv(c.kj),c.kj.hr=!0,k.$c||(d[f++]=k,k.$c=!0)))}c=new de;b.gh(c,a,this.ph,this.il);this.Ee.af+=c.af;this.Ee.df+=c.df;this.Ee.bf+=c.bf;for(f=0;f<b.Xc;++f)c=b.Q[f],0===c.Ic()&&(c.$c=!1)}for(f=0;f<d.length&&d[f];++f)d[f]=null;a=new Hd;for(c=this.Cb;c;c=c.Y)c.$c&&0!==c.Ic()&&c.Bm();this.jb.Op();this.Ee.ng=a.Eh()};W.prototype.Solve=W.prototype.gh;
W.prototype.gf=function(a){var c=this.gr;c.U(64,32,0,null,this.jb.Qh);if(this.fn){for(var b=this.Cb;b;b=b.Y)b.$c=!1,b.P.Tf=0;for(var d=this.jb.bc;d;d=d.Y)d.fk=d.$c=!1,d.$o=0,d.Mr=1}for(;;){for(var e=null,b=1,d=this.jb.bc;d;d=d.Y)if(d.uj&&!(8<d.$o)){var f=1;if(d.fk)f=d.Mr;else{var h=d.Xb,k=d.Yb;if(h.We||k.We)continue;var f=h.Ob(),l=k.Ob(),m=f.cb,n=l.cb,t=l.vc&&0!==n;if(!(f.vc&&0!==m||t))continue;n=l.tj||2!==n;if(!f.tj&&2===m&&!n)continue;m=f.P.Tf;f.P.Tf<l.P.Tf?(m=l.P.Tf,f.P.Wi(m)):l.P.Tf<f.P.Tf&&(m=
f.P.Tf,l.P.Wi(m));t=d.J;n=W.prototype.gf.YC;n.hd.Lh(h.$a,d.O);n.Ed.Lh(k.$a,t);n.zn.e(f.P);n.An.e(l.P);n.Bn=1;f=W.prototype.gf.ZC;Yd(f,n);l=f.Ah;f=3===f.state?Ia(m+(1-m)*l,1):1;d.Mr=f;d.fk=!0}f<b&&(e=d,b=f)}if(null===e||.9999<b){this.fn=!0;break}h=e.Xb;k=e.Yb;f=h.Ob();l=k.Ob();d=W.prototype.gf.HB.e(f.P);h=W.prototype.gf.IB.e(l.P);f.Wi(b);l.Wi(b);e.fq(this.jb.Qh);e.fk=!1;++e.$o;if(e.uj&&e.gk){f.Ra(!0);l.Ra(!0);c.Fk();c.Ch(f);c.Ch(l);c.Dk(e);f.$c=!0;l.$c=!0;e.$c=!0;for(e=0;2>e;++e)if(d=0===e?f:l,2===
d.cb)for(h=d.bc;h&&c.Xc!==c.Wt&&c.tg!==c.bu;h=h.next)k=h.ne,!k.$c&&(m=h.Of,2!==m.cb||d.tj||m.tj)&&(n=k.Yb.We,k.Xb.We||n||(n=W.prototype.gf.GB.e(m.P),m.$c||m.Wi(b),k.fq(this.jb.Qh),k.uj?k.gk?(k.$c=!0,c.Dk(k),m.$c||(m.$c=!0,0!==m.cb&&m.Ra(!0),c.Ch(m))):(m.P.e(n),m.Wk()):(m.P.e(n),m.Wk())));e=W.prototype.gf.RC;e.Jb=(1-b)*a.Jb;e.Wc=1/e.Jb;e.xd=1;e.zh=20;e.Zg=a.Zg;e.dg=a.dg;e.Je=!1;c.gf(e,f.Zb,l.Zb);for(e=0;e<c.Xc;++e)if(d=c.Q[e],d.$c=!1,2===d.cb)for(d.Bm(),h=d.bc;h;h=h.next)h.ne.fk=h.ne.$c=!1;this.jb.Op();
if(this.Zo){this.fn=!1;break}}else e.vt(!1),f.P.e(d),l.P.e(h),f.Wk(),l.Wk()}};W.prototype.SolveTOI=W.prototype.gf;g=W.prototype;g.gf.RC=new ee;g.gf.GB=new ac;g.gf.HB=new ac;g.gf.IB=new ac;g.gf.YC=new Td;g.gf.ZC=new Vd;
g.o=function(a,c,b,d){d=d||1;var e=new Hd;this.br&&(this.jb.Op(),this.br=!1);this.ee=!0;var f=W.prototype.o.QC;f.Jb=a;f.Zg=c;f.zh=b;f.dg=d;f.Wc=0<a?1/a:0;f.xd=this.nu*a;f.Je=this.dp;a=new Hd;this.jb.Gn();this.Ee.og=a.Eh();if(this.fn&&0<f.Jb){a=new Hd;for(c=this.sf;c;c=c.Y)c.gh(f);this.gh(f);this.Ee.Ag=a.Eh()}this.Eo&&0<f.Jb&&(a=new Hd,this.gf(f),this.Ee.Bg=a.Eh());0<f.Jb&&(this.nu=f.Wc);this.Io&&this.Cv();this.ee=!1;this.Ee.step=e.Eh()};W.prototype.Step=W.prototype.o;W.prototype.o.QC=new ee;
W.prototype.Cv=function(){for(var a=this.Cb;a;a=a.Y)a.Ef.ba(),a.Li=0};W.prototype.ClearForces=W.prototype.Cv;W.prototype.ig=function(a,c){var b=this.jb.Zc;b.eh(function(c){c=b.ec(c).qg;return a instanceof ue?a.Zd(c):a(c)},c);if(a instanceof ue)for(var d=this.sf;d;d=d.Y)a.Qj(d)&&d.ig(a,c)};W.prototype.QueryAABB=W.prototype.ig;
W.prototype.kt=function(a,c,b,d){var e=this.jb.Zc,f=W.prototype.kt.Yu;c.Tb(f,b,d||0);e.eh(function(d){d=e.ec(d).qg;return Oc(c,0,d.$a,0,b,d.Ob().Wb())?a instanceof ue?a.Zd(d):a(d):!0},f);if(a instanceof ue)for(d=this.sf;d;d=d.Y)a.Qj(d)&&d.ig(a,f)};W.prototype.QueryShape=W.prototype.kt;W.prototype.kt.Yu=new Jc;
W.prototype.jt=function(a,c,b){var d=this.jb.Zc;b="number"===typeof b?b:.008;var e=W.prototype.jt.Yu;e.lowerBound.h(c.x-b,c.y-b);e.upperBound.h(c.x+b,c.y+b);d.eh(function(b){b=d.ec(b).qg;return b.Uc(c)?a instanceof ue?a.Zd(b):a(b):!0},e);if(a instanceof ue)for(b=this.sf;b;b=b.Y)a.Qj(b)&&b.ig(a,e)};W.prototype.QueryPoint=W.prototype.jt;W.prototype.jt.Yu=new Jc;
W.prototype.Aa=function(a,c,b){var d=this.jb.Zc,e=W.prototype.Aa.up;e.Lf=1;e.rd.e(c);e.ve.e(b);d.Aa(function(e,h){var k=d.ec(h),l=k.qg,m=W.prototype.Aa.vp;if(l.Aa(m,e,k.wo)){var k=m.ce,n=W.prototype.Aa.EC;n.h((1-k)*c.x+k*b.x,(1-k)*c.y+k*b.y);return a instanceof ve?a.Zd(l,n,m.V,k):a(l,n,m.V,k)}return e.Lf},e);if(a instanceof ve)for(e=this.sf;e;e=e.Y)a.Qj(e)&&e.Aa(a,c,b)};W.prototype.RayCast=W.prototype.Aa;W.prototype.Aa.up=new Hc;W.prototype.Aa.vp=new Ic;W.prototype.Aa.EC=new r;
W.prototype.hA=function(a,c){var b=null,d=1;this.Aa(function(a,c,h,k){k<d&&(d=k,b=a);return d},a,c);return b};W.prototype.RayCastOne=W.prototype.hA;W.prototype.gA=function(a,c,b){b.length=0;this.Aa(function(a){b.push(a);return 1},a,c);return b};W.prototype.RayCastAll=W.prototype.gA;
W.prototype.Rv=function(a,c){var b=a.$a;switch(b.cb){case 0:b=b instanceof A?b:null;this.H.Mp(b.La,b.N,bb,c);break;case 1:var d=b instanceof C?b:null,b=d.Kc,e=d.Qc;this.H.oc(b,e,c);break;case 3:var b=b instanceof Fd?b:null,d=b.n,f=b.Z,b=f[0];this.H.Ik(b,.05,c);for(var h=1;h<d;++h)e=f[h],this.H.oc(b,e,c),this.H.Ik(e,.05,c),b=e;break;case 2:d=b instanceof D?b:null,b=d.n,f=d.Z,this.H.Ln(f,b,c)}};W.prototype.DrawShape=W.prototype.Rv;
W.prototype.bh=function(a){var c=a.na.Ma.ta,b=a.ia.Ma.ta,d=a.bd(W.prototype.bh.wp),e=a.Rc(W.prototype.bh.xp),f=W.prototype.bh.gm.kg(.5,.8,.8);switch(a.cb){case 3:this.H.oc(d,e,f);break;case 4:c=a instanceof Q?a:null;a=c.Zv(W.prototype.bh.IC);c=c.$v(W.prototype.bh.JC);this.H.oc(a,d,f);this.H.oc(c,e,f);this.H.oc(a,c,f);break;case 5:this.H.oc(d,e,f);break;default:this.H.oc(c,d,f),this.H.oc(d,e,f),this.H.oc(b,e,f)}};W.prototype.DrawJoint=W.prototype.bh;g=W.prototype;g.bh.wp=new r;g.bh.xp=new r;
g.bh.gm=new xa(.5,.8,.8);g.bh.IC=new r;g.bh.JC=new r;g.Qv=function(a){var c=a.Sc();if(c){var b=a.vm(),d=a.Qb.data;a.nd.data?(a=a.Pn(),this.H.Kn(d,b,a,c)):this.H.Kn(d,b,null,c)}};W.prototype.DrawParticleSystem=W.prototype.Qv;
W.prototype.Nj=function(){if(null!==this.H){var a=this.H.Vp(),c=W.prototype.Nj.gm.kg(0,0,0);if(a&1)for(var b=this.Cb;b;b=b.Y){var d=b.Ma;this.H.eo(d);for(var e=b.qe;e;e=e.Y)b.Gh()?0===b.Ic()?c.kg(.5,.9,.5):1===b.Ic()?c.kg(.5,.5,.9):b.vc?c.kg(.9,.7,.7):c.kg(.6,.6,.6):c.kg(.5,.5,.3),this.Rv(e,c);this.H.co(d)}if(a&64)for(b=this.sf;b;b=b.Y)this.Qv(b);if(a&2)for(b=this.yc;b;b=b.Y)this.bh(b);if(a&4){c.kg(.9,.3,.9);for(var d=this.jb.Zc,f=W.prototype.Nj.bD,b=this.Cb;b;b=b.Y)if(b.Gh())for(e=b.qe;e;e=e.Y)for(var h=
0;h<e.tf;++h){var k=d.$i(e.Zh[h].Pi);f[0].h(k.lowerBound.x,k.lowerBound.y);f[1].h(k.upperBound.x,k.lowerBound.y);f[2].h(k.upperBound.x,k.upperBound.y);f[3].h(k.lowerBound.x,k.upperBound.y);this.H.Qf(f,4,c)}}if(a&16)for(b=this.Cb;b;b=b.Y)d=W.prototype.Nj.pv,d.ha.e(b.Ma.ha),d.ta.e(b.Ne()),this.H.Np(d);if(a&32)for(a=this.pe;a;a=a.Y)a.Hk(this.H)}};W.prototype.DrawDebugData=W.prototype.Nj;W.prototype.Nj.gm=new xa(0,0,0);W.prototype.Nj.bD=gb(4);W.prototype.Nj.pv=new Vb;
W.prototype.BA=function(a){var c=this.jb.Zc;this.jb.Zc=a;for(var b=this.Cb;b;b=b.Y)for(var d=b.qe;d;d=d.Y)d.pB=a.ah(c.$i(d.pB),d)};W.prototype.SetBroadPhase=W.prototype.BA;W.prototype.dy=function(a){if(null===this.sf)a=1;else{for(var c=this.ph.qc(),b=1E37,d=this.sf;null!==d;d=d.Y)b=Ia(b,d.vm());a=Wf(c,b,a)}return a};W.prototype.CalculateReasonableParticleIterations=W.prototype.dy;W.prototype.um=function(){return this.jb.Zc.um()};W.prototype.GetProxyCount=W.prototype.um;W.prototype.wm=function(){return this.jb.Zc.wm()};
W.prototype.GetTreeHeight=W.prototype.wm;W.prototype.Wn=function(){return this.jb.Zc.Wn()};W.prototype.GetTreeBalance=W.prototype.Wn;W.prototype.Xn=function(){return this.jb.Zc.Xn()};W.prototype.GetTreeQuality=W.prototype.Xn;W.prototype.ae=function(a){if(!this.ee){for(var c=this.Cb;c;c=c.Y)c.Ma.ta.Pb(a),c.P.Vc.Pb(a),c.P.W.Pb(a);for(c=this.yc;c;c=c.Y)c.ae(a);this.jb.Zc.ae(a)}};W.prototype.ShiftOrigin=W.prototype.ae;W.prototype.Nb=function(){};W.prototype.Dump=W.prototype.Nb;
W.prototype.wv=function(a){a.j=this;a.Y=this.pe;a.qb=null;this.pe&&(this.pe.qb=a);this.pe=a;++this.qj;return a};W.prototype.AddController=W.prototype.wv;W.prototype.jA=function(a){a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);this.pe===a&&(this.pe=a.Y);--this.qj;a.qb=null;a.Y=null;a.j=null};W.prototype.RemoveController=W.prototype.jA;function Vf(){this.type=11;this.Jq=new r(0,0)}q(Vf,yf);p("box2d.b2MotorJointDef",Vf);Vf.prototype.Jq=null;Vf.prototype.linearOffset=Vf.prototype.Jq;Vf.prototype.lx=0;Vf.prototype.angularOffset=Vf.prototype.lx;Vf.prototype.di=1;Vf.prototype.maxForce=Vf.prototype.di;Vf.prototype.Zl=1;Vf.prototype.maxTorque=Vf.prototype.Zl;Vf.prototype.mx=.3;Vf.prototype.correctionFactor=Vf.prototype.mx;Vf.prototype.U=function(a,c){this.Ja=a;this.Fa=c;this.Ja.Me(this.Fa.cd(),this.Jq);this.lx=this.Fa.hc()-this.Ja.hc()};
Vf.prototype.Initialize=Vf.prototype.U;function V(a){J.call(this,a);this.Al=a.Jq.za();this.dd=new r(0,0);this.qf=a.di;this.Wh=a.Zl;this.Tq=a.mx;this.la=new r(0,0);this.ea=new r(0,0);this.lb=new r(0,0);this.Za=new r(0,0);this.qr=new r(0,0);this.Bj=new Gb;this.rb=new Rb;this.bb=new Rb;this.Kb=new Gb}q(V,J);p("box2d.b2MotorJoint",V);V.prototype.Al=null;V.prototype.m_linearOffset=V.prototype.Al;V.prototype.yo=0;V.prototype.m_angularOffset=V.prototype.yo;V.prototype.dd=null;
V.prototype.m_linearImpulse=V.prototype.dd;V.prototype.Nd=0;V.prototype.m_angularImpulse=V.prototype.Nd;V.prototype.qf=0;V.prototype.m_maxForce=V.prototype.qf;V.prototype.Wh=0;V.prototype.m_maxTorque=V.prototype.Wh;V.prototype.Tq=.3;V.prototype.m_correctionFactor=V.prototype.Tq;V.prototype.O=0;V.prototype.m_indexA=V.prototype.O;V.prototype.J=0;V.prototype.m_indexB=V.prototype.J;V.prototype.la=null;V.prototype.m_rA=V.prototype.la;V.prototype.ea=null;V.prototype.m_rB=V.prototype.ea;V.prototype.lb=null;
V.prototype.m_localCenterA=V.prototype.lb;V.prototype.Za=null;V.prototype.m_localCenterB=V.prototype.Za;V.prototype.qr=null;V.prototype.m_linearError=V.prototype.qr;V.prototype.Vt=0;V.prototype.m_angularError=V.prototype.Vt;V.prototype.Ua=0;V.prototype.m_invMassA=V.prototype.Ua;V.prototype.Ka=0;V.prototype.m_invMassB=V.prototype.Ka;V.prototype.Sa=0;V.prototype.m_invIA=V.prototype.Sa;V.prototype.Ha=0;V.prototype.m_invIB=V.prototype.Ha;V.prototype.Bj=null;V.prototype.m_linearMass=V.prototype.Bj;
V.prototype.Jg=0;V.prototype.m_angularMass=V.prototype.Jg;V.prototype.rb=null;V.prototype.m_qA=V.prototype.rb;V.prototype.bb=null;V.prototype.m_qB=V.prototype.bb;V.prototype.Kb=null;V.prototype.m_K=V.prototype.Kb;V.prototype.bd=function(a){return this.na.cd(a)};V.prototype.GetAnchorA=V.prototype.bd;V.prototype.Rc=function(a){return this.ia.cd(a)};V.prototype.GetAnchorB=V.prototype.Rc;V.prototype.kd=function(a,c){return qb(a,this.dd,c)};V.prototype.GetReactionForce=V.prototype.kd;
V.prototype.ld=function(a){return a*this.Nd};V.prototype.GetReactionTorque=V.prototype.ld;V.prototype.Mw=function(a){if(a.x!=this.Al.x||a.y!=this.Al.y)this.na.Ra(!0),this.ia.Ra(!0),this.Al.e(a)};V.prototype.SetLinearOffset=V.prototype.Mw;V.prototype.dz=function(a){return a.e(this.Al)};V.prototype.GetLinearOffset=V.prototype.dz;V.prototype.Jw=function(a){a!==this.yo&&(this.na.Ra(!0),this.ia.Ra(!0),this.yo=a)};V.prototype.SetAngularOffset=V.prototype.Jw;V.prototype.uy=function(){return this.yo};
V.prototype.GetAngularOffset=V.prototype.uy;V.prototype.ko=function(a){this.qf=a};V.prototype.SetMaxForce=V.prototype.ko;V.prototype.Tn=function(){return this.qf};V.prototype.GetMaxForce=V.prototype.Tn;V.prototype.yt=function(a){this.Wh=a};V.prototype.SetMaxTorque=V.prototype.yt;V.prototype.Ps=function(){return this.Wh};V.prototype.GetMaxTorque=V.prototype.Ps;
V.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.L[this.O].oa,e=a.L[this.O].M,f=a.ga[this.J].W,h=a.ga[this.J].B,k=a.L[this.J].oa,l=a.L[this.J].M,m=this.rb.Ba(b),n=this.bb.Ba(h),t=y(m,u.e(this.lb).Pa(),this.la),n=y(n,u.e(this.Za).Pa(),this.ea),z=this.Ua,B=this.Ka,O=this.Sa,ia=this.Ha,aa=this.Kb;aa.$.x=z+B+O*t.y*t.y+ia*n.y*
n.y;aa.$.y=-O*t.x*t.y-ia*n.x*n.y;aa.ca.x=aa.$.y;aa.ca.y=z+B+O*t.x*t.x+ia*n.x*n.x;aa.tm(this.Bj);this.Jg=O+ia;0<this.Jg&&(this.Jg=1/this.Jg);x(x(pb(f,n,u),pb(c,t,db),eb),y(m,this.Al,fb),this.qr);this.Vt=h-b-this.yo;a.step.Je?(this.dd.Ia(a.step.xd),this.Nd*=a.step.xd,c=this.dd,d.mb(z,c),e-=O*(w(t,c)+this.Nd),k.wa(B,c),l+=ia*(w(n,c)+this.Nd)):(this.dd.ba(),this.Nd=0);a.L[this.O].M=e;a.L[this.J].M=l};V.prototype.InitVelocityConstraints=V.prototype.Xa;
V.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ka,k=this.Sa,l=this.Ha,m=a.step.Jb,n=a.step.Wc,t=e-b+n*this.Tq*this.Vt,t=-this.Jg*t,z=this.Nd,B=m*this.Wh;this.Nd=Ka(this.Nd+t,-B,B);var t=this.Nd-z,b=b-k*t,e=e+l*t,O=this.la,ia=this.ea,t=pb(x(pb(d,ob(e,ia,u),u),pb(c,ob(b,O,db),db),eb),qb(n*this.Tq,this.qr,fb),V.prototype.R.em),t=Hb(this.Bj,t,V.prototype.R.fi).Pa(),z=V.prototype.R.gv.e(this.dd);this.dd.Qa(t);B=m*this.qf;this.dd.ef()>B*
B&&(this.dd.ic(),this.dd.Ia(B));x(this.dd,z,t);c.mb(f,t);b-=k*w(O,t);d.wa(h,t);e+=l*w(ia,t);a.L[this.O].M=b;a.L[this.J].M=e};V.prototype.SolveVelocityConstraints=V.prototype.R;V.prototype.R.em=new r;V.prototype.R.fi=new r;V.prototype.R.gv=new r;V.prototype.ra=function(){return!0};V.prototype.SolvePositionConstraints=V.prototype.ra;V.prototype.Nb=function(){};V.prototype.Dump=V.prototype.Nb;function Nf(){this.type=5;this.target=new r}q(Nf,yf);p("box2d.b2MouseJointDef",Nf);Nf.prototype.target=null;Nf.prototype.target=Nf.prototype.target;Nf.prototype.di=0;Nf.prototype.maxForce=Nf.prototype.di;Nf.prototype.Kd=5;Nf.prototype.frequencyHz=Nf.prototype.Kd;Nf.prototype.wd=.7;Nf.prototype.dampingRatio=Nf.prototype.wd;
function M(a){J.call(this,a);this.ya=new r;this.Ki=new r;this.C=new r;this.ea=new r;this.Za=new r;this.da=new Gb;this.Hm=new r;this.bb=new Rb;this.Na=new r;this.Kb=new Gb;this.Ki.e(a.target);Yb(this.ia.Wb(),this.Ki,this.ya);this.qf=a.di;this.C.ba();this.lc=a.Kd;this.Oc=a.wd;this.Ub=this.Mq=0}q(M,J);p("box2d.b2MouseJoint",M);M.prototype.ya=null;M.prototype.m_localAnchorB=M.prototype.ya;M.prototype.Ki=null;M.prototype.m_targetA=M.prototype.Ki;M.prototype.lc=0;M.prototype.m_frequencyHz=M.prototype.lc;
M.prototype.Oc=0;M.prototype.m_dampingRatio=M.prototype.Oc;M.prototype.Mq=0;M.prototype.m_beta=M.prototype.Mq;M.prototype.C=null;M.prototype.m_impulse=M.prototype.C;M.prototype.qf=0;M.prototype.m_maxForce=M.prototype.qf;M.prototype.Ub=0;M.prototype.m_gamma=M.prototype.Ub;M.prototype.O=0;M.prototype.m_indexA=M.prototype.O;M.prototype.J=0;M.prototype.m_indexB=M.prototype.J;M.prototype.ea=null;M.prototype.m_rB=M.prototype.ea;M.prototype.Za=null;M.prototype.m_localCenterB=M.prototype.Za;
M.prototype.Ka=0;M.prototype.m_invMassB=M.prototype.Ka;M.prototype.Ha=0;M.prototype.m_invIB=M.prototype.Ha;M.prototype.da=null;M.prototype.m_mass=M.prototype.da;M.prototype.Hm=null;M.prototype.m_C=M.prototype.Hm;M.prototype.bb=null;M.prototype.m_qB=M.prototype.bb;M.prototype.Na=null;M.prototype.m_lalcB=M.prototype.Na;M.prototype.Kb=null;M.prototype.m_K=M.prototype.Kb;M.prototype.Sw=function(a){this.ia.vc||this.ia.Ra(!0);this.Ki.e(a)};M.prototype.SetTarget=M.prototype.Sw;M.prototype.iw=function(a){return a.e(this.Ki)};
M.prototype.GetTarget=M.prototype.iw;M.prototype.ko=function(a){this.qf=a};M.prototype.SetMaxForce=M.prototype.ko;M.prototype.Tn=function(){return this.qf};M.prototype.GetMaxForce=M.prototype.Tn;M.prototype.Rk=function(a){this.lc=a};M.prototype.SetFrequency=M.prototype.Rk;M.prototype.Nk=function(){return this.lc};M.prototype.GetFrequency=M.prototype.Nk;M.prototype.Pk=function(a){this.Oc=a};M.prototype.SetDampingRatio=M.prototype.Pk;M.prototype.Mk=function(){return this.Oc};
M.prototype.GetDampingRatio=M.prototype.Mk;
M.prototype.Xa=function(a){this.J=this.ia.Zb;this.Za.e(this.ia.P.hb);this.Ka=this.ia.zb;this.Ha=this.ia.cc;var c=a.ga[this.J].W,b=a.L[this.J].oa,d=a.L[this.J].M,e=this.bb.Ba(a.ga[this.J].B),f=this.ia.me(),h=2*fa*this.lc,k=f*h*h,l=a.step.Jb;this.Ub=l*(2*f*this.Oc*h+l*k);0!==this.Ub&&(this.Ub=1/this.Ub);this.Mq=l*k*this.Ub;x(this.ya,this.Za,this.Na);y(e,this.Na,this.ea);e=this.Kb;e.$.x=this.Ka+this.Ha*this.ea.y*this.ea.y+this.Ub;e.$.y=-this.Ha*this.ea.x*this.ea.y;e.ca.x=e.$.y;e.ca.y=this.Ka+this.Ha*
this.ea.x*this.ea.x+this.Ub;e.tm(this.da);this.Hm.x=c.x+this.ea.x-this.Ki.x;this.Hm.y=c.y+this.ea.y-this.Ki.y;this.Hm.Ia(this.Mq);d*=.98;a.step.Je?(this.C.Ia(a.step.xd),b.x+=this.Ka*this.C.x,b.y+=this.Ka*this.C.y,d+=this.Ha*w(this.ea,this.C)):this.C.ba();a.L[this.J].M=d};M.prototype.InitVelocityConstraints=M.prototype.Xa;
M.prototype.R=function(a){var c=a.L[this.J].oa,b=a.L[this.J].M,d=ub(c,b,this.ea,M.prototype.R.em),d=Hb(this.da,pb(d,pb(this.Hm,qb(this.Ub,this.C,u),u),u).Pa(),M.prototype.R.fi),e=M.prototype.R.gv.e(this.C);this.C.Qa(d);var f=a.step.Jb*this.qf;this.C.ef()>f*f&&this.C.Ia(f/this.C.qc());x(this.C,e,d);c.wa(this.Ka,d);b+=this.Ha*w(this.ea,d);a.L[this.J].M=b};M.prototype.SolveVelocityConstraints=M.prototype.R;M.prototype.R.em=new r;M.prototype.R.fi=new r;M.prototype.R.gv=new r;M.prototype.ra=function(){return!0};
M.prototype.SolvePositionConstraints=M.prototype.ra;M.prototype.bd=function(a){return a.e(this.Ki)};M.prototype.GetAnchorA=M.prototype.bd;M.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};M.prototype.GetAnchorB=M.prototype.Rc;M.prototype.kd=function(a,c){return qb(a,this.C,c)};M.prototype.GetReactionForce=M.prototype.kd;M.prototype.ld=function(){return 0};M.prototype.GetReactionTorque=M.prototype.ld;M.prototype.Nb=function(){};M.prototype.Dump=M.prototype.Nb;M.prototype.ae=function(a){this.Ki.Pb(a)};
M.prototype.ShiftOrigin=M.prototype.ae;function Of(){this.type=2;this.va=new r;this.Da=new r;this.Gg=new r(1,0)}q(Of,yf);p("box2d.b2PrismaticJointDef",Of);Of.prototype.va=null;Of.prototype.localAnchorA=Of.prototype.va;Of.prototype.Da=null;Of.prototype.localAnchorB=Of.prototype.Da;Of.prototype.Gg=null;Of.prototype.localAxisA=Of.prototype.Gg;Of.prototype.vf=0;Of.prototype.referenceAngle=Of.prototype.vf;Of.prototype.hf=!1;Of.prototype.enableLimit=Of.prototype.hf;Of.prototype.gl=0;Of.prototype.lowerTranslation=Of.prototype.gl;
Of.prototype.nm=0;Of.prototype.upperTranslation=Of.prototype.nm;Of.prototype.yd=!1;Of.prototype.enableMotor=Of.prototype.yd;Of.prototype.rn=0;Of.prototype.maxMotorForce=Of.prototype.rn;Of.prototype.ie=0;Of.prototype.motorSpeed=Of.prototype.ie;Of.prototype.U=function(a,c,b,d){this.Ja=a;this.Fa=c;this.Ja.Me(b,this.va);this.Fa.Me(b,this.Da);this.Ja.Wp(d,this.Gg);this.vf=this.Fa.hc()-this.Ja.hc()};Of.prototype.Initialize=Of.prototype.U;
function N(a){J.call(this,a);this.Ga=a.va.za();this.ya=a.Da.za();this.pf=a.Gg.za().jg();this.Cj=ob(1,this.pf,new r);this.ge=a.vf;this.C=new zb(0,0,0);this.Th=a.gl;this.ci=a.nm;this.No=a.rn;this.pd=a.ie;this.Ae=a.hf;this.od=a.yd;this.lb=new r;this.Za=new r;this.rc=new r(0,0);this.sh=new r(0,0);this.Kb=new Lb;this.Ut=new Lb;this.Tt=new Gb;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.la=new r;this.ea=new r}q(N,J);p("box2d.b2PrismaticJoint",N);N.prototype.Ga=null;
N.prototype.m_localAnchorA=N.prototype.Ga;N.prototype.ya=null;N.prototype.m_localAnchorB=N.prototype.ya;N.prototype.pf=null;N.prototype.m_localXAxisA=N.prototype.pf;N.prototype.Cj=null;N.prototype.m_localYAxisA=N.prototype.Cj;N.prototype.ge=0;N.prototype.m_referenceAngle=N.prototype.ge;N.prototype.C=null;N.prototype.m_impulse=N.prototype.C;N.prototype.Gb=0;N.prototype.m_motorImpulse=N.prototype.Gb;N.prototype.Th=0;N.prototype.m_lowerTranslation=N.prototype.Th;N.prototype.ci=0;
N.prototype.m_upperTranslation=N.prototype.ci;N.prototype.No=0;N.prototype.m_maxMotorForce=N.prototype.No;N.prototype.pd=0;N.prototype.m_motorSpeed=N.prototype.pd;N.prototype.Ae=!1;N.prototype.m_enableLimit=N.prototype.Ae;N.prototype.od=!1;N.prototype.m_enableMotor=N.prototype.od;N.prototype.Ac=0;N.prototype.m_limitState=N.prototype.Ac;N.prototype.O=0;N.prototype.m_indexA=N.prototype.O;N.prototype.J=0;N.prototype.m_indexB=N.prototype.J;N.prototype.lb=null;N.prototype.m_localCenterA=N.prototype.lb;
N.prototype.Za=null;N.prototype.m_localCenterB=N.prototype.Za;N.prototype.Ua=0;N.prototype.m_invMassA=N.prototype.Ua;N.prototype.Ka=0;N.prototype.m_invMassB=N.prototype.Ka;N.prototype.Sa=0;N.prototype.m_invIA=N.prototype.Sa;N.prototype.Ha=0;N.prototype.m_invIB=N.prototype.Ha;N.prototype.rc=null;N.prototype.m_axis=N.prototype.rc;N.prototype.sh=null;N.prototype.m_perp=N.prototype.sh;N.prototype.Hi=0;N.prototype.m_s1=N.prototype.Hi;N.prototype.Ii=0;N.prototype.m_s2=N.prototype.Ii;N.prototype.Hg=0;
N.prototype.m_a1=N.prototype.Hg;N.prototype.Ig=0;N.prototype.m_a2=N.prototype.Ig;N.prototype.Kb=null;N.prototype.m_K=N.prototype.Kb;N.prototype.Ut=null;N.prototype.m_K3=N.prototype.Ut;N.prototype.Tt=null;N.prototype.m_K2=N.prototype.Tt;N.prototype.Ad=0;N.prototype.m_motorMass=N.prototype.Ad;N.prototype.rb=null;N.prototype.m_qA=N.prototype.rb;N.prototype.bb=null;N.prototype.m_qB=N.prototype.bb;N.prototype.Ta=null;N.prototype.m_lalcA=N.prototype.Ta;N.prototype.Na=null;N.prototype.m_lalcB=N.prototype.Na;
N.prototype.la=null;N.prototype.m_rA=N.prototype.la;N.prototype.ea=null;N.prototype.m_rB=N.prototype.ea;
N.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].W,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].W,f=a.ga[this.J].B,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].B),f=this.bb.Ba(f);x(this.Ga,this.lb,this.Ta);var m=y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);var n=y(f,this.Na,this.ea),t=pb(x(e,c,u),x(n,m,db),N.prototype.Xa.sd),
c=this.Ua,e=this.Ka,f=this.Sa,z=this.Ha;y(l,this.pf,this.rc);this.Hg=w(pb(t,m,u),this.rc);this.Ig=w(n,this.rc);this.Ad=c+e+f*this.Hg*this.Hg+z*this.Ig*this.Ig;0<this.Ad&&(this.Ad=1/this.Ad);y(l,this.Cj,this.sh);this.Hi=w(pb(t,m,u),this.sh);this.Ii=w(n,this.sh);this.Kb.$.x=c+e+f*this.Hi*this.Hi+z*this.Ii*this.Ii;this.Kb.$.y=f*this.Hi+z*this.Ii;this.Kb.$.z=f*this.Hi*this.Hg+z*this.Ii*this.Ig;this.Kb.ca.x=this.Kb.$.y;this.Kb.ca.y=f+z;0===this.Kb.ca.y&&(this.Kb.ca.y=1);this.Kb.ca.z=f*this.Hg+z*this.Ig;
this.Kb.Va.x=this.Kb.$.z;this.Kb.Va.y=this.Kb.ca.z;this.Kb.Va.z=c+e+f*this.Hg*this.Hg+z*this.Ig*this.Ig;this.Ae?(l=v(this.rc,t),.016>ra(this.ci-this.Th)?this.Ac=3:l<=this.Th?1!==this.Ac&&(this.Ac=1,this.C.z=0):l>=this.ci?2!==this.Ac&&(this.Ac=2,this.C.z=0):(this.Ac=0,this.C.z=0)):(this.Ac=0,this.C.z=0);this.od||(this.Gb=0);a.step.Je?(this.C.aq(a.step.xd),this.Gb*=a.step.xd,l=pb(qb(this.C.x,this.sh,u),qb(this.Gb+this.C.z,this.rc,db),N.prototype.Xa.tb),m=this.C.x*this.Hi+this.C.y+(this.Gb+this.C.z)*
this.Hg,n=this.C.x*this.Ii+this.C.y+(this.Gb+this.C.z)*this.Ig,b.mb(c,l),d-=f*m,h.wa(e,l),k+=z*n):(this.C.ba(),this.Gb=0);a.L[this.O].M=d;a.L[this.J].M=k};N.prototype.InitVelocityConstraints=N.prototype.Xa;N.prototype.Xa.sd=new r;N.prototype.Xa.tb=new r;
N.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ka,k=this.Sa,l=this.Ha;if(this.od&&3!==this.Ac){var m=v(this.rc,x(d,c,u))+this.Ig*e-this.Hg*b,m=this.Ad*(this.pd-m),n=this.Gb,t=a.step.Jb*this.No;this.Gb=Ka(this.Gb+m,-t,t);m=this.Gb-n;n=qb(m,this.rc,N.prototype.R.tb);t=m*this.Hg;m*=this.Ig;c.mb(f,n);b-=k*t;d.wa(h,n);e+=l*m}var t=v(this.sh,x(d,c,u))+this.Ii*e-this.Hi*b,z=e-b;this.Ae&&0!==this.Ac?(m=v(this.rc,x(d,c,u))+this.Ig*e-this.Hg*
b,n=N.prototype.R.eC.e(this.C),m=this.Kb.po(-t,-z,-m,N.prototype.R.UB),this.C.Qa(m),1===this.Ac?this.C.z=Ja(this.C.z,0):2===this.Ac&&(this.C.z=Ia(this.C.z,0)),t=this.Kb.Rj(-t-(this.C.z-n.z)*this.Kb.Va.x,-z-(this.C.z-n.z)*this.Kb.Va.y,N.prototype.R.fC),t.x+=n.x,t.y+=n.y,this.C.x=t.x,this.C.y=t.y,m.x=this.C.x-n.x,m.y=this.C.y-n.y,m.z=this.C.z-n.z,n=pb(qb(m.x,this.sh,u),qb(m.z,this.rc,db),N.prototype.R.tb),t=m.x*this.Hi+m.y+m.z*this.Hg,m=m.x*this.Ii+m.y+m.z*this.Ig):(m=this.Kb.Rj(-t,-z,N.prototype.R.TB),
this.C.x+=m.x,this.C.y+=m.y,n=qb(m.x,this.sh,N.prototype.R.tb),t=m.x*this.Hi+m.y,m=m.x*this.Ii+m.y);c.mb(f,n);b-=k*t;d.wa(h,n);a.L[this.O].M=b;a.L[this.J].M=e+l*m};N.prototype.SolveVelocityConstraints=N.prototype.R;g=N.prototype;g.R.tb=new r;g.R.fC=new r;g.R.eC=new zb;g.R.UB=new zb;g.R.TB=new r;
g.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=this.rb.Ba(b),h=this.bb.Ba(e),k=this.Ua,l=this.Ka,m=this.Sa,n=this.Ha,t=y(f,this.Ta,this.la),z=y(h,this.Na,this.ea),B=x(pb(d,z,u),pb(c,t,db),N.prototype.ra.sd),O=y(f,this.pf,this.rc),ia=w(pb(B,t,u),O),h=w(z,O),f=y(f,this.Cj,this.sh),aa=w(pb(B,t,u),f),ua=w(z,f),Fa=N.prototype.ra.fi,na=v(f,B),mb=e-b-this.ge,t=ra(na),z=ra(mb),Za=!1,$a=0;this.Ae&&(B=v(O,B),.016>ra(this.ci-this.Th)?($a=Ka(B,-.2,.2),t=Ja(t,ra(B)),
Za=!0):B<=this.Th?($a=Ka(B-this.Th+.008,-.2,0),t=Ja(t,this.Th-B),Za=!0):B>=this.ci&&($a=Ka(B-this.ci-.008,0,.2),t=Ja(t,B-this.ci),Za=!0));if(Za){var B=m*aa+n*ua,nb=m*aa*ia+n*ua*h,Za=m+n;0===Za&&(Za=1);var Na=m*ia+n*h,Oa=k+l+m*ia*ia+n*h*h,Mb=this.Ut;Mb.$.h(k+l+m*aa*aa+n*ua*ua,B,nb);Mb.ca.h(B,Za,Na);Mb.Va.h(nb,Na,Oa);Fa=Mb.po(-na,-mb,-$a,Fa)}else B=m*aa+n*ua,Za=m+n,0===Za&&(Za=1),$a=this.Tt,$a.$.h(k+l+m*aa*aa+n*ua*ua,B),$a.ca.h(B,Za),na=$a.gh(-na,-mb,N.prototype.ra.cv),Fa.x=na.x,Fa.y=na.y,Fa.z=0;O=
pb(qb(Fa.x,f,u),qb(Fa.z,O,db),N.prototype.ra.tb);ia=Fa.x*aa+Fa.y+Fa.z*ia;h=Fa.x*ua+Fa.y+Fa.z*h;c.mb(k,O);b-=m*ia;d.wa(l,O);a.ga[this.O].B=b;a.ga[this.J].B=e+n*h;return.008>=t&&z<=ga};N.prototype.SolvePositionConstraints=N.prototype.ra;g=N.prototype;g.ra.sd=new r;g.ra.fi=new zb;g.ra.cv=new r;g.ra.tb=new r;g.bd=function(a){return this.na.sb(this.Ga,a)};N.prototype.GetAnchorA=N.prototype.bd;N.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};N.prototype.GetAnchorB=N.prototype.Rc;
N.prototype.kd=function(a,c){return c.h(a*(this.C.x*this.sh.x+(this.Gb+this.C.z)*this.rc.x),a*(this.C.x*this.sh.y+(this.Gb+this.C.z)*this.rc.y))};N.prototype.GetReactionForce=N.prototype.kd;N.prototype.ld=function(a){return a*this.C.y};N.prototype.GetReactionTorque=N.prototype.ld;N.prototype.Dg=function(a){return a.e(this.Ga)};N.prototype.GetLocalAnchorA=N.prototype.Dg;N.prototype.Eg=function(a){return a.e(this.ya)};N.prototype.GetLocalAnchorB=N.prototype.Eg;N.prototype.Ms=function(a){return a.e(this.pf)};
N.prototype.GetLocalAxisA=N.prototype.Ms;N.prototype.Vn=function(){return this.ge};N.prototype.GetReferenceAngle=N.prototype.Vn;N.prototype.dh=function(){var a=this.na.sb(this.Ga,N.prototype.dh.hv),c=this.ia.sb(this.ya,N.prototype.dh.iv),a=x(c,a,N.prototype.dh.sd),c=this.na.aj(this.pf,N.prototype.dh.EB);return v(a,c)};N.prototype.GetJointTranslation=N.prototype.dh;g=N.prototype;g.dh.hv=new r;g.dh.iv=new r;g.dh.sd=new r;g.dh.EB=new r;
g.Rn=function(){var a=this.na,c=this.ia;x(this.Ga,a.P.hb,this.Ta);var b=y(a.Ma.ha,this.Ta,this.la);x(this.ya,c.P.hb,this.Na);var d=y(c.Ma.ha,this.Na,this.ea),e=pb(a.P.W,b,u),f=pb(c.P.W,d,db),e=x(f,e,eb),f=a.aj(this.pf,this.rc),h=a.fc,k=c.fc,a=a.ab,c=c.ab;return v(e,ob(a,f,u))+v(f,x(ub(k,c,d,u),ub(h,a,b,db),u))};N.prototype.GetJointSpeed=N.prototype.Rn;N.prototype.ft=function(){return this.Ae};N.prototype.IsLimitEnabled=N.prototype.ft;
N.prototype.Mn=function(a){a!==this.Ae&&(this.na.Ra(!0),this.ia.Ra(!0),this.Ae=a,this.C.z=0)};N.prototype.EnableLimit=N.prototype.Mn;N.prototype.Ns=function(){return this.Th};N.prototype.GetLowerLimit=N.prototype.Ns;N.prototype.Ws=function(){return this.ci};N.prototype.GetUpperLimit=N.prototype.Ws;N.prototype.jo=function(a,c){if(a!==this.Th||c!==this.ci)this.na.Ra(!0),this.ia.Ra(!0),this.Th=a,this.ci=c,this.C.z=0};N.prototype.SetLimits=N.prototype.jo;N.prototype.Yn=function(){return this.od};
N.prototype.IsMotorEnabled=N.prototype.Yn;N.prototype.ji=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.od=a};N.prototype.EnableMotor=N.prototype.ji;N.prototype.Re=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.pd=a};N.prototype.SetMotorSpeed=N.prototype.Re;N.prototype.Un=function(){return this.pd};N.prototype.GetMotorSpeed=N.prototype.Un;N.prototype.MA=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.No=a};N.prototype.SetMaxMotorForce=N.prototype.MA;N.prototype.kz=function(){return this.No};
N.prototype.GetMaxMotorForce=N.prototype.kz;N.prototype.bw=function(a){return a*this.Gb};N.prototype.GetMotorForce=N.prototype.bw;N.prototype.Nb=function(){};N.prototype.Dump=N.prototype.Nb;p("box2d.b2_minPulleyLength",2);function Qf(){this.type=4;this.pg=!0;this.Dq=new r(-1,1);this.Eq=new r(1,1);this.va=new r(-1,0);this.Da=new r(1,0)}q(Qf,yf);p("box2d.b2PulleyJointDef",Qf);Qf.prototype.Dq=null;Qf.prototype.groundAnchorA=Qf.prototype.Dq;Qf.prototype.Eq=null;Qf.prototype.groundAnchorB=Qf.prototype.Eq;Qf.prototype.va=null;Qf.prototype.localAnchorA=Qf.prototype.va;Qf.prototype.Da=null;Qf.prototype.localAnchorB=Qf.prototype.Da;Qf.prototype.Gq=0;Qf.prototype.lengthA=Qf.prototype.Gq;
Qf.prototype.Hq=0;Qf.prototype.lengthB=Qf.prototype.Hq;Qf.prototype.Lj=1;Qf.prototype.ratio=Qf.prototype.Lj;Qf.prototype.U=function(a,c,b,d,e,f,h){this.Ja=a;this.Fa=c;this.Dq.e(b);this.Eq.e(d);this.Ja.Me(e,this.va);this.Fa.Me(f,this.Da);this.Gq=xb(e,b);this.Hq=xb(f,d);this.Lj=h};Qf.prototype.Initialize=Qf.prototype.U;
function Q(a){J.call(this,a);this.hk=new r;this.ik=new r;this.Ga=new r;this.ya=new r;this.bi=new r;this.Vg=new r;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.hk.e(a.Dq);this.ik.e(a.Eq);this.Ga.e(a.va);this.ya.e(a.Da);this.vu=a.Gq;this.wu=a.Hq;this.Rb=a.Lj;this.nl=a.Gq+this.Rb*a.Hq;this.C=0}q(Q,J);p("box2d.b2PulleyJoint",Q);Q.prototype.hk=null;Q.prototype.m_groundAnchorA=Q.prototype.hk;Q.prototype.ik=null;
Q.prototype.m_groundAnchorB=Q.prototype.ik;Q.prototype.vu=0;Q.prototype.m_lengthA=Q.prototype.vu;Q.prototype.wu=0;Q.prototype.m_lengthB=Q.prototype.wu;Q.prototype.Ga=null;Q.prototype.m_localAnchorA=Q.prototype.Ga;Q.prototype.ya=null;Q.prototype.m_localAnchorB=Q.prototype.ya;Q.prototype.nl=0;Q.prototype.m_constant=Q.prototype.nl;Q.prototype.Rb=0;Q.prototype.m_ratio=Q.prototype.Rb;Q.prototype.C=0;Q.prototype.m_impulse=Q.prototype.C;Q.prototype.O=0;Q.prototype.m_indexA=Q.prototype.O;Q.prototype.J=0;
Q.prototype.m_indexB=Q.prototype.J;Q.prototype.bi=null;Q.prototype.m_uA=Q.prototype.bi;Q.prototype.Vg=null;Q.prototype.m_uB=Q.prototype.Vg;Q.prototype.la=null;Q.prototype.m_rA=Q.prototype.la;Q.prototype.ea=null;Q.prototype.m_rB=Q.prototype.ea;Q.prototype.lb=null;Q.prototype.m_localCenterA=Q.prototype.lb;Q.prototype.Za=null;Q.prototype.m_localCenterB=Q.prototype.Za;Q.prototype.Ua=0;Q.prototype.m_invMassA=Q.prototype.Ua;Q.prototype.Ka=0;Q.prototype.m_invMassB=Q.prototype.Ka;Q.prototype.Sa=0;
Q.prototype.m_invIA=Q.prototype.Sa;Q.prototype.Ha=0;Q.prototype.m_invIB=Q.prototype.Ha;Q.prototype.da=0;Q.prototype.m_mass=Q.prototype.da;Q.prototype.rb=null;Q.prototype.m_qA=Q.prototype.rb;Q.prototype.bb=null;Q.prototype.m_qB=Q.prototype.bb;Q.prototype.Ta=null;Q.prototype.m_lalcA=Q.prototype.Ta;Q.prototype.Na=null;Q.prototype.m_lalcB=Q.prototype.Na;
Q.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].W,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].W,f=a.ga[this.J].B,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].B),f=this.bb.Ba(f);x(this.Ga,this.lb,this.Ta);y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(f,this.Na,this.ea);this.bi.e(c).Qa(this.la).Pb(this.hk);this.Vg.e(e).Qa(this.ea).Pb(this.ik);
c=this.bi.qc();e=this.Vg.qc();.08<c?this.bi.Ia(1/c):this.bi.ba();.08<e?this.Vg.Ia(1/e):this.Vg.ba();c=w(this.la,this.bi);e=w(this.ea,this.Vg);this.da=this.Ua+this.Sa*c*c+this.Rb*this.Rb*(this.Ka+this.Ha*e*e);0<this.da&&(this.da=1/this.da);a.step.Je?(this.C*=a.step.xd,c=qb(-this.C,this.bi,Q.prototype.Xa.pp),e=qb(-this.Rb*this.C,this.Vg,Q.prototype.Xa.qp),b.wa(this.Ua,c),d+=this.Sa*w(this.la,c),h.wa(this.Ka,e),k+=this.Ha*w(this.ea,e)):this.C=0;a.L[this.O].M=d;a.L[this.J].M=k};
Q.prototype.InitVelocityConstraints=Q.prototype.Xa;Q.prototype.Xa.pp=new r;Q.prototype.Xa.qp=new r;
Q.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=ub(c,b,this.la,Q.prototype.R.Cp),h=ub(d,e,this.ea,Q.prototype.R.Dp),h=-this.da*(-v(this.bi,f)-this.Rb*v(this.Vg,h));this.C+=h;f=qb(-h,this.bi,Q.prototype.R.pp);h=qb(-this.Rb*h,this.Vg,Q.prototype.R.qp);c.wa(this.Ua,f);b+=this.Sa*w(this.la,f);d.wa(this.Ka,h);e+=this.Ha*w(this.ea,h);a.L[this.O].M=b;a.L[this.J].M=e};Q.prototype.SolveVelocityConstraints=Q.prototype.R;g=Q.prototype;g.R.Cp=new r;g.R.Dp=new r;
g.R.pp=new r;g.R.qp=new r;
g.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=this.rb.Ba(b),h=this.bb.Ba(e);x(this.Ga,this.lb,this.Ta);f=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=y(h,this.Na,this.ea),k=this.bi.e(c).Qa(f).Pb(this.hk),l=this.Vg.e(d).Qa(h).Pb(this.ik),m=k.qc(),n=l.qc();.08<m?k.Ia(1/m):k.ba();.08<n?l.Ia(1/n):l.ba();var t=w(f,k),z=w(h,l),t=this.Ua+this.Sa*t*t+this.Rb*this.Rb*(this.Ka+this.Ha*z*z);0<t&&(t=1/t);n=this.nl-m-this.Rb*n;m=ra(n);n*=-t;k=qb(-n,k,Q.prototype.ra.pp);
l=qb(-this.Rb*n,l,Q.prototype.ra.qp);c.wa(this.Ua,k);b+=this.Sa*w(f,k);d.wa(this.Ka,l);e+=this.Ha*w(h,l);a.ga[this.O].B=b;a.ga[this.J].B=e;return.008>m};Q.prototype.SolvePositionConstraints=Q.prototype.ra;Q.prototype.ra.pp=new r;Q.prototype.ra.qp=new r;Q.prototype.bd=function(a){return this.na.sb(this.Ga,a)};Q.prototype.GetAnchorA=Q.prototype.bd;Q.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};Q.prototype.GetAnchorB=Q.prototype.Rc;
Q.prototype.kd=function(a,c){return c.h(a*this.C*this.Vg.x,a*this.C*this.Vg.y)};Q.prototype.GetReactionForce=Q.prototype.kd;Q.prototype.ld=function(){return 0};Q.prototype.GetReactionTorque=Q.prototype.ld;Q.prototype.Zv=function(a){return a.e(this.hk)};Q.prototype.GetGroundAnchorA=Q.prototype.Zv;Q.prototype.$v=function(a){return a.e(this.ik)};Q.prototype.GetGroundAnchorB=Q.prototype.$v;Q.prototype.$y=function(){return this.vu};Q.prototype.GetLengthA=Q.prototype.$y;Q.prototype.az=function(){return this.wu};
Q.prototype.GetLengthB=Q.prototype.az;Q.prototype.Ts=function(){return this.Rb};Q.prototype.GetRatio=Q.prototype.Ts;Q.prototype.Sp=function(){var a=this.na.sb(this.Ga,Q.prototype.Sp.Ri);return xb(a,this.hk)};Q.prototype.GetCurrentLengthA=Q.prototype.Sp;Q.prototype.Sp.Ri=new r;Q.prototype.Tp=function(){var a=this.ia.sb(this.ya,Q.prototype.Tp.Ri);return xb(a,this.ik)};Q.prototype.GetCurrentLengthB=Q.prototype.Tp;Q.prototype.Tp.Ri=new r;Q.prototype.Nb=function(){};Q.prototype.Dump=Q.prototype.Nb;
Q.prototype.ae=function(a){this.hk.Pb(a);this.ik.Pb(a)};Q.prototype.ShiftOrigin=Q.prototype.ae;function Pf(){this.type=1;this.va=new r(0,0);this.Da=new r(0,0)}q(Pf,yf);p("box2d.b2RevoluteJointDef",Pf);Pf.prototype.va=null;Pf.prototype.localAnchorA=Pf.prototype.va;Pf.prototype.Da=null;Pf.prototype.localAnchorB=Pf.prototype.Da;Pf.prototype.vf=0;Pf.prototype.referenceAngle=Pf.prototype.vf;Pf.prototype.hf=!1;Pf.prototype.enableLimit=Pf.prototype.hf;Pf.prototype.ye=0;Pf.prototype.lowerAngle=Pf.prototype.ye;Pf.prototype.Ie=0;Pf.prototype.upperAngle=Pf.prototype.Ie;Pf.prototype.yd=!1;
Pf.prototype.enableMotor=Pf.prototype.yd;Pf.prototype.ie=0;Pf.prototype.motorSpeed=Pf.prototype.ie;Pf.prototype.Mf=0;Pf.prototype.maxMotorTorque=Pf.prototype.Mf;Pf.prototype.U=function(a,c,b){this.Ja=a;this.Fa=c;this.Ja.Me(b,this.va);this.Fa.Me(b,this.Da);this.vf=this.Fa.hc()-this.Ja.hc()};Pf.prototype.Initialize=Pf.prototype.U;
function P(a){J.call(this,a);this.Ga=new r;this.ya=new r;this.C=new zb;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.da=new Lb;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.Kb=new Gb;this.Ga.e(a.va);this.ya.e(a.Da);this.ge=a.vf;this.C.ba();this.Gb=0;this.Dj=a.ye;this.xk=a.Ie;this.Vh=a.Mf;this.pd=a.ie;this.Ae=a.hf;this.od=a.yd;this.Ac=0}q(P,J);p("box2d.b2RevoluteJoint",P);P.prototype.Ga=null;P.prototype.m_localAnchorA=P.prototype.Ga;P.prototype.ya=null;
P.prototype.m_localAnchorB=P.prototype.ya;P.prototype.C=null;P.prototype.m_impulse=P.prototype.C;P.prototype.Gb=0;P.prototype.m_motorImpulse=P.prototype.Gb;P.prototype.od=!1;P.prototype.m_enableMotor=P.prototype.od;P.prototype.Vh=0;P.prototype.m_maxMotorTorque=P.prototype.Vh;P.prototype.pd=0;P.prototype.m_motorSpeed=P.prototype.pd;P.prototype.Ae=!1;P.prototype.m_enableLimit=P.prototype.Ae;P.prototype.ge=0;P.prototype.m_referenceAngle=P.prototype.ge;P.prototype.Dj=0;P.prototype.m_lowerAngle=P.prototype.Dj;
P.prototype.xk=0;P.prototype.m_upperAngle=P.prototype.xk;P.prototype.O=0;P.prototype.m_indexA=P.prototype.O;P.prototype.J=0;P.prototype.m_indexB=P.prototype.J;P.prototype.la=null;P.prototype.m_rA=P.prototype.la;P.prototype.ea=null;P.prototype.m_rB=P.prototype.ea;P.prototype.lb=null;P.prototype.m_localCenterA=P.prototype.lb;P.prototype.Za=null;P.prototype.m_localCenterB=P.prototype.Za;P.prototype.Ua=0;P.prototype.m_invMassA=P.prototype.Ua;P.prototype.Ka=0;P.prototype.m_invMassB=P.prototype.Ka;
P.prototype.Sa=0;P.prototype.m_invIA=P.prototype.Sa;P.prototype.Ha=0;P.prototype.m_invIB=P.prototype.Ha;P.prototype.da=null;P.prototype.m_mass=P.prototype.da;P.prototype.Ad=0;P.prototype.m_motorMass=P.prototype.Ad;P.prototype.Ac=0;P.prototype.m_limitState=P.prototype.Ac;P.prototype.rb=null;P.prototype.m_qA=P.prototype.rb;P.prototype.bb=null;P.prototype.m_qB=P.prototype.bb;P.prototype.Ta=null;P.prototype.m_lalcA=P.prototype.Ta;P.prototype.Na=null;P.prototype.m_lalcB=P.prototype.Na;P.prototype.Kb=null;
P.prototype.m_K=P.prototype.Kb;
P.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].B,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].B,f=a.L[this.J].oa,h=a.L[this.J].M,k=this.rb.Ba(c),l=this.bb.Ba(e);x(this.Ga,this.lb,this.Ta);y(k,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(l,this.Na,this.ea);var k=this.Ua,l=this.Ka,m=this.Sa,n=this.Ha,t=0===m+n;this.da.$.x=k+l+this.la.y*this.la.y*
m+this.ea.y*this.ea.y*n;this.da.ca.x=-this.la.y*this.la.x*m-this.ea.y*this.ea.x*n;this.da.Va.x=-this.la.y*m-this.ea.y*n;this.da.$.y=this.da.ca.x;this.da.ca.y=k+l+this.la.x*this.la.x*m+this.ea.x*this.ea.x*n;this.da.Va.y=this.la.x*m+this.ea.x*n;this.da.$.z=this.da.Va.x;this.da.ca.z=this.da.Va.y;this.da.Va.z=m+n;this.Ad=m+n;0<this.Ad&&(this.Ad=1/this.Ad);if(!this.od||t)this.Gb=0;this.Ae&&!t?(c=e-c-this.ge,ra(this.xk-this.Dj)<2*ga?this.Ac=3:c<=this.Dj?(1!==this.Ac&&(this.C.z=0),this.Ac=1):c>=this.xk?
(2!==this.Ac&&(this.C.z=0),this.Ac=2):(this.Ac=0,this.C.z=0)):this.Ac=0;a.step.Je?(this.C.aq(a.step.xd),this.Gb*=a.step.xd,c=P.prototype.Xa.tb.h(this.C.x,this.C.y),b.mb(k,c),d-=m*(w(this.la,c)+this.Gb+this.C.z),f.wa(l,c),h+=n*(w(this.ea,c)+this.Gb+this.C.z)):(this.C.ba(),this.Gb=0);a.L[this.O].M=d;a.L[this.J].M=h};P.prototype.InitVelocityConstraints=P.prototype.Xa;P.prototype.Xa.tb=new r;
P.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ka,k=this.Sa,l=this.Ha,m=0===k+l;if(this.od&&3!==this.Ac&&!m){var n=e-b-this.pd,n=-this.Ad*n,t=this.Gb,z=a.step.Jb*this.Vh;this.Gb=Ka(this.Gb+n,-z,z);n=this.Gb-t;b-=k*n;e+=l*n}this.Ae&&0!==this.Ac&&!m?(m=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),P.prototype.R.Vr),n=this.da.po(m.x,m.y,e-b,P.prototype.R.kC).Pa(),3===this.Ac?this.C.Qa(n):1===this.Ac?(t=this.C.z+n.z,0>t?(t=-m.x+this.C.z*this.da.Va.x,
m=-m.y+this.C.z*this.da.Va.y,m=this.da.Rj(t,m,P.prototype.R.Vx),n.x=m.x,n.y=m.y,n.z=-this.C.z,this.C.x+=m.x,this.C.y+=m.y,this.C.z=0):this.C.Qa(n)):2===this.Ac&&(t=this.C.z+n.z,0<t?(t=-m.x+this.C.z*this.da.Va.x,m=-m.y+this.C.z*this.da.Va.y,m=this.da.Rj(t,m,P.prototype.R.Vx),n.x=m.x,n.y=m.y,n.z=-this.C.z,this.C.x+=m.x,this.C.y+=m.y,this.C.z=0):this.C.Qa(n)),m=P.prototype.R.tb.h(n.x,n.y),c.mb(f,m),b-=k*(w(this.la,m)+n.z),d.wa(h,m),e+=l*(w(this.ea,m)+n.z)):(n=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),P.prototype.R.em),
n=this.da.Rj(-n.x,-n.y,P.prototype.R.dv),this.C.x+=n.x,this.C.y+=n.y,c.mb(f,n),b-=k*w(this.la,n),d.wa(h,n),e+=l*w(this.ea,n));a.L[this.O].M=b;a.L[this.J].M=e};P.prototype.SolveVelocityConstraints=P.prototype.R;g=P.prototype;g.R.tb=new r;g.R.em=new r;g.R.Vr=new r;g.R.kC=new zb;g.R.Vx=new r;g.R.dv=new r;
g.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=this.rb.Ba(b),h=this.bb.Ba(e),k=0,l=0,l=0===this.Sa+this.Ha;if(this.Ae&&0!==this.Ac&&!l){var m=e-b-this.ge,l=0;3===this.Ac?(m=Ka(m-this.Dj,-ha,ha),l=-this.Ad*m,k=ra(m)):1===this.Ac?(m-=this.Dj,k=-m,m=Ka(m+ga,-ha,0),l=-this.Ad*m):2===this.Ac&&(k=m-=this.xk,m=Ka(m-ga,0,ha),l=-this.Ad*m);b-=this.Sa*l;e+=this.Ha*l}f.Ba(b);h.Ba(e);x(this.Ga,this.lb,this.Ta);f=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=
y(h,this.Na,this.ea),m=x(pb(d,h,u),pb(c,f,db),P.prototype.ra.vB),l=m.qc(),n=this.Ua,t=this.Ka,z=this.Sa,B=this.Ha,O=this.Kb;O.$.x=n+t+z*f.y*f.y+B*h.y*h.y;O.$.y=-z*f.x*f.y-B*h.x*h.y;O.ca.x=O.$.y;O.ca.y=n+t+z*f.x*f.x+B*h.x*h.x;m=O.gh(m.x,m.y,P.prototype.ra.fi).Pa();c.mb(n,m);b-=z*w(f,m);d.wa(t,m);e+=B*w(h,m);a.ga[this.O].B=b;a.ga[this.J].B=e;return.008>=l&&k<=ga};P.prototype.SolvePositionConstraints=P.prototype.ra;P.prototype.ra.vB=new r;P.prototype.ra.fi=new r;
P.prototype.bd=function(a){return this.na.sb(this.Ga,a)};P.prototype.GetAnchorA=P.prototype.bd;P.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};P.prototype.GetAnchorB=P.prototype.Rc;P.prototype.kd=function(a,c){return c.h(a*this.C.x,a*this.C.y)};P.prototype.GetReactionForce=P.prototype.kd;P.prototype.ld=function(a){return a*this.C.z};P.prototype.GetReactionTorque=P.prototype.ld;P.prototype.Dg=function(a){return a.e(this.Ga)};P.prototype.GetLocalAnchorA=P.prototype.Dg;P.prototype.Eg=function(a){return a.e(this.ya)};
P.prototype.GetLocalAnchorB=P.prototype.Eg;P.prototype.Vn=function(){return this.ge};P.prototype.GetReferenceAngle=P.prototype.Vn;P.prototype.Qn=function(){return this.ia.P.B-this.na.P.B-this.ge};P.prototype.GetJointAngle=P.prototype.Qn;P.prototype.Rn=function(){return this.ia.ab-this.na.ab};P.prototype.GetJointSpeed=P.prototype.Rn;P.prototype.Yn=function(){return this.od};P.prototype.IsMotorEnabled=P.prototype.Yn;P.prototype.ji=function(a){this.od!==a&&(this.na.Ra(!0),this.ia.Ra(!0),this.od=a)};
P.prototype.EnableMotor=P.prototype.ji;P.prototype.Yp=function(a){return a*this.Gb};P.prototype.GetMotorTorque=P.prototype.Yp;P.prototype.Un=function(){return this.pd};P.prototype.GetMotorSpeed=P.prototype.Un;P.prototype.xt=function(a){this.Vh=a};P.prototype.SetMaxMotorTorque=P.prototype.xt;P.prototype.Os=function(){return this.Vh};P.prototype.GetMaxMotorTorque=P.prototype.Os;P.prototype.ft=function(){return this.Ae};P.prototype.IsLimitEnabled=P.prototype.ft;
P.prototype.Mn=function(a){a!==this.Ae&&(this.na.Ra(!0),this.ia.Ra(!0),this.Ae=a,this.C.z=0)};P.prototype.EnableLimit=P.prototype.Mn;P.prototype.Ns=function(){return this.Dj};P.prototype.GetLowerLimit=P.prototype.Ns;P.prototype.Ws=function(){return this.xk};P.prototype.GetUpperLimit=P.prototype.Ws;P.prototype.jo=function(a,c){if(a!==this.Dj||c!==this.xk)this.na.Ra(!0),this.ia.Ra(!0),this.C.z=0,this.Dj=a,this.xk=c};P.prototype.SetLimits=P.prototype.jo;
P.prototype.Re=function(a){this.pd!==a&&(this.na.Ra(!0),this.ia.Ra(!0),this.pd=a)};P.prototype.SetMotorSpeed=P.prototype.Re;P.prototype.Nb=function(){};P.prototype.Dump=P.prototype.Nb;function Rf(){this.type=6}q(Rf,yf);p("box2d.b2GearJointDef",Rf);Rf.prototype.el=null;Rf.prototype.joint1=Rf.prototype.el;Rf.prototype.fl=null;Rf.prototype.joint2=Rf.prototype.fl;Rf.prototype.Lj=1;Rf.prototype.ratio=Rf.prototype.Lj;
function R(a){J.call(this,a);this.zd=a.el;this.De=a.fl;this.Ga=new r;this.ya=new r;this.Vm=new r;this.Wm=new r;this.nk=new r;this.ok=new r;this.lr=new r;this.mr=new r;this.nr=new r;this.or=new r;this.Nh=new r;this.xi=new r;this.rb=new Rb;this.bb=new Rb;this.Br=new Rb;this.Cr=new Rb;this.Ta=new r;this.Na=new r;this.Sm=new r;this.Tm=new r;this.ap=this.zd.Ic();this.bp=this.De.Ic();var c,b;this.$j=this.zd.na;this.na=this.zd.ia;c=this.na.Ma;var d=this.na.P.B;b=this.$j.Ma;var e=this.$j.P.B;1===this.ap?
(b=a.el,this.Vm.e(b.Ga),this.Ga.e(b.ya),this.Uo=b.ge,this.nk.ba(),c=d-e-this.Uo):(e=a.el,this.Vm.e(e.Ga),this.Ga.e(e.ya),this.Uo=e.ge,this.nk.e(e.pf),d=this.Vm,c=Ub(b.ha,pb(y(c.ha,this.Ga,u),x(c.ta,b.ta,db),u),u),c=v(x(c,d,u),this.nk));this.ak=this.De.na;this.ia=this.De.ia;b=this.ia.Ma;var e=this.ia.P.B,d=this.ak.Ma,f=this.ak.P.B;1===this.bp?(b=a.fl,this.Wm.e(b.Ga),this.ya.e(b.ya),this.Vo=b.ge,this.ok.ba(),b=e-f-this.Vo):(e=a.fl,this.Wm.e(e.Ga),this.ya.e(e.ya),this.Vo=e.ge,this.ok.e(e.pf),e=this.Wm,
b=Ub(d.ha,pb(y(b.ha,this.ya,u),x(b.ta,d.ta,db),u),u),b=v(x(b,e,u),this.ok));this.Rb=a.Lj;this.nl=c+this.Rb*b;this.C=0}q(R,J);p("box2d.b2GearJoint",R);R.prototype.zd=null;R.prototype.m_joint1=R.prototype.zd;R.prototype.De=null;R.prototype.m_joint2=R.prototype.De;R.prototype.ap=0;R.prototype.m_typeA=R.prototype.ap;R.prototype.bp=0;R.prototype.m_typeB=R.prototype.bp;R.prototype.$j=null;R.prototype.m_bodyC=R.prototype.$j;R.prototype.ak=null;R.prototype.m_bodyD=R.prototype.ak;R.prototype.Ga=null;
R.prototype.m_localAnchorA=R.prototype.Ga;R.prototype.ya=null;R.prototype.m_localAnchorB=R.prototype.ya;R.prototype.Vm=null;R.prototype.m_localAnchorC=R.prototype.Vm;R.prototype.Wm=null;R.prototype.m_localAnchorD=R.prototype.Wm;R.prototype.nk=null;R.prototype.m_localAxisC=R.prototype.nk;R.prototype.ok=null;R.prototype.m_localAxisD=R.prototype.ok;R.prototype.Uo=0;R.prototype.m_referenceAngleA=R.prototype.Uo;R.prototype.Vo=0;R.prototype.m_referenceAngleB=R.prototype.Vo;R.prototype.nl=0;
R.prototype.m_constant=R.prototype.nl;R.prototype.Rb=0;R.prototype.m_ratio=R.prototype.Rb;R.prototype.C=0;R.prototype.m_impulse=R.prototype.C;R.prototype.O=0;R.prototype.m_indexA=R.prototype.O;R.prototype.J=0;R.prototype.m_indexB=R.prototype.J;R.prototype.qh=0;R.prototype.m_indexC=R.prototype.qh;R.prototype.rh=0;R.prototype.m_indexD=R.prototype.rh;R.prototype.lr=null;R.prototype.m_lcA=R.prototype.lr;R.prototype.mr=null;R.prototype.m_lcB=R.prototype.mr;R.prototype.nr=null;R.prototype.m_lcC=R.prototype.nr;
R.prototype.or=null;R.prototype.m_lcD=R.prototype.or;R.prototype.Bl=0;R.prototype.m_mA=R.prototype.Bl;R.prototype.Cl=0;R.prototype.m_mB=R.prototype.Cl;R.prototype.Dl=0;R.prototype.m_mC=R.prototype.Dl;R.prototype.El=0;R.prototype.m_mD=R.prototype.El;R.prototype.wj=0;R.prototype.m_iA=R.prototype.wj;R.prototype.xj=0;R.prototype.m_iB=R.prototype.xj;R.prototype.yj=0;R.prototype.m_iC=R.prototype.yj;R.prototype.zj=0;R.prototype.m_iD=R.prototype.zj;R.prototype.Nh=null;R.prototype.m_JvAC=R.prototype.Nh;
R.prototype.xi=null;R.prototype.m_JvBD=R.prototype.xi;R.prototype.lj=0;R.prototype.m_JwA=R.prototype.lj;R.prototype.Xj=0;R.prototype.m_JwB=R.prototype.Xj;R.prototype.Yj=0;R.prototype.m_JwC=R.prototype.Yj;R.prototype.Zj=0;R.prototype.m_JwD=R.prototype.Zj;R.prototype.da=0;R.prototype.m_mass=R.prototype.da;R.prototype.rb=null;R.prototype.m_qA=R.prototype.rb;R.prototype.bb=null;R.prototype.m_qB=R.prototype.bb;R.prototype.Br=null;R.prototype.m_qC=R.prototype.Br;R.prototype.Cr=null;R.prototype.m_qD=R.prototype.Cr;
R.prototype.Ta=null;R.prototype.m_lalcA=R.prototype.Ta;R.prototype.Na=null;R.prototype.m_lalcB=R.prototype.Na;R.prototype.Sm=null;R.prototype.m_lalcC=R.prototype.Sm;R.prototype.Tm=null;R.prototype.m_lalcD=R.prototype.Tm;g=R.prototype;
g.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.qh=this.$j.Zb;this.rh=this.ak.Zb;this.lr.e(this.na.P.hb);this.mr.e(this.ia.P.hb);this.nr.e(this.$j.P.hb);this.or.e(this.ak.P.hb);this.Bl=this.na.zb;this.Cl=this.ia.zb;this.Dl=this.$j.zb;this.El=this.ak.zb;this.wj=this.na.cc;this.xj=this.ia.cc;this.yj=this.$j.cc;this.zj=this.ak.cc;var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.ga[this.J].B,e=a.L[this.J].oa,f=a.L[this.J].M,h=a.ga[this.qh].B,k=a.L[this.qh].oa,l=a.L[this.qh].M,m=a.ga[this.rh].B,n=a.L[this.rh].oa,
t=a.L[this.rh].M,z=this.rb.Ba(a.ga[this.O].B),d=this.bb.Ba(d),B=this.Br.Ba(h),h=this.Cr.Ba(m);this.da=0;1===this.ap?(this.Nh.ba(),this.Yj=this.lj=1,this.da+=this.wj+this.yj):(m=y(B,this.nk,R.prototype.Xa.Ap),x(this.Vm,this.nr,this.Sm),B=y(B,this.Sm,R.prototype.Xa.lv),x(this.Ga,this.lr,this.Ta),z=y(z,this.Ta,R.prototype.Xa.hm),this.Nh.e(m),this.Yj=w(B,m),this.lj=w(z,m),this.da+=this.Dl+this.Bl+this.yj*this.Yj*this.Yj+this.wj*this.lj*this.lj);1===this.bp?(this.xi.ba(),this.Zj=this.Xj=this.Rb,this.da+=
this.Rb*this.Rb*(this.xj+this.zj)):(m=y(h,this.ok,R.prototype.Xa.Ap),x(this.Wm,this.or,this.Tm),z=y(h,this.Tm,R.prototype.Xa.mv),x(this.ya,this.mr,this.Na),d=y(d,this.Na,R.prototype.Xa.im),qb(this.Rb,m,this.xi),this.Zj=this.Rb*w(z,m),this.Xj=this.Rb*w(d,m),this.da+=this.Rb*this.Rb*(this.El+this.Cl)+this.zj*this.Zj*this.Zj+this.xj*this.Xj*this.Xj);this.da=0<this.da?1/this.da:0;a.step.Je?(c.wa(this.Bl*this.C,this.Nh),b+=this.wj*this.C*this.lj,e.wa(this.Cl*this.C,this.xi),f+=this.xj*this.C*this.Xj,k.mb(this.Dl*
this.C,this.Nh),l-=this.yj*this.C*this.Yj,n.mb(this.El*this.C,this.xi),t-=this.zj*this.C*this.Zj):this.C=0;a.L[this.O].M=b;a.L[this.J].M=f;a.L[this.qh].M=l;a.L[this.rh].M=t};g.Xa.Ap=new r;g.Xa.hm=new r;g.Xa.im=new r;g.Xa.lv=new r;g.Xa.mv=new r;
g.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=a.L[this.qh].oa,h=a.L[this.qh].M,k=a.L[this.rh].oa,l=a.L[this.rh].M,m=v(this.Nh,x(c,f,u))+v(this.xi,x(d,k,u)),m=m+(this.lj*b-this.Yj*h+(this.Xj*e-this.Zj*l)),m=-this.da*m;this.C+=m;c.wa(this.Bl*m,this.Nh);b+=this.wj*m*this.lj;d.wa(this.Cl*m,this.xi);e+=this.xj*m*this.Xj;f.mb(this.Dl*m,this.Nh);h-=this.yj*m*this.Yj;k.mb(this.El*m,this.xi);l-=this.zj*m*this.Zj;a.L[this.O].M=b;a.L[this.J].M=e;a.L[this.qh].M=h;a.L[this.rh].M=
l};
g.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=a.ga[this.qh].W,h=a.ga[this.qh].B,k=a.ga[this.rh].W,l=a.ga[this.rh].B,m=this.rb.Ba(b),n=this.bb.Ba(e),t=this.Br.Ba(h),z=this.Cr.Ba(l),B=this.Nh,O=this.xi,ia,aa,ua=0;if(1===this.ap)B.ba(),m=ia=1,ua+=this.wj+this.yj,t=b-h-this.Uo;else{aa=y(t,this.nk,R.prototype.ra.Ap);ia=y(t,this.Sm,R.prototype.ra.lv);var Fa=y(m,this.Ta,R.prototype.ra.hm);B.e(aa);m=w(ia,aa);ia=w(Fa,aa);ua+=this.Dl+this.Bl+this.yj*m*m+this.wj*ia*
ia;aa=this.Sm;t=Ub(t,pb(Fa,x(c,f,u),u),u);t=v(x(t,aa,u),this.nk)}if(1===this.bp)O.ba(),n=aa=this.Rb,ua+=this.Rb*this.Rb*(this.xj+this.zj),z=e-l-this.Vo;else{aa=y(z,this.ok,R.prototype.ra.Ap);var na=y(z,this.Tm,R.prototype.ra.mv),Fa=y(n,this.Na,R.prototype.ra.im);qb(this.Rb,aa,O);n=this.Rb*w(na,aa);aa=this.Rb*w(Fa,aa);ua+=this.Rb*this.Rb*(this.El+this.Cl)+this.zj*n*n+this.xj*aa*aa;na=this.Tm;z=Ub(z,pb(Fa,x(d,k,u),u),u);z=v(x(z,na,u),this.ok)}z=t+this.Rb*z-this.nl;t=0;0<ua&&(t=-z/ua);c.wa(this.Bl*t,
B);b+=this.wj*t*ia;d.wa(this.Cl*t,O);e+=this.xj*t*aa;f.mb(this.Dl*t,B);h-=this.yj*t*m;k.mb(this.El*t,O);l-=this.zj*t*n;a.ga[this.O].B=b;a.ga[this.J].B=e;a.ga[this.qh].B=h;a.ga[this.rh].B=l;return!0};R.prototype.SolvePositionConstraints=R.prototype.ra;g=R.prototype;g.ra.Ap=new r;g.ra.hm=new r;g.ra.im=new r;g.ra.lv=new r;g.ra.mv=new r;g.bd=function(a){return this.na.sb(this.Ga,a)};R.prototype.GetAnchorA=R.prototype.bd;R.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};R.prototype.GetAnchorB=R.prototype.Rc;
R.prototype.kd=function(a,c){return qb(a*this.C,this.Nh,c)};R.prototype.GetReactionForce=R.prototype.kd;R.prototype.ld=function(a){return a*this.C*this.lj};R.prototype.GetReactionTorque=R.prototype.ld;R.prototype.Wy=function(){return this.zd};R.prototype.GetJoint1=R.prototype.Wy;R.prototype.Xy=function(){return this.De};R.prototype.GetJoint2=R.prototype.Xy;R.prototype.Ts=function(){return this.Rb};R.prototype.GetRatio=R.prototype.Ts;R.prototype.SA=function(a){this.Rb=a};R.prototype.SetRatio=R.prototype.SA;
R.prototype.Nb=function(){};R.prototype.Dump=R.prototype.Nb;function Uf(){this.type=10;this.va=new r(-1,0);this.Da=new r(1,0)}q(Uf,yf);p("box2d.b2RopeJointDef",Uf);Uf.prototype.va=null;Uf.prototype.localAnchorA=Uf.prototype.va;Uf.prototype.Da=null;Uf.prototype.localAnchorB=Uf.prototype.Da;Uf.prototype.maxLength=0;Uf.prototype.maxLength=Uf.prototype.maxLength;
function U(a){J.call(this,a);this.Ga=a.va.za();this.ya=a.Da.za();this.pk=a.maxLength;this.Gc=new r;this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r}q(U,J);p("box2d.b2RopeJoint",U);U.prototype.Ga=null;U.prototype.m_localAnchorA=U.prototype.Ga;U.prototype.ya=null;U.prototype.m_localAnchorB=U.prototype.ya;U.prototype.pk=0;U.prototype.m_maxLength=U.prototype.pk;U.prototype.Pg=0;U.prototype.m_length=U.prototype.Pg;U.prototype.C=0;
U.prototype.m_impulse=U.prototype.C;U.prototype.O=0;U.prototype.m_indexA=U.prototype.O;U.prototype.J=0;U.prototype.m_indexB=U.prototype.J;U.prototype.Gc=null;U.prototype.m_u=U.prototype.Gc;U.prototype.la=null;U.prototype.m_rA=U.prototype.la;U.prototype.ea=null;U.prototype.m_rB=U.prototype.ea;U.prototype.lb=null;U.prototype.m_localCenterA=U.prototype.lb;U.prototype.Za=null;U.prototype.m_localCenterB=U.prototype.Za;U.prototype.Ua=0;U.prototype.m_invMassA=U.prototype.Ua;U.prototype.Ka=0;
U.prototype.m_invMassB=U.prototype.Ka;U.prototype.Sa=0;U.prototype.m_invIA=U.prototype.Sa;U.prototype.Ha=0;U.prototype.m_invIB=U.prototype.Ha;U.prototype.da=0;U.prototype.m_mass=U.prototype.da;U.prototype.en=0;U.prototype.m_state=U.prototype.en;U.prototype.rb=null;U.prototype.m_qA=U.prototype.rb;U.prototype.bb=null;U.prototype.m_qB=U.prototype.bb;U.prototype.Ta=null;U.prototype.m_lalcA=U.prototype.Ta;U.prototype.Na=null;U.prototype.m_lalcB=U.prototype.Na;
U.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].W,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].W,f=a.ga[this.J].B,h=a.L[this.J].oa,k=a.L[this.J].M,l=this.rb.Ba(a.ga[this.O].B),f=this.bb.Ba(f);x(this.Ga,this.lb,this.Ta);y(l,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(f,this.Na,this.ea);this.Gc.e(e).Qa(this.ea).Pb(c).Pb(this.la);this.Pg=this.Gc.qc();
this.en=0<this.Pg-this.pk?2:0;.008<this.Pg?(this.Gc.Ia(1/this.Pg),c=w(this.la,this.Gc),e=w(this.ea,this.Gc),c=this.Ua+this.Sa*c*c+this.Ka+this.Ha*e*e,this.da=0!==c?1/c:0,a.step.Je?(this.C*=a.step.xd,c=qb(this.C,this.Gc,U.prototype.Xa.tb),b.mb(this.Ua,c),d-=this.Sa*w(this.la,c),h.wa(this.Ka,c),k+=this.Ha*w(this.ea,c)):this.C=0,a.L[this.O].M=d,a.L[this.J].M=k):(this.Gc.ba(),this.C=this.da=0)};U.prototype.InitVelocityConstraints=U.prototype.Xa;U.prototype.Xa.tb=new r;
U.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=ub(c,b,this.la,U.prototype.R.Cp),h=ub(d,e,this.ea,U.prototype.R.Dp),k=this.Pg-this.pk,f=v(this.Gc,x(h,f,u));0>k&&(f+=a.step.Wc*k);k=-this.da*f;f=this.C;this.C=Ia(0,this.C+k);k=this.C-f;k=qb(k,this.Gc,U.prototype.R.tb);c.mb(this.Ua,k);b-=this.Sa*w(this.la,k);d.wa(this.Ka,k);e+=this.Ha*w(this.ea,k);a.L[this.O].M=b;a.L[this.J].M=e};U.prototype.SolveVelocityConstraints=U.prototype.R;U.prototype.R.Cp=new r;
U.prototype.R.Dp=new r;U.prototype.R.tb=new r;U.prototype.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=this.rb.Ba(b),h=this.bb.Ba(e);x(this.Ga,this.lb,this.Ta);f=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=y(h,this.Na,this.ea),k=this.Gc.e(d).Qa(h).Pb(c).Pb(f),l=k.ic(),m=l-this.pk,m=Ka(m,0,.2),k=qb(-this.da*m,k,U.prototype.ra.tb);c.mb(this.Ua,k);b-=this.Sa*w(f,k);d.wa(this.Ka,k);e+=this.Ha*w(h,k);a.ga[this.O].B=b;a.ga[this.J].B=e;return.008>l-this.pk};
U.prototype.SolvePositionConstraints=U.prototype.ra;U.prototype.ra.tb=new r;U.prototype.bd=function(a){return this.na.sb(this.Ga,a)};U.prototype.GetAnchorA=U.prototype.bd;U.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};U.prototype.GetAnchorB=U.prototype.Rc;U.prototype.kd=function(a,c){return qb(a*this.C,this.Gc,c)};U.prototype.GetReactionForce=U.prototype.kd;U.prototype.ld=function(){return 0};U.prototype.GetReactionTorque=U.prototype.ld;U.prototype.Dg=function(a){return a.e(this.Ga)};
U.prototype.GetLocalAnchorA=U.prototype.Dg;U.prototype.Eg=function(a){return a.e(this.ya)};U.prototype.GetLocalAnchorB=U.prototype.Eg;U.prototype.LA=function(a){this.pk=a};U.prototype.SetMaxLength=U.prototype.LA;U.prototype.jz=function(){return this.pk};U.prototype.GetMaxLength=U.prototype.jz;U.prototype.bz=function(){return this.en};U.prototype.GetLimitState=U.prototype.bz;U.prototype.Nb=function(){};U.prototype.Dump=U.prototype.Nb;function Tf(){this.type=8;this.va=new r;this.Da=new r}q(Tf,yf);p("box2d.b2WeldJointDef",Tf);Tf.prototype.va=null;Tf.prototype.localAnchorA=Tf.prototype.va;Tf.prototype.Da=null;Tf.prototype.localAnchorB=Tf.prototype.Da;Tf.prototype.vf=0;Tf.prototype.referenceAngle=Tf.prototype.vf;Tf.prototype.Kd=0;Tf.prototype.frequencyHz=Tf.prototype.Kd;Tf.prototype.wd=0;Tf.prototype.dampingRatio=Tf.prototype.wd;
Tf.prototype.U=function(a,c,b){this.Ja=a;this.Fa=c;this.Ja.Me(b,this.va);this.Fa.Me(b,this.Da);this.vf=this.Fa.hc()-this.Ja.hc()};Tf.prototype.Initialize=Tf.prototype.U;function T(a){J.call(this,a);this.lc=a.Kd;this.Oc=a.wd;this.Ga=a.va.za();this.ya=a.Da.za();this.ge=a.vf;this.C=new zb(0,0,0);this.la=new r;this.ea=new r;this.lb=new r;this.Za=new r;this.da=new Lb;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.Kb=new Lb}q(T,J);p("box2d.b2WeldJoint",T);T.prototype.lc=0;
T.prototype.m_frequencyHz=T.prototype.lc;T.prototype.Oc=0;T.prototype.m_dampingRatio=T.prototype.Oc;T.prototype.sg=0;T.prototype.m_bias=T.prototype.sg;T.prototype.Ga=null;T.prototype.m_localAnchorA=T.prototype.Ga;T.prototype.ya=null;T.prototype.m_localAnchorB=T.prototype.ya;T.prototype.ge=0;T.prototype.m_referenceAngle=T.prototype.ge;T.prototype.Ub=0;T.prototype.m_gamma=T.prototype.Ub;T.prototype.C=null;T.prototype.m_impulse=T.prototype.C;T.prototype.O=0;T.prototype.m_indexA=T.prototype.O;
T.prototype.J=0;T.prototype.m_indexB=T.prototype.J;T.prototype.la=null;T.prototype.m_rA=T.prototype.la;T.prototype.ea=null;T.prototype.m_rB=T.prototype.ea;T.prototype.lb=null;T.prototype.m_localCenterA=T.prototype.lb;T.prototype.Za=null;T.prototype.m_localCenterB=T.prototype.Za;T.prototype.Ua=0;T.prototype.m_invMassA=T.prototype.Ua;T.prototype.Ka=0;T.prototype.m_invMassB=T.prototype.Ka;T.prototype.Sa=0;T.prototype.m_invIA=T.prototype.Sa;T.prototype.Ha=0;T.prototype.m_invIB=T.prototype.Ha;
T.prototype.da=null;T.prototype.m_mass=T.prototype.da;T.prototype.rb=null;T.prototype.m_qA=T.prototype.rb;T.prototype.bb=null;T.prototype.m_qB=T.prototype.bb;T.prototype.Ta=null;T.prototype.m_lalcA=T.prototype.Ta;T.prototype.Na=null;T.prototype.m_lalcB=T.prototype.Na;T.prototype.Kb=null;T.prototype.m_K=T.prototype.Kb;
T.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=a.ga[this.O].B,b=a.L[this.O].oa,d=a.L[this.O].M,e=a.ga[this.J].B,f=a.L[this.J].oa,h=a.L[this.J].M,k=this.rb.Ba(c),l=this.bb.Ba(e);x(this.Ga,this.lb,this.Ta);y(k,this.Ta,this.la);x(this.ya,this.Za,this.Na);y(l,this.Na,this.ea);var k=this.Ua,l=this.Ka,m=this.Sa,n=this.Ha,t=this.Kb;t.$.x=k+l+this.la.y*this.la.y*
m+this.ea.y*this.ea.y*n;t.ca.x=-this.la.y*this.la.x*m-this.ea.y*this.ea.x*n;t.Va.x=-this.la.y*m-this.ea.y*n;t.$.y=t.ca.x;t.ca.y=k+l+this.la.x*this.la.x*m+this.ea.x*this.ea.x*n;t.Va.y=this.la.x*m+this.ea.x*n;t.$.z=t.Va.x;t.ca.z=t.Va.y;t.Va.z=m+n;if(0<this.lc){t.Ks(this.da);var t=m+n,z=0<t?1/t:0,c=e-c-this.ge,e=2*fa*this.lc,B=z*e*e,O=a.step.Jb;this.Ub=O*(2*z*this.Oc*e+O*B);this.Ub=0!==this.Ub?1/this.Ub:0;this.sg=c*O*B*this.Ub;t+=this.Ub;this.da.Va.z=0!==t?1/t:0}else 0===t.Va.z?t.Ks(this.da):t.hw(this.da),
this.sg=this.Ub=0;a.step.Je?(this.C.aq(a.step.xd),t=T.prototype.Xa.tb.h(this.C.x,this.C.y),b.mb(k,t),d-=m*(w(this.la,t)+this.C.z),f.wa(l,t),h+=n*(w(this.ea,t)+this.C.z)):this.C.ba();a.L[this.O].M=d;a.L[this.J].M=h};T.prototype.Xa.tb=new r;
T.prototype.R=function(a){var c=a.L[this.O].oa,b=a.L[this.O].M,d=a.L[this.J].oa,e=a.L[this.J].M,f=this.Ua,h=this.Ka,k=this.Sa,l=this.Ha;if(0<this.lc){var m=-this.da.Va.z*(e-b+this.sg+this.Ub*this.C.z);this.C.z+=m;b-=k*m;e+=l*m;m=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),T.prototype.R.Vr);m=Qb(this.da,m.x,m.y,T.prototype.R.cv).Pa();this.C.x+=m.x;this.C.y+=m.y;c.mb(f,m);b-=k*w(this.la,m);d.wa(h,m);e+=l*w(this.ea,m)}else{var m=x(ub(d,e,this.ea,u),ub(c,b,this.la,db),T.prototype.R.Vr),n=Ob(this.da,m.x,m.y,
e-b,T.prototype.R.fi).Pa();this.C.Qa(n);m=T.prototype.R.tb.h(n.x,n.y);c.mb(f,m);b-=k*(w(this.la,m)+n.z);d.wa(h,m);e+=l*(w(this.ea,m)+n.z)}a.L[this.O].M=b;a.L[this.J].M=e};T.prototype.SolveVelocityConstraints=T.prototype.R;g=T.prototype;g.R.Vr=new r;g.R.cv=new r;g.R.fi=new zb;g.R.tb=new r;
g.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=this.rb.Ba(b),h=this.bb.Ba(e),k=this.Ua,l=this.Ka,m=this.Sa,n=this.Ha;x(this.Ga,this.lb,this.Ta);var t=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var z=y(h,this.Na,this.ea),B=this.Kb;B.$.x=k+l+t.y*t.y*m+z.y*z.y*n;B.ca.x=-t.y*t.x*m-z.y*z.x*n;B.Va.x=-t.y*m-z.y*n;B.$.y=B.ca.x;B.ca.y=k+l+t.x*t.x*m+z.x*z.x*n;B.Va.y=t.x*m+z.x*n;B.$.z=B.Va.x;B.ca.z=B.Va.y;B.Va.z=m+n;if(0<this.lc){var O=x(pb(d,z,u),pb(c,t,db),
T.prototype.ra.Rx),h=O.qc(),f=0,B=B.Rj(O.x,O.y,T.prototype.ra.tb).Pa();c.mb(k,B);b-=m*w(t,B);d.wa(l,B);e+=n*w(z,B)}else O=x(pb(d,z,u),pb(c,t,db),T.prototype.ra.Rx),z=e-b-this.ge,h=O.qc(),f=ra(z),t=T.prototype.ra.fi,0<B.Va.z?B.po(O.x,O.y,z,t).Pa():(B=B.Rj(O.x,O.y,T.prototype.ra.dv).Pa(),t.x=B.x,t.y=B.y,t.z=0),B=T.prototype.ra.tb.h(t.x,t.y),c.mb(k,B),b-=m*(w(this.la,B)+t.z),d.wa(l,B),e+=n*(w(this.ea,B)+t.z);a.ga[this.O].B=b;a.ga[this.J].B=e;return.008>=h&&f<=ga};
T.prototype.SolvePositionConstraints=T.prototype.ra;g=T.prototype;g.ra.Rx=new r;g.ra.tb=new r;g.ra.fi=new zb;g.ra.dv=new r;g.bd=function(a){return this.na.sb(this.Ga,a)};T.prototype.GetAnchorA=T.prototype.bd;T.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};T.prototype.GetAnchorB=T.prototype.Rc;T.prototype.kd=function(a,c){return c.h(a*this.C.x,a*this.C.y)};T.prototype.GetReactionForce=T.prototype.kd;T.prototype.ld=function(a){return a*this.C.z};T.prototype.GetReactionTorque=T.prototype.ld;
T.prototype.Dg=function(a){return a.e(this.Ga)};T.prototype.GetLocalAnchorA=T.prototype.Dg;T.prototype.Eg=function(a){return a.e(this.ya)};T.prototype.GetLocalAnchorB=T.prototype.Eg;T.prototype.Vn=function(){return this.ge};T.prototype.GetReferenceAngle=T.prototype.Vn;T.prototype.Rk=function(a){this.lc=a};T.prototype.Nk=function(){return this.lc};T.prototype.GetFrequency=T.prototype.Nk;T.prototype.Pk=function(a){this.Oc=a};T.prototype.Mk=function(){return this.Oc};T.prototype.GetDampingRatio=T.prototype.Mk;
T.prototype.Nb=function(){};T.prototype.Dump=T.prototype.Nb;function Sf(){this.type=7;this.va=new r(0,0);this.Da=new r(0,0);this.Gg=new r(1,0)}q(Sf,yf);p("box2d.b2WheelJointDef",Sf);Sf.prototype.va=null;Sf.prototype.localAnchorA=Sf.prototype.va;Sf.prototype.Da=null;Sf.prototype.localAnchorB=Sf.prototype.Da;Sf.prototype.Gg=null;Sf.prototype.localAxisA=Sf.prototype.Gg;Sf.prototype.yd=!1;Sf.prototype.enableMotor=Sf.prototype.yd;Sf.prototype.Mf=0;Sf.prototype.maxMotorTorque=Sf.prototype.Mf;Sf.prototype.ie=0;Sf.prototype.motorSpeed=Sf.prototype.ie;
Sf.prototype.Kd=2;Sf.prototype.frequencyHz=Sf.prototype.Kd;Sf.prototype.wd=.7;Sf.prototype.dampingRatio=Sf.prototype.wd;Sf.prototype.U=function(a,c,b,d){this.Ja=a;this.Fa=c;this.Ja.Me(b,this.va);this.Fa.Me(b,this.Da);this.Ja.Wp(d,this.Gg)};Sf.prototype.Initialize=Sf.prototype.U;
function S(a){J.call(this,a);this.lc=a.Kd;this.Oc=a.wd;this.Ga=a.va.za();this.ya=a.Da.za();this.pf=a.Gg.za();this.Cj=ob(1,this.pf,new r);this.Vh=a.Mf;this.pd=a.ie;this.od=a.yd;this.lb=new r;this.Za=new r;this.lh=new r;this.Kg=new r;this.rb=new Rb;this.bb=new Rb;this.Ta=new r;this.Na=new r;this.la=new r;this.ea=new r;this.lh.ba();this.Kg.ba()}q(S,J);p("box2d.b2WheelJoint",S);S.prototype.lc=0;S.prototype.m_frequencyHz=S.prototype.lc;S.prototype.Oc=0;S.prototype.m_dampingRatio=S.prototype.Oc;
S.prototype.Ga=null;S.prototype.m_localAnchorA=S.prototype.Ga;S.prototype.ya=null;S.prototype.m_localAnchorB=S.prototype.ya;S.prototype.pf=null;S.prototype.m_localXAxisA=S.prototype.pf;S.prototype.Cj=null;S.prototype.m_localYAxisA=S.prototype.Cj;S.prototype.C=0;S.prototype.m_impulse=S.prototype.C;S.prototype.Gb=0;S.prototype.m_motorImpulse=S.prototype.Gb;S.prototype.Sg=0;S.prototype.m_springImpulse=S.prototype.Sg;S.prototype.Vh=0;S.prototype.m_maxMotorTorque=S.prototype.Vh;S.prototype.pd=0;
S.prototype.m_motorSpeed=S.prototype.pd;S.prototype.od=!1;S.prototype.m_enableMotor=S.prototype.od;S.prototype.O=0;S.prototype.m_indexA=S.prototype.O;S.prototype.J=0;S.prototype.m_indexB=S.prototype.J;S.prototype.lb=null;S.prototype.m_localCenterA=S.prototype.lb;S.prototype.Za=null;S.prototype.m_localCenterB=S.prototype.Za;S.prototype.Ua=0;S.prototype.m_invMassA=S.prototype.Ua;S.prototype.Ka=0;S.prototype.m_invMassB=S.prototype.Ka;S.prototype.Sa=0;S.prototype.m_invIA=S.prototype.Sa;
S.prototype.Ha=0;S.prototype.m_invIB=S.prototype.Ha;S.prototype.lh=null;S.prototype.m_ax=S.prototype.lh;S.prototype.Kg=null;S.prototype.m_ay=S.prototype.Kg;S.prototype.Ol=0;S.prototype.m_sAx=S.prototype.Ol;S.prototype.Pl=0;S.prototype.m_sBx=S.prototype.Pl;S.prototype.Hj=0;S.prototype.m_sAy=S.prototype.Hj;S.prototype.Ij=0;S.prototype.m_sBy=S.prototype.Ij;S.prototype.da=0;S.prototype.m_mass=S.prototype.da;S.prototype.Ad=0;S.prototype.m_motorMass=S.prototype.Ad;S.prototype.Ji=0;
S.prototype.m_springMass=S.prototype.Ji;S.prototype.sg=0;S.prototype.m_bias=S.prototype.sg;S.prototype.Ub=0;S.prototype.m_gamma=S.prototype.Ub;S.prototype.rb=null;S.prototype.m_qA=S.prototype.rb;S.prototype.bb=null;S.prototype.m_qB=S.prototype.bb;S.prototype.Ta=null;S.prototype.m_lalcA=S.prototype.Ta;S.prototype.Na=null;S.prototype.m_lalcB=S.prototype.Na;S.prototype.la=null;S.prototype.m_rA=S.prototype.la;S.prototype.ea=null;S.prototype.m_rB=S.prototype.ea;S.prototype.Un=function(){return this.pd};
S.prototype.GetMotorSpeed=S.prototype.Un;S.prototype.Os=function(){return this.Vh};S.prototype.GetMaxMotorTorque=S.prototype.Os;S.prototype.mo=function(a){this.lc=a};S.prototype.SetSpringFrequencyHz=S.prototype.mo;S.prototype.Bz=function(){return this.lc};S.prototype.GetSpringFrequencyHz=S.prototype.Bz;S.prototype.UA=function(a){this.Oc=a};S.prototype.SetSpringDampingRatio=S.prototype.UA;S.prototype.Az=function(){return this.Oc};S.prototype.GetSpringDampingRatio=S.prototype.Az;
S.prototype.Xa=function(a){this.O=this.na.Zb;this.J=this.ia.Zb;this.lb.e(this.na.P.hb);this.Za.e(this.ia.P.hb);this.Ua=this.na.zb;this.Ka=this.ia.zb;this.Sa=this.na.cc;this.Ha=this.ia.cc;var c=this.Ua,b=this.Ka,d=this.Sa,e=this.Ha,f=a.ga[this.O].W,h=a.L[this.O].oa,k=a.L[this.O].M,l=a.ga[this.J].W,m=a.ga[this.J].B,n=a.L[this.J].oa,t=a.L[this.J].M,z=this.rb.Ba(a.ga[this.O].B),B=this.bb.Ba(m);x(this.Ga,this.lb,this.Ta);m=y(z,this.Ta,this.la);x(this.ya,this.Za,this.Na);B=y(B,this.Na,this.ea);f=x(pb(l,
B,u),pb(f,m,db),S.prototype.Xa.sd);y(z,this.Cj,this.Kg);this.Hj=w(pb(f,m,u),this.Kg);this.Ij=w(B,this.Kg);this.da=c+b+d*this.Hj*this.Hj+e*this.Ij*this.Ij;0<this.da&&(this.da=1/this.da);this.Ub=this.sg=this.Ji=0;0<this.lc?(y(z,this.pf,this.lh),this.Ol=w(pb(f,m,u),this.lh),this.Pl=w(B,this.lh),c=c+b+d*this.Ol*this.Ol+e*this.Pl*this.Pl,0<c&&(this.Ji=1/c,b=v(f,this.lh),z=2*fa*this.lc,f=this.Ji*z*z,l=a.step.Jb,this.Ub=l*(2*this.Ji*this.Oc*z+l*f),0<this.Ub&&(this.Ub=1/this.Ub),this.sg=b*l*f*this.Ub,this.Ji=
c+this.Ub,0<this.Ji&&(this.Ji=1/this.Ji))):this.Sg=0;this.od?(this.Ad=d+e,0<this.Ad&&(this.Ad=1/this.Ad)):this.Gb=this.Ad=0;a.step.Je?(this.C*=a.step.xd,this.Sg*=a.step.xd,this.Gb*=a.step.xd,d=pb(qb(this.C,this.Kg,u),qb(this.Sg,this.lh,db),S.prototype.Xa.tb),e=this.C*this.Hj+this.Sg*this.Ol+this.Gb,c=this.C*this.Ij+this.Sg*this.Pl+this.Gb,h.mb(this.Ua,d),k-=this.Sa*e,n.wa(this.Ka,d),t+=this.Ha*c):this.Gb=this.Sg=this.C=0;a.L[this.O].M=k;a.L[this.J].M=t};S.prototype.InitVelocityConstraints=S.prototype.Xa;
S.prototype.Xa.sd=new r;S.prototype.Xa.tb=new r;
S.prototype.R=function(a){var c=this.Ua,b=this.Ka,d=this.Sa,e=this.Ha,f=a.L[this.O].oa,h=a.L[this.O].M,k=a.L[this.J].oa,l=a.L[this.J].M,m=v(this.lh,x(k,f,u))+this.Pl*l-this.Ol*h,m=-this.Ji*(m+this.sg+this.Ub*this.Sg);this.Sg+=m;var n=qb(m,this.lh,S.prototype.R.tb),t=m*this.Ol,m=m*this.Pl;f.mb(c,n);h-=d*t;k.wa(b,n);l+=e*m;m=l-h-this.pd;m*=-this.Ad;n=this.Gb;t=a.step.Jb*this.Vh;this.Gb=Ka(this.Gb+m,-t,t);m=this.Gb-n;h-=d*m;l+=e*m;m=v(this.Kg,x(k,f,u))+this.Ij*l-this.Hj*h;m*=-this.da;this.C+=m;n=qb(m,
this.Kg,S.prototype.R.tb);t=m*this.Hj;m*=this.Ij;f.mb(c,n);h-=d*t;k.wa(b,n);a.L[this.O].M=h;a.L[this.J].M=l+e*m};S.prototype.SolveVelocityConstraints=S.prototype.R;S.prototype.R.tb=new r;
S.prototype.ra=function(a){var c=a.ga[this.O].W,b=a.ga[this.O].B,d=a.ga[this.J].W,e=a.ga[this.J].B,f=this.rb.Ba(b),h=this.bb.Ba(e);x(this.Ga,this.lb,this.Ta);var k=y(f,this.Ta,this.la);x(this.ya,this.Za,this.Na);var h=y(h,this.Na,this.ea),l=pb(x(d,c,u),x(h,k,db),S.prototype.ra.sd),f=y(f,this.Cj,this.Kg),k=w(pb(l,k,u),f),h=w(h,f),l=v(l,this.Kg),m=this.Ua+this.Ka+this.Sa*this.Hj*this.Hj+this.Ha*this.Ij*this.Ij,m=0!==m?-l/m:0,f=qb(m,f,S.prototype.ra.tb),k=m*k,h=m*h;c.mb(this.Ua,f);b-=this.Sa*k;d.wa(this.Ka,
f);e+=this.Ha*h;a.ga[this.O].B=b;a.ga[this.J].B=e;return.008>=ra(l)};S.prototype.SolvePositionConstraints=S.prototype.ra;S.prototype.ra.sd=new r;S.prototype.ra.tb=new r;S.prototype.Ds=function(a){return a};S.prototype.GetDefinition=S.prototype.Ds;S.prototype.bd=function(a){return this.na.sb(this.Ga,a)};S.prototype.GetAnchorA=S.prototype.bd;S.prototype.Rc=function(a){return this.ia.sb(this.ya,a)};S.prototype.GetAnchorB=S.prototype.Rc;
S.prototype.kd=function(a,c){c.x=a*(this.C*this.Kg.x+this.Sg*this.lh.x);c.y=a*(this.C*this.Kg.y+this.Sg*this.lh.y);return c};S.prototype.GetReactionForce=S.prototype.kd;S.prototype.ld=function(a){return a*this.Gb};S.prototype.GetReactionTorque=S.prototype.ld;S.prototype.Dg=function(a){return a.e(this.Ga)};S.prototype.GetLocalAnchorA=S.prototype.Dg;S.prototype.Eg=function(a){return a.e(this.ya)};S.prototype.GetLocalAnchorB=S.prototype.Eg;S.prototype.Ms=function(a){return a.e(this.pf)};
S.prototype.GetLocalAxisA=S.prototype.Ms;S.prototype.dh=function(){var a=this.na,c=this.ia,b=a.sb(this.Ga,new r),c=c.sb(this.ya,new r),b=x(c,b,new r),a=a.aj(this.pf,new r);return v(b,a)};S.prototype.GetJointTranslation=S.prototype.dh;S.prototype.Rn=function(){return this.ia.ab-this.na.ab};S.prototype.GetJointSpeed=S.prototype.Rn;S.prototype.Yn=function(){return this.od};S.prototype.IsMotorEnabled=S.prototype.Yn;S.prototype.ji=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.od=a};
S.prototype.EnableMotor=S.prototype.ji;S.prototype.Re=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.pd=a};S.prototype.SetMotorSpeed=S.prototype.Re;S.prototype.xt=function(a){this.na.Ra(!0);this.ia.Ra(!0);this.Vh=a};S.prototype.SetMaxMotorTorque=S.prototype.xt;S.prototype.Yp=function(a){return a*this.Gb};S.prototype.GetMotorTorque=S.prototype.Yp;S.prototype.Nb=function(){};S.prototype.Dump=S.prototype.Nb;var Xf={UD:0,VD:2,TD:4,ND:8,wD:16,SD:32,HD:64,QD:128,tD:256,uD:512,rD:1024,PD:2048,ID:4096,KD:8192,yD:16384,CD:32768,xD:65536,BD:131072};p("box2d.b2ParticleFlag",Xf);Xf.b2_waterParticle=0;Xf.b2_zombieParticle=2;Xf.b2_wallParticle=4;Xf.b2_springParticle=8;Xf.b2_elasticParticle=16;Xf.b2_viscousParticle=32;Xf.b2_powderParticle=64;Xf.b2_tensileParticle=128;Xf.b2_colorMixingParticle=256;Xf.b2_destructionListenerParticle=512;Xf.b2_barrierParticle=1024;Xf.b2_staticPressureParticle=2048;
Xf.b2_reactiveParticle=4096;Xf.b2_repulsiveParticle=8192;Xf.b2_fixtureContactListenerParticle=16384;Xf.b2_particleContactListenerParticle=32768;Xf.b2_fixtureContactFilterParticle=65536;Xf.b2_particleContactFilterParticle=131072;function Yf(a,c,b,d){if(0!==arguments.length)if(a instanceof xa)this.Bb=0|255*a.Bb,this.yb=0|255*a.yb,this.xb=0|255*a.xb,this.B=0|255*a.B;else if(3<=arguments.length)this.Bb=0|a||0,this.yb=0|c||0,this.xb=0|b||0,this.B=0|d||0;else throw Error();}p("box2d.b2ParticleColor",Yf);
Yf.prototype.Bb=0;Yf.prototype.r=Yf.prototype.Bb;Yf.prototype.yb=0;Yf.prototype.g=Yf.prototype.yb;Yf.prototype.xb=0;Yf.prototype.b=Yf.prototype.xb;Yf.prototype.B=0;Yf.prototype.a=Yf.prototype.B;Yf.prototype.vw=function(){return 0===this.Bb&&0===this.yb&&0===this.xb&&0===this.B};Yf.prototype.IsZero=Yf.prototype.vw;Yf.prototype.Xv=function(a){a.Bb=this.Bb/255;a.yb=this.yb/255;a.xb=this.xb/255;a.B=this.B/255;return a};Yf.prototype.GetColor=Yf.prototype.Xv;
Yf.prototype.h=function(a,c,b,d){if(a instanceof xa)this.dj(a);else if(3<=arguments.length)this.Ow(a||0,c||0,b||0,d);else throw Error();};Yf.prototype.Set=Yf.prototype.h;Yf.prototype.Ow=function(a,c,b,d){this.Bb=a;this.yb=c;this.xb=b;this.B="number"===typeof d?d:255};Yf.prototype.SetRGBA=Yf.prototype.Ow;Yf.prototype.dj=function(a){this.Bb=255*a.Bb;this.yb=255*a.yb;this.xb=255*a.xb;this.B=255*a.B};Yf.prototype.SetColor=Yf.prototype.dj;
Yf.prototype.e=function(a){this.Bb=a.Bb;this.yb=a.yb;this.xb=a.xb;this.B=a.B;return this};Yf.prototype.Copy=Yf.prototype.e;Yf.prototype.za=function(){return new Yf(this.Bb,this.yb,this.xb,this.B)};Yf.prototype.rt=function(a){this.Bb*=a;this.yb*=a;this.xb*=a;this.B*=a;return this};Yf.prototype.SelfMul_0_1=Yf.prototype.rt;Yf.prototype.Dw=function(a){a+=1;this.Bb=this.Bb*a>>Zf;this.yb=this.yb*a>>Zf;this.xb=this.xb*a>>Zf;this.B=this.B*a>>Zf;return this};Yf.prototype.SelfMul_0_255=Yf.prototype.Dw;
Yf.prototype.bA=function(a,c){return c.e(this).rt(a)};Yf.prototype.Mul_0_1=Yf.prototype.bA;Yf.prototype.cA=function(a,c){return c.e(this).Dw(a)};Yf.prototype.Mul_0_255=Yf.prototype.cA;Yf.prototype.Qa=function(a){this.Bb+=a.Bb;this.yb+=a.yb;this.xb+=a.xb;this.B+=a.B;return this};Yf.prototype.SelfAdd=Yf.prototype.Qa;Yf.prototype.Fn=function(a,c){c.Bb=this.Bb+a.Bb;c.yb=this.yb+a.yb;c.xb=this.xb+a.xb;c.B=this.B+a.B;return c};Yf.prototype.Add=Yf.prototype.Fn;
Yf.prototype.Pb=function(a){this.Bb-=a.Bb;this.yb-=a.yb;this.xb-=a.xb;this.B-=a.B;return this};Yf.prototype.SelfSub=Yf.prototype.Pb;Yf.prototype.bB=function(a,c){c.Bb=this.Bb-a.Bb;c.yb=this.yb-a.yb;c.xb=this.xb-a.xb;c.B=this.B-a.B;return c};Yf.prototype.Sub=Yf.prototype.bB;Yf.prototype.Zp=function(a){return this.Bb===a.Bb&&this.yb===a.yb&&this.xb===a.xb&&this.B===a.B};Yf.prototype.IsEqual=Yf.prototype.Zp;Yf.prototype.aA=function(a,c){$f(this,a,c)};Yf.prototype.Mix=Yf.prototype.aA;
function $f(a,c,b){var d=b*(c.Bb-a.Bb)>>Zf,e=b*(c.yb-a.yb)>>Zf,f=b*(c.xb-a.xb)>>Zf;b=b*(c.B-a.B)>>Zf;a.Bb+=d;a.yb+=e;a.xb+=f;a.B+=b;c.Bb-=d;c.yb-=e;c.xb-=f;c.B-=b}Yf.MixColors=$f;var Zf=8,ag=(1<<Zf)-1;Yf.k_maxValue=+ag;Yf.k_inverseMaxValue=1/+ag;Yf.k_bitsPerComponent=Zf;var bg=new Yf;function cg(){this.position=Ya.za();this.eg=Ya.za();this.color=bg.za()}p("box2d.b2ParticleDef",cg);cg.prototype.Ea=0;cg.prototype.flags=cg.prototype.Ea;cg.prototype.position=null;cg.prototype.position=cg.prototype.position;
cg.prototype.eg=null;cg.prototype.velocity=cg.prototype.eg;cg.prototype.color=null;cg.prototype.color=cg.prototype.color;cg.prototype.wi=0;cg.prototype.lifetime=cg.prototype.wi;cg.prototype.Hc=null;cg.prototype.userData=cg.prototype.Hc;cg.prototype.group=null;cg.prototype.group=cg.prototype.group;function Wf(a,c,b){return Ka(Math.ceil(Math.sqrt(a/(.01*c))*b),1,8)}p("box2d.b2CalculateParticleIterations",Wf);function dg(){}p("box2d.b2ParticleHandle",dg);dg.prototype.Be=-1;dg.prototype.Sy=function(){return this.Be};
dg.prototype.GetIndex=dg.prototype.Sy;function eg(){this.ub()}p("box2d.Testbed.ParticleParameter",eg);eg.Options={pD:1,nD:2,lD:4,kD:8,eD:16,iD:32,hD:64,gD:128,jD:256,fD:512,oD:1024,mD:2048};eg.k_DefaultOptions=6;function fg(a,c,b){this.value=a;this.options=c;this.name=b}fg.prototype.value=0;fg.prototype.options=0;fg.prototype.name="";function gg(a,c){this.fs=a;this.jp=c||a.length}gg.prototype.fs=null;gg.prototype.jp=0;
var hg=[new fg(0,6,"water"),new fg(0,7,"water (strict)"),new fg(8,6,"spring"),new fg(16,6,"elastic"),new fg(32,6,"viscous"),new fg(64,6,"powder"),new fg(128,6,"tensile"),new fg(256,6,"color mixing"),new fg(4,6,"wall"),new fg(1028,6,"barrier"),new fg(2048,6,"static pressure"),new fg(0,22,"water (bounding boxes)")],ug=[new gg(hg)];g=eg.prototype;g.Be=0;g.Yt=!1;g.tk=!1;g.Nr=null;g.Uq=null;g.Vq=0;g.Wl=0;g.ub=function(){this.tk=!0;this.Be=0;xg(this,ug);this.h(0)};
function xg(a,c,b){a.Uq=c;a.Vq=b||c.length;for(c=a.Wl=0;c<a.Vq;++c)a.Wl+=a.Uq[c].jp;a.h(a.Be)}g.h=function(a){this.Yt=this.Be!==a;this.Be=this.Wl?a%this.Wl:a;a:{a=0;for(var c=this.Be,b=0;b<this.Vq;++b){var d=this.Uq[b],e=a+d.jp;if(c>=a&&c<e){a=d.fs[c-a];break a}a=e}a=null}this.Nr=a};g.bt=function(){var a=this.Be;this.h(a>=this.Wl?0:a+1)};g.us=function(){var a=this.Be;this.h(0===a?this.Wl-1:a-1)};var yg={MD:1,LD:2,DD:4,FD:8,ED:16};p("box2d.b2ParticleGroupFlag",yg);yg.b2_solidParticleGroup=1;yg.b2_rigidParticleGroup=2;yg.b2_particleGroupCanBeEmpty=4;yg.b2_particleGroupWillBeDestroyed=8;yg.b2_particleGroupNeedsUpdateDepth=16;function zg(){this.position=Ya.za();this.ih=Ya.za();this.color=bg.za()}p("box2d.b2ParticleGroupDef",zg);zg.prototype.Ea=0;zg.prototype.flags=zg.prototype.Ea;zg.prototype.qi=0;zg.prototype.groupFlags=zg.prototype.qi;zg.prototype.position=null;zg.prototype.position=zg.prototype.position;
zg.prototype.fb=0;zg.prototype.angle=zg.prototype.fb;zg.prototype.ih=null;zg.prototype.linearVelocity=zg.prototype.ih;zg.prototype.hh=0;zg.prototype.angularVelocity=zg.prototype.hh;zg.prototype.color=null;zg.prototype.color=zg.prototype.color;zg.prototype.Ui=1;zg.prototype.strength=zg.prototype.Ui;zg.prototype.shape=null;zg.prototype.shape=zg.prototype.shape;zg.prototype.qv=null;zg.prototype.shapes=zg.prototype.qv;zg.prototype.Wx=0;zg.prototype.shapeCount=zg.prototype.Wx;zg.prototype.rv=0;
zg.prototype.stride=zg.prototype.rv;zg.prototype.Vu=0;zg.prototype.particleCount=zg.prototype.Vu;zg.prototype.Qx=null;zg.prototype.positionData=zg.prototype.Qx;zg.prototype.wi=0;zg.prototype.lifetime=zg.prototype.wi;zg.prototype.Hc=null;zg.prototype.userData=zg.prototype.Hc;zg.prototype.group=null;zg.prototype.group=zg.prototype.group;function Ag(){this.pj=new r;this.fc=new r;this.xg=new Vb;this.xg.Sf()}p("box2d.b2ParticleGroup",Ag);g=Ag.prototype;g.wb=null;g.Lb=0;g.zc=0;g.Eb=0;g.gn=1;g.qb=null;
g.Y=null;g.wk=-1;g.da=0;g.Qm=0;g.pj=null;g.fc=null;g.ab=0;g.xg=null;g.$e=null;g.vd=function(){return this.Y};Ag.prototype.GetNext=Ag.prototype.vd;Ag.prototype.fw=function(){return this.wb};Ag.prototype.GetParticleSystem=Ag.prototype.fw;Ag.prototype.Sc=function(){return this.zc-this.Lb};Ag.prototype.GetParticleCount=Ag.prototype.Sc;Ag.prototype.By=function(){return this.Lb};Ag.prototype.GetBufferIndex=Ag.prototype.By;function Bg(a,c){return a.Lb<=c&&c<a.zc}
Ag.prototype.Nn=function(){for(var a=0,c=this.Lb;c<this.zc;c++)a|=this.wb.Ya.data[c];return a};Ag.prototype.GetAllParticleFlags=Ag.prototype.Nn;Ag.prototype.Ry=function(){return this.Eb};Ag.prototype.GetGroupFlags=Ag.prototype.Ry;Ag.prototype.Kh=function(a){a|=this.Eb&24;this.wb.Kh(this,a)};Ag.prototype.SetGroupFlags=Ag.prototype.Kh;Ag.prototype.me=function(){this.Sj();return this.da};Ag.prototype.GetMass=Ag.prototype.me;Ag.prototype.ki=function(){this.Sj();return this.Qm};
Ag.prototype.GetInertia=Ag.prototype.ki;Ag.prototype.Zi=function(){this.Sj();return this.pj};Ag.prototype.GetCenter=Ag.prototype.Zi;Ag.prototype.le=function(){this.Sj();return this.fc};Ag.prototype.GetLinearVelocity=Ag.prototype.le;Ag.prototype.sm=function(){this.Sj();return this.ab};Ag.prototype.GetAngularVelocity=Ag.prototype.sm;Ag.prototype.Wb=function(){return this.xg};Ag.prototype.GetTransform=Ag.prototype.Wb;Ag.prototype.cd=function(){return this.xg.ta};Ag.prototype.GetPosition=Ag.prototype.cd;
Ag.prototype.hc=function(){return this.xg.ha.hc()};Ag.prototype.GetAngle=Ag.prototype.hc;Ag.prototype.Dh=function(a,c){var b=new r;this.Sj();return ub(this.fc,this.ab,x(a,this.pj,b),c)};Ag.prototype.GetLinearVelocityFromWorldPoint=Ag.prototype.Dh;Ag.prototype.ec=function(){return this.$e};Ag.prototype.GetUserData=Ag.prototype.ec;Ag.prototype.fh=function(a){this.$e=a};Ag.prototype.SetUserData=Ag.prototype.fh;Ag.prototype.Ke=function(a){this.wb.Ke(this.Lb,this.zc,a)};Ag.prototype.ApplyForce=Ag.prototype.Ke;
Ag.prototype.wf=function(a){this.wb.wf(this.Lb,this.zc,a)};Ag.prototype.ApplyLinearImpulse=Ag.prototype.wf;Ag.prototype.ws=function(a){if(!this.wb.j.ee)for(var c=this.Lb;c<this.zc;c++)this.wb.rm(c,a)};Ag.prototype.DestroyParticles=Ag.prototype.ws;
Ag.prototype.Sj=function(){var a=new r,c=new r;if(this.wk!=this.wb.wk){var b=Cg(this.wb);this.da=b*(this.zc-this.Lb);this.pj.ba();this.fc.ba();for(var d=this.Lb;d<this.zc;d++)this.pj.wa(b,this.wb.Qb.data[d]),this.fc.wa(b,this.wb.Hb.data[d]);0<this.da&&(d=1/this.da,this.pj.Ia(d),this.fc.Ia(d));this.ab=this.Qm=0;for(d=this.Lb;d<this.zc;d++)x(this.wb.Qb.data[d],this.pj,a),x(this.wb.Hb.data[d],this.fc,c),this.Qm+=b*v(a,a),this.ab+=b*w(a,c);0<this.Qm&&(this.ab*=1/this.Qm);this.wk=this.wb.wk}};
Ag.prototype.UpdateStatistics=Ag.prototype.Sj;function Dg(a,c,b){var d=a[c];a[c]=a[b];a[b]=d}function Eg(a,c,b){var d=0;"number"!==typeof d&&(d=0);"number"!==typeof c&&(c=a.length-d);"function"!==typeof b&&(b=function(a,b){return a<b});for(var e=[],f=0;;){for(;d+1<c;c++){var h=a[d+Math.floor(Math.random()*(c-d))];e[f++]=c;for(var k=d-1;;){for(;b(a[++k],h););for(;b(h,a[--c]););if(k>=c)break;Dg(a,k,c)}}if(0===f)break;d=c;c=e[--f]}}
function Fg(a,c,b){"number"!==typeof b&&(b=a.length);for(var d=0,e=0;e<b;++e)c(a[e])||(e===d?++d:Dg(a,d++,e));return d}function Gg(a,c,b){var d=0,e=Hg;"function"!==typeof e&&(e=function(a,b){return a<b});for(c-=d;0<c;){var f=Math.floor(c/2),h=d+f;e(a[h],b)?(d=++h,c-=f+1):c=f}return d}function Ig(a,c,b,d){var e=Jg;"function"!==typeof e&&(e=function(a,b){return a<b});for(b-=c;0<b;){var f=Math.floor(b/2),h=c+f;e(d,a[h])?b=f:(c=++h,b-=f+1)}return c}
function Kg(a,c,b,d){for(var e=b;c!==e;)Dg(a,c++,e++),e===d?e=b:c===b&&(b=e)}function Lg(a){this.data=[];this.al=this.count=0;this.Zk=a}g=Lg.prototype;g.data=null;g.count=0;g.al=0;g.Zk=function(){return null};function Mg(a){if(a.count>=a.al){var c=a.al?2*a.al:256;if(!(a.al>=c)){for(var b=a.al;b<c;++b)a.data[b]=a.Zk();a.al=c}}return a.count++}g.Lk=function(){return this.count};function Ng(a,c){for(var b=0,d=0;d<a.count;++d)c(a.data[d])||b++;a.count=Fg(a.data,c,a.count)}
function Og(a,c){var b;b=a.data;var d=a.count,e=0;if(e===d)b=d;else{for(var f=e;++e!==d;)c(b[f],b[e])||Dg(b,++f,e);b=++f}a.count=b}function Pg(a){this.wb=a}q(Pg,ue);Pg.prototype.wb=null;Pg.prototype.Qj=function(){return!1};Pg.prototype.Zd=function(a){if(a.We)return!0;for(var c=a.$a.xf(),b=0;b<c;b++)for(var d=Qg(this.wb,a.Uv(b)),e;0<=(e=d.vd());)this.ym(a,b,e);return!0};p("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture",Pg.prototype.Zd);Pg.prototype.Hh=function(){return!1};
p("box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle",Pg.prototype.Hh);Pg.prototype.ym=function(){};p("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle",Pg.prototype.ym);function Rg(){this.V=new r}p("box2d.b2ParticleContact",Rg);Rg.prototype.X=0;Rg.prototype.indexA=Rg.prototype.X;Rg.prototype.aa=0;Rg.prototype.indexB=Rg.prototype.aa;Rg.prototype.weight=0;Rg.prototype.weight=Rg.prototype.weight;Rg.prototype.V=null;Rg.prototype.normal=Rg.prototype.V;
Rg.prototype.Ea=0;Rg.prototype.flags=Rg.prototype.Ea;Rg.prototype.IA=function(a,c){this.X=a;this.aa=c};Rg.prototype.SetIndices=Rg.prototype.IA;Rg.prototype.$A=function(a){this.weight=a};Rg.prototype.SetWeight=Rg.prototype.$A;Rg.prototype.OA=function(a){this.V.e(a)};Rg.prototype.SetNormal=Rg.prototype.OA;Rg.prototype.cq=function(a){this.Ea=a};Rg.prototype.SetFlags=Rg.prototype.cq;Rg.prototype.Ty=function(){return this.X};Rg.prototype.GetIndexA=Rg.prototype.Ty;Rg.prototype.Uy=function(){return this.aa};
Rg.prototype.GetIndexB=Rg.prototype.Uy;Rg.prototype.Oz=function(){return this.weight};Rg.prototype.GetWeight=Rg.prototype.Oz;Rg.prototype.nz=function(){return this.V};Rg.prototype.GetNormal=Rg.prototype.nz;Rg.prototype.Vp=function(){return this.Ea};Rg.prototype.GetFlags=Rg.prototype.Vp;Rg.prototype.Zp=function(a){return this.X===a.X&&this.aa===a.aa&&this.Ea===a.Ea&&this.weight===a.weight&&this.V.x===a.V.x&&this.V.y===a.V.y};Rg.prototype.IsEqual=Rg.prototype.Zp;Rg.prototype.Xz=function(a){return!this.Zp(a)};
Rg.prototype.IsNotEqual=Rg.prototype.Xz;Rg.prototype.ay=function(a){return this.X===a.X&&this.aa===a.aa&&this.Ea===a.Ea&&.01>ra(this.weight-a.weight)&&1E-4>yb(this.V,a.V)};Rg.prototype.ApproximatelyEqual=Rg.prototype.ay;function Sg(){this.V=new r}p("box2d.b2ParticleBodyContact",Sg);Sg.prototype.index=0;Sg.prototype.index=Sg.prototype.index;Sg.prototype.body=null;Sg.prototype.body=Sg.prototype.body;Sg.prototype.qg=null;Sg.prototype.fixture=Sg.prototype.qg;Sg.prototype.weight=0;
Sg.prototype.weight=Sg.prototype.weight;Sg.prototype.V=null;Sg.prototype.normal=Sg.prototype.V;Sg.prototype.qd=0;Sg.prototype.mass=Sg.prototype.qd;function Tg(){}p("box2d.b2ParticlePair",Tg);Tg.prototype.X=0;Tg.prototype.indexA=Tg.prototype.X;Tg.prototype.aa=0;Tg.prototype.indexB=Tg.prototype.aa;Tg.prototype.Ea=0;Tg.prototype.flags=Tg.prototype.Ea;Tg.prototype.Ui=0;Tg.prototype.strength=Tg.prototype.Ui;Tg.prototype.Bf=0;Tg.prototype.distance=Tg.prototype.Bf;
function Ug(){this.lp=new r(0,0);this.mp=new r(0,0);this.np=new r(0,0)}p("box2d.b2ParticleTriad",Ug);Ug.prototype.X=0;Ug.prototype.indexA=Ug.prototype.X;Ug.prototype.aa=0;Ug.prototype.indexB=Ug.prototype.aa;Ug.prototype.rg=0;Ug.prototype.indexC=Ug.prototype.rg;Ug.prototype.Ea=0;Ug.prototype.flags=Ug.prototype.Ea;Ug.prototype.Ui=0;Ug.prototype.strength=Ug.prototype.Ui;Ug.prototype.lp=null;Ug.prototype.pa=Ug.prototype.lp;Ug.prototype.mp=null;Ug.prototype.pb=Ug.prototype.mp;Ug.prototype.np=null;
Ug.prototype.pc=Ug.prototype.np;Ug.prototype.ux=0;Ug.prototype.ka=Ug.prototype.ux;Ug.prototype.vx=0;Ug.prototype.kb=Ug.prototype.vx;Ug.prototype.wx=0;Ug.prototype.kc=Ug.prototype.wx;Ug.prototype.Lc=0;Ug.prototype.s=Ug.prototype.Lc;function Vg(){}p("box2d.b2ParticleSystemDef",Vg);Vg.prototype.km=!1;Vg.prototype.strictContactCheck=Vg.prototype.km;Vg.prototype.fa=1;Vg.prototype.density=Vg.prototype.fa;Vg.prototype.Vf=1;Vg.prototype.gravityScale=Vg.prototype.Vf;Vg.prototype.op=1;Vg.prototype.radius=Vg.prototype.op;
Vg.prototype.Yl=0;Vg.prototype.maxCount=Vg.prototype.Yl;Vg.prototype.Tr=.005;Vg.prototype.pressureStrength=Vg.prototype.Tr;Vg.prototype.cl=1;Vg.prototype.dampingStrength=Vg.prototype.cl;Vg.prototype.yq=.25;Vg.prototype.elasticStrength=Vg.prototype.yq;Vg.prototype.Zr=.25;Vg.prototype.springStrength=Vg.prototype.Zr;Vg.prototype.gs=.25;Vg.prototype.viscousStrength=Vg.prototype.gs;Vg.prototype.ds=.2;Vg.prototype.surfaceTensionPressureStrength=Vg.prototype.ds;Vg.prototype.cs=.2;
Vg.prototype.surfaceTensionNormalStrength=Vg.prototype.cs;Vg.prototype.Ur=1;Vg.prototype.repulsiveStrength=Vg.prototype.Ur;Vg.prototype.Sr=.5;Vg.prototype.powderStrength=Vg.prototype.Sr;Vg.prototype.xq=.5;Vg.prototype.ejectionStrength=Vg.prototype.xq;Vg.prototype.as=.2;Vg.prototype.staticPressureStrength=Vg.prototype.as;Vg.prototype.$r=.2;Vg.prototype.staticPressureRelaxation=Vg.prototype.$r;Vg.prototype.yn=8;Vg.prototype.staticPressureIterations=Vg.prototype.yn;Vg.prototype.iq=.5;
Vg.prototype.colorMixingStrength=Vg.prototype.iq;Vg.prototype.Uj=!0;Vg.prototype.destroyByAge=Vg.prototype.Uj;Vg.prototype.Dm=1/60;Vg.prototype.lifetimeGranularity=Vg.prototype.Dm;Vg.prototype.e=function(a){this.km=a.km;this.fa=a.fa;this.Vf=a.Vf;this.op=a.op;this.Yl=a.Yl;this.Tr=a.Tr;this.cl=a.cl;this.yq=a.yq;this.Zr=a.Zr;this.gs=a.gs;this.ds=a.ds;this.cs=a.cs;this.Ur=a.Ur;this.Sr=a.Sr;this.xq=a.xq;this.as=a.as;this.$r=a.$r;this.yn=a.yn;this.iq=a.iq;this.Uj=a.Uj;this.Dm=a.Dm;return this};
Vg.prototype.za=function(){return(new Vg).e(this)};function X(a,c){this.Jt(a,c)}p("box2d.b2ParticleSystem",X);g=X.prototype;g.Ju=!1;g.wk=0;g.Jc=0;g.rr=!1;g.Oh=0;g.Au=!1;g.xl=!1;g.ir=0;g.Fx=0;g.Ud=0;g.Og=0;g.Ir=0;g.n=0;g.Rm=0;g.Pd=null;g.Ya=null;g.Qb=null;g.Hb=null;g.ug=null;g.uf=null;g.te=null;g.Md=null;g.jh=null;g.Pc=null;g.nd=null;g.Dc=null;g.ue=null;g.Kr=0;g.Gf=null;g.kf=null;g.lf=null;g.hn=null;g.nc=null;g.ob=null;g.xc=null;g.Ec=null;g.Ze=null;g.Od=null;g.Ce=null;g.mn=0;g.gu=!1;g.dr=0;g.of=null;
g.Db=null;g.j=null;g.qb=null;g.Y=null;function Wg(a,c){return(c+2048>>>0<<20)+(256*a+524288>>>0)>>>0}function Xg(){}function Yg(){}q(Yg,Xg);Yg.prototype.U=function(){};function qh(){}q(qh,Xg);qh.prototype.U=function(){};function zh(){}zh.prototype.Zn=function(){return!0};zh.prototype.Vw=function(){return!0};zh.prototype.Ww=function(){return!0};
X.prototype.Jt=function(a,c){this.Pd=new Ah;this.Ya=new Ah;this.Qb=new Ah;this.Hb=new Ah;this.ug=[];this.uf=[];this.te=[];this.Md=[];this.jh=[];this.Pc=[];this.nd=new Ah;this.Dc=[];this.ue=new Ah;this.Gf=new Ah;this.kf=new Ah;this.lf=new Ah;this.hn=new Lg(function(){return 0});this.nc=new Lg(function(){return new Bh});this.ob=new Lg(function(){return new Rg});this.xc=new Lg(function(){return new Sg});this.Ec=new Lg(function(){return new Tg});this.Ze=new Lg(function(){return new Ug});this.Od=new Ah;
this.Ce=new Ah;this.Db=new Vg;this.Ct(a.km);this.zm(a.fa);this.Am(a.Vf);this.Jd(a.op);this.lo(a.Yl);this.Db=a.za();this.j=c;this.bq(this.Db.Uj)};X.prototype.kx=function(){for(;this.of;)this.Kp(this.of);Ch(this.Pd);Ch(this.Ya);Ch(this.Gf);Ch(this.kf);Ch(this.lf);Ch(this.Qb);Ch(this.Hb);Ch(this.nd);Ch(this.ue);Ch(this.Od);Ch(this.Ce);Dh(this.ug);Dh(this.uf);Dh(this.te);Dh(this.Md);Dh(this.jh);Dh(this.Pc);Dh(this.Dc)};X.prototype.ys=function(){this.kx()};
X.prototype.pm=function(a){if(this.j.ee)return 0;this.n>=this.Rm&&Eh(this,this.n?2*this.n:256);if(this.n>=this.Rm)if(this.Db.Uj){var c=this.Ce.data[this.Sc()-1],b=this.Ce.data[0];this.rm(0<this.Od.data[c]?c:b,!1);Fh(this)}else return-1;c=this.n++;this.Ya.data[c]=0;this.Gf.data&&(this.Gf.data[c]=0);this.kf.data&&(this.kf.data[c]=0);this.lf.data&&(this.lf.data[c]=0);this.Qb.data[c]=a.position.za();this.Hb.data[c]=a.eg.za();this.uf[c]=0;this.ug[c]=Ya.za();this.te&&(this.te[c]=0);this.Pc&&(this.Pc[c]=
0);if(this.nd.data||!a.color.vw())this.nd.data=Gh(this,this.nd.data),this.nd.data[c]=a.color.za();if(this.ue.data||a.Hc)this.ue.data=Gh(this,this.ue.data),this.ue.data[c]=a.Hc;this.Pd.data&&(this.Pd.data[c]=null);var b=this.nc.data[Mg(this.nc)],d=0<a.wi;if(this.Od.data||d)this.dq(c,d?a.wi:this.zs(-(this.mn>>32>>0))),this.Ce.data[c]=c;b.index=c;b=a.group;if(this.Dc[c]=b)b.Lb<b.zc?Hh(this,b.Lb,b.zc,c):b.Lb=c,b.zc=c+1;this.fj(c,a.Ea);return c};X.prototype.CreateParticle=X.prototype.pm;
X.prototype.dw=function(a){this.Pd.data=Gh(this,this.Pd.data);var c=this.Pd.data[a];if(c)return c;c=new dg;c.Be=a;return this.Pd.data[a]=c};X.prototype.GetParticleHandleFromIndex=X.prototype.dw;X.prototype.rm=function(a,c){var b=2;c&&(b|=512);this.fj(a,this.Ya.data[a]|b)};X.prototype.DestroyParticle=X.prototype.rm;function Ih(a,c,b,d){this.wb=a;this.$a=c;this.Ma=b;this.yx=d;this.fu=0}q(Ih,ue);g=Ih.prototype;g.wb=null;g.$a=null;g.Ma=null;g.yx=!1;g.fu=0;g.Zd=function(){return!1};
g.Hh=function(a,c){if(a!==this.wb)return!1;this.$a.Uc(this.Ma,this.wb.Qb.data[c])&&(this.wb.rm(c,this.yx),this.fu++);return!0};X.prototype.Yi=function(a,c,b){if(this.j.ee)return 0;b=new Ih(this,a,c,b);var d=new Jc;a.Tb(d,c,0);this.j.ig(b,d);return b.fu};X.prototype.DestroyParticlesInShape=X.prototype.Yi;
X.prototype.jd=function(a){if(this.j.ee)return null;var c=new Vb;c.h(a.position,a.fb);var b=this.n;a.shape&&this.Nv(a.shape,a,c);a.qv&&this.Ov(a.qv,a.Wx,a,c);if(a.Vu)for(var d=0;d<a.Vu;d++)this.Jp(a,c,a.Qx[d]);var e=this.n,f=new Ag;f.wb=this;f.Lb=b;f.zc=e;f.gn=a.Ui;f.$e=a.Hc;f.xg.e(c);f.qb=null;if(f.Y=this.of)this.of.qb=f;this.of=f;++this.dr;for(d=b;d<e;d++)this.Dc[d]=f;this.Kh(f,a.qi);c=new zh;Jh(this,!0);Kh(this,b,e,c);a.group&&(this.ww(a.group,f),f=a.group);return f};
X.prototype.CreateParticleGroup=X.prototype.jd;function Lh(a){this.$h=a}q(Lh,zh);Lh.prototype.$h=0;Lh.prototype.Vw=function(a,c){return a<this.$h&&this.$h<=c||c<this.$h&&this.$h<=a};Lh.prototype.Ww=function(a,c,b){return(a<this.$h||c<this.$h||b<this.$h)&&(this.$h<=a||this.$h<=c||this.$h<=b)};
X.prototype.ww=function(a,c){if(!this.j.ee){Hh(this,c.Lb,c.zc,this.n);Hh(this,a.Lb,a.zc,c.Lb);var b=new Lh(c.Lb);Jh(this,!0);Kh(this,a.Lb,c.zc,b);for(b=c.Lb;b<c.zc;b++)this.Dc[b]=a;this.Kh(a,a.Eb|c.Eb);a.zc=c.zc;c.Lb=c.zc;this.Kp(c)}};X.prototype.JoinParticleGroups=X.prototype.ww;X.prototype.bx=function(a){Jh(this,!0);var c=sa(a.Sc(),function(){return new Mh});Nh(a,c);Oh(this,a,c);var b=Ph(a,c);Qh(this,a,c,b);Rh(this,a,c,b);Sh(this,a,c)};X.prototype.SplitParticleGroup=X.prototype.bx;
X.prototype.rz=function(){return this.of};X.prototype.GetParticleGroupList=X.prototype.rz;X.prototype.qz=function(){return this.dr};X.prototype.GetParticleGroupCount=X.prototype.qz;X.prototype.Sc=function(){return this.n};X.prototype.GetParticleCount=X.prototype.Sc;X.prototype.lz=function(){return this.Db.Yl};X.prototype.GetMaxParticleCount=X.prototype.lz;X.prototype.lo=function(a){this.Db.Yl=a};X.prototype.SetMaxParticleCount=X.prototype.lo;X.prototype.Nn=function(){return this.Jc};
X.prototype.GetAllParticleFlags=X.prototype.Nn;X.prototype.ry=function(){return this.Oh};X.prototype.GetAllGroupFlags=X.prototype.ry;X.prototype.PA=function(a){this.Ju=a};X.prototype.SetPaused=X.prototype.PA;X.prototype.uz=function(){return this.Ju};X.prototype.GetPaused=X.prototype.uz;X.prototype.zm=function(a){this.Db.fa=a;this.Fx=1/this.Db.fa};X.prototype.SetDensity=X.prototype.zm;X.prototype.Up=function(){return this.Db.fa};X.prototype.GetDensity=X.prototype.Up;
X.prototype.Am=function(a){this.Db.Vf=a};X.prototype.SetGravityScale=X.prototype.Am;X.prototype.Is=function(){return this.Db.Vf};X.prototype.GetGravityScale=X.prototype.Is;X.prototype.ni=function(a){this.Db.cl=a};X.prototype.SetDamping=X.prototype.ni;X.prototype.Ky=function(){return this.Db.cl};X.prototype.GetDamping=X.prototype.Ky;X.prototype.VA=function(a){this.Db.yn=a};X.prototype.SetStaticPressureIterations=X.prototype.VA;X.prototype.Cz=function(){return this.Db.yn};
X.prototype.GetStaticPressureIterations=X.prototype.Cz;X.prototype.Jd=function(a){this.Ud=2*a;this.Ir=this.Ud*this.Ud;this.Og=1/this.Ud};X.prototype.SetRadius=X.prototype.Jd;X.prototype.vm=function(){return this.Ud/2};X.prototype.GetRadius=X.prototype.vm;X.prototype.vz=function(){return this.Qb.data};X.prototype.GetPositionBuffer=X.prototype.vz;X.prototype.Lz=function(){return this.Hb.data};X.prototype.GetVelocityBuffer=X.prototype.Lz;X.prototype.Pn=function(){this.nd.data=Gh(this,this.nd.data);return this.nd.data};
X.prototype.GetColorBuffer=X.prototype.Pn;X.prototype.Qy=function(){return this.Dc};X.prototype.GetGroupBuffer=X.prototype.Qy;X.prototype.Pz=function(){return this.uf};X.prototype.GetWeightBuffer=X.prototype.Pz;X.prototype.Xs=function(){this.ue.data=Gh(this,this.ue.data);return this.ue.data};X.prototype.GetUserDataBuffer=X.prototype.Xs;X.prototype.Py=function(){return this.Ya.data};X.prototype.GetFlagsBuffer=X.prototype.Py;
X.prototype.fj=function(a,c){this.Ya.data[a]&~c&&(this.rr=!0);~this.Jc&c&&(c&128&&(this.jh=Gh(this,this.jh)),c&256&&(this.nd.data=Gh(this,this.nd.data)),this.Jc|=c);this.Ya.data[a]=c};X.prototype.SetParticleFlags=X.prototype.fj;X.prototype.Rs=function(a){return this.Ya.data[a]};X.prototype.GetParticleFlags=X.prototype.Rs;X.prototype.HA=function(a,c){var b=this.Ya;b.data=a;b.Bh=c};X.prototype.SetFlagsBuffer=X.prototype.HA;X.prototype.QA=function(a,c){var b=this.Qb;b.data=a;b.Bh=c};
X.prototype.SetPositionBuffer=X.prototype.QA;X.prototype.ZA=function(a,c){var b=this.Hb;b.data=a;b.Bh=c};X.prototype.SetVelocityBuffer=X.prototype.ZA;X.prototype.DA=function(a,c){var b=this.nd;b.data=a;b.Bh=c};X.prototype.SetColorBuffer=X.prototype.DA;X.prototype.YA=function(a,c){var b=this.ue;b.data=a;b.Bh=c};X.prototype.SetUserDataBuffer=X.prototype.YA;X.prototype.Gy=function(){return this.ob.data};X.prototype.GetContacts=X.prototype.Gy;X.prototype.Rp=function(){return this.ob.count};
X.prototype.GetContactCount=X.prototype.Rp;X.prototype.zy=function(){return this.xc.data};X.prototype.GetBodyContacts=X.prototype.zy;X.prototype.yy=function(){return this.xc.count};X.prototype.GetBodyContactCount=X.prototype.yy;X.prototype.pz=function(){return this.Ec.data};X.prototype.GetPairs=X.prototype.pz;X.prototype.oz=function(){return this.Ec.count};X.prototype.GetPairCount=X.prototype.oz;X.prototype.Kz=function(){return this.Ze.data};X.prototype.GetTriads=X.prototype.Kz;X.prototype.Jz=function(){return this.Ze.count};
X.prototype.GetTriadCount=X.prototype.Jz;X.prototype.Fz=function(){return this.hn.data};X.prototype.GetStuckCandidates=X.prototype.Fz;X.prototype.Ez=function(){return this.hn.Lk()};X.prototype.GetStuckCandidateCount=X.prototype.Ez;X.prototype.gy=function(){for(var a=new r,c=this.Hb.data,b=0,d=0;d<this.ob.count;d++){var e=this.ob.data[d],f=e.V,e=x(c[e.aa],c[e.X],a),f=v(e,f);0>f&&(b+=f*f)}return.5*Cg(this)*b};X.prototype.ComputeCollisionEnergy=X.prototype.gy;X.prototype.Ct=function(a){this.Db.km=a};
X.prototype.SetStrictContactCheck=X.prototype.Ct;X.prototype.Dz=function(){return this.Db.km};X.prototype.GetStrictContactCheck=X.prototype.Dz;X.prototype.dq=function(a,c){var b=null===this.Ce.data;this.Od.data=Gh(this,this.Od.data);this.Ce.data=Gh(this,this.Ce.data);if(b)for(var b=this.Sc(),d=0;d<b;++d)this.Ce.data[d]=d;b=0|c/this.Db.Dm;b=0<b?(this.mn>>32>>0)+b:b;b!==this.Od.data[a]&&(this.Od.data[a]=b,this.gu=!0)};X.prototype.SetParticleLifetime=X.prototype.dq;X.prototype.ew=function(a){return this.zs(this.Es()[a])};
X.prototype.GetParticleLifetime=X.prototype.ew;X.prototype.bq=function(a){a&&this.Es();this.Db.Uj=a};X.prototype.SetDestructionByAge=X.prototype.bq;X.prototype.Ly=function(){return this.Db.Uj};X.prototype.GetDestructionByAge=X.prototype.Ly;X.prototype.Es=function(){this.Od.data=Gh(this,this.Od.data);return this.Od.data};X.prototype.GetExpirationTimeBuffer=X.prototype.Es;X.prototype.zs=function(a){return(0<a?a-(this.mn>>32>>0):a)*this.Db.Dm};X.prototype.ExpirationTimeToLifetime=X.prototype.zs;
X.prototype.Vy=function(){this.Sc()?this.dq(0,this.ew(0)):this.Ce.data=Gh(this,this.Ce.data);return this.Ce.data};X.prototype.GetIndexByExpirationTimeBuffer=X.prototype.Vy;X.prototype.dA=function(a,c){this.wf(a,a+1,c)};X.prototype.ParticleApplyLinearImpulse=X.prototype.dA;X.prototype.wf=function(a,c,b){var d=this.Hb.data,e=(c-a)*Cg(this);for(b=b.za().Ia(1/e);a<c;a++)d[a].Qa(b)};X.prototype.ApplyLinearImpulse=X.prototype.wf;
X.prototype.ht=function(a,c){0===c.x&&0===c.y||this.Ya.data[a]&4||(Th(this),this.ug[a].Qa(c))};X.prototype.ParticleApplyForce=X.prototype.ht;X.prototype.Ke=function(a,c,b){for(var d=a;d<c;d++);b=b.za().Ia(1/(c-a));if(0!==b.x||0!==b.y)for(Th(this),d=a;d<c;d++)this.ug[d].Qa(b)};X.prototype.ApplyForce=X.prototype.Ke;X.prototype.vd=function(){return this.Y};X.prototype.GetNext=X.prototype.vd;
X.prototype.ig=function(a,c){if(0!==this.nc.count)for(var b=this.nc.count,d=Gg(this.nc.data,b,Wg(this.Og*c.lowerBound.x,this.Og*c.lowerBound.y)),b=Ig(this.nc.data,d,b,Wg(this.Og*c.upperBound.x,this.Og*c.upperBound.y)),e=this.Qb.data;d<b;++d){var f=this.nc.data[d].index,h=e[f];if(c.lowerBound.x<h.x&&h.x<c.upperBound.x&&c.lowerBound.y<h.y&&h.y<c.upperBound.y&&!a.Hh(this,f))break}};X.prototype.QueryAABB=X.prototype.ig;X.prototype.fA=function(a,c,b,d){var e=new Jc;c.Tb(e,b,d||0);this.ig(a,e)};
X.prototype.QueryShapeAABB=X.prototype.fA;X.prototype.eA=function(a,c,b){var d=new Jc;b="number"===typeof b?b:.008;d.lowerBound.h(c.x-b,c.y-b);d.upperBound.h(c.x+b,c.y+b);this.ig(a,d)};X.prototype.QueryPointAABB=X.prototype.eA;
X.prototype.Aa=function(a,c,b){var d=new Jc,e=new r,f=new r,h=new r,k=new r;if(0!==this.nc.count){var l=this.Qb.data;ib(c,b,d.lowerBound);jb(c,b,d.upperBound);var m=1;b=x(b,c,f);for(var f=v(b,b),d=Qg(this,d),n;0<=(n=d.vd());){var t=x(c,l[n],e),z=v(t,b),B=z*z-f*(v(t,t)-this.Ir);if(0<=B){var O=Qa(B),B=(-z-O)/f;if(!(B>m)){if(0>B&&(B=(-z+O)/f,0>B||B>m))continue;t=sb(t,B,b,h);t.ic();n=a.Hh(this,n,sb(c,B,b,k),t,B);m=Ia(m,n);if(0>=m)break}}}}};X.prototype.RayCast=X.prototype.Aa;
X.prototype.Tb=function(a){var c=this.Sc();a.lowerBound.x=1E37;a.lowerBound.y=1E37;a.upperBound.x=-1E37;a.upperBound.y=-1E37;for(var b=this.Qb.data,d=0;d<c;d++){var e=b[d];ib(a.lowerBound,e,a.lowerBound);jb(a.upperBound,e,a.upperBound)}a.lowerBound.x-=this.Ud;a.lowerBound.y-=this.Ud;a.upperBound.x+=this.Ud;a.upperBound.y+=this.Ud};X.prototype.ComputeAABB=X.prototype.Tb;function Ah(){}Ah.prototype.data=null;Ah.prototype.Bh=0;function Bh(){}Bh.prototype.index=-1;Bh.prototype.tag=0;
function Uh(a,c){return a.tag<c.tag}function Jg(a,c){return a<c.tag}function Hg(a,c){return a.tag<c}function si(a,c,b,d,e){this.wb=a;this.qB=(c&1048575)>>>0;this.sB=(b&1048575)>>>0;this.$q=d;this.jB=e}si.prototype.vd=function(){for(;this.$q<this.jB;){var a=(this.wb.nc.data[this.$q].tag&1048575)>>>0;if(a>=this.qB&&a<=this.sB)return this.wb.nc.data[this.$q++].index;this.$q++}return-1};function Mh(){}Mh.prototype.list=null;Mh.prototype.next=null;Mh.prototype.count=0;Mh.prototype.index=0;
function Dh(a){null!==a&&(a.length=0)}function Ch(a){0==a.Bh&&Dh(a.data)}function ti(a,c,b,d){d&&!a||c||(a=a?a.slice():[],a.length=b);return a}function ui(a,c,b){return ti(a.data,a.Bh,c,b)}function Gh(a,c){c||(0===a.Rm&&Eh(a,256),c=[],c.length=a.Rm);return c}
function Eh(a,c){function b(a,b){return b&&a>b?b:a}c=b(c,a.Db.Yl);c=b(c,a.Ya.Bh);c=b(c,a.Qb.Bh);c=b(c,a.Hb.Bh);c=b(c,a.nd.Bh);c=b(c,a.ue.Bh);if(a.Rm<c){a.Pd.data=ui(a.Pd,c,!0);a.Ya.data=ui(a.Ya,c,!1);var d=0<a.Kr;a.Gf.data=ui(a.Gf,c,d);a.kf.data=ui(a.kf,c,d);a.lf.data=ui(a.lf,c,d);a.Qb.data=ui(a.Qb,c,!1);a.Hb.data=ui(a.Hb,c,!1);a.ug=ti(a.ug,0,c,!1);a.uf=ti(a.uf,0,c,!1);a.te=ti(a.te,0,c,!0);a.Md=ti(a.Md,0,c,!1);a.jh=ti(a.jh,0,c,!0);a.Pc=ti(a.Pc,0,c,!0);a.nd.data=ui(a.nd,c,!0);a.Dc=ti(a.Dc,0,c,!1);
a.ue.data=ui(a.ue,c,!0);a.Od.data=ui(a.Od,c,!0);a.Ce.data=ui(a.Ce,c,!1);a.Rm=c}}X.prototype.Jp=function(a,c,b){var d=new cg;d.Ea=a.Ea;Xb(c,b,d.position);pb(a.ih,ob(a.hh,x(d.position,a.position,u),u),d.eg);d.color.e(a.color);d.wi=a.wi;d.Hc=a.Hc;this.pm(d)};X.prototype.CreateParticleForGroup=X.prototype.Jp;
X.prototype.Mv=function(a,c,b){var d=new C,e=new r,f=new r,h=c.rv;0===h&&(h=.75*this.Ud);for(var k=0,l=a.xf(),m=0;m<l;m++){var n=null;1===a.Ic()?n=a:(n=d,a.On(n,m));for(var t=x(n.Qc,n.Kc,e),z=t.qc();k<z;){var B=sb(n.Kc,k/z,t,f);this.Jp(c,b,B);k+=h}k-=z}};X.prototype.CreateParticlesStrokeShapeForGroup=X.prototype.Mv;
X.prototype.ss=function(a,c,b){var d=new Jc,e=new r,f=c.rv;0===f&&(f=.75*this.Ud);a.Tb(d,Wb,0);for(var h=Math.floor(d.lowerBound.y/f)*f;h<d.upperBound.y;h+=f)for(var k=Math.floor(d.lowerBound.x/f)*f;k<d.upperBound.x;k+=f){var l=e.h(k,h);a.Uc(Wb,l)&&this.Jp(c,b,l)}};X.prototype.CreateParticlesFillShapeForGroup=X.prototype.ss;X.prototype.Nv=function(a,c,b){switch(a.Ic()){case 1:case 3:this.Mv(a,c,b);break;case 2:case 0:this.ss(a,c,b)}};X.prototype.CreateParticlesWithShapeForGroup=X.prototype.Nv;
function vi(a,c){this.Fr=a;this.Mu=c}q(vi,Ed);g=vi.prototype;g.Fr=null;g.Mu=0;g.za=function(){return null};g.xf=function(){return 1};g.Uc=function(a,c){for(var b=0;b<this.Mu;b++)if(this.Fr[b].Uc(a,c))return!0;return!1};p("box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint",vi.prototype.Uc);vi.prototype.ac=function(){};p("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance",vi.prototype.ac);vi.prototype.Aa=function(){return!1};
p("box2d.b2ParticleSystem.CompositeShape.prototype.RayCast",vi.prototype.Aa);vi.prototype.Tb=function(a,c){var b=new Jc;a.lowerBound.x=1E37;a.lowerBound.y=1E37;a.upperBound.x=-1E37;a.upperBound.y=-1E37;for(var d=0;d<this.Mu;d++)for(var e=this.Fr[d].xf(),f=0;f<e;f++){var h=b;this.Fr[d].Tb(h,c,f);a.Ev(h)}};p("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB",vi.prototype.Tb);vi.prototype.Wd=function(){};p("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass",vi.prototype.Wd);
X.prototype.Ov=function(a,c,b,d){this.ss(new vi(a,c),b,d)};X.prototype.CreateParticlesWithShapesForGroup=X.prototype.Ov;
X.prototype.Dv=function(a,c){var b=new cg;b.Ea=this.Ya.data[a];b.position.e(this.Qb.data[a]);b.eg.e(this.Hb.data[a]);this.nd.data&&b.color.e(this.nd.data[a]);this.ue.data&&(b.Hc=this.ue.data[a]);b.group=c;b=this.pm(b);if(this.Pd.data){var d=this.Pd.data[a];d&&(d.Be=b);this.Pd.data[b]=d;this.Pd.data[a]=null}this.Gf.data&&(this.Gf.data[b]=this.Gf.data[a]);this.kf.data&&(this.kf.data[b]=this.kf.data[a]);this.lf.data&&(this.lf.data[b]=this.lf.data[a]);this.xl&&(this.ug[b]=this.ug[a]);this.te&&(this.te[b]=
this.te[a]);this.Pc&&(this.Pc[b]=this.Pc[a]);this.Od.data&&(this.Od.data[b]=this.Od.data[a]);return b};X.prototype.CloneParticle=X.prototype.Dv;X.prototype.ny=function(a,c){for(var b=a.Lb;b<a.zc;b++)this.rm(b,c)};X.prototype.DestroyParticlesInGroup=X.prototype.ny;X.prototype.Kp=function(a){this.j.Lg&&this.j.Lg.ho(a);this.Kh(a,0);for(var c=a.Lb;c<a.zc;c++)this.Dc[c]=null;a.qb&&(a.qb.Y=a.Y);a.Y&&(a.Y.qb=a.qb);a===this.of&&(this.of=a.Y);--this.dr};X.prototype.DestroyParticleGroup=X.prototype.Kp;
function wi(a,c){return 0!==(a&28)||null!==c&&0!==(c.Eb&2)}
function Kh(a,c,b,d){for(var e=new r,f=new r,h=new r,k=a.Qb.data,l=0,m=c;m<b;m++)l|=a.Ya.data[m];if(l&8)for(m=0;m<a.ob.count;m++){var n=a.ob.data[m],t=n.X,z=n.aa,B=a.Ya.data[t],O=a.Ya.data[z],ia=a.Dc[t],aa=a.Dc[z];t>=c&&t<b&&z>=c&&z<b&&!((B|O)&2)&&(B|O)&8&&(d.Zn(t)||d.Zn(z))&&wi(B,ia)&&wi(O,aa)&&d.Vw(t,z)&&(B=a.Ec.data[Mg(a.Ec)],B.X=t,B.aa=z,B.Ea=n.Ea,B.Ui=Ia(ia?ia.gn:1,aa?aa.gn:1),B.Bf=xb(k[t],k[z]));Eg(a.Ec.data,a.Ec.count,xi);Og(a.Ec,yi)}if(l&16){l=new zi(b-c);n=0;for(m=c;m<b;m++)t=a.Ya.data[m],
z=a.Dc[m],t&2||!wi(t,z)||(d.Zn(m)&&++n,l.xv(k[m],m,d.Zn(m)));if(0===n)for(m=c;m<b;m++);c=.75*a.Ud;l.Jk(c/2,2*c);l.cw(function(b,c,l){var m=a.Ya.data[b],n=a.Ya.data[c],t=a.Ya.data[l];if((m|n|t)&16&&d.Ww(b,c,l)){var B=k[b],z=k[c],O=k[l],aa=x(B,z,e),ia=x(z,O,f),cb=x(O,B,h),ab=4*a.Ir;if(!(v(aa,aa)>ab||v(ia,ia)>ab||v(cb,cb)>ab)){var bc=a.Dc[b],cc=a.Dc[c],Lc=a.Dc[l],ab=a.Ze.data[Mg(a.Ze)];ab.X=b;ab.aa=c;ab.rg=l;ab.Ea=m|n|t;ab.Ui=Ia(Ia(bc?bc.gn:1,cc?cc.gn:1),Lc?Lc.gn:1);b=(B.x+z.x+O.x)/3;c=(B.y+z.y+O.y)/
3;ab.lp.x=B.x-b;ab.lp.y=B.y-c;ab.mp.x=z.x-b;ab.mp.y=z.y-c;ab.np.x=O.x-b;ab.np.y=O.y-c;ab.ux=-v(cb,aa);ab.vx=-v(aa,ia);ab.wx=-v(ia,cb);ab.Lc=w(B,z)+w(z,O)+w(O,B)}}});Eg(a.Ze.data,a.Ze.count,Ai);Og(a.Ze,Bi)}}function Ci(a){this.Ya=a}q(Ci,zh);Ci.prototype.Ya=null;Ci.prototype.Zn=function(a){return 0!==(this.Ya[a]&4096)};function xi(a,c){var b=a.X-c.X;return 0!==b?0>b:a.aa<c.aa}function yi(a,c){return a.X===c.X&&a.aa===c.aa}
function Ai(a,c){var b=a.X-c.X;if(0!==b)return 0>b;b=a.aa-c.aa;return 0!==b?0>b:a.rg<c.rg}function Bi(a,c){return a.X===c.X&&a.aa===c.aa&&a.rg===c.rg}function Nh(a,c){for(var b=a.Lb,d=a.Sc(),e=0;e<d;e++){var f=c[e];f.list=f;f.next=null;f.count=1;f.index=e+b}}
function Oh(a,c,b){for(var d=c.Lb,e=0;e<a.ob.count;e++){var f=a.ob.data[e],h=f.X,f=f.aa;if(Bg(c,h)&&Bg(c,f)&&(h=b[h-d].list,f=b[f-d].list,h!==f)){if(h.count<f.count)var k=h,h=f,f=k;for(k=f;;){k.list=h;var l=k.next;if(l)k=l;else{k.next=h.next;break}}h.next=f;h.count+=f.count;f.count=0}}}function Ph(a,c){for(var b=a.Sc(),d=c[0],e=0;e<b;e++){var f=c[e];d.count<f.count&&(d=f)}return d}
function Qh(a,c,b,d){c=c.Sc();for(var e=0;e<c;e++){var f=b[e];if(f!==d&&a.Ya.data[f.index]&2){var h=d;f.list=h;f.next=h.next;h.next=f;h.count++;f.count=0}}}function Rh(a,c,b,d){var e=c.Sc(),f=new zg;f.qi=c.Eb;f.Hc=c.ec();for(c=0;c<e;c++){var h=b[c];if(h.count&&h!==d)for(var k=a.jd(f);h;h=h.next){var l=h.index,m=a.Dv(l,k);a.Ya.data[l]|=2;h.index=m}}}
function Sh(a,c,b){for(var d=c.Lb,e=0;e<a.Ec.count;e++){var f=a.Ec.data[e],h=f.X,k=f.aa;Bg(c,h)&&(f.X=b[h-d].index);Bg(c,k)&&(f.aa=b[k-d].index)}for(e=0;e<a.Ze.count;e++){var f=a.Ze.data[e],h=f.X,k=f.aa,l=f.rg;Bg(c,h)&&(f.X=b[h-d].index);Bg(c,k)&&(f.aa=b[k-d].index);Bg(c,l)&&(f.rg=b[l-d].index)}}function Qg(a,c){var b=Wg(a.Og*c.lowerBound.x-1,a.Og*c.lowerBound.y-1),d=Wg(a.Og*c.upperBound.x+1,a.Og*c.upperBound.y+1),e=a.nc.count,f=Gg(a.nc.data,e,b),e=Ig(a.nc.data,0,e,d);return new si(a,b,d,f,e)}
X.prototype.Dk=function(a,c){var b=this.Qb.data,b=x(b[c],b[a],new r),d=v(b,b);if(d<this.Ir){var e=Pa(d);isFinite(e)||(e=1.9817753699999998E19);var f=this.ob.data[Mg(this.ob)];f.X=a;f.aa=c;f.Ea=this.Ya.data[a]|this.Ya.data[c];f.weight=1-d*e*this.Og;qb(e,b,f.V)}};function Di(a){null!==(a.Jc&131072?a.j.jb.Ph:null)&&Ng(a.ob,function(a){return a.Ea&131072&&!1})}function Ei(a){return 2===(a.Ea&2)}
function Jh(a,c){for(var b=a.Qb.data,d=a.Og,e=0;e<a.nc.count;++e){var f=a.nc.data[e],h=b[f.index];f.tag=Wg(d*h.x,d*h.y)}Eg(a.nc.data,a.nc.count,Uh);b=new qh;if(null!==(a.Jc&32768?a.j.jb.Qh:null)){debugger;b.U(a.ob,a.Ya)}b=a.nc.count;for(e=d=a.ob.count=0;d<b;d++){h=a.nc.data[d].tag+0+256>>>0;for(f=d+1;f<b&&!(h<a.nc.data[f].tag);f++)a.Dk(a.nc.data[d].index,a.nc.data[f].index,a.ob);for(f=a.nc.data[d].tag+1048576+-256>>>0;e<b&&!(f<=a.nc.data[e].tag);e++);h=a.nc.data[d].tag+1048576+256>>>0;for(f=e;f<b&&
!(h<a.nc.data[f].tag);f++)a.Dk(a.nc.data[d].index,a.nc.data[f].index,a.ob)}Di(a);c&&Ng(a.ob,Ei)}function Fi(a,c){this.wb=a;this.Ph=c}q(Fi,Pg);Fi.prototype.oo=function(a,c,b){return this.Ph&&this.wb.Ya.data[b]&65536?this.Ph.oo(a,this.wb,b):!0};p("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle",Fi.prototype.oo);
Fi.prototype.ym=function(a,c,b){var d=new r,e=this.wb.Qb.data[b],f=new r;c=a.ac(e,f,c);if(c<this.wb.Ud&&this.oo(a,this.wb,b)){var h=a.Ob(),k=h.Ne(),l=h.me(),m=h.ki()-l*h.Sn().ef(),l=0<l?1/l:0,m=0<m?1/m:0,n=this.wb.Ya.data[b]&4?0:Gi(this.wb),d=x(e,k,d),d=w(d,f),d=n+l+m*d*d,e=this.wb.xc.data[Mg(this.wb.xc)];e.index=b;e.body=h;e.qg=a;e.weight=1-c*this.wb.Og;e.V.e(f.Pa());e.qd=0<d?1/d:0;a=this.wb;0>=a.Kr||(++a.kf.data[b],2===a.kf.data[b]&&(++a.lf.data[b],a.lf.data[b]>a.Kr&&(a.hn.data[Mg(a.hn)]=b)),a.Gf.data[b]=
a.wk)}};p("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle",Fi.prototype.ym);
X.prototype.gh=function(a){var c=new ee;if(0!==this.n){this.Od.data&&Hi(this,a);this.Jc&2&&Fh(this);if(this.rr){for(var b=this.Jc=0;b<this.n;b++)this.Jc|=this.Ya.data[b];this.rr=!1}if(this.Au){this.Oh=0;for(var d=this.of;d;d=d.vd())this.Oh|=d.Eb;this.Au=!1}if(!this.Ju)for(this.ir=0;this.ir<a.dg;this.ir++){++this.wk;var e=c.e(a);e.Jb/=a.dg;e.Wc*=a.dg;Jh(this,!1);var f=new Jc,h=new Yg;if(null!==(this.Jc&16384?this.j.jb.Qh:null)){debugger;h.U(this.xc,this.Ya)}if(0<this.Kr)for(var k=this.Sc(),l=0;l<k;l++)this.kf.data[l]=
0,this.wk>this.Gf.data[l]+1&&(this.lf.data[l]=0);this.xc.count=0;this.hn.count=0;this.Tb(f);this.j.ig(new Fi(this,this.Jc&65536?this.j.jb.Ph:null),f);this.Db.km&&Ii(this);for(var m=0;m<this.n;m++)this.uf[m]=0;for(m=0;m<this.xc.count;m++){var n=this.xc.data[m],t=n.index,z=n.weight;this.uf[t]+=z}for(m=0;m<this.ob.count;m++){var n=this.ob.data[m],t=n.X,B=n.aa,z=n.weight;this.uf[t]+=z;this.uf[B]+=z}if(this.Oh&16){for(var O=[],ia=0,aa=0;aa<this.ob.count;aa++){var ua=this.ob.data[aa],Fa=ua.X,na=ua.aa,mb=
this.Dc[Fa],Za=this.Dc[na];mb&&mb===Za&&mb.Eb&16&&(O[ia++]=ua)}for(var $a=[],nb=0,Na=this.of;Na;Na=Na.vd())if(Na.Eb&16){$a[nb++]=Na;this.Kh(Na,Na.Eb&-17);for(var Oa=Na.Lb;Oa<Na.zc;Oa++)this.Md[Oa]=0}for(aa=0;aa<ia;aa++){var ua=O[aa],Fa=ua.X,na=ua.aa,Mb=ua.weight;this.Md[Fa]+=Mb;this.Md[na]+=Mb}for(Oa=0;Oa<nb;Oa++)for(Na=$a[Oa],Oa=Na.Lb;Oa<Na.zc;Oa++)Mb=this.Md[Oa],this.Pc[Oa]=.8>Mb?0:1E37;for(var oc=Qa(this.n)>>0,cb=0;cb<oc;cb++){for(var ab=!1,aa=0;aa<ia;aa++){var ua=O[aa],Fa=ua.X,na=ua.aa,bc=1-ua.weight,
cc=this.Pc[Fa],Lc=this.Pc[na],dm=Lc+bc,em=cc+bc;cc>dm&&(this.Pc[Fa]=dm,ab=!0);Lc>em&&(this.Pc[na]=em,ab=!0)}if(!ab)break}for(Oa=0;Oa<nb;Oa++)for(Na=$a[Oa],Oa=Na.Lb;Oa<Na.zc;Oa++)this.Pc[Oa]=1E37>this.Pc[Oa]?this.Pc[Oa]*this.Ud:0}if(this.Jc&4096){Kh(this,0,this.n,new Ci(this.Ya));for(var Vh=0;Vh<this.n;Vh++)this.Ya.data[Vh]&=-4097;this.Jc&=-4097}if(this.xl){for(var Jq=this.Hb.data,Kq=e.Jb*Gi(this),Wh=0;Wh<this.n;Wh++)Jq[Wh].wa(Kq,this.ug[Wh]);this.xl=!1}if(this.Jc&32){for(var fm=new r,gm=new r,Lq=
this.Qb.data,ig=this.Hb.data,hm=this.Db.gs,Mq=Gi(this),Cf=0;Cf<this.xc.count;Cf++){var Ue=this.xc.data[Cf],Df=Ue.index;if(this.Ya.data[Df]&32){var Zg=Ue.body,tj=Ue.weight,Nq=Ue.qd,im=Lq[Df],uj=x(Zg.Dh(im,u),ig[Df],fm),$g=qb(hm*Nq*tj,uj,gm);ig[Df].wa(Mq,$g);Zg.wf($g.Pa(),im,!0)}}for(Cf=0;Cf<this.ob.count;Cf++)Ue=this.ob.data[Cf],Ue.Ea&32&&(Df=Ue.X,Zg=Ue.aa,tj=Ue.weight,uj=x(ig[Zg],ig[Df],fm),$g=qb(hm*tj,uj,gm),ig[Df].Qa($g),ig[Zg].Pb($g))}if(this.Jc&8192)for(var Oq=new r,jm=this.Hb.data,Pq=this.Db.Ur*
this.Ud*e.Wc,vj=0;vj<this.ob.count;vj++){var ah=this.ob.data[vj];if(ah.Ea&8192){var km=ah.X,lm=ah.aa;if(this.Dc[km]!==this.Dc[lm]){var mm=qb(Pq*ah.weight,ah.V,Oq);jm[km].Pb(mm);jm[lm].Qa(mm)}}}if(this.Jc&64){for(var nm=new r,Qq=this.Qb.data,wj=this.Hb.data,om=this.Db.Sr*this.Ud*e.Wc,Rq=Gi(this),Ef=0;Ef<this.xc.count;Ef++){var me=this.xc.data[Ef],bh=me.index;if(this.Ya.data[bh]&64){var ch=me.weight;if(.25<ch){var xj=me.body,Sq=Qq[bh],yj=me.V,dh=qb(om*me.qd*(ch-.25),yj,nm);wj[bh].mb(Rq,dh);xj.wf(dh,
Sq,!0)}}}for(Ef=0;Ef<this.ob.count;Ef++)me=this.ob.data[Ef],me.Ea&64&&(ch=me.weight,.25<ch&&(bh=me.X,xj=me.aa,yj=me.V,dh=qb(om*(ch-.25),yj,nm),wj[bh].Pb(dh),wj[xj].Qa(dh)))}if(this.Jc&128){for(var Tq=e,Uq=new r,Vq=new r,Wq=new r,pm=this.Hb.data,Xh=0;Xh<this.n;Xh++)this.jh[Xh]=Ya.za(),this.jh[Xh].ba();for(var Ff=0;Ff<this.ob.count;Ff++){var ne=this.ob.data[Ff];if(ne.Ea&128){var eh=ne.X,fh=ne.aa,Yh=ne.weight,Zh=ne.V,qm=qb((1-Yh)*Yh,Zh,Uq);this.jh[eh].Pb(qm);this.jh[fh].Qa(qm)}}for(var zj=this.Ud*Tq.Wc,
Xq=this.Db.ds*zj,Yq=this.Db.cs*zj,Zq=.5*zj,Ff=0;Ff<this.ob.count;Ff++)if(ne=this.ob.data[Ff],ne.Ea&128){var eh=ne.X,fh=ne.aa,Yh=ne.weight,Zh=ne.V,$q=this.uf[eh]+this.uf[fh],ar=x(this.jh[fh],this.jh[eh],Vq),br=Ia(Xq*($q-2)+Yq*v(ar,Zh),Zq)*Yh,rm=qb(br,Zh,Wq);pm[eh].Pb(rm);pm[fh].Qa(rm)}}if(this.Oh&1){var cr=e,dr=new r,sm=this.Hb.data;this.Pc=Gh(this,this.Pc);for(var er=cr.Wc*this.Db.xq,Aj=0;Aj<this.ob.count;Aj++){var $h=this.ob.data[Aj],Bj=$h.X,Cj=$h.aa;if(this.Dc[Bj]!==this.Dc[Cj]){var tm=qb(er*(this.Pc[Bj]+
this.Pc[Cj])*$h.weight,$h.V,dr);sm[Bj].Pb(tm);sm[Cj].Qa(tm)}}}if(this.Jc&256){var um=Math.floor(128*this.Db.iq);if(um)for(var Dj=0;Dj<this.ob.count;Dj++){var vm=this.ob.data[Dj],wm=vm.X,xm=vm.aa;this.Ya.data[wm]&this.Ya.data[xm]&256&&$f(this.nd.data[wm],this.nd.data[xm],um)}}for(var fr=new r,gr=this.Hb.data,hr=qb(e.Jb*this.Db.Vf,this.j.Hs(),fr),Ej=0;Ej<this.n;Ej++)gr[Ej].Qa(hr);if(this.Jc&2048){var ir=e;this.te=Gh(this,this.te);for(var ym=this.Db.fa*Ji(this,ir),jr=this.Db.as*ym,kr=.25*ym,lr=this.Db.$r,
zm=0;zm<this.Db.yn;zm++){for(var Ce=0;Ce<this.n;Ce++)this.Md[Ce]=0;for(var Gj=0;Gj<this.ob.count;Gj++){var ai=this.ob.data[Gj];if(ai.Ea&2048){var Hj=ai.X,Ij=ai.aa,gh=ai.weight;this.Md[Hj]+=gh*this.te[Ij];this.Md[Ij]+=gh*this.te[Hj]}}for(Ce=0;Ce<this.n;Ce++)gh=this.uf[Ce],this.te[Ce]=this.Ya.data[Ce]&2048?Ka((this.Md[Ce]+jr*(gh-1))/(gh+lr),0,kr):0}}for(var Am=e,Bm=new r,mr=this.Qb.data,Jj=this.Hb.data,Cm=this.Db.fa*Ji(this,Am),Dm=this.Db.Tr*Cm,nr=.25*Cm,Xc=0;Xc<this.n;Xc++){var jg=this.uf[Xc],hh=Dm*
Ja(0,jg-1);this.Md[Xc]=Ia(hh,nr)}if(this.Jc&192)for(Xc=0;Xc<this.n;Xc++)this.Ya.data[Xc]&192&&(this.Md[Xc]=0);if(this.Jc&2048)for(Xc=0;Xc<this.n;Xc++)this.Ya.data[Xc]&2048&&(this.Md[Xc]+=this.te[Xc]);for(var Em=Am.Jb/(this.Db.fa*this.Ud),or=Gi(this),Gf=0;Gf<this.xc.count;Gf++){var De=this.xc.data[Gf],kg=De.index,bi=De.body,jg=De.weight,pr=De.qd,Kj=De.V,qr=mr[kg],hh=this.Md[kg]+Dm*jg,ih=qb(Em*jg*pr*hh,Kj,Bm);Jj[kg].mb(or,ih);bi.wf(ih,qr,!0)}for(Gf=0;Gf<this.ob.count;Gf++)De=this.ob.data[Gf],kg=De.X,
bi=De.aa,jg=De.weight,Kj=De.V,hh=this.Md[kg]+this.Md[bi],ih=qb(Em*jg*hh,Kj,Bm),Jj[kg].Pb(ih),Jj[bi].Qa(ih);for(var Fm=new r,Gm=new r,rr=this.Qb.data,lg=this.Hb.data,Hm=this.Db.cl,Im=1/(this.Ud*e.Wc),sr=Gi(this),Hf=0;Hf<this.xc.count;Hf++){var Ee=this.xc.data[Hf],mg=Ee.index,jh=Ee.body,Lj=Ee.weight,tr=Ee.qd,kh=Ee.V,Jm=rr[mg],Mj=x(jh.Dh(Jm,u),lg[mg],Fm),If=v(Mj,kh);if(0>If){var Nj=Ja(Hm*Lj,Ia(-Im*If,.5)),lh=qb(Nj*tr*If,kh,Gm);lg[mg].wa(sr,lh);jh.wf(lh.Pa(),Jm,!0)}}for(Hf=0;Hf<this.ob.count;Hf++)Ee=
this.ob.data[Hf],mg=Ee.X,jh=Ee.aa,Lj=Ee.weight,kh=Ee.V,Mj=x(lg[jh],lg[mg],Fm),If=v(Mj,kh),0>If&&(Nj=Ja(Hm*Lj,Ia(-Im*If,.5)),lh=qb(Nj*If,kh,Gm),lg[mg].Qa(lh),lg[jh].Pb(lh));if(this.Jc&2048)for(var ur=new r,vr=new r,Km=this.Hb.data,wr=this.Qb.data,xr=Gi(this),Oj=0;Oj<this.xc.count;Oj++){var ci=this.xc.data[Oj],di=ci.index;if(this.Ya.data[di]&2048){var Lm=ci.body,yr=ci.qd,Mm=ci.V,Nm=wr[di],zr=x(Lm.Dh(Nm,u),Km[di],ur),Om=v(zr,Mm);if(0>Om){var Pm=qb(.5*yr*Om,Mm,vr);Km[di].wa(xr,Pm);Lm.wf(Pm.Pa(),Nm,!0)}}}if(this.Jc&
16)for(var ei=e,Ar=new r,Br=new r,Cr=new r,Dr=new Rb,Nc=new r,Pj=this.Qb.data,Qj=this.Hb.data,Er=ei.Wc*this.Db.yq,Rj=0;Rj<this.Ze.count;Rj++){var mf=this.Ze.data[Rj];if(mf.Ea&16){var Qm=mf.X,Rm=mf.aa,Sm=mf.rg,Sj=mf.lp,Tj=mf.mp,Uj=mf.np,Fe=Ar.e(Pj[Qm]),Ge=Br.e(Pj[Rm]),He=Cr.e(Pj[Sm]),Tm=Qj[Qm],Um=Qj[Rm],Vm=Qj[Sm];Fe.wa(ei.Jb,Tm);Ge.wa(ei.Jb,Um);He.wa(ei.Jb,Vm);var Vj=(Fe.x+Ge.x+He.x)/3,Wj=(Fe.y+Ge.y+He.y)/3;Fe.x-=Vj;Fe.y-=Wj;Ge.x-=Vj;Ge.y-=Wj;He.x-=Vj;He.y-=Wj;var Yc=Dr;Yc.Lc=w(Sj,Fe)+w(Tj,Ge)+w(Uj,
He);Yc.W=v(Sj,Fe)+v(Tj,Ge)+v(Uj,He);var fi=Pa(Yc.Lc*Yc.Lc+Yc.W*Yc.W);isFinite(fi)||(fi=1.9817753699999998E19);Yc.Lc*=fi;Yc.W*=fi;Yc.fb=Math.atan2(Yc.Lc,Yc.W);var Xj=Er*mf.Ui;y(Yc,Sj,Nc);x(Nc,Fe,Nc);qb(Xj,Nc,Nc);Tm.Qa(Nc);y(Yc,Tj,Nc);x(Nc,Ge,Nc);qb(Xj,Nc,Nc);Um.Qa(Nc);y(Yc,Uj,Nc);x(Nc,He,Nc);qb(Xj,Nc,Nc);Vm.Qa(Nc)}}if(this.Jc&8)for(var Yj=e,Fr=new r,Gr=new r,Hr=new r,Ir=new r,Wm=this.Qb.data,Xm=this.Hb.data,Jr=Yj.Wc*this.Db.Zr,Zj=0;Zj<this.Ec.count;Zj++){var mh=this.Ec.data[Zj];if(mh.Ea&8){var Ym=
mh.X,Zm=mh.aa,$m=Fr.e(Wm[Ym]),an=Gr.e(Wm[Zm]),bn=Xm[Ym],cn=Xm[Zm];$m.wa(Yj.Jb,bn);an.wa(Yj.Jb,cn);var dn=x(an,$m,Hr),en=dn.qc(),fn=qb(Jr*mh.Ui*(mh.Bf-en)/en,dn,Ir);bn.Pb(fn);cn.Qa(fn)}}for(var Kr=this.Hb.data,gn=Ji(this,e),ak=0;ak<this.n;ak++){var bk=Kr[ak],hn=v(bk,bk);hn>gn&&bk.Ia(Qa(gn/hn))}if(this.Oh&2){for(var jn=new r,kn=new r,Lr=new r,ln=new r,ng=[0],og=[0],pg=[0],nh=[0],oh=[0],ph=[0],ck=this.Qb.data,mn=this.Db.cl,Jf=0;Jf<this.xc.count;Jf++){var Ve=this.xc.data[Jf],Ie=Ve.index,Je=this.Dc[Ie];
if(Ki(Je)){var Ld=Ve.body,oe=Ve.V,dk=Ve.weight,Ke=ck[Ie],ek=x(Ld.Dh(Ke,jn),Je.Dh(Ke,kn),ln),rh=v(ek,oe);if(0>rh){Li(this,ng,og,pg,!0,Je,Ie,Ke,oe);Mi(nh,oh,ph,Ld.me(),Ld.ki()-Ld.me()*Ld.Sn().ef(),Ld.Ne(),Ke,oe);var Mr=mn*Ia(dk,1),nn=pg[0],on=ph[0],pn=ng[0]+og[0]*nn*nn+nh[0]+oh[0]*on*on,sh=Mr*(0<pn?rh/pn:0);Ni(this,ng[0],og[0],pg[0],!0,Je,Ie,sh,oe);Ld.wf(qb(-sh,oe,u),Ke,!0)}}}for(Jf=0;Jf<this.ob.count;Jf++){var Ve=this.ob.data[Jf],Ie=Ve.X,Ld=Ve.aa,oe=Ve.V,dk=Ve.weight,Je=this.Dc[Ie],th=this.Dc[Ld],
ik=Ki(Je),jk=Ki(th);if(Je!==th&&(ik||jk)&&(Ke=vb(ck[Ie],ck[Ld],Lr),ek=x(this.le(th,Ld,Ke,jn),this.le(Je,Ie,Ke,kn),ln),rh=v(ek,oe),0>rh)){Li(this,ng,og,pg,ik,Je,Ie,Ke,oe);Li(this,nh,oh,ph,jk,th,Ld,Ke,oe);var qn=pg[0],rn=ph[0],sn=ng[0]+og[0]*qn*qn+nh[0]+oh[0]*rn*rn,sh=mn*dk*(0<sn?rh/sn:0);Ni(this,ng[0],og[0],pg[0],ik,Je,Ie,sh,oe);Ni(this,nh[0],oh[0],ph[0],jk,th,Ld,-sh,oe)}}}if(this.Jc&1024){for(var tn=e,Nr=new Jc,Or=new r,Pr=new r,Qr=new r,Rr=new r,Sr=new r,Tr=new r,Ur=new r,Vr=new r,Wr=new r,Xr=new r,
Yr=new r,kk=this.Qb.data,un=this.Hb.data,gi=0;gi<this.n;gi++)0!==(this.Ya.data[gi]&1028)&&un[gi].ba();for(var lk=2.5*tn.Jb,hi=Cg(this),mk=0;mk<this.Ec.count;mk++){var nk=this.Ec.data[mk];if(nk.Ea&1024){var ok=nk.X,pk=nk.aa,uh=kk[ok],ii=kk[pk],qk=Nr;ib(uh,ii,qk.lowerBound);jb(uh,ii,qk.upperBound);for(var vn=this.Dc[ok],wn=this.Dc[pk],ji=this.le(vn,ok,uh,Or),Zr=this.le(wn,pk,ii,Pr),vh=x(ii,uh,Qr),Kf=x(Zr,ji,Rr),$r=Qg(this,qk),qg;0<=(qg=$r.vd());){var rk=kk[qg],Le=this.Dc[qg];if(vn!==Le&&wn!==Le){var sk=
this.le(Le,qg,rk,Sr),wh=x(rk,uh,Tr),xh=x(sk,ji,Ur),ki=w(Kf,xh),rg=w(vh,xh)-w(wh,Kf),xn=w(vh,wh),pe,nd,$d=Vr,sg=Wr;if(0===ki){if(0===rg)continue;nd=-xn/rg;if(!(0<=nd&&nd<lk))continue;sb(vh,nd,Kf,$d);sb(wh,nd,xh,sg);pe=v($d,sg)/v($d,$d);if(!(0<=pe&&1>=pe))continue}else{var yn=rg*rg-4*xn*ki;if(0>yn)continue;var zn=Qa(yn),li=(-rg-zn)/(2*ki),mi=(-rg+zn)/(2*ki);if(li>mi)var as=li,li=mi,mi=as;nd=li;sb(vh,nd,Kf,$d);sb(wh,nd,xh,sg);pe=v($d,sg)/v($d,$d);if(!(0<=nd&&nd<lk&&0<=pe&&1>=pe)){nd=mi;if(!(0<=nd&&nd<
lk))continue;sb(vh,nd,Kf,$d);sb(wh,nd,xh,sg);pe=v($d,sg)/v($d,$d);if(!(0<=pe&&1>=pe))continue}}var ni=Xr;ni.x=ji.x+pe*Kf.x-sk.x;ni.y=ji.y+pe*Kf.y-sk.y;var tk=qb(hi,ni,Yr);if(Ki(Le)){var hi=Le.me(),An=Le.ki();0<hi&&Le.fc.wa(1/hi,tk);0<An&&(Le.ab+=w(x(rk,Le.Zi(),u),tk)/An)}else un[qg].Qa(ni);this.ht(qg,tk.Ia(-tn.Wc))}}}}}var uk=e,bs=this.Qb.data,cs=this.Hb.data,Md=new Jc;Md.lowerBound.x=1E37;Md.lowerBound.y=1E37;Md.upperBound.x=-1E37;Md.upperBound.y=-1E37;for(var oi=0;oi<this.n;oi++){var Bn=cs[oi],
tg=bs[oi],Cn=tg.x+uk.Jb*Bn.x,Dn=tg.y+uk.Jb*Bn.y;Md.lowerBound.x=Ia(Md.lowerBound.x,Ia(tg.x,Cn));Md.lowerBound.y=Ia(Md.lowerBound.y,Ia(tg.y,Dn));Md.upperBound.x=Ja(Md.upperBound.x,Ja(tg.x,Cn));Md.upperBound.y=Ja(Md.upperBound.y,Ja(tg.y,Dn))}this.j.ig(new Oi(this,uk),Md);if(this.Oh&2)for(var vg=e,ds=new r,es=new Rb,fs=new Vb,gs=new Vb,hs=this.Qb.data,is=this.Hb.data,Nd=this.of;Nd;Nd=Nd.vd())if(Nd.Eb&2){Nd.Sj();var vk=es;vk.Ba(vg.Jb*Nd.ab);var js=pb(Nd.pj,x(qb(vg.Jb,Nd.fc,u),y(vk,Nd.pj,db),u),ds),wg=
fs;wg.Nw(js,vk);Zb(wg,Nd.xg,Nd.xg);var yh=gs;yh.ta.x=vg.Wc*wg.ta.x;yh.ta.y=vg.Wc*wg.ta.y;yh.ha.Lc=vg.Wc*wg.ha.Lc;yh.ha.W=vg.Wc*(wg.ha.W-1);for(var pi=Nd.Lb;pi<Nd.zc;pi++)Xb(yh,hs[pi],is[pi])}if(this.Jc&4)for(var ks=this.Hb.data,qi=0;qi<this.n;qi++)this.Ya.data[qi]&4&&ks[qi].ba();for(var ri=0;ri<this.n;ri++)this.Qb.data[ri].wa(e.Jb,this.Hb.data[ri])}}};X.prototype.Solve=X.prototype.gh;function Oi(a,c){this.wb=a;this.xh=c}q(Oi,Pg);
Oi.prototype.ym=function(a,c,b){var d=new r,e=new r,f=new r,h=new r,k=a.Ob(),l=this.wb.Qb.data[b],m=this.wb.Hb.data[b],n=new Ic,t=new Hc;0===this.wb.ir?(d=Yb(k.Xl,l,d),0===a.$a.Ic()&&(d.Pb(k.Sn()),y(k.Xl.ha,d,d),Ub(k.Ma.ha,d,d),d.Qa(k.Sn())),Xb(k.Ma,d,t.rd)):t.rd.e(l);sb(l,this.xh.Jb,m,t.ve);t.Lf=1;a.Aa(n,t,c)&&(a=n.V,e.x=(1-n.ce)*t.rd.x+n.ce*t.ve.x+.008*a.x,e.y=(1-n.ce)*t.rd.y+n.ce*t.ve.y+.008*a.y,f.x=this.xh.Wc*(e.x-l.x),f.y=this.xh.Wc*(e.y-l.y),this.wb.Hb.data[b].e(f),h.x=this.xh.Wc*Cg(this.wb)*
(m.x-f.x),h.y=this.xh.Wc*Cg(this.wb)*(m.y-f.y),this.wb.ht(b,h))};p("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle",Oi.prototype.ym);Oi.prototype.Hh=function(){return!1};p("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle",Oi.prototype.Hh);
function Fh(a){for(var c=0,b=[],d=0;d<a.n;d++)b[d]=-1;for(var e=0,d=0;d<a.n;d++){var f=a.Ya.data[d];if(f&2){var h=a.j.Lg;f&512&&h&&h.pt(a,d);a.Pd.data&&(h=a.Pd.data[d])&&(h.Be=-1,a.Pd.data[d]=null);b[d]=-1}else{b[d]=c;if(d!==c){if(a.Pd.data){if(h=a.Pd.data[d])h.Be=c;a.Pd.data[c]=h}a.Ya.data[c]=a.Ya.data[d];a.Gf.data&&(a.Gf.data[c]=a.Gf.data[d]);a.kf.data&&(a.kf.data[c]=a.kf.data[d]);a.lf.data&&(a.lf.data[c]=a.lf.data[d]);a.Qb.data[c].e(a.Qb.data[d]);a.Hb.data[c].e(a.Hb.data[d]);a.Dc[c]=a.Dc[d];a.xl&&
a.ug[c].e(a.ug[d]);a.te&&(a.te[c]=a.te[d]);a.Pc&&(a.Pc[c]=a.Pc[d]);a.nd.data&&a.nd.data[c].e(a.nd.data[d]);a.ue.data&&(a.ue.data[c]=a.ue.data[d]);a.Od.data&&(a.Od.data[c]=a.Od.data[d])}c++;e|=f}}for(d=0;d<a.nc.count;d++)f=a.nc.data[d],f.index=b[f.index];Ng(a.nc,function(a){return 0>a.index});for(d=0;d<a.ob.count;d++)f=a.ob.data[d],f.X=b[f.X],f.aa=b[f.aa];Ng(a.ob,function(a){return 0>a.X||0>a.aa});for(d=0;d<a.xc.count;d++)f=a.xc.data[d],f.index=b[f.index];Ng(a.xc,function(a){return 0>a.index});for(d=
0;d<a.Ec.count;d++)f=a.Ec.data[d],f.X=b[f.X],f.aa=b[f.aa];Ng(a.Ec,function(a){return 0>a.X||0>a.aa});for(d=0;d<a.Ze.count;d++)f=a.Ze.data[d],f.X=b[f.X],f.aa=b[f.aa],f.rg=b[f.rg];Ng(a.Ze,function(a){return 0>a.X||0>a.aa||0>a.rg});if(a.Ce.data)for(f=d=0;f<a.n;f++)h=b[a.Ce.data[f]],-1!==h&&(a.Ce.data[d++]=h);for(f=a.of;f;f=f.vd()){for(var h=c,k=0,l=!1,d=f.Lb;d<f.zc;d++){var m=b[d];0<=m?(h=Ia(h,m),k=Ja(k,m+1)):l=!0}h<k?(f.Lb=h,f.zc=k,l&&f.Eb&1&&a.Kh(f,f.Eb|16)):(f.Lb=0,f.zc=0,f.Eb&4||a.Kh(f,f.Eb|8))}a.n=
c;a.Jc=e;a.rr=!1;for(f=a.of;f;)c=f.vd(),f.Eb&8&&a.Kp(f),f=c}function Hi(a,c){a.mn=a.mn+c.Jb/a.Db.Dm*Math.pow(2,32)>>0;var b=a.mn>>32>>0,d=a.Od.data,e=a.Ce.data,f=a.Sc();a.gu&&(Eg(e,f,function(a,b){var c=d[a],e=d[b],f=0>=c;return f===0>=e?c>e:f}),a.gu=!1);for(--f;0<=f;--f){var h=e[f],k=d[h];if(b<k||0>=k)break;a.rm(h)}}
function Hh(a,c,b,d){function e(a){return a<c?a:a<b?a+d-b:a<d?a+c-b:a}if(c!==b&&b!==d){Kg(a.Ya.data,c,b,d);a.Gf.data&&Kg(a.Gf.data,c,b,d);a.kf.data&&Kg(a.kf.data,c,b,d);a.lf.data&&Kg(a.lf.data,c,b,d);Kg(a.Qb.data,c,b,d);Kg(a.Hb.data,c,b,d);Kg(a.Dc,c,b,d);a.xl&&Kg(a.ug,c,b,d);a.te&&Kg(a.te,c,b,d);a.Pc&&Kg(a.Pc,c,b,d);a.nd.data&&Kg(a.nd.data,c,b,d);a.ue.data&&Kg(a.ue.data,c,b,d);if(a.Pd.data){Kg(a.Pd.data,c,b,d);for(var f=c;f<d;++f){var h=a.Pd.data[f];h&&(h.Be=e(h.Be))}}if(a.Od.data){Kg(a.Od.data,c,
b,d);for(var h=a.Sc(),k=a.Ce.data,f=0;f<h;++f)k[f]=e(k[f])}for(f=0;f<a.nc.count;f++)h=a.nc.data[f],h.index=e(h.index);for(f=0;f<a.ob.count;f++)h=a.ob.data[f],h.X=e(h.X),h.aa=e(h.aa);for(f=0;f<a.xc.count;f++)h=a.xc.data[f],h.index=e(h.index);for(f=0;f<a.Ec.count;f++)h=a.Ec.data[f],h.X=e(h.X),h.aa=e(h.aa);for(f=0;f<a.Ze.count;f++)h=a.Ze.data[f],h.X=e(h.X),h.aa=e(h.aa),h.rg=e(h.rg);for(a=a.of;a;a=a.vd())a.Lb=e(a.Lb),a.zc=e(a.zc-1)+1}}function Ji(a,c){var b=a.Ud*c.Wc;return b*b}
function Cg(a){var c=.75*a.Ud;return a.Db.fa*c*c}function Gi(a){var c=1/.75*a.Og;return a.Fx*c*c}X.prototype.Kh=function(a,c){var b=a.Eb;(b^c)&1&&(c|=16);b&~c&&(this.Au=!0);~this.Oh&c&&(c&1&&(this.Pc=Gh(this,this.Pc)),this.Oh|=c);a.Eb=c};
function Ii(a){Eg(a.xc.data,a.xc.count,Pi);var c=new r,b=new r,d=new r,e=-1,f=0,h=0;a.xc.count=Fg(a.xc.data,function(k){k.index!==e&&(f=0,e=k.index);if(3<f++)return++h,!0;var l=c.e(k.V);l.Ia(a.Ud*(1-k.weight));l=pb(a.Qb.data[k.index],l,b);if(!k.qg.Uc(l)){for(var m=k.qg.$a.xf(),n=0;n<m;n++)if(.008>k.qg.ac(l,d,n))return!1;++h;return!0}return!1},a.xc.count)}function Pi(a,c){return a.index===c.index?a.weight>c.weight:a.index<c.index}
function Th(a){if(!a.xl){for(var c=0;c<a.n;c++)a.ug[c].ba();a.xl=!0}}function Ki(a){return null!==a&&0!==(a.Eb&2)}X.prototype.le=function(a,c,b,d){return Ki(a)?a.Dh(b,d):d.e(this.Hb.data[c])};function Mi(a,c,b,d,e,f,h,k){a[0]=0<d?1/d:0;c[0]=0<e?1/e:0;b[0]=w(x(h,f,u),k)}function Li(a,c,b,d,e,f,h,k,l){e?Mi(c,b,d,f.me(),f.ki(),f.Zi(),k,l):Mi(c,b,d,a.Ya.data[h]&4?0:Cg(a),0,k,k,l)}function Ni(a,c,b,d,e,f,h,k,l){e?(f.fc.wa(k*c,l),f.ab+=k*d*b):a.Hb.data[h].wa(k*c,l)};function Qi(){}p("box2d.Testbed.EmittedParticleCallback",Qi);Qi.prototype.zw=function(){};function Ri(){this.Jt()}p("box2d.Testbed.RadialEmitter",Ri);g=Ri.prototype;g.S=null;g.Xt=null;g.wh=0;g.wl=null;g.rj=1;g.Zq=0;g.hu=0;g.jk=null;g.Jt=function(){this.tr=new r;this.Yo=new r;this.wl=new r;this.Zt=new Yf};g.kx=function(){Si(this,null)};g.gj=function(a){this.tr.e(a)};g.cd=function(a){return a.e(this.tr)};g.fj=function(a){this.hu=a};g.Rs=function(){return this.hu};g.dj=function(a){this.Zt.e(a)};
g.Xv=function(a){return a.e(this.Zt)};g.fw=function(){return this.S};function Si(a,c){a.jk&&a.jk.Kh(a.jk.Eb&-5);a.jk=c;a.jk&&a.jk.Kh(a.jk.Eb|4)}
g.o=function(a,c,b){var d=0;this.Zq+=this.rj*a;a=new cg;a.color.e(this.Zt);a.Ea=this.hu;for(a.group=this.jk;1<this.Zq;){--this.Zq;var e=2*Math.random()*fa,f=Math.random(),e=new r(Math.sin(e),Math.cos(e));a.position.h(this.tr.x+e.x*f*this.wl.x,this.tr.y+e.y*f*this.wl.y);a.eg.e(this.Yo);0!==this.wh&&a.eg.wa(this.wh,e);f=this.S.pm(a);this.Xt&&this.Xt.zw(this.S,f);null!==c&&d<b&&(c[d]=f);++d}return d};function Ti(a){this.Cf=sa(a)}g=Ti.prototype;g.Cf=null;g.sc=0;g.mj=0;g.ml=0;g.Yd=function(a){if(this.mj>=this.ml){for(var c=this.sc;c<this.mj;c++)this.Cf[c-this.sc]=this.Cf[c];this.mj-=this.sc;this.sc=0;this.mj>=this.ml&&(0<this.ml?(sa(this.ml),this.ml*=2):(sa(1),this.ml=1))}this.Cf[this.mj]=a;this.mj++};g.xm=function(){this.Cf[this.sc]=null;this.sc++};function zi(a){this.Jo=sa(a,function(){return new Ui})}p("box2d.b2VoronoiDiagram",zi);zi.prototype.Jo=null;zi.prototype.m_generatorBuffer=zi.prototype.Jo;zi.prototype.lu=0;zi.prototype.Td=0;zi.prototype.yi=0;zi.prototype.Mg=null;function Ui(){this.jc=new r}Ui.prototype.jc=null;Ui.prototype.tag=0;function Vi(a,c,b,d){this.Kj=a;this.Ru=c;this.mu=b;this.ku=d}Vi.prototype.Kj=0;Vi.prototype.Ru=0;Vi.prototype.mu=0;Vi.prototype.ku=null;
zi.prototype.xv=function(a,c,b){var d=this.Jo[this.lu++];d.jc.e(a);d.tag=c;d.$l=b};zi.prototype.AddGenerator=zi.prototype.xv;
zi.prototype.Jk=function(a,c){for(var b=1/a,d=new r(1E37,1E37),e=new r(-1E37,-1E37),f=0,h=0;h<this.lu;h++){var k=this.Jo[h];k.$l&&(ib(d,k.jc,d),jb(e,k.jc,e),++f)}if(0===f)this.yi=this.Td=0;else{d.x-=c;d.y-=c;e.x+=c;e.y+=c;this.Td=1+Math.floor(b*(e.x-d.x));this.yi=1+Math.floor(b*(e.y-d.y));this.Mg=sa(this.Td*this.yi);e=new Ti(4*this.Td*this.yi);for(h=0;h<this.lu;h++){k=this.Jo[h];k.jc.Pb(d).Ia(b);var f=Math.floor(k.jc.x),l=Math.floor(k.jc.y);0<=f&&0<=l&&f<this.Td&&l<this.yi&&e.Yd(new Vi(f,l,f+l*this.Td,
k))}for(;e.sc!==e.mj;)h=e.Cf[e.sc],f=h.Kj,l=h.Ru,b=h.mu,k=h.ku,e.xm(),this.Mg[b]||(this.Mg[b]=k,0<f&&e.Yd(new Vi(f-1,l,b-1,k)),0<l&&e.Yd(new Vi(f,l-1,b-this.Td,k)),f<this.Td-1&&e.Yd(new Vi(f+1,l,b+1,k)),l<this.yi-1&&e.Yd(new Vi(f,l+1,b+this.Td,k)));for(l=0;l<this.yi;l++)for(f=0;f<this.Td-1;f++)b=f+l*this.Td,d=this.Mg[b],h=this.Mg[b+1],d!==h&&(e.Yd(new Vi(f,l,b,h)),e.Yd(new Vi(f+1,l,b+1,d)));for(l=0;l<this.yi-1;l++)for(f=0;f<this.Td;f++)b=f+l*this.Td,d=this.Mg[b],h=this.Mg[b+this.Td],d!==h&&(e.Yd(new Vi(f,
l,b,h)),e.Yd(new Vi(f,l+1,b+this.Td,d)));for(;e.sc!==e.mj;)if(h=e.Cf[e.sc],f=h.Kj,l=h.Ru,b=h.mu,h=h.ku,e.xm(),d=this.Mg[b],d!==h){var k=d.jc.x-f,d=d.jc.y-l,m=h.jc.x-f,n=h.jc.y-l;k*k+d*d>m*m+n*n&&(this.Mg[b]=h,0<f&&e.Yd(new Vi(f-1,l,b-1,h)),0<l&&e.Yd(new Vi(f,l-1,b-this.Td,h)),f<this.Td-1&&e.Yd(new Vi(f+1,l,b+1,h)),l<this.yi-1&&e.Yd(new Vi(f,l+1,b+this.Td,h)))}}};zi.prototype.Generate=zi.prototype.Jk;
zi.prototype.cw=function(a){for(var c=0;c<this.yi-1;c++)for(var b=0;b<this.Td-1;b++){var d=b+c*this.Td,e=this.Mg[d],f=this.Mg[d+1],h=this.Mg[d+this.Td],d=this.Mg[d+1+this.Td];f!==h&&(e!==f&&e!==h&&(e.$l||f.$l||h.$l)&&a(e.tag,f.tag,h.tag),d!==f&&d!==h&&(e.$l||f.$l||h.$l)&&a(f.tag,d.tag,h.tag))}};zi.prototype.GetNodes=zi.prototype.cw;function Wi(){this.fg=[];this.Tu=[];this.Vj=new r}p("box2d.b2RopeDef",Wi);g=Wi.prototype;g.fg=null;g.count=0;g.Tu=null;g.Vj=null;g.nx=.1;g.sx=.9;g.tx=.1;function Xi(){this.ph=new r}p("box2d.b2Rope",Xi);g=Xi.prototype;g.n=0;g.Ye=null;g.vr=null;g.qn=null;g.mk=null;g.Kq=null;g.Km=null;g.ph=null;g.Ax=0;g.qu=1;g.Hx=.1;g.Ys=function(){return this.n};Xi.prototype.GetVertexCount=Xi.prototype.Ys;Xi.prototype.Mz=function(){return this.Ye};Xi.prototype.GetVertices=Xi.prototype.Mz;
Xi.prototype.U=function(a){this.n=a.count;this.Ye=gb(this.n);this.vr=gb(this.n);this.qn=gb(this.n);this.mk=ta(this.n);for(var c=0;c<this.n;++c){this.Ye[c].e(a.fg[c]);this.vr[c].e(a.fg[c]);this.qn[c].ba();var b=a.Tu[c];this.mk[c]=0<b?1/b:0}var d=this.n-1,b=this.n-2;this.Kq=ta(d);this.Km=ta(b);for(c=0;c<d;++c){var e=this.Ye[c],f=this.Ye[c+1];this.Kq[c]=xb(e,f)}for(c=0;c<b;++c)e=this.Ye[c],f=this.Ye[c+1],d=this.Ye[c+2],e=x(f,e,u),f=x(d,f,db),this.Km[c]=Va(w(e,f),v(e,f));this.ph.e(a.Vj);this.Ax=a.nx;
this.qu=a.sx;this.Hx=a.tx};Xi.prototype.Initialize=Xi.prototype.U;Xi.prototype.o=function(a,c){if(0!==a){for(var b=Math.exp(-a*this.Ax),d=0;d<this.n;++d)this.vr[d].e(this.Ye[d]),0<this.mk[d]&&this.qn[d].wa(a,this.ph),this.qn[d].Ia(b),this.Ye[d].wa(a,this.qn[d]);for(d=0;d<c;++d)this.Gt(),this.$w(),this.Gt();b=1/a;for(d=0;d<this.n;++d)qb(b,x(this.Ye[d],this.vr[d],u),this.qn[d])}};Xi.prototype.Step=Xi.prototype.o;
Xi.prototype.Gt=function(){for(var a=this.n-1,c=0;c<a;++c){var b=this.Ye[c],d=this.Ye[c+1],e=x(d,b,Yi),f=e.ic(),h=this.mk[c],k=this.mk[c+1];if(0!==h+k){var l=k/(h+k);b.mb(h/(h+k)*this.qu*(this.Kq[c]-f),e);d.wa(this.qu*l*(this.Kq[c]-f),e)}}};Xi.prototype.SolveC2=Xi.prototype.Gt;var Yi=new r;Xi.prototype.Ba=function(a){for(var c=this.n-2,b=0;b<c;++b)this.Km[b]=a};Xi.prototype.SetAngle=Xi.prototype.Ba;
Xi.prototype.$w=function(){for(var a=this.n-2,c=0;c<a;++c){var b=this.Ye[c],d=this.Ye[c+1],e=this.Ye[c+2],f=this.mk[c],h=this.mk[c+1],k=this.mk[c+2],l=x(d,b,Zi),m=x(e,d,$i),n=l.ef(),t=m.ef();if(0!==n*t){var z=Va(w(l,m),v(l,m)),l=qb(-1/n,l.st(),aj),n=qb(1/t,m.st(),bj),m=cj.e(l).Pa(),t=x(l,n,dj),l=n,n=f*v(m,m)+h*v(t,t)+k*v(l,l);if(0!==n){for(var n=1/n,B=z-this.Km[c];B>fa;)z-=2*fa,B=z-this.Km[c];for(;B<-fa;)z+=2*fa,B=z-this.Km[c];z=-this.Hx*n*B;b.wa(f*z,m);d.wa(h*z,t);e.wa(k*z,l)}}}};
Xi.prototype.SolveC3=Xi.prototype.$w;var Zi=new r,$i=new r,aj=new r,bj=new r,cj=new r,dj=new r;Xi.prototype.Hk=function(a){for(var c=new xa(.4,.5,.7),b=0;b<this.n-1;++b)a.oc(this.Ye[b],this.Ye[b+1],c)};Xi.prototype.Draw=Xi.prototype.Hk;var ej=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function fj(a,c){return a<c?-1:a>c?1:0};var gj;a:{var hj=ba.navigator;if(hj){var ij=hj.userAgent;if(ij){gj=ij;break a}}gj=""};function jj(a,c){var b=Array.prototype.slice.call(arguments),d=b.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,c,d,k,l,m,n,t){if("%"==m)return"%";var z=b.shift();if("undefined"==typeof z)throw Error("[goog.string.format] Not enough arguments");arguments[0]=z;return kj[m].apply(null,arguments)})}
var kj={s:function(a,c,b){return isNaN(b)||""==b||a.length>=b?a:a=-1<c.indexOf("-",0)?a+Array(b-a.length+1).join(" "):Array(b-a.length+1).join(" ")+a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=c.indexOf("+")?"+":0<=c.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=0<=c.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=c.indexOf("0",
0)?"0":" ")+d},d:function(a,c,b,d,e,f,h,k){return kj.f(parseInt(a,10),c,b,d,0,f,h,k)}};kj.i=kj.d;kj.u=kj.d;function lj(a,c){this.mh=a;this.ze=this.mh.getContext("2d");this.ma=c}q(lj,Ca);p("box2d.Testbed.DebugDraw",lj);lj.prototype.mh=null;lj.prototype.m_canvas=lj.prototype.mh;lj.prototype.ze=null;lj.prototype.m_ctx=lj.prototype.ze;lj.prototype.ma=null;lj.prototype.m_settings=lj.prototype.ma;lj.prototype.eo=function(a){var c=this.ze;c.save();c.translate(a.ta.x,a.ta.y);c.rotate(a.ha.hc())};lj.prototype.PushTransform=lj.prototype.eo;lj.prototype.co=function(){this.ze.restore()};
lj.prototype.PopTransform=lj.prototype.co;lj.prototype.Qf=function(a,c,b){if(c){var d=this.ze;d.beginPath();d.moveTo(a[0].x,a[0].y);for(var e=1;e<c;e++)d.lineTo(a[e].x,a[e].y);d.closePath();d.strokeStyle=b.hg(1);d.stroke()}};lj.prototype.DrawPolygon=lj.prototype.Qf;lj.prototype.Ln=function(a,c,b){if(c){var d=this.ze;d.beginPath();d.moveTo(a[0].x,a[0].y);for(var e=1;e<c;e++)d.lineTo(a[e].x,a[e].y);d.closePath();d.fillStyle=b.hg(.5);d.fill();d.strokeStyle=b.hg(1);d.stroke()}};
lj.prototype.DrawSolidPolygon=lj.prototype.Ln;lj.prototype.Ik=function(a,c,b){if(c){var d=this.ze;d.beginPath();d.arc(a.x,a.y,c,0,2*fa,!0);d.strokeStyle=b.hg(1);d.stroke()}};lj.prototype.DrawCircle=lj.prototype.Ik;lj.prototype.Mp=function(a,c,b,d){if(c){var e=this.ze,f=a.x;a=a.y;e.beginPath();e.arc(f,a,c,0,2*fa,!0);e.moveTo(f,a);e.lineTo(f+b.x*c,a+b.y*c);e.fillStyle=d.hg(.5);e.fill();e.strokeStyle=d.hg(1);e.stroke()}};lj.prototype.DrawSolidCircle=lj.prototype.Mp;
lj.prototype.Kn=function(a,c,b,d){var e=this.ze,f=2*c;if(null!==b)for(var h=0;h<d;++h){var k=a[h],l=b[h];e.fillStyle="rgba("+l.Bb+","+l.yb+","+l.xb+","+l.B/255+")";e.fillRect(k.x-c,k.y-c,f,f)}else{e.fillStyle="rgba(255,255,255,0.5)";e.beginPath();for(h=0;h<d;++h)k=a[h],e.rect(k.x-c,k.y-c,f,f);e.fill()}};lj.prototype.DrawParticles=lj.prototype.Kn;lj.prototype.oc=function(a,c,b){var d=this.ze;d.beginPath();d.moveTo(a.x,a.y);d.lineTo(c.x,c.y);d.strokeStyle=b.hg(1);d.stroke()};
lj.prototype.DrawSegment=lj.prototype.oc;lj.prototype.Np=function(a){var c=this.ze;this.eo(a);c.beginPath();c.moveTo(0,0);c.lineTo(1,0);c.strokeStyle=za.hg(1);c.stroke();c.beginPath();c.moveTo(0,0);c.lineTo(0,1);c.strokeStyle=Aa.hg(1);c.stroke();this.co(a)};lj.prototype.DrawTransform=lj.prototype.Np;lj.prototype.Le=function(a,c,b){var d=this.ze;d.fillStyle=b.hg();c*=this.ma.Cg;c/=this.ma.Tj;b=c/2;d.fillRect(a.x-b,a.y-b,c,c)};lj.prototype.DrawPoint=lj.prototype.Le;
lj.prototype.ua=function(a,c,b,d){var e=this.ze,f=jj.apply(null,Array.prototype.slice.call(arguments).slice(2));e.save();e.setTransform(1,0,0,1,0,0);e.font="18pt helvetica";e.fillStyle=lj.prototype.ua.gm.hg();e.fillText(f,a,c);e.restore()};lj.prototype.DrawString=lj.prototype.ua;lj.prototype.ua.gm=new xa(.9,.6,.6);
lj.prototype.Oj=function(a,c,b,d){var e=lj.prototype.Oj.Ri.h(a,c);x(e,this.ma.$g,e);Ub(this.ma.Vi,e,e);qb(1/this.ma.Cg,e,e);qb(this.ma.Tj,e,e);e.y*=-1;var f=lj.prototype.Oj.MB.h(.5*this.mh.width,.5*this.mh.height);pb(e,f,e);var f=this.ze,h=jj.apply(null,Array.prototype.slice.call(arguments).slice(2));f.save();f.setTransform(1,0,0,1,0,0);f.font="18pt helvetica";f.fillStyle=lj.prototype.Oj.gm.hg();f.fillText(h,e.x,e.y);f.restore()};lj.prototype.DrawStringWorld=lj.prototype.Oj;lj.prototype.Oj.Ri=new r;
lj.prototype.Oj.MB=new r;lj.prototype.Oj.gm=new xa(.5,.9,.5);lj.prototype.xs=function(a,c){var b=this.ze;b.strokeStyle=c.hg();b.strokeRect(a.lowerBound.x,a.lowerBound.y,a.upperBound.x-a.lowerBound.x,a.upperBound.y-a.lowerBound.y)};lj.prototype.DrawAABB=lj.prototype.xs;p("box2d.Testbed.DRAW_STRING_NEW_LINE",25);function mj(a,c){a="number"===typeof a?a:-1;var b=Math.random();return b=(("number"===typeof c?c:1)-a)*b+a}function nj(){this.$g=new r(0,20);this.Vi=new Rb(0*Ea);this.dg=Wf(10,.04,1/this.oe)}p("box2d.Testbed.Settings",nj);nj.prototype.Tj=10;nj.prototype.canvasScale=nj.prototype.Tj;nj.prototype.Cg=1;nj.prototype.viewZoom=nj.prototype.Cg;nj.prototype.$g=null;nj.prototype.viewCenter=nj.prototype.$g;nj.prototype.Vi=null;nj.prototype.viewRotation=nj.prototype.Vi;
nj.prototype.oe=60;nj.prototype.hz=nj.prototype.oe;nj.prototype.Zg=8;nj.prototype.velocityIterations=nj.prototype.Zg;nj.prototype.zh=3;nj.prototype.positionIterations=nj.prototype.zh;nj.prototype.dg=1;nj.prototype.particleIterations=nj.prototype.dg;nj.prototype.uq=!0;nj.prototype.drawShapes=nj.prototype.uq;nj.prototype.sq=!0;nj.prototype.drawParticles=nj.prototype.sq;nj.prototype.rq=!0;nj.prototype.drawJoints=nj.prototype.rq;nj.prototype.lq=!1;nj.prototype.drawAABBs=nj.prototype.lq;
nj.prototype.pq=!1;nj.prototype.drawContactPoints=nj.prototype.pq;nj.prototype.oq=!1;nj.prototype.drawContactNormals=nj.prototype.oq;nj.prototype.nq=!1;nj.prototype.drawContactImpulse=nj.prototype.nq;nj.prototype.qq=!1;nj.prototype.drawFrictionImpulse=nj.prototype.qq;nj.prototype.mq=!1;nj.prototype.drawCOMs=nj.prototype.mq;nj.prototype.ox=!0;nj.prototype.drawControllers=nj.prototype.ox;nj.prototype.vq=!1;nj.prototype.drawStats=nj.prototype.vq;nj.prototype.tq=!1;nj.prototype.drawProfile=nj.prototype.tq;
nj.prototype.Cq=!0;nj.prototype.enableWarmStarting=nj.prototype.Cq;nj.prototype.zq=!0;nj.prototype.enableContinuous=nj.prototype.zq;nj.prototype.Bq=!1;nj.prototype.enableSubStepping=nj.prototype.Bq;nj.prototype.Aq=!0;nj.prototype.enableSleep=nj.prototype.Aq;nj.prototype.pause=!1;nj.prototype.pause=nj.prototype.pause;nj.prototype.jm=!1;nj.prototype.singleStep=nj.prototype.jm;nj.prototype.bs=!1;nj.prototype.strictContacts=nj.prototype.bs;function oj(a,c){this.name=a;this.bl=c}
p("box2d.Testbed.TestEntry",oj);oj.prototype.name="unknown";oj.prototype.name=oj.prototype.name;oj.prototype.bl=function(){};oj.prototype.createFcn=oj.prototype.bl;function pj(a){this.test=a}q(pj,ke);p("box2d.Testbed.DestructionListener",pj);pj.prototype.test=null;pj.prototype.test=pj.prototype.test;pj.prototype.fo=function(a){this.test.Hf===a?this.test.Hf=null:this.test.yf(a)};pj.prototype.SayGoodbyeJoint=pj.prototype.fo;pj.prototype.$p=function(){};pj.prototype.SayGoodbyeFixture=pj.prototype.$p;
pj.prototype.ho=function(a){this.test.ff(a)};pj.prototype.SayGoodbyeParticleGroup=pj.prototype.ho;function qj(){this.V=new r;this.position=new r}p("box2d.Testbed.ContactPoint",qj);qj.prototype.Qt=null;qj.prototype.fixtureA=qj.prototype.Qt;qj.prototype.Rt=null;qj.prototype.fixtureB=qj.prototype.Rt;qj.prototype.V=new r;qj.prototype.normal=qj.prototype.V;qj.prototype.position=new r;qj.prototype.position=qj.prototype.position;qj.prototype.state=0;qj.prototype.state=qj.prototype.state;
qj.prototype.gc=0;qj.prototype.normalImpulse=qj.prototype.gc;qj.prototype.Hd=0;qj.prototype.tangentImpulse=qj.prototype.Hd;qj.prototype.Vd=0;qj.prototype.separation=qj.prototype.Vd;
function Y(a,c){var b=new Vg;this.j=new W(new r(0,-10));this.S=this.j.rs(b);this.oj=null;this.m=30;this.Hf=null;this.Xh=Array(2048);for(b=0;2048>b;++b)this.Xh[b]=new qj;this.rk=0;this.Lg=new pj(this);this.j.Qk(this.Lg);this.j.Kw(this);this.H=new lj(a,c);this.j.Lw(this.H);this.S.Am(.4);this.S.zm(1.2);this.kl=new r;this.ll=!1;this.Bi=new r;this.Xm=!1;this.Gl=new r;this.qk=new r;this.wg=0;this.ed=new de;this.gd=new de;this.vl=this.j.l(new G)}q(Y,se);p("box2d.Testbed.Test",Y);Y.k_maxContactPoints=2048;
Y.prototype.j=null;Y.prototype.m_world=Y.prototype.j;Y.prototype.S=null;Y.prototype.m_particleSystem=Y.prototype.S;Y.prototype.oj=null;Y.prototype.m_bomb=Y.prototype.oj;Y.prototype.m=30;Y.prototype.m_textLine=Y.prototype.m;Y.prototype.Hf=null;Y.prototype.m_mouseJoint=Y.prototype.Hf;Y.prototype.Xh=null;Y.prototype.m_points=Y.prototype.Xh;Y.prototype.rk=0;Y.prototype.m_pointCount=Y.prototype.rk;Y.prototype.Lg=null;Y.prototype.m_destructionListener=Y.prototype.Lg;Y.prototype.H=null;
Y.prototype.m_debugDraw=Y.prototype.H;Y.prototype.kl=null;Y.prototype.m_bombSpawnPoint=Y.prototype.kl;Y.prototype.ll=!1;Y.prototype.m_bombSpawning=Y.prototype.ll;Y.prototype.Bi=null;Y.prototype.m_mouseWorld=Y.prototype.Bi;Y.prototype.Xm=!1;Y.prototype.m_mouseTracing=Y.prototype.Xm;Y.prototype.Gl=null;Y.prototype.m_mouseTracerPosition=Y.prototype.Gl;Y.prototype.qk=null;Y.prototype.m_mouseTracerVelocity=Y.prototype.qk;Y.prototype.wg=0;Y.prototype.m_stepCount=Y.prototype.wg;Y.prototype.ed=null;
Y.prototype.m_maxProfile=Y.prototype.ed;Y.prototype.gd=null;Y.prototype.m_totalProfile=Y.prototype.gd;Y.prototype.vl=null;Y.prototype.m_groundBody=Y.prototype.vl;Y.prototype.an=null;Y.prototype.m_particleParameters=Y.prototype.an;Y.prototype.Fu=null;Y.prototype.m_particleParameterDef=Y.prototype.Fu;Y.prototype.yf=function(){};Y.prototype.JointDestroyed=Y.prototype.yf;Y.prototype.ff=function(){};Y.prototype.ParticleGroupDestroyed=Y.prototype.ff;Y.prototype.Qd=function(){};
Y.prototype.BeginContact=Y.prototype.Qd;Y.prototype.Xd=function(){};Y.prototype.EndContact=Y.prototype.Xd;Y.prototype.Mc=function(a,c){var b=a.Xe;if(0!==b.Wa){var d=a.Xb,e=a.Yb,f=Y.prototype.Mc.PC;Ec(Y.prototype.Mc.OC,f,c,b);var h=Y.prototype.Mc.ov;a.$s(h);for(var k=0;k<b.Wa&&2048>this.rk;++k){var l=this.Xh[this.rk];l.Qt=d;l.Rt=e;l.position.e(h.Oa[k]);l.V.e(h.V);l.state=f[k];l.gc=b.Oa[k].gc;l.Hd=b.Oa[k].Hd;l.Vd=h.wn[k];++this.rk}}};Y.prototype.PreSolve=Y.prototype.Mc;Y.prototype.Mc.OC=Array(2);
Y.prototype.Mc.PC=Array(2);Y.prototype.Mc.ov=new Cc;Y.prototype.Qe=function(){};Y.prototype.PostSolve=Y.prototype.Qe;Y.prototype.qa=function(){};Y.prototype.Keyboard=Y.prototype.qa;Y.prototype.we=function(){};Y.prototype.KeyboardUp=Y.prototype.we;Y.prototype.WA=function(a){this.m=a};Y.prototype.SetTextLine=Y.prototype.WA;Y.prototype.Sv=function(a){this.H.ua(5,25,a);this.m=50};Y.prototype.DrawTitle=Y.prototype.Sv;function rj(a){this.fd=a}q(rj,ue);rj.prototype.fd=null;rj.prototype.ql=null;
rj.prototype.Zd=function(a){return 2===a.Ob().Ic()&&a.Uc(this.fd)?(this.ql=a,!1):!0};function sj(a,c,b){this.S=a;this.$a=c;this.yk=b}q(sj,ue);g=sj.prototype;g.S=null;g.$a=null;g.yk=null;g.Zd=function(){return!1};g.Hh=function(a,c){if(a!==this.S)return!1;this.$a.Uc(Wb,this.S.Qb.data[c])&&this.S.Hb.data[c].e(this.yk);return!0};
Y.prototype.Oe=function(a){this.Bi.e(a);this.Xm=!0;this.Gl.e(a);this.qk.ba();if(null===this.Hf){var c=new Jc,b=new r;b.h(.001,.001);x(a,b,c.lowerBound);pb(a,b,c.upperBound);b=new rj(this.Bi);this.j.ig(b,c);b.ql&&(c=b.ql.Ob(),b=new Nf,b.Ja=this.vl,b.Fa=c,b.target.e(a),b.di=1E3*c.me(),this.Hf=this.j.ja(b),c.Ra(!0))}};Y.prototype.MouseDown=Y.prototype.Oe;Y.prototype.ax=function(a){this.kl.e(a);this.ll=!0};Y.prototype.SpawnBomb=Y.prototype.ax;
Y.prototype.Fv=function(a){this.ll&&(a=x(this.kl,a,new r),a.Ia(30),this.gt(this.kl,a),this.ll=!1)};Y.prototype.CompleteBombSpawn=Y.prototype.Fv;Y.prototype.Uw=function(a){this.Bi.e(a);null===this.Hf&&this.ax(a)};Y.prototype.ShiftMouseDown=Y.prototype.Uw;Y.prototype.Tc=function(a){this.Xm=!1;this.Hf&&(this.j.qm(this.Hf),this.Hf=null);this.ll&&this.Fv(a)};Y.prototype.MouseUp=Y.prototype.Tc;Y.prototype.Pe=function(a){this.Bi.e(a);this.Hf&&this.Hf.Sw(a)};Y.prototype.MouseMove=Y.prototype.Pe;
Y.prototype.xw=function(){var a=new r(Xa(-15,15),30),c=qb(-5,a,new r);this.gt(a,c)};Y.prototype.LaunchBomb=Y.prototype.xw;Y.prototype.gt=function(a,c){this.oj&&(this.j.td(this.oj),this.oj=null);var b=new G;b.type=2;b.position.e(a);b.zf=!0;this.oj=this.j.l(b);this.oj.$d(c);b=new A;b.N=.3;var d=new E;d.shape=b;d.fa=20;d.dc=0;this.oj.k(d)};Y.prototype.LaunchBombAt=Y.prototype.gt;
Y.prototype.o=function(a){var c=0<a.oe?1/a.oe:0;a.pause&&(a.jm?a.jm=!1:c=0,this.H.ua(5,this.m,"****PAUSED****"),this.m+=25);var b=0;a.uq&&(b|=1);a.sq&&(b|=64);a.rq&&(b|=2);a.lq&&(b|=4);a.mq&&(b|=16);a.ox&&(b|=32);this.H.cq(b);this.j.Hw(a.Aq);this.j.Tw(a.Cq);this.j.ut(a.zq);this.j.Rw(a.Bq);this.S.Ct(a.bs);this.rk=0;this.j.o(c,a.Zg,a.zh,a.dg);this.j.Nj();0<c&&++this.wg;if(a.vq){this.H.ua(5,this.m,"bodies/contacts/joints = %d/%d/%d",this.j.Xc,this.j.Rp(),this.j.vg);this.m+=25;this.H.ua(5,this.m,"particles/groups/pairs/triads = %d/%d/%d/%d",
this.S.Sc(),this.S.dr,this.S.Ec.count,this.S.Ze.count);this.m+=25;var b=this.j.um(),d=this.j.wm(),e=this.j.Wn();this.H.ua(5,this.m,"proxies/height/balance/quality = %d/%d/%d/%4.2f",b,d,e,this.j.Xn());this.m+=25}b=this.j.Ee;this.ed.step=Ja(this.ed.step,b.step);this.ed.og=Ja(this.ed.og,b.og);this.ed.Ag=Ja(this.ed.Ag,b.Ag);this.ed.af=Ja(this.ed.af,b.af);this.ed.df=Ja(this.ed.df,b.df);this.ed.bf=Ja(this.ed.bf,b.bf);this.ed.Bg=Ja(this.ed.Bg,b.Bg);this.ed.ng=Ja(this.ed.ng,b.ng);this.gd.step+=b.step;this.gd.og+=
b.og;this.gd.Ag+=b.Ag;this.gd.af+=b.af;this.gd.df+=b.df;this.gd.bf+=b.bf;this.gd.Bg+=b.Bg;this.gd.ng+=b.ng;a.tq&&(b=this.j.Ee,d=new de,0<this.wg&&(e=1/this.wg,d.step=e*this.gd.step,d.og=e*this.gd.og,d.Ag=e*this.gd.Ag,d.af=e*this.gd.af,d.df=e*this.gd.df,d.bf=e*this.gd.bf,d.Bg=e*this.gd.Bg,d.ng=e*this.gd.ng),this.H.ua(5,this.m,"step [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.step,d.step,this.ed.step),this.m+=25,this.H.ua(5,this.m,"collide [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.og,d.og,this.ed.og),this.m+=
25,this.H.ua(5,this.m,"solve [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.Ag,d.Ag,this.ed.Ag),this.m+=25,this.H.ua(5,this.m,"solve init [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.af,d.af,this.ed.af),this.m+=25,this.H.ua(5,this.m,"solve velocity [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.df,d.df,this.ed.df),this.m+=25,this.H.ua(5,this.m,"solve position [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.bf,d.bf,this.ed.bf),this.m+=25,this.H.ua(5,this.m,"solveTOI [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.Bg,d.Bg,this.ed.Bg),this.m+=
25,this.H.ua(5,this.m,"broad-phase [ave] (max) = %5.2f [%6.2f] (%6.2f)",b.ng,d.ng,this.ed.ng),this.m+=25);this.Xm&&!this.Hf&&(b=new r,b.x=20*(10*(this.Bi.x-this.Gl.x)-this.qk.x),b.y=20*(10*(this.Bi.y-this.Gl.y)-this.qk.y),this.qk.wa(c,b),this.Gl.wa(c,this.qk),c=new A,c.La.e(this.Gl),c.N=2*this.Ib(),b=new sj(this.S,c,this.qk),d=new Jc,e=new Vb,e.Sf(),c.Tb(d,e,0),this.j.ig(b,d));this.Hf&&(c=this.Hf.Rc(new r),b=this.Hf.iw(new r),d=new xa(0,1,0),this.H.Le(c,4,d),this.H.Le(b,4,d),d.kg(.8,.8,.8),this.H.oc(c,
b,d));this.ll&&(d=new xa(0,0,1),this.H.Le(this.kl,4,d),d.kg(.8,.8,.8),this.H.oc(this.Bi,this.kl,d));if(a.pq)for(d=0;d<this.rk;++d)e=this.Xh[d],1===e.state?this.H.Le(e.position,10,new xa(.3,.95,.3)):2===e.state&&this.H.Le(e.position,5,new xa(.3,.3,.95)),a.oq?(c=e.position,b=pb(c,qb(.3,e.V,u),new r),this.H.oc(c,b,new xa(.9,.9,.9))):a.nq&&(c=e.position,b=sb(c,.1*e.gc,e.V,new r),this.H.oc(c,b,new xa(.9,.9,.3))),a.qq&&(b=lb(e.V,1,new r),c=e.position,b=sb(c,.1*e.Hd,b,new r),this.H.oc(c,b,new xa(.9,.9,.3)))};
Y.prototype.Step=Y.prototype.o;Y.prototype.ae=function(a){this.j.ae(a)};Y.prototype.ShiftOrigin=Y.prototype.ae;Y.prototype.Ib=function(){return 1};Y.prototype.GetDefaultViewZoom=Y.prototype.Ib;var Fj=[new Yf(255,0,0,255),new Yf(0,255,0,255),new Yf(0,0,255,255),new Yf(255,140,0,255),new Yf(0,206,209,255),new Yf(255,0,255,255),new Yf(255,215,0,255),new Yf(0,255,255,255)],fk=Fj.length;
Y.prototype.Xi=function(a,c){var b=this.S.Pn(),d=a.Sc(),e=a.Lb,f=d+e,h=Fj.length;c||(c=Math.floor(d/h))||(c=1);for(d=e;d<f;d++)b[d]=Fj[Math.floor(d/c)%h].za()};Y.prototype.ColorParticleGroup=Y.prototype.Xi;Y.prototype.tw=function(a){var c=ug[0].jp,b=ug[0].fs;this.an=[];for(var d=0,e=0;e<c;e++)b[e].value&a||(this.an[d]=b[e],d++);this.Fu=new gg(this.an,d);gk([this.Fu],1)};Y.prototype.InitializeParticleParameters=Y.prototype.tw;Y.prototype.Cw=function(){this.an&&(gk(ug,1),this.an=null)};
Y.prototype.RestoreParticleParameters=Y.prototype.Cw;function hk(a,c){Y.call(this,a,c);this.j.ej(new r(0,0));var b=new A;b.La.ba();b.N=.1;for(var d=0;400>d;++d){var e=new G;e.type=2;e.position=new r(Xa(-6,0),Xa(4,6));e=this.j.l(e);e.k(b,.01)}b=new D;b.D(1.5,1.5);e=new G;e.type=2;e.position.h(-40,5);e.zf=!0;e=this.j.l(e);e.k(b,1);e.$d(new r(150,0))}q(hk,Y);p("box2d.Testbed.AddPair",hk);function wk(a,c){return new hk(a,c)}hk.Create=wk;function xk(a,c){Y.call(this,a,c);var b=this.j.l(new G),d;for(d=-10;10>d;d+=1){var e=new D,f=[new r(d,-10),new r(d+1,-10),new r(0,15)];e.h(f,3);b.k(e,0)}for(d=-10;35>d;d+=1)e=new D,f=[new r(-10,d),new r(-10,d+1),new r(0,15)],e.h(f,3),b.k(e,0),e.h([new r(10,d),new r(10,d+1),new r(0,15)],3),b.k(e,0);this.Iu=300;this.S.Jd(.75);0===yk()&&this.S.ni(.2)}q(xk,Y);p("box2d.Testbed.AntiPointy",xk);xk.prototype.Iu=0;
xk.prototype.o=function(a){Y.prototype.o.call(this,a);if(!(0>=this.Iu)){--this.Iu;a=yk();var c=new cg;c.position.h(0,40);c.eg.h(0,-1);c.Ea=a;a&24&&(c.eg.h(this.S.Sc()&1?-1:1,-5),c.Ea|=4096);this.S.pm(c)}};xk.prototype.Step=xk.prototype.o;function zk(a,c){return new xk(a,c)}xk.Create=zk;function Ak(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d.Ca(new r(-40,0),new r(-40,25));b.k(d,0);d.Ca(new r(40,0),new r(40,25));b.k(d,0);b=new zf;b.uv=this.j;for(d=0;20>d;++d){var e=2*d*Math.PI/20,f=new G;f.Uf=!0;f.position.h(0+5*Math.cos(e),10+5*Math.sin(e));f.type=2;e=this.j.l(f);f=new E;f.shape=new A(.5);f.fa=1;e.k(f);b.Ch(e)}b.RE=10;b.wd=1;this.j.ja(b)}q(Ak,Y);p("box2d.Testbed.BlobTest",Ak);Ak.prototype.qa=function(){};Ak.prototype.Keyboard=Ak.prototype.qa;
Ak.prototype.o=function(a){Y.prototype.o.call(this,a)};Ak.prototype.Step=Ak.prototype.o;function Bk(a,c){return new Ak(a,c)}Ak.Create=Bk;function Ck(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=new C;d.Ca(new r(-20,0),new r(20,0));var e=new E;e.shape=d;b.k(e);d=new G;d.type=2;d.position.h(0,3);this.Lq=this.j.l(d);d=new D;d.D(.5,2);this.Lq.k(d,2);d=new G;d.type=2;d.position.h(-4,5);this.Bd=this.j.l(d);d=new D;d.D(.5,4,new r(4,0),.5*fa);e=new E;e.shape=d;e.gb=.6;e.fa=2;this.Bd.k(e);d=new Pf;d.U(this.Lq,this.Bd,new r(0,5));d.Mf=50;d.yd=!0;this.j.ja(d);d=new Of;d.U(b,this.Bd,new r(0,5),new r(1,0));d.rn=1E3;d.yd=!0;d.gl=-10;
d.nm=10;d.hf=!0;this.j.ja(d);this.wh=3;d=new G;d.type=2;d.position.h(0,8);b=this.j.l(d);d=new D;d.D(.75,.75);e=new E;e.shape=d;e.gb=.6;e.fa=2;b.k(e)}q(Ck,Y);p("box2d.Testbed.BodyTypes",Ck);Ck.prototype.Lq=null;Ck.prototype.m_attachment=Ck.prototype.Lq;Ck.prototype.Bd=null;Ck.prototype.m_platform=Ck.prototype.Bd;Ck.prototype.wh=0;Ck.prototype.m_speed=Ck.prototype.wh;
Ck.prototype.qa=function(a){switch(a){case Dk:this.Bd.eq(2);break;case Ek:this.Bd.eq(0);break;case Fk:this.Bd.eq(1),this.Bd.$d(new r(-this.wh,0)),this.Bd.Jh(0)}};Ck.prototype.Keyboard=Ck.prototype.qa;Ck.prototype.o=function(a){if(1===this.Bd.Ic()){var c=this.Bd.Wb().ta,b=this.Bd.le();if(-10>c.x&&0>b.x||10<c.x&&0<b.x)b.x=-b.x,this.Bd.$d(b)}Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Keys: (d) dynamic, (s) static, (k) kinematic");this.m+=25};Ck.prototype.Step=Ck.prototype.o;
function Gk(a,c){return new Ck(a,c)}Ck.Create=Gk;function Hk(a,c){Y.call(this,a,c);this.yk=new r;this.Wo=new D;this.cn=new D;var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,40);b.fb=.25*fa;this.Lm=this.j.l(b);this.Wo=new D;this.Wo.D(.5,.5,new r(-.5,0),0);this.Ku=this.Lm.k(this.Wo,1);this.cn=new D;this.cn.D(.5,.5,new r(.5,0),0);this.To=this.Lm.k(this.cn,1)}q(Hk,Y);p("box2d.Testbed.Breakable",Hk);Hk.e_count=7;Hk.prototype.Lm=null;Hk.prototype.m_body1=Hk.prototype.Lm;Hk.prototype.yk=null;
Hk.prototype.m_velocity=Hk.prototype.yk;Hk.prototype.ab=0;Hk.prototype.m_angularVelocity=Hk.prototype.ab;Hk.prototype.Wo=null;Hk.prototype.m_shape1=Hk.prototype.Wo;Hk.prototype.cn=null;Hk.prototype.m_shape2=Hk.prototype.cn;Hk.prototype.Ku=null;Hk.prototype.m_piece1=Hk.prototype.Ku;Hk.prototype.To=null;Hk.prototype.m_piece2=Hk.prototype.To;Hk.prototype.Oq=!1;Hk.prototype.m_broke=Hk.prototype.Oq;Hk.prototype.Nq=!1;Hk.prototype.m_break=Hk.prototype.Nq;
Hk.prototype.Qe=function(a,c){if(!this.Oq){for(var b=a.Xe.Wa,d=0,e=0;e<b;++e)d=Ja(d,c.Rr[e]);40<d&&(this.Nq=!0)}};Hk.prototype.PostSolve=Hk.prototype.Qe;Hk.prototype.Bv=function(){var a=this.Ku.Ob(),c=a.Ne();a.vs(this.To);this.To=null;var b=new G;b.type=2;b.position=a.cd();b.fb=a.hc();b=this.j.l(b);this.To=b.k(this.cn,1);var d=a.Ne(),e=b.Ne(),d=ub(this.yk,this.ab,x(d,c,u),new r),c=ub(this.yk,this.ab,x(e,c,u),new r);a.Jh(this.ab);a.$d(d);b.Jh(this.ab);b.$d(c)};Hk.prototype.Break=Hk.prototype.Bv;
Hk.prototype.o=function(a){this.Nq&&(this.Bv(),this.Oq=!0,this.Nq=!1);this.Oq||(this.yk=this.Lm.le(),this.ab=this.Lm.sm());Y.prototype.o.call(this,a)};Hk.prototype.Step=Hk.prototype.o;function Ik(a,c){return new Hk(a,c)}Hk.Create=Ik;function Jk(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.D(.5,.125);var f=new E;f.shape=e;f.fa=20;f.gb=.2;for(var e=new Pf,h=b,k=0;30>k;++k){d=new G;d.type=2;d.position.h(-14.5+1*k,5);d=this.j.l(d);d.k(f);var l=new r(-15+1*k,5);e.U(h,d,l);this.j.ja(e);15===k&&(this.Lx=d);h=d}l=new r(15,5);e.U(h,b,l);this.j.ja(e);for(k=0;2>k;++k)b=[],b[0]=new r(-.5,0),b[1]=new r(.5,0),b[2]=new r(0,1.5),e=new D,e.h(b),f=new E,f.shape=e,f.fa=1,d=new G,
d.type=2,d.position.h(-8+8*k,12),d=this.j.l(d),d.k(f);for(k=0;3>k;++k)e=new A,e.N=.5,f=new E,f.shape=e,f.fa=1,d=new G,d.type=2,d.position.h(-6+6*k,10),d=this.j.l(d),d.k(f)}q(Jk,Y);p("box2d.Testbed.Bridge",Jk);Jk.e_count=30;Jk.prototype.Lx=null;Jk.prototype.m_middle=Jk.prototype.Lx;function Kk(a,c){return new Jk(a,c)}Jk.Create=Kk;function Lk(a,c){Y.call(this,a,c);var b=new G;b.position.h(0,0);var b=this.j.l(b),d=new C;d.Ca(new r(-10,0),new r(10,0));b.k(d,0);d=new D;d.D(.2,1,new r(.5,1),0);b.k(d,0);b=new G;b.type=2;b.position.h(0,4);d=new D;d.D(2,.1);this.xa=this.j.l(b);this.xa.k(d,1);d.D(.25,.25);this.Kj=.20352793;b.position.h(this.Kj,10);b.zf=!0;this.Df=this.j.l(b);this.Df.k(d,100);this.Df.$d(new r(0,-50))}q(Lk,Y);p("box2d.Testbed.BulletTest",Lk);Lk.prototype.xa=null;Lk.prototype.m_body=Lk.prototype.xa;Lk.prototype.Df=null;
Lk.prototype.m_bullet=Lk.prototype.Df;Lk.prototype.Kj=0;Lk.prototype.m_x=Lk.prototype.Kj;Lk.prototype.ao=function(){this.xa.hj(new r(0,4),0);this.xa.$d(Ya);this.xa.Jh(0);this.Kj=Xa(-1,1);this.Df.hj(new r(this.Kj,10),0);this.Df.$d(new r(0,-50));this.Df.Jh(0);Sd=Rd=Qd=Pd=Od=nc=mc=lc=0};Lk.prototype.Launch=Lk.prototype.ao;
Lk.prototype.o=function(a){Y.prototype.o.call(this,a);0<lc&&(this.H.ua(5,this.m,"gjk calls = %d, ave gjk iters = %3.1f, max gjk iters = %d",lc,mc/lc,nc),this.m+=25);0<Od&&(this.H.ua(5,this.m,"toi calls = %d, ave toi iters = %3.1f, max toi iters = %d",Od,Pd/Od,Sd),this.m+=25,this.H.ua(5,this.m,"ave toi root iters = %3.1f, max toi root iters = %d",Rd/Od,Sd),this.m+=25);0===this.wg%60&&this.ao()};Lk.prototype.Step=Lk.prototype.o;function Mk(a,c){return new Lk(a,c)}Lk.Create=Mk;function Nk(a,c){Y.call(this,a,c);this.Q=[];var b=new we;this.Sq=b;b.V.h(0,1);b.offset=20;b.fa=2;b.St=5;b.Mt=2;var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d.Ca(new r(-40,0),new r(-40,25));b.k(d,0);d.Ca(new r(40,0),new r(40,25));b.k(d,0);for(b=0;5>b;b++){d=new G;d.type=2;d.position.h(40*Math.random()-20,15*Math.random()+5);d.fb=Math.random()*Math.PI;var d=this.j.l(d),e=new E;e.fa=1;e.gb=.3;e.dc=.1;e.shape=new D;e.shape.D(.5*Math.random()+1,.5*Math.random()+1);d.k(e);this.Q.push(d)}for(b=
0;5>b;b++)d=new G,d.type=2,d.position.h(40*Math.random()-20,15*Math.random()+5),d.fb=Math.random()*Math.PI,d=this.j.l(d),e=new E,e.fa=1,e.gb=.3,e.dc=.1,e.shape=new A(.5*Math.random()+1),d.k(e),this.Q.push(d);for(b=0;15>b;b++){d=new G;d.type=2;d.position.h(40*Math.random()-20,15*Math.random()+5);d.fb=Math.random()*Math.PI;d=this.j.l(d);e=new E;e.fa=1;e.gb=.3;e.dc=.1;e.shape=new D;if(.66<Math.random())e.shape.h([new r(-1-1*Math.random(),1+1*Math.random()),new r(-.5-1*Math.random(),-1-1*Math.random()),
new r(.5+1*Math.random(),-1-1*Math.random()),new r(1+1*Math.random(),1+1*Math.random())]);else if(.5<Math.random()){var f=[];f[0]=new r(0,1+1*Math.random());f[2]=new r(-.5-1*Math.random(),-1-1*Math.random());f[3]=new r(.5+1*Math.random(),-1-1*Math.random());f[1]=new r(f[0].x+f[2].x,f[0].y+f[2].y);f[1].Ia(Math.random()/2+.8);f[4]=new r(f[3].x+f[0].x,f[3].y+f[0].y);f[4].Ia(Math.random()/2+.8);e.shape.h(f)}else e.shape.h([new r(0,1+1*Math.random()),new r(-.5-1*Math.random(),-1-1*Math.random()),new r(.5+
1*Math.random(),-1-1*Math.random())]);d.k(e);this.Q.push(d)}d=new G;d.type=2;d.position.h(0,40);d.fb=0;d=this.j.l(d);e=new E;e.fa=3;e.shape=new D;e.shape.D(4,1);d.k(e);this.Q.push(d);d=new G;d.type=2;d.position.h(0,30);d=this.j.l(d);e=new E;e.fa=2;e.shape=new A(.7);e.shape.La.h(3,0);d.k(e);e.shape.La.h(-3,0);d.k(e);e.shape.La.h(0,3);d.k(e);e.shape.La.h(0,-3);d.k(e);e.fa=2;e.shape=new D;e.shape.D(3,.2);d.k(e);e.shape.D(.2,3);d.k(e);for(this.Q.push(d);b<this.Q.length;++b)this.Sq.Ch(this.Q[0]);this.j.wv(this.Sq)}
q(Nk,Y);p("box2d.Testbed.BuoyancyTest",Nk);Nk.prototype.Q=null;Nk.prototype.m_bodies=Nk.prototype.Q;Nk.prototype.Sq=null;Nk.prototype.m_controller=Nk.prototype.Sq;Nk.prototype.qa=function(){};Nk.prototype.Keyboard=Nk.prototype.qa;Nk.prototype.o=function(a){Y.prototype.o.call(this,a)};Nk.prototype.Step=Nk.prototype.o;function Ok(a,c){return new Nk(a,c)}Nk.Create=Ok;function Pk(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.D(.5,.125);var f=new E;f.shape=e;f.fa=20;for(var e=new Tf,h=b,k=0;8>k;++k){d=new G;d.type=2;d.position.h(-14.5+1*k,5);d=this.j.l(d);d.k(f);var l=new r(-15+1*k,5);e.U(h,d,l);this.j.ja(e);h=d}e=new D;e.D(1,.125);f=new E;f.shape=e;f.fa=20;e=new Tf;e.Kd=5;e.wd=.7;h=b;for(k=0;3>k;++k)d=new G,d.type=2,d.position.h(-14+2*k,15),d=this.j.l(d),d.k(f),l=new r(-15+2*k,15),e.U(h,d,l),this.j.ja(e),
h=d;e=new D;e.D(.5,.125);f=new E;f.shape=e;f.fa=20;e=new Tf;h=b;for(k=0;8>k;++k)d=new G,d.type=2,d.position.h(-4.5+1*k,15),d=this.j.l(d),d.k(f),0<k&&(l=new r(-5+1*k,15),e.U(h,d,l),this.j.ja(e)),h=d;e=new D;e.D(.5,.125);f=new E;f.shape=e;f.fa=20;e=new Tf;e.Kd=8;e.wd=.7;h=b;for(k=0;8>k;++k)d=new G,d.type=2,d.position.h(5.5+1*k,10),d=this.j.l(d),d.k(f),0<k&&(l=new r(5+1*k,10),e.U(h,d,l),this.j.ja(e)),h=d;for(k=0;2>k;++k)b=[],b[0]=new r(-.5,0),b[1]=new r(.5,0),b[2]=new r(0,1.5),e=new D,e.h(b),f=new E,
f.shape=e,f.fa=1,d=new G,d.type=2,d.position.h(-8+8*k,12),d=this.j.l(d),d.k(f);for(k=0;2>k;++k)e=new A,e.N=.5,f=new E,f.shape=e,f.fa=1,d=new G,d.type=2,d.position.h(-6+6*k,10),d=this.j.l(d),d.k(f)}q(Pk,Y);p("box2d.Testbed.Cantilever",Pk);Pk.e_count=8;function Qk(a,c){return new Pk(a,c)}Pk.Create=Qk;function Rk(a,c){Y.call(this,a,c);this.Ng=4;this.hp=.7;this.wh=50;var b=null,d=new G,b=this.j.l(d),d=new C,e=new E;e.shape=d;e.fa=0;e.gb=.6;d.Ca(new r(-20,0),new r(20,0));b.k(e);for(var f=[.25,1,4,0,0,-1,-2,-2,-1.25,0],h=20,k=0,l=0;10>l;++l){var m=f[l];d.Ca(new r(h,k),new r(h+5,m));b.k(e);k=m;h+=5}for(l=0;10>l;++l)m=f[l],d.Ca(new r(h,k),new r(h+5,m)),b.k(e),k=m,h+=5;d.Ca(new r(h,0),new r(h+40,0));b.k(e);h+=80;d.Ca(new r(h,0),new r(h+40,0));b.k(e);h+=40;d.Ca(new r(h,0),new r(h+10,5));b.k(e);h+=20;
d.Ca(new r(h,0),new r(h+40,0));b.k(e);h+=40;d.Ca(new r(h,0),new r(h,20));b.k(e);d=new G;d.position.h(140,1);d.type=2;f=this.j.l(d);e=new D;e.D(10,.25);f.k(e,1);h=new Pf;h.U(b,f,f.cd());h.ye=-8*fa/180;h.Ie=8*fa/180;h.hf=!0;this.j.ja(h);f.ks(100);d=new D;d.D(1,.125);e=new E;e.shape=d;e.fa=1;e.gb=.6;h=new Pf;k=b;for(l=0;20>l;++l)d=new G,d.type=2,d.position.h(161+2*l,-.125),f=this.j.l(d),f.k(e),d=new r(160+2*l,-.125),h.U(k,f,d),this.j.ja(h),k=f;d=new r(200,-.125);h.U(k,b,d);this.j.ja(h);e=new D;e.D(.5,
.5);d=new G;d.type=2;d.position.h(230,.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,1.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,2.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,3.5);f=this.j.l(d);f.k(e,.5);d.position.h(230,4.5);f=this.j.l(d);f.k(e,.5);b=new D;e=gb(8);e[0].h(-1.5,-.5);e[1].h(1.5,-.5);e[2].h(1.5,0);e[3].h(0,.9);e[4].h(-1.15,.9);e[5].h(-1.5,.2);b.h(e,6);l=new A;l.N=.4;d=new G;d.type=2;d.position.h(0,1);this.bk=this.j.l(d);this.bk.k(b,1);e=new E;e.shape=l;e.fa=1;e.gb=.9;d.position.h(-1,
.35);this.fp=this.j.l(d);this.fp.k(e);d.position.h(1,.4);this.gp=this.j.l(d);this.gp.k(e);h=new Sf;b=new r(0,1);h.U(this.bk,this.fp,this.fp.cd(),b);h.ie=0;h.Mf=20;h.yd=!0;h.Kd=this.Ng;h.wd=this.hp;this.Sl=this.j.ja(h);h.U(this.bk,this.gp,this.gp.cd(),b);h.ie=0;h.Mf=10;h.yd=!1;h.Kd=this.Ng;h.wd=this.hp;this.Hr=this.j.ja(h)}q(Rk,Y);p("box2d.Testbed.Car",Rk);Rk.prototype.bk=null;Rk.prototype.m_car=Rk.prototype.bk;Rk.prototype.fp=null;Rk.prototype.m_wheel1=Rk.prototype.fp;Rk.prototype.gp=null;
Rk.prototype.m_wheel2=Rk.prototype.gp;Rk.prototype.Ng=0;Rk.prototype.m_hz=Rk.prototype.Ng;Rk.prototype.hp=0;Rk.prototype.m_zeta=Rk.prototype.hp;Rk.prototype.wh=0;Rk.prototype.m_speed=Rk.prototype.wh;Rk.prototype.Sl=null;Rk.prototype.m_spring1=Rk.prototype.Sl;Rk.prototype.Hr=null;Rk.prototype.m_spring2=Rk.prototype.Hr;
Rk.prototype.qa=function(a){switch(a){case Sk:this.Sl.Re(this.wh);break;case Ek:this.Sl.Re(0);break;case Dk:this.Sl.Re(-this.wh);break;case Tk:this.Ng=Ja(0,this.Ng-1);this.Sl.mo(this.Ng);this.Hr.mo(this.Ng);break;case Uk:this.Ng+=1,this.Sl.mo(this.Ng),this.Hr.mo(this.Ng)}};Rk.prototype.Keyboard=Rk.prototype.qa;
Rk.prototype.o=function(a){this.H.ua(5,this.m,"Keys: left = a, brake = s, right = d, hz down = q, hz up = e");this.m+=25;this.H.ua(5,this.m,"frequency = %4.2f hz, damping ratio = %4.2f",this.Ng,this.hp);this.m+=25;a.$g.x=this.bk.cd().x;Y.prototype.o.call(this,a)};Rk.prototype.Step=Rk.prototype.o;function Vk(a,c){return new Rk(a,c)}Rk.Create=Vk;function Wk(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.D(.6,.125);var f=new E;f.shape=e;f.fa=20;f.gb=.2;e=new Pf;e.pg=!1;for(var h=0;30>h;++h)d=new G,d.type=2,d.position.h(.5+h,25),d=this.j.l(d),d.k(f),e.U(b,d,new r(h,25)),this.j.ja(e),b=d}q(Wk,Y);p("box2d.Testbed.Chain",Wk);Wk.e_count=30;function Xk(a,c){return new Wk(a,c)}Wk.Create=Xk;function Yk(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-20,0),new r(20,0));b.k(d,0);b=new G;b=this.j.l(b);d=new C;d.Ca(new r(-8,1),new r(-6,1));b.k(d,0);d.Ca(new r(-6,1),new r(-4,1));b.k(d,0);d.Ca(new r(-4,1),new r(-2,1));b.k(d,0);b=new G;b.fb=.25*fa;var b=this.j.l(b),e=gb(4);e[0].h(5,7);e[1].h(6,8);e[2].h(7,8);e[3].h(8,7);d=new Fd;d.Jn(e,4);b.k(d,0);b=new G;b=this.j.l(b);d=new D;d.D(1,1,new r(4,3),0);b.k(d,0);d.D(1,1,new r(6,3),0);b.k(d,0);d.D(1,1,new r(8,3),0);b.k(d,0);b=
new G;b=this.j.l(b);e=gb(4);e[0].h(-1,3);e[1].h(1,3);e[2].h(1,5);e[3].h(-1,5);d=new Fd;d.Jn(e,4);b.k(d,0);b=new G;b.position.h(-10,4);b=this.j.l(b);e=gb(10);e[0].h(0,0);e[1].h(6,0);e[2].h(6,2);e[3].h(4,1);e[4].h(2,2);e[5].h(0,2);e[6].h(-2,2);e[7].h(-4,3);e[8].h(-6,2);e[9].h(-6,0);d=new Fd;d.Jn(e,10);b.k(d,0);b=new G;b.position.h(-3,8);b.type=2;b.Uf=!0;b.xe=!1;b=this.j.l(b);d=new D;d.D(.5,.5);e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(-5,5);b.type=2;b.Uf=!0;b.xe=!1;b=this.j.l(b);d=new D;
d.D(.25,.25);e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(-5,8);b.type=2;b.Uf=!0;b.xe=!1;for(var b=this.j.l(b),d=0,f=fa/3,e=gb(6),h=0;6>h;++h)e[h].h(.5*Sa(d),.5*Ta(d)),d+=f;d=new D;d.h(e,6);e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(3,5);b.type=2;b.Uf=!0;b.xe=!1;b=this.j.l(b);d=new A;d.N=.5;e=new E;e.shape=d;e.fa=20;b.k(e);b=new G;b.position.h(-7,6);b.type=2;b.xe=!1;this.nh=this.j.l(b);d=new A;d.N=.25;e=new E;e.shape=d;e.fa=20;e.gb=1;this.nh.k(e)}q(Yk,Y);
p("box2d.Testbed.CharacterCollision",Yk);Yk.prototype.nh=null;Yk.prototype.m_character=Yk.prototype.nh;Yk.prototype.o=function(a){var c=this.nh.le().za();c.x=-5;this.nh.$d(c);Y.prototype.o.call(this,a);this.H.ua(5,this.m,"This tests various character collision shapes");this.m+=25;this.H.ua(5,this.m,"Limitation: square and hexagon can snag on aligned boxes.");this.m+=25;this.H.ua(5,this.m,"Feature: edge chains have smooth collision inside and out.");this.m+=25};Yk.prototype.Step=Yk.prototype.o;
function Zk(a,c){return new Yk(a,c)}Yk.Create=Zk;function $k(a,c){Y.call(this,a,c);var b=new C;b.Ca(new r(-40,0),new r(40,0));var d=new E;d.shape=b;d.gb=.3;var e=new G;this.j.l(e).k(d);b=[];b[0]=new r(-1,0);b[1]=new r(1,0);b[2]=new r(0,2);d=new D;d.h(b,3);e=new E;e.shape=d;e.fa=1;e.filter.Ld=1;e.filter.Af=2;e.filter.Kf=65535;var f=new G;f.type=2;f.position.h(-5,2);this.j.l(f).k(e);b[0].Ia(2);b[1].Ia(2);b[2].Ia(2);d.h(b,3);e.filter.Ld=-1;f.position.h(-5,6);f.Uf=!0;b=this.j.l(f);b.k(e);e=new G;e.type=2;e.position.h(-5,10);e=this.j.l(e);f=new D;f.D(.5,
1);e.k(f,1);f=new Of;f.Ja=b;f.Fa=e;f.hf=!0;f.va.h(0,4);f.Da.ba();f.Gg.h(0,1);f.gl=-1;f.nm=1;this.j.ja(f);d.D(1,.5);b=new E;b.shape=d;b.fa=1;b.dc=.1;b.filter.Ld=1;b.filter.Af=4;b.filter.Kf=65533;e=new G;e.type=2;e.position.h(0,2);this.j.l(e).k(b);d.D(2,1);b.filter.Ld=-1;e.position.h(0,6);this.j.l(e).k(b);d=new A;d.N=1;b=new E;b.shape=d;b.fa=1;b.filter.Ld=1;b.filter.Af=8;b.filter.Kf=65535;e=new G;e.type=2;e.position.h(5,2);this.j.l(e).k(b);d.N*=2;b.filter.Ld=-1;e.position.h(5,6);this.j.l(e).k(b)}
q($k,Y);p("box2d.Testbed.CollisionFiltering",$k);$k.k_smallGroup=1;$k.k_largeGroup=-1;$k.k_defaultCategory=1;$k.k_triangleCategory=2;$k.k_boxCategory=4;$k.k_circleCategory=8;$k.k_triangleMask=65535;$k.k_boxMask=65533;$k.k_circleMask=65535;function al(a,c){return new $k(a,c)}$k.Create=al;function bl(a,c){Y.call(this,a,c);var b=new C;b.Ca(new r(-40,0),new r(40,0));var d=new E;d.shape=b;this.j.l(new G).k(d);d=Array(3);d[0]=new r(-1,0);d[1]=new r(1,0);d[2]=new r(0,2);b=new D;b.h(d,3);var e=new E;e.shape=b;e.fa=1;var f=new G;f.type=2;f.position.h(Xa(-5,5),Xa(2,35));this.j.l(f).k(e);d[0].Ia(2);d[1].Ia(2);d[2].Ia(2);b.h(d,3);f.position.h(Xa(-5,5),Xa(2,35));this.j.l(f).k(e);b.D(1,.5);d=new E;d.shape=b;d.fa=1;e=new G;e.type=2;e.position.h(Xa(-5,5),Xa(2,35));this.j.l(e).k(d);b.D(2,1);e.position.h(Xa(-5,
5),Xa(2,35));this.j.l(e).k(d);b=new A;b.N=1;d=new E;d.shape=b;d.fa=1;e=new G;e.type=2;e.position.h(Xa(-5,5),Xa(2,35));this.j.l(e).k(d);b.N*=2;e.position.h(Xa(-5,5),Xa(2,35));this.j.l(e).k(d)}q(bl,Y);p("box2d.Testbed.CollisionProcessing",bl);
bl.prototype.o=function(a){Y.prototype.o.call(this,a);a=Array(6);for(var c=0,b=0;b<this.rk;++b){var d=this.Xh[b],e=d.Qt.Ob(),d=d.Rt.Ob(),f=e.me(),h=d.me();if(0<f&&0<h&&(h>f?a[c++]=e:a[c++]=d,6===c))break}a.sort(function(a,b){return a-b});for(b=0;b<c;){for(e=a[b++];b<c&&a[b]===e;)++b;e!==this.oj&&this.j.td(e)}};bl.prototype.Step=bl.prototype.o;function cl(a,c){return new bl(a,c)}bl.Create=cl;function dl(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(50,0),new r(-50,0));b.k(d,0);var e=new A;e.N=.5;e.La.h(-.5,.5);var f=new A;f.N=.5;f.La.h(.5,.5);for(d=0;10>d;++d){var h=Xa(-.1,.1),b=new G;b.type=2;b.position.h(h+5,1.05+2.5*d);b.fb=Xa(-fa,fa);b=this.j.l(b);b.k(e,2);b.k(f,0)}e=new D;e.D(.25,.5);f=new D;f.D(.25,.5,new r(0,-.5),.5*fa);for(d=0;10>d;++d)h=Xa(-.1,.1),b=new G,b.type=2,b.position.h(h-5,1.05+2.5*d),b.fb=Xa(-fa,fa),b=this.j.l(b),b.k(e,2),b.k(f,2);d=new Vb;d.ha.Ba(.3524*
fa);d.ta.e(y(d.ha,new r(1,0),new r));b=[];e=new D;b[0]=Xb(d,new r(-1,0),new r);b[1]=Xb(d,new r(1,0),new r);b[2]=Xb(d,new r(0,.5),new r);e.h(b,3);d=new Vb;d.ha.Ba(-.3524*fa);d.ta.e(y(d.ha,new r(-1,0),new r));f=new D;b[0]=Xb(d,new r(-1,0),new r);b[1]=Xb(d,new r(1,0),new r);b[2]=Xb(d,new r(0,.5),new r);f.h(b,3);for(d=0;10>d;++d)h=Xa(-.1,.1),b=new G,b.type=2,b.position.h(h,2.05+2.5*d),b.fb=0,b=this.j.l(b),b.k(e,2),b.k(f,2);d=new D;d.D(1.5,.15);h=new D;h.D(.15,2.7,new r(-1.45,2.35),.2);e=new D;e.D(.15,
2.7,new r(1.45,2.35),-.2);b=new G;b.type=2;b.position.h(0,2);b=this.j.l(b);b.k(d,4);b.k(h,4);b.k(e,4)}q(dl,Y);p("box2d.Testbed.CompoundShapes",dl);function el(a,c){return new dl(a,c)}dl.Create=el;function fl(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new C;b.Ca(new r(-10,0),new r(10,0));d.k(b,0);b.Ca(new r(-10,0),new r(-10,20));d.k(b,0);b.Ca(new r(10,0),new r(10,20));d.k(b,0);b.Ca(new r(-10,20),new r(10,20));d.k(b,0);b=new A;b.La.ba();b.N=.5;d=new E;d.shape=b;d.fa=1;d.gb=.1;for(var e=0;0>e;++e)for(var f=0;0>f;++f)b=new G,b.type=2,b.position.h(-10+.5*(2.1*e+1+.01*f),.5*(2*f+1)),this.j.l(b).k(d);this.j.ej(new r(0,0))}q(fl,Y);p("box2d.Testbed.Confined",fl);fl.e_columnCount=0;
fl.e_rowCount=0;fl.prototype.Lv=function(){var a=new A;a.La.ba();a.N=2;var c=new E;c.shape=a;c.fa=1;c.gb=0;var a=new r(Wa(),3+Wa()),b=new G;b.type=2;b.position.e(a);this.j.l(b).k(c)};fl.prototype.CreateCircle=fl.prototype.Lv;fl.prototype.qa=function(a){switch(a){case gl:this.Lv()}};fl.prototype.Keyboard=fl.prototype.qa;
fl.prototype.o=function(a){for(var c=this.j.Cb;c;c=c.Y);180===this.wg&&(this.wg+=0);Y.prototype.o.call(this,a);for(c=this.j.Cb;c;c=c.Y)2===c.Ic()&&(a=c.cd(),-10>=a.x||10<=a.x||0>=a.y||20<=a.y)&&(a.x+=0);this.H.ua(5,this.m,"Press 'c' to create a circle.");this.m+=25};fl.prototype.Step=fl.prototype.o;function hl(a,c){return new fl(a,c)}fl.Create=hl;function il(a,c){Y.call(this,a,c);var b=new G;b.position.h(0,0);var b=this.j.l(b),d=new C;d.Ca(new r(-10,0),new r(10,0));b.k(d,0);d=new D;d.D(.2,1,new r(.5,1),0);b.k(d,0);b=new G;b.type=2;b.position.h(0,20);d=new D;d.D(2,.1);this.xa=this.j.l(b);this.xa.k(d,1);this.ab=Xa(-50,50);this.xa.$d(new r(0,-100));this.xa.Jh(this.ab);Kd=Jd=Sd=Rd=Pd=Od=nc=mc=lc=0}q(il,Y);p("box2d.Testbed.ContinuousTest",il);il.prototype.xa=null;il.prototype.m_body=il.prototype.xa;il.prototype.ab=0;
il.prototype.m_angularVelocity=il.prototype.ab;il.prototype.ao=function(){Kd=Jd=Sd=Rd=Pd=Od=nc=mc=lc=0;this.xa.hj(new r(0,20),0);this.ab=Xa(-50,50);this.xa.$d(new r(0,-100));this.xa.Jh(this.ab)};il.prototype.Launch=il.prototype.ao;
il.prototype.o=function(a){Y.prototype.o.call(this,a);0<lc&&(this.H.ua(5,this.m,"gjk calls = %d, ave gjk iters = %3.1f, max gjk iters = %d",lc,mc/lc,nc),this.m+=25);0<Od&&(this.H.ua(5,this.m,"toi [max] calls = %d, ave toi iters = %3.1f [%d]",Od,Pd/Od,Sd),this.m+=25,this.H.ua(5,this.m,"ave [max] toi root iters = %3.1f [%d]",Rd/Od,Sd),this.m+=25,this.H.ua(5,this.m,"ave [max] toi time = %.1f [%.1f] (microseconds)",1E3*Jd/Od,1E3*Kd),this.m+=25);0===this.wg%60&&this.ao()};il.prototype.Step=il.prototype.o;
function jl(a,c){return new il(a,c)}il.Create=jl;function kl(a,c){Y.call(this,a,c);this.Vl=gb(8);this.Jk();this.zo=!1}q(kl,Y);p("box2d.Testbed.ConvexHull",kl);kl.e_count=8;kl.prototype.Vl=null;kl.prototype.m_test_points=kl.prototype.Vl;kl.prototype.n=0;kl.prototype.m_count=kl.prototype.n;kl.prototype.zo=!1;kl.prototype.m_auto=kl.prototype.zo;kl.prototype.Jk=function(){for(var a=0;8>a;++a){var c=Xa(-10,10),b=Xa(-10,10),c=Ka(c,-8,8),b=Ka(b,-8,8);this.Vl[a].h(c,b)}this.n=8};kl.prototype.Generate=kl.prototype.Jk;
kl.prototype.qa=function(a){switch(a){case Sk:this.zo=!this.zo;break;case ll:this.Jk()}};kl.prototype.Keyboard=kl.prototype.qa;kl.prototype.o=function(a){Y.prototype.o.call(this,a);a=new D;a.h(this.Vl,this.n);this.H.ua(5,this.m,"Press g to generate a new random convex hull");this.m+=25;this.H.Qf(a.Z,a.n,new xa(.9,.9,.9));for(var c=0;c<this.n;++c)this.H.Le(this.Vl[c],3,new xa(.3,.9,.3)),this.H.Oj(this.Vl[c].x+.05,this.Vl[c].y+.05,"%d",c);a.jj()||(this.m+=0);this.zo&&this.Jk()};kl.prototype.Step=kl.prototype.o;
function ml(a,c){return new kl(a,c)}kl.Create=ml;function nl(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new C;b.Ca(new r(-20,0),new r(20,0));d.k(b,0);b=new G;b.position.h(-5,5);d=this.j.l(b);b=new D;b.D(10,.5);var e=new E;e.shape=b;e.gb=.8;this.Bd=d.k(e);for(e=0;5>e;++e)b=new G,b.type=2,b.position.h(-10+2*e,7),d=this.j.l(b),b=new D,b.D(.5,.5),d.k(b,20)}q(nl,Y);p("box2d.Testbed.ConveyorBelt",nl);nl.prototype.Bd=null;nl.prototype.m_platform=nl.prototype.Bd;
nl.prototype.Mc=function(a,c){Y.prototype.Mc.call(this,a,c);var b=a.Yb;a.Xb===this.Bd&&a.Dt(5);b===this.Bd&&a.Dt(-5)};nl.prototype.PreSolve=nl.prototype.Mc;nl.prototype.o=function(a){Y.prototype.o.call(this,a)};nl.prototype.Step=nl.prototype.o;function ol(a,c){return new nl(a,c)}nl.Create=ol;function pl(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new D,e=[new r(-20,30),new r(-20,0),new r(-25,0),new r(-25,30)];d.h(e);b.k(d,0);var f,d=new D,e=[new r(-25,0),new r(20,15),new r(25,0)];d.h(e);b.k(d,0);for(f=-20;20>f;f+=10)d=new D,e=[new r(-25,0),new r(f,15),new r(f+10,15)],d.h(e),b.k(d,0);for(f=0;30>f;f+=3)d=new D,e=[new r(25,f),new r(25,f+3),new r(20,15)],d.h(e),b.k(d,0);this.S.Jd(1);e=yk();d=new A;d.La.h(0,35);d.N=12;b=new zg;b.Ea=e;b.shape=d;d=this.S.jd(b);b.Ea&256&&this.Xi(d,0)}
q(pl,Y);p("box2d.Testbed.CornerCase",pl);function ql(a,c){return new pl(a,c)}pl.Create=ql;function rl(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new Fd;d.hi([new r(-2,0),new r(2,0),new r(2,4),new r(-2,4)],4);b.k(d,0);this.S.Jd(.025*3);this.S.ni(.2);d=new D;d.D(.8,1,new r(-1.2,1.01),0);b=new zg;b.Ea=yk();b.shape=d;d=this.S.jd(b);b.Ea&256&&this.Xi(d,0)}q(rl,Y);p("box2d.Testbed.DamBreak",rl);rl.prototype.Ib=function(){return.1};rl.prototype.GetDefaultViewZoom=rl.prototype.Ib;function sl(a,c){return new rl(a,c)}rl.Create=sl;function tl(a,c){Y.call(this,a,c);this.ad=new r;this.Ug=new Vb;this.yg=new Vb;this.If=new D;this.$b=new D;this.Ug.Sf();this.Ug.ta.h(0,-.2);this.If.D(10,.2);this.ad.h(12.017401,.13678508);this.jf=-.0109265;this.yg.Tk(this.ad,this.jf);this.$b.D(2,.1)}q(tl,Y);p("box2d.Testbed.DistanceTest",tl);tl.prototype.ad=null;tl.prototype.m_positionB=tl.prototype.ad;tl.prototype.jf=0;tl.prototype.m_angleB=tl.prototype.jf;tl.prototype.Ug=null;tl.prototype.m_transformA=tl.prototype.Ug;tl.prototype.yg=null;
tl.prototype.m_transformB=tl.prototype.yg;tl.prototype.If=null;tl.prototype.m_polygonA=tl.prototype.If;tl.prototype.$b=null;tl.prototype.m_polygonB=tl.prototype.$b;
tl.prototype.o=function(a){Y.prototype.o.call(this,a);var c=new jc;c.hd.Lh(this.If,0);c.Ed.Lh(this.$b,0);c.lm.e(this.Ug);c.mm.e(this.yg);c.Dn=!0;var b=new ic;b.count=0;a=new kc;uc(a,b,c);this.H.ua(5,this.m,"distance = %4.2f",a.Bf);this.m+=25;this.H.ua(5,this.m,"iterations = %d",a.Fq);this.m+=25;for(var c=new xa(.9,.9,.9),b=Array(8),d=0;d<this.If.n;++d)b[d]=Xb(this.Ug,this.If.Z[d],new r);this.H.Qf(b,this.If.n,c);for(d=0;d<this.$b.n;++d)b[d]=Xb(this.yg,this.$b.Z[d],new r);this.H.Qf(b,this.$b.n,c);c=
a.Oi;this.H.Le(a.Ni,4,new xa(1,0,0));this.H.Le(c,4,new xa(1,1,0))};tl.prototype.Step=tl.prototype.o;tl.prototype.qa=function(a){switch(a){case Sk:this.ad.x-=.1;break;case Dk:this.ad.x+=.1;break;case Ek:this.ad.y-=.1;break;case ul:this.ad.y+=.1;break;case Tk:this.jf+=.1*fa;break;case Uk:this.jf-=.1*fa}this.yg.Tk(this.ad,this.jf)};tl.prototype.Keyboard=tl.prototype.qa;function vl(a,c){return new tl(a,c)}tl.Create=vl;function wl(a,c){Y.call(this,a,c);var b=null,d=new C;d.Ca(new r(-40,0),new r(40,0));var e=new G,b=this.j.l(e);b.k(d,0);d=new D;d.D(6,.25);e=new G;e.position.h(-1.5,10);var f=this.j.l(e);f.k(d,0);d=new D;d.D(.1,1);var h=new E;h.shape=d;h.fa=20;h.gb=.1;for(f=0;10>f;++f){e=new G;e.type=2;e.position.h(-6+1*f,11.25);var k=this.j.l(e);k.k(h)}d=new D;d.D(7,.25,Ya,.3);e=new G;e.position.h(1,6);f=this.j.l(e);f.k(d,0);h=null;d=new D;d.D(.25,1.5);e=new G;e.position.h(-7,4);h=this.j.l(e);h.k(d,0);f=null;d=new D;
d.D(6,.125);e=new G;e.type=2;e.position.h(-.9,1);e.fb=-.15;f=this.j.l(e);f.k(d,10);var k=new Pf,l=new r;l.h(-2,1);k.U(b,f,l);k.pg=!0;this.j.ja(k);e=null;d=new D;d.D(.25,.25);e=new G;e.type=2;e.position.h(-10,15);e=this.j.l(e);e.k(d,10);l.h(-7,15);k.U(h,e,l);this.j.ja(k);var m=null,e=new G;e.type=2;e.position.h(6.5,3);m=this.j.l(e);d=new D;h=new E;h.shape=d;h.fa=10;h.gb=.1;d.D(1,.1,new r(0,-.9),0);m.k(h);d.D(.1,1,new r(-.9,0),0);m.k(h);d.D(.1,1,new r(.9,0),0);m.k(h);l.h(6,2);k.U(b,m,l);this.j.ja(k);
b=null;d=new D;d.D(1,.1);e=new G;e.type=2;e.position.h(6.5,4.1);b=this.j.l(e);b.k(d,30);l.h(7.5,4);k.U(m,b,l);this.j.ja(k);b=null;d=new D;d.D(.1,1);e=new G;e.type=2;e.position.h(7.4,1);b=this.j.l(e);b.k(d,10);d=new Bf;d.Ja=f;d.Fa=b;d.va.h(6,0);d.Da.h(0,-1);b=x(d.Fa.sb(d.Da,new r),d.Ja.sb(d.va,new r),new r);d.length=b.qc();this.j.ja(d);d=new A;d.N=.2;for(f=0;4>f;++f)e=new G,e.type=2,e.position.h(5.9+.4*f,2.4),k=this.j.l(e),k.k(d,10)}q(wl,Y);p("box2d.Testbed.Dominos",wl);
function xl(a,c){return new wl(a,c)}wl.Create=xl;function yl(a,c){function b(a,b,c){var f=new D;f.D(.1,.5);var h=new E;h.shape=f;h.fa=d;f=new G;f.type=2;h.gb=.1;h.dc=.65;f.position.h(a,b);f.fb=c?Math.PI/2:0;e.l(f).k(h)}Y.call(this,a,c);var d,e=this.j;e.ej(new r(0,-10));var f=new D;f.D(50,10);var h=new G;h.position.h(0,-10);e.l(h).k(f,0);d=10;f=new D;f.D(.7,.7);var k=new E;k.fa=35;h=new G;h.type=2;k.shape=f;k.gb=0;k.dc=.85;h.zf=!0;h.position=new r(30,5);f=e.l(h);f.k(k);f.$d(new r(-25,-25));f.Jh(6.7);k.fa=25;h.position=new r(-30,25);f=e.l(h);f.k(k);
f.$d(new r(35,-10));f.Jh(-8.3);for(k=0;25>k;++k)h=1.5*k-18.75,b(h,.5,!1),b(h,1.1,!0);h=18.75;for(f=1;25>f;++f){3<f&&(d*=.8);for(var l=.5+1.386*f,k=0;k<25-f;++k)h=1.5*k-1.5*(25-f)/2,d*=2.5,0==k&&b(h-1.25+.1,l-.2,!1),k==25-f-1&&b(h+1.25-.1,l-.2,!1),d/=2.5,b(h,l,!1),b(h,l+.6,!0),b(h,l-.6,!0)}}q(yl,Y);p("box2d.Testbed.DominoTower",yl);function zl(a,c){return new yl(a,c)}yl.Create=zl;function Al(a,c){Y.call(this,a,c);var b=this.j.l(new G),d=new D,e=[new r(-4,-2),new r(4,-2),new r(4,0),new r(-4,0)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-4,-2),new r(-2,-2),new r(-2,6),new r(-4,6)];d.h(e,4);b.k(d,0);d=new D;e=[new r(2,-2),new r(4,-2),new r(4,6),new r(2,6)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-4,4),new r(4,4),new r(4,6),new r(-4,6)];d.h(e,4);b.k(d,0);this.Qq=0;this.S.Jd(.1);this.Aj=null;this.Om=!0;gk(Bl,Cl);Dl.tk=!1;this.Vb=yk();this.Eb=0}q(Al,Y);p("box2d.Testbed.DrawingParticles",Al);
g=Al.prototype;g.Aj=null;g.Om=!0;g.Vb=0;g.Eb=0;g.Qq=0;var Bl=[new gg(hg),new gg([new fg(2,6,"erase"),new fg(-2147483647,6,"move"),new fg(-2147483646,6,"rigid"),new fg(-2147483644,6,"rigid barrier"),new fg(-2147483640,6,"elastic barrier"),new fg(-2147483632,6,"spring barrier"),new fg(-2147483616,6,"repulsive wall")])],Cl=Bl.length;
Al.prototype.qa=function(a){this.Om=a!==El;this.Eb=this.Vb=0;switch(a){case Uk:this.Vb=16;this.Eb=1;break;case Fl:this.Vb=64;break;case Gl:this.Eb=3;break;case Ek:this.Vb=8;this.Eb=1;break;case Hl:this.Vb=128;break;case Il:this.Vb=32;break;case ul:this.Vb=4;this.Eb=1;break;case Jl:this.Vb=1028;break;case Kl:this.Vb=1024;this.Eb=2;break;case Ll:this.Vb=1040;this.Eb=1;break;case Ml:this.Vb=1032;this.Eb=1;break;case Nl:this.Vb=8196;break;case gl:this.Vb=256;break;case Ol:this.Vb=2}Pl(this.Om?3===this.Eb?
-2147483646:2===this.Eb&&1024===this.Vb?-2147483644:1040===this.Vb?-2147483640:1032===this.Vb?-2147483632:8196===this.Vb?-2147483616:this.Vb:-2147483647)};Al.prototype.Keyboard=Al.prototype.qa;
Al.prototype.Pe=function(a){Y.prototype.Pe.call(this,a);if(this.Om){var c=new A;c.La.e(a);c.N=.2;this.S.Yi(c,Wb);this.Aj&&this.Eb===this.Aj.Eb||(this.Qq=(this.Qq+1)%fk);a=new zg;a.shape=c;a.Ea=this.Vb;if(this.Vb&28||1028===this.Vb)a.Ea|=4096;a.qi=this.Eb;a.color.e(Fj[this.Qq]);a.group=this.Aj;this.Aj=this.S.jd(a);this.Xm=!1}};Al.prototype.MouseMove=Al.prototype.Pe;Al.prototype.Tc=function(a){Y.prototype.Tc.call(this,a);this.Aj=null};Al.prototype.MouseUp=Al.prototype.Tc;
Al.prototype.ff=function(a){Y.prototype.ff.call(this,a);a===this.Aj&&(this.Aj=null)};Al.prototype.ParticleGroupDestroyed=Al.prototype.ff;
Al.prototype.o=function(a){var c=yk();if(this.Om=-2147483647!==(c&-2147483647))switch(c){case 16:case 8:case 4:this.Vb=c;this.Eb=1;break;case -2147483646:this.Vb=0;this.Eb=3;break;case -2147483644:this.Vb=1024;this.Eb=2;break;case -2147483640:this.Vb=1040;this.Eb=0;break;case -2147483632:this.Vb=1032;this.Eb=0;break;case -2147483616:this.Vb=8196;this.Eb=1;break;default:this.Vb=c,this.Eb=0}if(this.S.Nn()&2)for(c=this.S.of;c;c=c.vd())c!==this.Aj&&c.Eb&2&&c.Nn()&2&&this.S.bx(c);Y.prototype.o.call(this,
a);this.H.ua(5,this.m,"Keys: (L) liquid, (E) elastic, (S) spring");this.m+=25;this.H.ua(5,this.m,"(R) rigid, (W) wall, (V) viscous, (T) tensile");this.m+=25;this.H.ua(5,this.m,"(F) repulsive wall, (B) wall barrier");this.m+=25;this.H.ua(5,this.m,"(H) rigid barrier, (N) elastic barrier, (M) spring barrier");this.m+=25;this.H.ua(5,this.m,"(C) color mixing, (Z) erase, (X) move");this.m+=25};Al.prototype.Step=Al.prototype.o;Al.prototype.Ib=function(){return.1};Al.prototype.GetDefaultViewZoom=Al.prototype.Ib;
function Ql(a,c){return new Al(a,c)}Al.Create=Ql;function Rl(a,c){Y.call(this,a,c);this.j.ej(new r(0,0));var b=Array(4),d=Array(2),e=new G;e.type=0;e.position.h(0,0);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=0;e.mg=0;e.xe=!0;e.$k=!0;e.Uf=!1;e.zf=!1;e.Cm=!0;e.Vf=1;b[0]=this.j.l(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.vi=!1;e.filter.Af=1;e.filter.Kf=65535;e.filter.Ld=0;var f=new C;f.N=.009999999776483;f.Ge.h(0,0);f.Kc.h(0,0);f.Qc.h(44.5217399597168,0);f.He.h(0,0);f.Ue=!1;f.Ve=!1;e.shape=f;b[0].k(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.vi=!1;e.filter.Af=1;e.filter.Kf=
65535;e.filter.Ld=0;f=new C;f.N=.009999999776483;f.Ge.h(0,0);f.Kc.h(0,16.69565200805664);f.Qc.h(44.5217399597168,16.69565200805664);f.He.h(0,0);f.Ue=!1;f.Ve=!1;e.shape=f;b[0].k(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.vi=!1;e.filter.Af=1;e.filter.Kf=65535;e.filter.Ld=0;f=new C;f.N=.009999999776483;f.Ge.h(0,0);f.Kc.h(0,16.69565200805664);f.Qc.h(0,0);f.He.h(0,0);f.Ue=!1;f.Ve=!1;e.shape=f;b[0].k(e);e=new E;e.gb=10;e.dc=0;e.fa=0;e.vi=!1;e.filter.Af=1;e.filter.Kf=65535;e.filter.Ld=0;f=new C;f.N=.009999999776483;
f.Ge.h(0,0);f.Kc.h(44.5217399597168,16.69565200805664);f.Qc.h(44.5217399597168,0);f.He.h(0,0);f.Ue=!1;f.Ve=!1;e.shape=f;b[0].k(e);e=new G;e.type=2;e.position.h(.847826063632965,2.5);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=.5;e.mg=.5;e.xe=!0;e.$k=!0;e.Uf=!1;e.zf=!1;e.Cm=!0;e.Vf=1;b[1]=this.j.l(e);e=new E;e.gb=1;e.dc=.5;e.fa=10;e.vi=!1;e.filter.Af=1;e.filter.Kf=65535;e.filter.Ld=0;var f=new D,h=gb(8);h[0].h(6.907599925994873,.327199995517731);h[1].h(-.322800010442734,.282599985599518);h[2].h(-.322800010442734,
-.295700013637543);h[3].h(6.885900020599365,-.364100009202957);f.h(h,4);e.shape=f;b[1].k(e);e=new G;e.type=2;e.position.h(13.04347801208496,2.5);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=.5;e.mg=.5;e.xe=!0;e.$k=!0;e.Uf=!1;e.zf=!1;e.Cm=!0;e.Vf=1;b[2]=this.j.l(e);e=new E;e.gb=1;e.dc=.5;e.fa=10;e.vi=!1;e.filter.Af=1;e.filter.Kf=65535;e.filter.Ld=0;f=new D;h=gb(8);h[0].h(.200000002980232,-.300000011920929);h[1].h(.200000002980232,.200000002980232);h[2].h(-6.900000095367432,.200000002980232);h[3].h(-6.900000095367432,
-.300000011920929);f.h(h,4);e.shape=f;b[2].k(e);e=new G;e.type=0;e.position.h(0,0);e.fb=0;e.ih.h(0,0);e.hh=0;e.Wj=0;e.mg=0;e.xe=!0;e.$k=!0;e.Uf=!1;e.zf=!1;e.Cm=!0;e.Vf=1;b[3]=this.j.l(e);e=new Pf;e.Ja=b[1];e.Fa=b[0];e.pg=!1;e.va.h(0,0);e.Da.h(.847826063632965,2.5);e.vf=0;e.hf=!1;e.ye=0;e.Ie=0;e.yd=!1;e.ie=0;e.Mf=0;d[0]=this.j.ja(e);e=new Of;e.Ja=b[1];e.Fa=b[2];e.pg=!1;e.va.h(0,0);e.Da.h(-12.19565200805664,0);e.Gg.h(-1,0);e.vf=0;e.hf=!0;e.gl=-20;e.nm=0;e.yd=!0;e.ie=0;e.rn=10;d[1]=this.j.ja(e)}
q(Rl,Y);p("box2d.Testbed.DumpShell",Rl);function Sl(a,c){return new Rl(a,c)}Rl.Create=Sl;function Tl(){this.sa=new Jc}p("box2d.Testbed.Actor",Tl);Tl.prototype.sa=null;Tl.prototype.aabb=Tl.prototype.sa;Tl.prototype.ce=0;Tl.prototype.fraction=Tl.prototype.ce;Tl.prototype.kp=!1;Tl.prototype.overlap=Tl.prototype.kp;Tl.prototype.ei=null;Tl.prototype.proxyId=Tl.prototype.ei;
function Ul(a,c){Y.call(this,a,c);this.Bc=new qd;this.Ll=new Jc;this.Qg=new Hc;this.Lu=new Ic;this.kh=Array(128);for(var b=0;128>b;++b)this.kh[b]=new Tl;this.Jj=15;this.xr=.5;for(b=0;128>b;++b){var d=this.kh[b];this.Ss(d.sa);d.ei=this.Bc.ah(d.sa,d)}this.wg=0;b=this.Jj;this.Ll.lowerBound.h(-3,-4+b);this.Ll.upperBound.h(5,6+b);this.Qg.rd.h(-5,5+b);this.Qg.ve.h(7,-4+b);this.Qg.Lf=1;this.Ao=!1}q(Ul,Y);p("box2d.Testbed.DynamicTreeTest",Ul);Ul.e_actorCount=128;Ul.prototype.Jj=0;
Ul.prototype.m_worldExtent=Ul.prototype.Jj;Ul.prototype.xr=0;Ul.prototype.m_proxyExtent=Ul.prototype.xr;Ul.prototype.Bc=null;Ul.prototype.m_tree=Ul.prototype.Bc;Ul.prototype.Ll=null;Ul.prototype.m_queryAABB=Ul.prototype.Ll;Ul.prototype.Qg=null;Ul.prototype.m_rayCastInput=Ul.prototype.Qg;Ul.prototype.Lu=null;Ul.prototype.m_rayCastOutput=Ul.prototype.Lu;Ul.prototype.gB=null;Ul.prototype.m_actor=Ul.prototype.gB;Ul.prototype.kh=null;Ul.prototype.m_actors=Ul.prototype.kh;Ul.prototype.wg=0;
Ul.prototype.m_stepCount=Ul.prototype.wg;Ul.prototype.Ao=!1;Ul.prototype.m_automated=Ul.prototype.Ao;
Ul.prototype.o=function(a){Y.prototype.o.call(this,a);this.Ml=null;for(a=0;128>a;++a)this.kh[a].ce=1,this.kh[a].kp=!1;if(this.Ao){var c=Ja(1,32);for(a=0;a<c;++a)this.vv()}this.eh();this.Aa();for(a=0;128>a;++a)if(c=this.kh[a],null!==c.ei){var b=new xa(.9,.9,.9);c===this.Ml&&c.kp?b.kg(.9,.6,.6):c===this.Ml?b.kg(.6,.9,.6):c.kp&&b.kg(.6,.6,.9);this.H.xs(c.sa,b)}b=new xa(.7,.7,.7);this.H.xs(this.Ll,b);this.H.oc(this.Qg.rd,this.Qg.ve,b);a=new xa(.9,.2,.2);this.H.Le(this.Qg.rd,6,new xa(.2,.9,.2));this.H.Le(this.Qg.ve,
6,a);this.Ml&&(a=new xa(.2,.2,.9),c=pb(this.Qg.rd,qb(this.Ml.ce,x(this.Qg.ve,this.Qg.rd,new r),new r),new r),this.H.Le(c,6,a));this.H.ua(5,this.m,"dynamic tree height = %d",this.Bc.Js());this.m+=25;++this.wg};Ul.prototype.Step=Ul.prototype.o;Ul.prototype.qa=function(a){switch(a){case Sk:this.Ao=!this.Ao;break;case gl:this.ah();break;case Dk:this.ii();break;case Ml:this.mi()}};Ul.prototype.Keyboard=Ul.prototype.qa;
Ul.prototype.Ss=function(a){var c=new r;c.h(2*this.xr,2*this.xr);a.lowerBound.x=Xa(-this.Jj,this.Jj);a.lowerBound.y=Xa(0,2*this.Jj);a.upperBound.e(a.lowerBound);a.upperBound.Qa(c)};Ul.prototype.GetRandomAABB=Ul.prototype.Ss;Ul.prototype.yw=function(a){var c=new r;c.x=Xa(-.5,.5);c.y=Xa(-.5,.5);a.lowerBound.Qa(c);a.upperBound.Qa(c);var c=qb(.5,pb(a.lowerBound,a.upperBound,u),new r),b=kb(c,new r(-this.Jj,0),new r(this.Jj,2*this.Jj),new r);a.lowerBound.Qa(x(b,c,new r));a.upperBound.Qa(x(b,c,new r))};
Ul.prototype.MoveAABB=Ul.prototype.yw;Ul.prototype.ah=function(){for(var a=0;128>a;++a){var c=this.kh[0|Xa(0,128)];if(null===c.ei){this.Ss(c.sa);c.ei=this.Bc.ah(c.sa,c);break}}};Ul.prototype.CreateProxy=Ul.prototype.ah;Ul.prototype.ii=function(){for(var a=0;128>a;++a){var c=this.kh[0|Xa(0,128)];if(null!==c.ei){this.Bc.ii(c.ei);c.ei=null;break}}};Ul.prototype.DestroyProxy=Ul.prototype.ii;
Ul.prototype.mi=function(){for(var a=0;128>a;++a){var c=this.kh[0|Xa(0,128)];if(null!==c.ei){a=new Jc;a.e(c.sa);this.yw(c.sa);a=x(c.sa.Zi(),a.Zi(),new r);this.Bc.mi(c.ei,c.sa,a);break}}};Ul.prototype.MoveProxy=Ul.prototype.mi;Ul.prototype.vv=function(){switch(0|Xa(0,20)){case 0:this.ah();break;case 1:this.ii();break;default:this.mi()}};Ul.prototype.Action=Ul.prototype.vv;
Ul.prototype.eh=function(){var a=this;this.Bc.eh(function(b){b=a.Bc.ec(b);b.kp=Kc(a.Ll,b.sa);return!0},this.Ll);for(var c=0;128>c;++c);};Ul.prototype.Query=Ul.prototype.eh;Ul.prototype.Aa=function(){var a=this;this.Ml=null;var c=new Hc;c.e(this.Qg);this.Bc.Aa(function(b,c){var d=a.Bc.ec(c),k=new Ic;return d.sa.Aa(k,b)?(a.Lu=k,a.Ml=d,a.Ml.ce=k.ce):b.Lf},c);for(var b=0;128>b;++b)if(null!==this.kh[b].ei){var d=new Ic;this.kh[b].sa.Aa(d,c)&&(c.Lf=d.ce)}};Ul.prototype.RayCast=Ul.prototype.Aa;
function Vl(a,c){return new Ul(a,c)}Ul.Create=Vl;function Wl(){this.fd=new r;this.Mb=new r}q(Wl,ve);p("box2d.Testbed.EdgeShapesCallback",Wl);Wl.prototype.ql=null;Wl.prototype.m_fixture=Wl.prototype.ql;Wl.prototype.fd=null;Wl.prototype.m_point=Wl.prototype.fd;Wl.prototype.Mb=null;Wl.prototype.m_normal=Wl.prototype.Mb;Wl.prototype.Zd=function(a,c,b,d){this.ql=a;this.fd.e(c);this.Mb.e(b);return d};Wl.prototype.ReportFixture=Wl.prototype.Zd;
function Xl(a,c){Y.call(this,a,c);this.Yc=0;this.Q=Array(256);this.Cd=Array(4);for(var b=0;4>b;++b)this.Cd[b]=new D;this.de=new A;this.Sd=0;for(var d=this.j.l(new G),e=-20,f=2*Sa(e/10*fa),b=0;80>b;++b){var h=e+.5,k=2*Sa(h/10*fa),l=new C;l.Ca(new r(e,f),new r(h,k));d.k(l,0);e=h;f=k}b=Array(3);b[0]=new r(-.5,0);b[1]=new r(.5,0);b[2]=new r(0,1.5);this.Cd[0].h(b,3);b=Array(3);b[0]=new r(-.1,0);b[1]=new r(.1,0);b[2]=new r(0,1.5);this.Cd[1].h(b,3);d=1/(2+Qa(2));e=Qa(2)*d;b=Array(8);b[0]=new r(.5*e,0);b[1]=
new r(.5,d);b[2]=new r(.5,d+e);b[3]=new r(.5*e,1);b[4]=new r(-.5*e,1);b[5]=new r(-.5,d+e);b[6]=new r(-.5,d);b[7]=new r(-.5*e,0);this.Cd[2].h(b,8);this.Cd[3].D(.5,.5);this.de.N=.5;for(b=0;256>b;++b)this.Q[b]=null}q(Xl,Y);p("box2d.Testbed.EdgeShapes",Xl);Xl.e_maxBodies=256;Xl.prototype.Yc=0;Xl.prototype.m_bodyIndex=Xl.prototype.Yc;Xl.prototype.Q=null;Xl.prototype.m_bodies=Xl.prototype.Q;Xl.prototype.Cd=null;Xl.prototype.m_polygons=Xl.prototype.Cd;Xl.prototype.de=null;Xl.prototype.m_circle=Xl.prototype.de;
Xl.prototype.Sd=0;Xl.prototype.m_angle=Xl.prototype.Sd;Xl.prototype.l=function(a){null!==this.Q[this.Yc]&&(this.j.td(this.Q[this.Yc]),this.Q[this.Yc]=null);var c=new G;c.position.h(Xa(-10,10),Xa(10,20));c.fb=Xa(-fa,fa);c.type=2;4===a&&(c.mg=.02);this.Q[this.Yc]=this.j.l(c);4>a?(c=new E,c.shape=this.Cd[a]):(c=new E,c.shape=this.de);c.gb=.3;c.fa=20;this.Q[this.Yc].k(c);this.Yc=(this.Yc+1)%256};Xl.prototype.CreateBody=Xl.prototype.l;
Xl.prototype.td=function(){for(var a=0;256>a;++a)if(null!==this.Q[a]){this.j.td(this.Q[a]);this.Q[a]=null;break}};Xl.prototype.DestroyBody=Xl.prototype.td;Xl.prototype.qa=function(a){switch(a){case Yl:case Zl:case $l:case am:case bm:this.l(a-Yl);break;case Dk:this.td()}};Xl.prototype.Keyboard=Xl.prototype.qa;
Xl.prototype.o=function(a){var c=!a.pause||a.jm;Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press 1-5 to drop stuff, m to change the mode");this.m+=25;a=new r(0,10);var b=new r(25*Sa(this.Sd),-25*ra(Ta(this.Sd))),d=pb(a,b,new r),b=new Wl;this.j.Aa(b,a,d);b.ql?(this.H.Le(b.fd,5,new xa(.4,.9,.4)),this.H.oc(a,b.fd,new xa(.8,.8,.8)),a=pb(b.fd,qb(.5,b.Mb,u),new r),this.H.oc(b.fd,a,new xa(.9,.9,.4))):this.H.oc(a,d,new xa(.8,.8,.8));c&&(this.Sd+=.25*fa/180)};Xl.prototype.Step=Xl.prototype.o;
function cm(a,c){return new Xl(a,c)}Xl.Create=cm;function En(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),e=new r(-10,0),f=new r(-7,-2),h=new r(-4,0),k=new r(0,0),l=new r(4,0),m=new r(7,2),n=new r(10,0),b=new C;b.Ca(e,f);b.Ve=!0;b.He.e(h);d.k(b,0);b.Ca(f,h);b.Ue=!0;b.Ve=!0;b.Ge.e(e);b.He.e(k);d.k(b,0);b.Ca(h,k);b.Ue=!0;b.Ve=!0;b.Ge.e(f);b.He.e(l);d.k(b,0);b.Ca(k,l);b.Ue=!0;b.Ve=!0;b.Ge.e(h);b.He.e(m);d.k(b,0);b.Ca(l,m);b.Ue=!0;b.Ve=!0;b.Ge.e(k);b.He.e(n);d.k(b,0);b.Ca(m,n);b.Ue=!0;b.Ge.e(l);d.k(b,0);b=new G;b.type=2;b.position.h(-.5,.6);b.xe=
!1;d=this.j.l(b);b=new A;b.N=.5;d.k(b,1);b=new G;b.type=2;b.position.h(1,.6);b.xe=!1;d=this.j.l(b);b=new D;b.D(.5,.5);d.k(b,1)}q(En,Y);p("box2d.Testbed.EdgeTest",En);function Fn(a,c){return new En(a,c)}En.Create=Fn;function Gn(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,2)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,2),new r(2,2)];b.h(e,4);d.k(b,0);this.S.Jd(.035*3);b=new A;b.La.h(0,3);b.N=.5;d=new zg;d.Ea=8;d.qi=1;d.shape=b;d.color.h(255,0,0,255);this.S.jd(d);b=new A;b.La.h(-1,3);b.N=.5;d=new zg;d.Ea=16;d.qi=1;d.shape=b;d.color.h(0,255,0,255);this.S.jd(d);
b=new D;b.D(1,.5);d=new zg;d.Ea=16;d.qi=1;d.position.h(1,4);d.fb=-.5;d.hh=2;d.shape=b;d.color.h(0,0,255,255);this.S.jd(d);b=new G;b.type=2;d=this.j.l(b);b=new A;b.La.h(0,8);b.N=.5;d.k(b,.5)}q(Gn,Y);p("box2d.Testbed.ElasticParticles",Gn);Gn.prototype.Ib=function(){return.1};Gn.prototype.GetDefaultViewZoom=Gn.prototype.Ib;function Hn(a,c){return new Gn(a,c)}Gn.Create=Hn;function In(a,c){Y.call(this,a,c)}q(In,Y);p("box2d.Testbed.Empty",In);In.prototype.yf=function(a){Y.prototype.yf.call(this,a)};In.prototype.JointDestroyed=In.prototype.yf;In.prototype.ff=function(a){Y.prototype.ff.call(this,a)};In.prototype.ParticleGroupDestroyed=In.prototype.ff;In.prototype.Qd=function(a){Y.prototype.Qd.call(this,a)};In.prototype.BeginContact=In.prototype.Qd;In.prototype.Xd=function(a){Y.prototype.Xd.call(this,a)};In.prototype.EndContact=In.prototype.Xd;
In.prototype.Mc=function(a,c){Y.prototype.Mc.call(this,a,c)};In.prototype.PreSolve=In.prototype.Mc;In.prototype.Qe=function(a,c){Y.prototype.Qe.call(this,a,c)};In.prototype.PostSolve=In.prototype.Qe;In.prototype.qa=function(a){Y.prototype.qa.call(this,a)};In.prototype.Keyboard=In.prototype.qa;In.prototype.we=function(a){Y.prototype.we.call(this,a)};In.prototype.KeyboardUp=In.prototype.we;In.prototype.Oe=function(a){Y.prototype.Oe.call(this,a)};In.prototype.MouseDown=In.prototype.Oe;
In.prototype.Tc=function(a){Y.prototype.Tc.call(this,a)};In.prototype.MouseUp=In.prototype.Tc;In.prototype.Pe=function(a){Y.prototype.Pe.call(this,a)};In.prototype.MouseMove=In.prototype.Pe;In.prototype.o=function(a){Y.prototype.o.call(this,a)};In.prototype.Step=In.prototype.o;In.prototype.Ib=function(){return Y.prototype.Ib.call(this)};In.prototype.GetDefaultViewZoom=In.prototype.Ib;In.Create=function(a,c){return new In(a,c)};function Jn(a,c){Y.call(this,a,c);this.S.ni(.2);this.S.Jd(.6);this.S.Am(.4);this.S.zm(1.2);var b=this.j.l(new G),d=new G;d.type=0;d.xe=!1;d.position.h(0,0);var e=this.j.l(d),f=new D;f.D(.5,10,new r(20,0),0);e.k(f,5);f.D(.5,10,new r(-20,0),0);e.k(f,5);f.D(.5,20,new r(0,10),Math.PI/2);e.k(f,5);f.D(.5,20,new r(0,-10),Math.PI/2);e.k(f,5);d.type=2;d.position.h(0,0);this.Mx=this.j.l(d);f.D(1,5,new r(0,2),0);this.Mx.k(f,5);d=new Pf;d.Ja=b;d.Fa=this.Mx;d.va.h(0,0);d.Da.h(0,5);d.vf=0;d.ie=0;d.Mf=1E7;d.yd=
!0;this.tc=this.j.ja(d);b=new zg;b.Ea=0;d=new D;d.D(9,9,new r(0,0),0);b.shape=d;this.S.jd(b)}q(Jn,Y);p("box2d.Testbed.EyeCandy",Jn);Jn.prototype.yf=function(a){Y.prototype.yf.call(this,a)};Jn.prototype.JointDestroyed=Jn.prototype.yf;Jn.prototype.ff=function(a){Y.prototype.ff.call(this,a)};Jn.prototype.ParticleGroupDestroyed=Jn.prototype.ff;Jn.prototype.Qd=function(a){Y.prototype.Qd.call(this,a)};Jn.prototype.BeginContact=Jn.prototype.Qd;Jn.prototype.Xd=function(a){Y.prototype.Xd.call(this,a)};
Jn.prototype.EndContact=Jn.prototype.Xd;Jn.prototype.Mc=function(a,c){Y.prototype.Mc.call(this,a,c)};Jn.prototype.PreSolve=Jn.prototype.Mc;Jn.prototype.Qe=function(a,c){Y.prototype.Qe.call(this,a,c)};Jn.prototype.PostSolve=Jn.prototype.Qe;Jn.prototype.qa=function(a){Y.prototype.qa.call(this,a)};Jn.prototype.Keyboard=Jn.prototype.qa;Jn.prototype.we=function(a){Y.prototype.we.call(this,a)};Jn.prototype.KeyboardUp=Jn.prototype.we;Jn.prototype.Oe=function(a){Y.prototype.Oe.call(this,a)};
Jn.prototype.MouseDown=Jn.prototype.Oe;Jn.prototype.Tc=function(a){Y.prototype.Tc.call(this,a)};Jn.prototype.MouseUp=Jn.prototype.Tc;Jn.prototype.Pe=function(a){Y.prototype.Pe.call(this,a)};Jn.prototype.MouseMove=Jn.prototype.Pe;Jn.prototype.o=function(a){this.tc.Re(.7*Math.cos((new Date).getTime()/1E3));Y.prototype.o.call(this,a)};Jn.prototype.Step=Jn.prototype.o;Jn.prototype.Ib=function(){return Y.prototype.Ib.call(this)};Jn.prototype.GetDefaultViewZoom=Jn.prototype.Ib;
function Kn(a,c){return new Jn(a,c)}Jn.Create=Kn;function Ln(a,c){Y.call(this,a,c);this.nf=new Ri;this.kB=new Mn(30,50);this.S.Jd(.035);this.S.lo(1E3);this.S.bq(!0);var b=null,b=this.j.l(new G),d=new D,e=.25;d.D(.95,.05,new r(0,0),0);b.k(d,0);d.D(.05,e,new r(-1,.2),0);b.k(d,0);d.D(.05,e,new r(1,.2),0);b.k(d,0);d=new D;d.D(5,.05,new r(0,-.1),0);b.k(d,0);var d=new D,f=2*this.S.vm(),h=4*f,k=.1*1.1,e=3+.5*h;d.D(f,h,new r(-k,e),0);b.k(d,0);d.D(f,h,new r(k,e),0);b.k(d,0);d.D(k-f,f,new r(0,e+h-f),0);b.k(d,0);b=4*this.S.vm();this.nf.S=this.S;this.nf.Xt=
this.kB;this.nf.gj(new r(.1,3+.5*b));this.nf.Yo.e(new r(0,0));this.nf.wl.e(new r(0,b)).Ia(.5);this.nf.dj(new Yf(255,255,255,255));this.nf.rj=120;this.nf.fj(yk());Dl.tk=!1;gk(Nn,On)}q(Ln,Y);p("box2d.Testbed.Faucet",Ln);Ln.prototype.$m=0;var Nn=[new gg([new fg(0,6,"water"),new fg(0,7,"water (strict)"),new fg(32,6,"viscous"),new fg(64,6,"powder"),new fg(128,6,"tensile"),new fg(256,6,"color mixing"),new fg(2048,6,"static pressure")])],On=Nn.length;
Ln.prototype.o=function(a){var c=1/a.oe;Y.prototype.o.call(this,a);this.$m+=c;this.$m>=fk&&(this.$m-=fk);this.nf.fj(yk());this.nf.Rs()&256?this.nf.dj(Fj[Math.floor(this.$m)%fk]):this.nf.dj(new Yf(255,255,255,255));this.nf.o(c);a=["Keys: (w) water, (q) powder","      (t) tensile, (v) viscous","      (c) color mixing, (s) static pressure","      (+) increase flow, (-) decrease flow"];for(c=0;c<a.length;++c)this.H.ua(5,this.m,a[c]),this.m+=25};Ln.prototype.Step=Ln.prototype.o;
Ln.prototype.qa=function(a){var c=0;switch(a){case ul:c=0;break;case Tk:c=64;break;case Hl:c=128;break;case Il:c=32;break;case gl:c=256;break;case Ek:c=2048;break;case Pn:a=this.nf.rj;a=Ja(1.05*a,1);this.nf.rj=a;break;case Qn:a=this.nf.rj;a*=1/1.05;a=Ia(a,240);this.nf.rj=a;break;default:return}Pl(c)};Ln.prototype.Keyboard=Ln.prototype.qa;Ln.prototype.Ib=function(){return.1};Ln.prototype.GetDefaultViewZoom=Ln.prototype.Ib;function Mn(a,c){this.yu=a;this.Kx=c}q(Mn,Qi);Mn.prototype.yu=0;
Mn.prototype.Kx=0;Mn.prototype.zw=function(a,c){a.dq(c,Math.random()*(this.Kx-this.yu)+this.yu)};function Rn(a,c){return new Ln(a,c)}Ln.Create=Rn;function Sn(){this.zi=[]}Sn.prototype.zi=null;Sn.prototype.Yk=function(){for(var a=0;a<this.zi.length;++a)this.zi[a].Pt.Yk()};Sn.prototype.Fn=function(a,c){this.zi.push({Pt:a,wi:c})};Sn.prototype.o=function(a){for(var c=[],b=0;b<this.zi.length;++b){var d=this.zi[b].Pt,e=this.zi[b].wi-a;0>=e&&c.push(d);this.zi[b].wi=e;d.o(a)}for(b=0;b<c.length;++b)d=c[b],d.Yk(),this.zi=this.zi.filter(function(a){return a.Pt!==d})};function Tn(){this.Il=[]}q(Tn,ke);Tn.prototype.Il=null;
Tn.prototype.ho=function(a){this.Il.splice(this.Il.indexOf(a),1)};var Un=.2*12,Vn=new xa(1,1,1),Wn=new xa(1,.5,.5),Xn=new xa(.5,.5,.5),Yn=new Yf(new xa(1,0,0)),Zn=new Yf(new xa(0,.2,1)),$n=new Yf(new xa(.8,.4,0)),ao=.2*.2;function bo(a,c){Y.call(this,a,c);this.Xk()}q(bo,Y);p("box2d.Testbed.Fracker",bo);function co(){this.Il=[];this.Xk()}q(co,Tn);g=co.prototype;g.Ql=0;g.Ro=0;g.j=null;g.oB=null;g.Xk=function(){};g.Yk=function(){this.j&&this.j.Qk(this.oB)};g.U=function(a){this.j=a;this.j.Qk(this)};
g.pt=function(a,c){var b=a.Xs()[c];if(b)switch(b){case 3:this.Ql+=1;this.Ro+=-1;break;case 4:this.Ql+=-1}};g=bo.prototype;g.Fi=null;g.ep=18;g.Pr=15;g.Qu=2;g.Ou=null;g.xo=!1;g.vj=-1;g.Uh=null;g.Q=null;g.ag=null;
g.Xk=function(){this.Ou=new Sn;this.Uh=[];this.Q=[];this.ag=new co;this.ag.U(this.j);this.S.Jd(ao);for(var a=0;384>a;++a)this.Uh[a]=0,this.Q[a]=null;var a=this.j.l(new G),c=new Fd,b=new r,d=new r;b.h(0-Un,2-1.6);d.h(0+Un,3.6);c.hi([new r(b.x,b.y),new r(d.x,b.y),new r(d.x,d.y),new r(b.x,d.y)],4);a.k(c,0);for(a=this.Qu;a<=this.Pr;a++)this.Uh[this.ep+24*a]=5;for(a=0;24>a;a++)for(c=0;16>c;c++)if(0===this.Uh[a+24*c])if(b=100*Math.random(),80>b||0===c){var b=a,d=c,e=eo(b,d),f=this.j.l(new G),h=new D;h.D(.1,
.1,fo(e),0);f.k(h,.1);var e=b,h=d,k=this.Q[e+24*h];k&&this.j.td(k);this.Q[e+24*h]=f;this.Uh[b+24*d]=1}else 90>b?this.Uh[a+24*c]=0:97>b?go(this,a,c,3):go(this,a,c,4);a=new G;a.type=1;this.Fi=this.j.l(a);a=new D;a.D(.1,.1,new r(.1,.1),0);this.Fi.k(a,.1);this.Fi.Et(eo(12,8),0)};g.Yk=function(){this.ag.Yk()};g.Ob=function(a,c){return this.Q[a+24*c]};
function go(a,c,b,d){var e=eo(c,b),f=new D;a.Uh[c+24*b]=d;f.D(.1,.1,fo(e),0);e=new zg;e.Ea=672;e.shape=f;e.color.e(3===d?Yn:Zn);var h=a.S.jd(e);a.ag.Il.push(h);for(var f=h.Sc(),e=a.S.Xs(),h=h.Lb,k=0;k<f;++k)e[h+k]=a.Uh[c+24*b];3===d&&(a=a.ag,a.Ro+=f)}function ho(a,c,b){var d=a.Fi.Wb().ta,e=[0],f=[0];io(d,e,f);c=Ka(c,0,23);b=Ka(b,0,15);5===a.Uh[c+24*b]||e[0]===c&&f[0]===b||(jo(a),a.Fi.Et(eo(c,b),0))}
function jo(a){var c=!1,b=a.Fi.Wb().ta;if(1<a.vj){c=new zg;c=a.S.jd(c);a.ag.Il.push(c);var d=new Ri;Si(d,c);d.S=a.S;d.gj(fo(b));d.Yo.e(new r(0,-.1));d.wh=.1*.1;d.wl.e(new r(.1,.1)).Ia(.5);d.rj=20;d.dj($n);d.fj(160);a.Ou.Fn(d,5);b=a.ag;b.Ql+=-10;c=!0}a.vj=-1;return c}g.yf=function(a){Y.prototype.yf.call(this,a)};bo.prototype.JointDestroyed=bo.prototype.yf;bo.prototype.ff=function(a){Y.prototype.ff.call(this,a)};bo.prototype.ParticleGroupDestroyed=bo.prototype.ff;
bo.prototype.Qd=function(a){Y.prototype.Qd.call(this,a)};bo.prototype.BeginContact=bo.prototype.Qd;bo.prototype.Xd=function(a){Y.prototype.Xd.call(this,a)};bo.prototype.EndContact=bo.prototype.Xd;bo.prototype.Mc=function(a,c){Y.prototype.Mc.call(this,a,c)};bo.prototype.PreSolve=bo.prototype.Mc;bo.prototype.Qe=function(a,c){Y.prototype.Qe.call(this,a,c)};bo.prototype.PostSolve=bo.prototype.Qe;
bo.prototype.qa=function(a){if(this.xo){var c=this.Fi.Wb().ta,b=[0],d=[0];io(c,b,d);switch(a){case Sk:b[0]--;break;case Ek:d[0]--;break;case Dk:b[0]++;break;case ul:d[0]++;break;case Uk:0>this.vj?this.vj=0:jo(this);break;default:Y.prototype.qa.call(this,a)}ho(this,b[0],d[0]);this.xo=!1}};bo.prototype.Keyboard=bo.prototype.qa;bo.prototype.we=function(a){Y.prototype.we.call(this,a)};bo.prototype.KeyboardUp=bo.prototype.we;bo.prototype.Oe=function(a){Y.prototype.Oe.call(this,a);this.vj=0};
bo.prototype.MouseDown=bo.prototype.Oe;bo.prototype.Tc=function(a){Y.prototype.Tc.call(this,a);if(this.xo){if(!jo(this)){var c=this.Fi.Wb().ta,b=[0],d=[0];io(c,b,d);a=x(a,fo(c),new r);var c=Math.abs(a.x),e=Math.abs(a.y);c>e&&.1<=c?b[0]+=0<a.x?1:-1:.1<=e&&(d[0]+=0<a.y?1:-1);ho(this,b[0],d[0])}this.xo=!1}};bo.prototype.MouseUp=bo.prototype.Tc;bo.prototype.Pe=function(a){Y.prototype.Pe.call(this,a)};bo.prototype.MouseMove=bo.prototype.Pe;
bo.prototype.o=function(a){Y.prototype.o.call(this,a);a=1/a.oe;this.Ou.o(a);this.xo=!0;0<=this.vj&&(this.vj+=a);var c=this.Fi.Wb().ta,b=[0];a=[0];io(c,b,a);1===this.Uh[b[0]+24*a[0]]&&(this.Uh[b[0]+24*a[0]]=0,c=b[0],a=a[0],(b=this.Q[c+24*a])&&this.j.td(b),this.Q[c+24*a]=null);var d=this.ep,c=this.Pr,b=this.ep,e=this.Pr;a=new D;b=b-d+1;e=e-c+1;d+=b/2;c+=e/2;a.D(.1*b,.1*e);b=new Vb;b.h(fo(eo(d,c)),0);this.S.Yi(a,b);a=this.ag.Il;for(c=0;c<a.length;++c)for(var f=a[c],b=f.Lb,d=this.S.Qb.data,e=this.S.Hb.data,
f=f.Sc(),h=0;h<f;++h){var k=fo(eo(this.ep,this.Qu-2)),l=d[b+h],m=x(l,k,new r),n=Math.abs(m.x);.2>n&&-.4<m.y&&0>m.y?(k=x(k,l,new r),k.ic(),e[b+h].e(k.Ia(.2))):.1>=n&&0<m.y&&(k=new r(.1*Math.random()-m.x,.2),k.ic(),e[b+h].e(k.Ia(1)))}a=this.Fi.Wb().ta;c=Ja(this.vj/1,0);ko(this,a,new xa(Vn.Bb*(1-c)+Wn.Bb*c,Vn.yb*(1-c)+Wn.yb*c,Vn.xb*(1-c)+Wn.xb*c),!0);for(a=this.Qu;a<=this.Pr;++a)ko(this,eo(this.ep,a),Xn);this.H.ua(5,this.m,"Score: %d, Remaining Oil %d",this.ag.Ql,this.ag.Ro);this.m+=25;this.H.ua(5,this.m,
"Move: a,s,d,w   Fracking Fluid: e");this.m+=25};bo.prototype.Step=bo.prototype.o;function ko(a,c,b,d){d=d||!1;var e=gb(4),f=c.x+.2,h=c.y+.2;e[0].h(c.x,h);e[1].h(c.x,c.y);e[2].h(f,c.y);e[3].h(f,h);d?a.H.Qf(e,4,b):a.H.Ln(e,4,b)}bo.prototype.Ib=function(){return.1};bo.prototype.GetDefaultViewZoom=bo.prototype.Ib;function lo(a,c){return new bo(a,c)}bo.Create=lo;function io(a,c,b){var d=new r;d.h(0-Un,2-1.6);c[0]=Math.floor((a.x-d.x)/.2+.1);b[0]=Math.floor((a.y-d.y)/.2+.1)}
function eo(a,c){var b;b=b||new r;var d=new r;d.h(0-Un,2-1.6);return b.h(.2*a+d.x,.2*c+d.y)}function fo(a){var c;c=c||new r;return c.h(a.x+.1,a.y+.1)};function mo(a,c){Y.call(this,a,c);var b=null,b=this.j.l(new G),d=new C;d.Ca(new r(-50,0),new r(50,0));b.k(d,0);var e=new A;e.N=1;var f=new D;f.D(.5,5);d=new A;d.N=2;var h=new G;h.type=0;h.position.h(10,9);var k=this.j.l(h);k.k(e,5);var l=new G;l.type=2;l.position.h(10,8);var m=this.j.l(l);m.k(f,5);var n=new G;n.type=2;n.position.h(10,6);l=this.j.l(n);l.k(d,5);var t=new Pf;t.U(m,k,h.position);f=this.j.ja(t);h=new Pf;h.U(m,l,n.position);m=this.j.ja(h);n=new Rf;n.Ja=k;n.Fa=l;n.el=f;n.fl=m;n.Lj=d.N/e.N;
this.j.ja(n);e=new A;e.N=1;d=new A;d.N=2;f=new D;f.D(.5,5);h=new G;h.type=2;h.position.h(-3,12);k=this.j.l(h);k.k(e,5);t=new Pf;t.Ja=b;t.Fa=k;b.Me(h.position,t.va);k.Me(h.position,t.Da);t.vf=k.hc()-b.hc();this.zd=this.j.ja(t);l=new G;l.type=2;l.position.h(0,12);m=this.j.l(l);m.k(d,5);h=new Pf;h.U(b,m,l.position);this.De=this.j.ja(h);n=new G;n.type=2;n.position.h(2.5,12);l=this.j.l(n);l.k(f,5);f=new Of;f.U(b,l,n.position,new r(0,1));f.gl=-5;f.nm=5;f.hf=!0;this.jr=this.j.ja(f);n=new Rf;n.Ja=k;n.Fa=
m;n.el=this.zd;n.fl=this.De;n.Lj=d.N/e.N;this.ou=this.j.ja(n);b=new Rf;b.Ja=m;b.Fa=l;b.el=this.De;b.fl=this.jr;b.Lj=-1/d.N;this.pu=this.j.ja(b)}q(mo,Y);p("box2d.Testbed.Gears",mo);mo.prototype.zd=null;mo.prototype.m_joint1=mo.prototype.zd;mo.prototype.De=null;mo.prototype.m_joint2=mo.prototype.De;mo.prototype.jr=null;mo.prototype.m_joint3=mo.prototype.jr;mo.prototype.ou=null;mo.prototype.m_joint4=mo.prototype.ou;mo.prototype.pu=null;mo.prototype.m_joint5=mo.prototype.pu;mo.prototype.qa=function(){};
mo.prototype.Keyboard=mo.prototype.qa;mo.prototype.o=function(a){Y.prototype.o.call(this,a);var c;a=this.ou.Rb;c=this.zd.Qn()+a*this.De.Qn();this.H.ua(5,this.m,"theta1 + %4.2f * theta2 = %4.2f",a,c);this.m+=25;a=this.pu.Rb;c=this.De.Qn()+a*this.jr.dh();this.H.ua(5,this.m,"theta2 + %4.2f * delta = %4.2f",a,c);this.m+=25};mo.prototype.Step=mo.prototype.o;function no(a,c){return new mo(a,c)}mo.Create=no;function oo(a,c){Y.call(this,a,c);this.Pu=!1;var b=this.j.l(new G),d=[new r(po,qo),new r(ro,qo),new r(ro,so),new r(po,so)],e=new Fd;e.hi(d,d.length);b.k(e,0);this.S.Jd(.025*3);this.S.ni(.2);e=new D;e.D(.8,1,new r(0,1.01),0);b=new zg;b.Ea=yk();b.shape=e;e=this.S.jd(b);b.Ea&256&&this.Xi(e,0)}q(oo,Y);p("box2d.Testbed.Impulse",oo);var po=-2,ro=2,qo=0,so=4;oo.prototype.Tc=function(a){Y.prototype.Tc.call(this,a);po<=a.x&&a.x<=ro&&qo<=a.y&&a.y<=so&&(a=x(a,new r(.5*(po+ro),.5*(qo+so)),new r),a.ic(),this.Av(a))};
oo.prototype.MouseUp=oo.prototype.Tc;oo.prototype.qa=function(a){Y.prototype.qa.call(this,a);switch(a){case to:this.Pu=!0;break;case Nl:this.Pu=!1}};oo.prototype.Keyboard=oo.prototype.qa;oo.prototype.Av=function(a){var c=this.j.sf.of,b=c.Sc();this.Pu?(a=qb(.005*b,a,new r),c.wf(a)):(a=qb(1*b,a,new r),c.Ke(a))};oo.prototype.ApplyImpulseOrForce=oo.prototype.Av;oo.prototype.Ib=function(){return.1};oo.prototype.GetDefaultViewZoom=oo.prototype.Ib;function uo(a,c){return new oo(a,c)}oo.Create=uo;function vo(a,c){Y.call(this,a,c);gk(wo,xo);var b=new G,d=this.j.l(b),b=new Fd;b.hi([new r(-2,0),new r(2,0),new r(2,4),new r(-2,4)],4);d.k(b,0);this.S.Jd(.025);b=new D;b.D(2,.4,new r(0,3.6),0);d=new zg;d.Ea=yk();d.shape=b;b=this.S.jd(d);d.Ea&256&&this.Xi(b,0);b=new G;d=this.j.l(b);b=new C;b.h(new r(-2,3.2),new r(-1.2,3.2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.1,3.2),new r(2,3.2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.2,3.2),new r(-1.2,2.8));d.k(b,.1);b=new G;d=this.j.l(b);
b=new C;b.h(new r(-1.1,3.2),new r(-1.1,2.8));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.6,2.4),new r(.8,2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(1.6,1.6),new r(-.8,1.2));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-1.2,.8),new r(-1.2,0));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(-.4,.8),new r(-.4,0));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(.4,.8),new r(.4,0));d.k(b,.1);b=new G;d=this.j.l(b);b=new C;b.h(new r(1.2,.8),new r(1.2,0));d.k(b,.1)}q(vo,Y);
p("box2d.Testbed.LiquidTimer",vo);var wo=[new gg([new fg(160,6,"tensile + viscous")]),new gg(hg)],xo=wo.length;vo.prototype.Ib=function(){return.1};vo.prototype.GetDefaultViewZoom=vo.prototype.Ib;function yo(a,c){return new vo(a,c)}vo.Create=yo;function zo(a,c){Y.call(this,a,c);this.Zf=.25;this.sk=2;this.Fj=null;this.Ul=5;this.nj=null;this.j.ej(new r(0,0));var b=this.j.l(new G),d=new Fd;d.hi([new r(-1,0),new r(1,0),new r(1,4),new r(-1,4)],4);var e=new E;e.shape=d;e.fa=0;e.dc=1;b.k(e);Ao(this);Bo(this)}q(zo,Y);p("box2d.Testbed.Maxwell",zo);g=zo.prototype;g.Zf=0;g.sk=0;g.Ul=0;g.nj=null;g.Fj=null;function Co(a){a.nj&&(a.j.td(a.nj),a.nj=null)}
function Ao(a){if(!a.nj){a.nj=a.j.l(new G);var c=new D;c.D(1,.02,new r(0,a.sk),0);var b=new E;b.shape=c;b.fa=0;b.dc=1;a.nj.k(b)}}function Bo(a){null!==a.Fj&&(a.Fj.ws(),a.Fj=null);a.S.Jd(.05);var c=new D;c.D(1*a.Zf,2*a.Zf,new r(0,2),0);var b=new zg;b.Ea=64;b.shape=c;a.Fj=a.S.jd(b);for(var c=a.S.Hb.data,b=a.Fj.Lb,d=0;d<a.Fj.Sc();++d){var e=c[b+d];e.h(mj()+1,mj()+1);e.ic();e.Ia(a.Ul)}}
g.qa=function(a){switch(a){case Sk:this.nj?Co(this):Ao(this);break;case Pn:this.Zf=Ia(1.25*this.Zf,.8);this.ub();break;case Qn:this.Zf=Ja(this.Zf/1.25,.01);this.ub();break;case Do:Eo(this,this.sk+.2);break;case Fo:Eo(this,this.sk-.2);break;case Go:this.Ul=Ja(this.Ul-.2,.4);this.ub();break;case Ho:this.Ul=Ia(this.Ul+.2,10);this.ub();break;default:Y.prototype.qa.call(this,a)}};zo.prototype.Keyboard=zo.prototype.qa;function Io(a){return-1<=a.x&&1>=a.x&&0<=a.y&&4>=a.y}
zo.prototype.Oe=function(a){Io(a)||Y.prototype.Oe.call(this,a)};zo.prototype.MouseDown=zo.prototype.Oe;zo.prototype.Tc=function(a){Io(a)?this.nj?Co(this):Ao(this):(Eo(this,a.y),Y.prototype.Tc.call(this,a))};zo.prototype.MouseUp=zo.prototype.Tc;
zo.prototype.o=function(a){Y.prototype.o.call(this,a);var c=0;a=0;for(var b=this.Fj.Lb,d=this.S.Hb.data,e=this.S.Qb.data,f=0;f<this.Fj.Sc();f++){var h=d[b+f];h.ic();h.Ia(this.Ul);e[b+f].y>this.sk?c++:a++}c/=4-this.sk;a/=this.sk;this.H.ua(10,75,"Score: %f",0<c?a/c-1:0)};zo.prototype.Step=zo.prototype.o;zo.prototype.ub=function(){Co(this);Bo(this);Ao(this)};function Eo(a,c){a.sk=Ka(c,.2,3.8);a.ub()}zo.prototype.Ib=function(){return.1};zo.prototype.GetDefaultViewZoom=zo.prototype.Ib;
function Jo(a,c){return new zo(a,c)}zo.Create=Jo;function Ko(a,c){Y.call(this,a,c);var b;b=new G;b.position.h(0,20);b=this.j.l(b);var d=new r(0,.5),e=this.Ek(b,Ya,0,3,.5),f=new Pf;f.Ja=b;f.Fa=e;f.va.ba();f.Da.e(d);this.j.ja(f)}q(Ko,Y);p("box2d.Testbed.Mobile",Ko);Ko.e_depth=4;
Ko.prototype.Ek=function(a,c,b,d,e){var f=new r(0,e);a=a.cd().za().Qa(c).Pb(f);c=new G;c.type=2;c.position.e(a);a=this.j.l(c);c=new D;c.D(.25*e,e);a.k(c,20);if(4===b)return a;c=new r(d,-e);var h=new r(-d,-e),k=this.Ek(a,c,b+1,.5*d,e);b=this.Ek(a,h,b+1,.5*d,e);d=new Pf;d.Ja=a;d.Da.e(f);d.va.e(c);d.Fa=k;this.j.ja(d);d.va.e(h);d.Fa=b;this.j.ja(d);return a};function Lo(a,c){return new Ko(a,c)}Ko.Create=Lo;function Mo(a,c){Y.call(this,a,c);var b;b=new G;b.position.h(0,20);b=this.j.l(b);var d=new r(0,.5),e=this.Ek(b,Ya,0,3,.5),f=new Pf;f.Ja=b;f.Fa=e;f.va.ba();f.Da.e(d);this.j.ja(f)}q(Mo,Y);p("box2d.Testbed.MobileBalanced",Mo);Mo.e_depth=4;
Mo.prototype.Ek=function(a,c,b,d,e){var f=new r(0,e);a=a.cd().za().Qa(c).Pb(f);c=new G;c.type=2;c.position.e(a);a=this.j.l(c);c=new D;c.D(.25*e,e);a.k(c,20);if(4===b)return a;c.D(d,.25*e,new r(0,-e),0);a.k(c,20);c=new r(d,-e);var h=new r(-d,-e),k=this.Ek(a,c,b+1,.5*d,e);b=this.Ek(a,h,b+1,.5*d,e);d=new Pf;d.Ja=a;d.Da.e(f);d.va.e(c);d.Fa=k;this.j.ja(d);d.va.e(h);d.Fa=b;this.j.ja(d);return a};function No(a,c){return new Mo(a,c)}Mo.Create=No;function Oo(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-20,0),new r(20,0));var f=new E;f.shape=e;b.k(f);d=new G;d.type=2;d.position.h(0,8);d=this.j.l(d);e=new D;e.D(2,.5);f=new E;f.shape=e;f.gb=.6;f.fa=2;d.k(f);e=new Vf;e.U(b,d);e.di=1E3;e.Zl=1E3;this.tc=this.j.ja(e);this.Ko=!1;this.ai=0}q(Oo,Y);p("box2d.Testbed.MotorJoint",Oo);Oo.prototype.tc=null;Oo.prototype.m_joint=Oo.prototype.tc;Oo.prototype.ai=0;Oo.prototype.m_time=Oo.prototype.ai;Oo.prototype.Ko=!1;
Oo.prototype.m_go=Oo.prototype.Ko;Oo.prototype.qa=function(a){switch(a){case Ek:this.Ko=!this.Ko}};Oo.prototype.Keyboard=Oo.prototype.qa;Oo.prototype.o=function(a){this.Ko&&0<a.oe&&(this.ai+=1/a.oe);var c=new r;c.x=6*Ta(2*this.ai);c.y=8+4*Ta(1*this.ai);var b=4*this.ai;this.tc.Mw(c);this.tc.Jw(b);this.H.Le(c,4,new xa(.9,.9,.9));Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Keys: (s) pause");this.m+=25};Oo.prototype.Step=Oo.prototype.o;function Po(a,c){return new Oo(a,c)}Oo.Create=Po;function Qo(a,c){Y.call(this,a,c);this.Rh=[new Ri,new Ri];this.S.Jd(.05);this.S.lo(500);this.S.bq(!0);var b=new Vg;b.op=this.S.vm();b.Uj=!0;this.Hu=this.j.rs(b);this.Hu.lo(500);Dl.tk=!1;var b=new G,d=this.j.l(b),b=new D;b.D(5,.1);d.k(b,0);b=new G;b.type=2;var d=this.j.l(b),b=new D,e=new r(0,1.2);b.D(Ro.x,Ro.y,e,0);d.k(b,0);b=new Cd;b.qd=1;b.jc.e(e);b.Rf=0;d.Sk(b);for(b=0;b<this.Rh.length;++b)d=b&1?-1:1,e=this.Rh[b],e.gj(new r(So.x*d,So.y)),e.wl.e(To).Ia(.5),e.Yo.e(new r(Uo.x*d,Uo.y)),e.rj=100,e.dj(b&
1?Vo:Wo),e.S=b&1?this.Hu:this.S}q(Qo,Y);p("box2d.Testbed.MultipleParticleSystems",Qo);Qo.prototype.Hu=null;Qo.prototype.Rh=null;var Ro=new r(.5,.5),So=new r(-5,4),Uo=new r(7,-4),To=new r(1,1),Wo=new Yf(34,51,255,255),Vo=new Yf(255,34,17,255);Qo.prototype.o=function(a){var c=1/a.oe;Y.prototype.o.call(this,a);for(a=0;a<this.Rh.length;++a)this.Rh[a].o(c)};Qo.prototype.Step=Qo.prototype.o;Qo.prototype.Ib=function(){return.2};Qo.prototype.GetDefaultViewZoom=Qo.prototype.Ib;
function Xo(a,c){return new Qo(a,c)}Qo.Create=Xo;function Yo(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new C;b.Ca(new r(-40,0),new r(40,0));d.k(b,0);b=new G;b.position.h(0,10);d=this.j.l(b);b=new D;b.D(3,.5);this.Bd=d.k(b,0);this.xx=9.5;this.Nu=10.5;b=new G;b.type=2;b.position.h(0,12);d=this.j.l(b);this.N=.5;b=new A;b.N=this.N;this.nh=d.k(b,20);d.$d(new r(0,-50));this.en=0}q(Yo,Y);p("box2d.Testbed.OneSidedPlatform",Yo);Yo.e_unknown=0;Yo.e_above=1;Yo.e_below=2;Yo.prototype.N=0;Yo.prototype.m_radius=Yo.prototype.N;Yo.prototype.Nu=0;
Yo.prototype.m_top=Yo.prototype.Nu;Yo.prototype.xx=0;Yo.prototype.m_bottom=Yo.prototype.xx;Yo.prototype.en=0;Yo.prototype.m_state=Yo.prototype.en;Yo.prototype.Bd=null;Yo.prototype.m_platform=Yo.prototype.Bd;Yo.prototype.nh=null;Yo.prototype.m_character=Yo.prototype.nh;Yo.prototype.Mc=function(a,c){Y.prototype.Mc.call(this,a,c);var b=a.Xb,d=a.Yb;b!==this.Bd&&b!==this.nh||d!==this.Bd&&d!==this.nh||this.nh.Ob().cd().y<this.Nu+this.N-.024&&a.vt(!1)};Yo.prototype.PreSolve=Yo.prototype.Mc;
Yo.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press: (c) create a shape, (d) destroy a shape.");this.m+=25;a=this.nh.Ob().le();this.H.ua(5,this.m,"Character Linear Velocity: %f",a.y);this.m+=25};Yo.prototype.Step=Yo.prototype.o;function Zo(a,c){return new Yo(a,c)}Yo.Create=Zo;function $o(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,3)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,3),new r(2,2)];b.h(e,4);d.k(b,0);this.S.Jd(.035*3);e=yk();this.S.ni(.2);b=new A;b.La.h(0,3);b.N=2;d=new zg;d.Ea=e;d.shape=b;b=this.S.jd(d);d.Ea&256&&this.Xi(b,0);b=new G;b.type=2;d=this.j.l(b);b=new A;b.La.h(0,8);b.N=.5;d.k(b,.5)}q($o,Y);
p("box2d.Testbed.Particles",$o);$o.prototype.Ib=function(){return.1};$o.prototype.GetDefaultViewZoom=$o.prototype.Ib;function ap(a,c){return new $o(a,c)}$o.Create=ap;function bp(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,2)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,2),new r(2,2)];b.h(e,4);d.k(b,0);this.S.Jd(.035*3);b=new A;b.La.h(0,2);b.N=.5;d=new zg;d.Ea=384;d.shape=b;d.color.h(255,0,0,255);this.S.jd(d);b=new A;b.La.h(-1,2);b.N=.5;d=new zg;d.Ea=384;d.shape=b;d.color.h(0,255,0,255);this.S.jd(d);b=
new D;e=[new r(0,3),new r(2,3),new r(2,3.5),new r(0,3.5)];b.h(e,4);d=new zg;d.Ea=384;d.shape=b;d.color.h(0,0,255,255);this.S.jd(d);b=new G;b.type=2;d=this.j.l(b);b=new A;b.La.h(0,8);b.N=.5;d.k(b,.5)}q(bp,Y);p("box2d.Testbed.ParticlesSurfaceTension",bp);bp.prototype.Ib=function(){return.1};bp.prototype.GetDefaultViewZoom=bp.prototype.Ib;function cp(a,c){return new bp(a,c)}bp.Create=cp;function dp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=gb(5);d[0].h(0,-2);d[1].h(8,6);d[2].h(8,20);d[3].h(-8,20);d[4].h(-8,6);var e=new Fd;e.hi(d,5);d=new E;d.shape=e;d.fa=0;b.k(d);var e=new r(-2,0),f=new r(2,0),d=new G;d.type=2;d.position=e;var h=this.j.l(d);d.position=f;var k=this.j.l(d),l=new D;l.D(1.75,.1);d=new E;d.shape=l;d.fa=1;h.k(d);k.k(d);d=new Pf;d.Ja=b;d.Da.ba();d.yd=!0;d.Mf=1E3;d.hf=!0;d.ie=0;d.va.e(e);d.Fa=h;d.ye=-30*fa/180;d.Ie=5*fa/180;this.pr=this.j.ja(d);d.ie=0;d.va.e(f);
d.Fa=k;d.ye=-5*fa/180;d.Ie=30*fa/180;this.Er=this.j.ja(d);d=new G;d.position.h(1,15);d.type=2;d.zf=!0;this.jl=this.j.l(d);b=new A;b.N=.2;d=new E;d.shape=b;d.fa=1;this.jl.k(d);this.Bo=!1}q(dp,Y);p("box2d.Testbed.Pinball",dp);dp.prototype.pr=null;dp.prototype.m_leftJoint=dp.prototype.pr;dp.prototype.Er=null;dp.prototype.m_rightJoint=dp.prototype.Er;dp.prototype.jl=null;dp.prototype.m_ball=dp.prototype.jl;dp.prototype.Bo=!1;dp.prototype.m_button=dp.prototype.Bo;
dp.prototype.o=function(a){this.Bo?(this.pr.Re(20),this.Er.Re(-20)):(this.pr.Re(-10),this.Er.Re(10));Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press 'a' to control the flippers");this.m+=25};dp.prototype.Step=dp.prototype.o;dp.prototype.qa=function(a){switch(a){case Sk:this.Bo=!0}};dp.prototype.Keyboard=dp.prototype.qa;dp.prototype.we=function(a){switch(a){case Sk:this.Bo=!1}};dp.prototype.KeyboardUp=dp.prototype.we;function ep(a,c){return new dp(a,c)}dp.Create=ep;function fp(a,c){Y.call(this,a,c);for(var b=this.j.l(new G),d=-10;10>d;d+=1){var e=new D;e.h([new r(d,-10),new r(d+1,-10),new r(0,25)],3);b.k(e,0)}this.S.Jd(.75);0===yk()&&this.S.ni(.2);this.tu=new D;this.tu.D(50,1);this.uu=new Vb;this.uu.h(new r(-25,1),0)}q(fp,Y);p("box2d.Testbed.Pointy",fp);fp.prototype.tu=null;fp.prototype.uu=null;
fp.prototype.o=function(a){Y.prototype.o.call(this,a);a=yk();var c=new cg;c.position.h(0,33);c.eg.h(0,-1);c.Ea=a;a&24&&(c.eg.h(this.S.Sc()&1?-1:1,-5),c.Ea|=4096);this.S.pm(c);this.S.Yi(this.tu,this.uu)};fp.prototype.Step=fp.prototype.o;function gp(a,c){return new fp(a,c)}fp.Create=gp;function hp(a,c){Y.call(this,a,c);this.If=new D;this.$b=new D;this.Ug=new Vb;this.yg=new Vb;this.ad=new r;this.If.D(.2,.4);this.Ug.Tk(new r(0,0),0);this.$b.D(.5,.5);this.ad.h(19.345284,1.5632932);this.jf=1.9160721;this.yg.Tk(this.ad,this.jf)}q(hp,Y);p("box2d.Testbed.PolyCollision",hp);hp.prototype.If=null;hp.prototype.m_polygonA=hp.prototype.If;hp.prototype.$b=null;hp.prototype.m_polygonB=hp.prototype.$b;hp.prototype.Ug=null;hp.prototype.m_transformA=hp.prototype.Ug;hp.prototype.yg=null;
hp.prototype.m_transformB=hp.prototype.yg;hp.prototype.ad=null;hp.prototype.m_positionB=hp.prototype.ad;hp.prototype.jf=0;hp.prototype.m_angleB=hp.prototype.jf;
hp.prototype.o=function(){var a=new Bc;od(a,this.If,this.Ug,this.$b,this.yg);var c=new Cc;c.U(a,this.Ug,this.If.N,this.yg,this.$b.N);this.H.ua(5,this.m,"point count = %d",a.Wa);this.m+=25;for(var b=new xa(.9,.9,.9),d=Array(8),e=0;e<this.If.n;++e)d[e]=Xb(this.Ug,this.If.Z[e],new r);this.H.Qf(d,this.If.n,b);for(e=0;e<this.$b.n;++e)d[e]=Xb(this.yg,this.$b.Z[e],new r);this.H.Qf(d,this.$b.n,b);for(e=0;e<a.Wa;++e)this.H.Le(c.Oa[e],4,new xa(.9,.3,.3))};hp.prototype.Step=hp.prototype.o;
hp.prototype.qa=function(a){switch(a){case Sk:this.ad.x-=.1;break;case Dk:this.ad.x+=.1;break;case Ek:this.ad.y-=.1;break;case ul:this.ad.y+=.1;break;case Tk:this.jf+=.1*fa;break;case Uk:this.jf-=.1*fa}this.yg.Tk(this.ad,this.jf)};hp.prototype.Keyboard=hp.prototype.qa;function ip(a,c){return new hp(a,c)}hp.Create=ip;function jp(){this.de=new A;this.xg=new Vb}q(jp,ue);p("box2d.Testbed.PolyShapesCallback",jp);jp.e_maxCount=4;jp.prototype.de=null;jp.prototype.m_circle=jp.prototype.de;jp.prototype.xg=null;jp.prototype.m_transform=jp.prototype.xg;jp.prototype.hB=null;jp.prototype.m_debug_draw=jp.prototype.hB;jp.prototype.n=0;jp.prototype.m_count=jp.prototype.n;
jp.prototype.Zd=function(a){if(4===this.n)return!1;if(Oc(a.$a,0,this.de,0,a.Ob().Wb(),this.xg)){var c=new xa(.95,.95,.6),b=a.Ob().Wb();switch(a.Ic()){case 0:a=a.$a;b=Xb(b,a.La,new r);this.H.Ik(b,a.N,c);break;case 2:a=a.$a;for(var d=qa(a.n),e=Array(8),f=0;f<d;++f)e[f]=Xb(b,a.Z[f],new r);this.H.Qf(e,d,c)}++this.n}return!0};
function kp(a,c){Y.call(this,a,c);this.Yc=0;this.Q=Array(256);this.Cd=Array(4);for(var b=0;4>b;++b)this.Cd[b]=new D;this.de=new A;var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=Array(3);b[0]=new r(-.5,0);b[1]=new r(.5,0);b[2]=new r(0,1.5);this.Cd[0].h(b,3);b=Array(3);b[0]=new r(-.1,0);b[1]=new r(.1,0);b[2]=new r(0,1.5);this.Cd[1].h(b,3);var d=1/(2+Qa(2)),e=Qa(2)*d,b=Array(8);b[0]=new r(.5*e,0);b[1]=new r(.5,d);b[2]=new r(.5,d+e);b[3]=new r(.5*e,1);b[4]=new r(-.5*e,1);b[5]=
new r(-.5,d+e);b[6]=new r(-.5,d);b[7]=new r(-.5*e,0);this.Cd[2].h(b,8);this.Cd[3].D(.5,.5);this.de.N=.5;for(b=0;256>b;++b)this.Q[b]=null}q(kp,Y);p("box2d.Testbed.PolyShapes",kp);kp.e_maxBodies=256;
kp.prototype.l=function(a){null!==this.Q[this.Yc]&&(this.j.td(this.Q[this.Yc]),this.Q[this.Yc]=null);var c=new G;c.type=2;c.position.h(Xa(-2,2),10);c.fb=Xa(-fa,fa);4===a&&(c.mg=.02);this.Q[this.Yc]=this.j.l(c);4>a?(c=new E,c.shape=this.Cd[a]):(c=new E,c.shape=this.de);c.fa=1;c.gb=.3;this.Q[this.Yc].k(c);this.Yc=(this.Yc+1)%256};kp.prototype.CreateBody=kp.prototype.l;kp.prototype.td=function(){for(var a=0;256>a;++a)if(null!==this.Q[a]){this.j.td(this.Q[a]);this.Q[a]=null;break}};
kp.prototype.DestroyBody=kp.prototype.td;kp.prototype.qa=function(a){switch(a){case Yl:case Zl:case $l:case am:case bm:this.l(a-Yl);break;case Sk:for(a=0;256>a;a+=2)this.Q[a]&&this.Q[a].Gw(!this.Q[a].Gh());break;case Dk:this.td()}};kp.prototype.Keyboard=kp.prototype.qa;
kp.prototype.o=function(a){Y.prototype.o.call(this,a);a=new jp;a.de.N=2;a.de.La.h(0,1.1);a.xg.Sf();a.H=this.H;var c=new Jc;a.de.Tb(c,a.xg,0);this.j.ig(a,c);this.H.Ik(a.de.La,a.de.N,new xa(.4,.7,.8));this.H.ua(5,this.m,"Press 1-5 to drop stuff");this.m+=25;this.H.ua(5,this.m,"Press 'a' to (de)activate some bodies");this.m+=25;this.H.ua(5,this.m,"Press 'd' to destroy a body");this.m+=25};kp.prototype.Step=kp.prototype.o;function lp(a,c){return new kp(a,c)}kp.Create=lp;function mp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.D(2,.5);d=new G;d.type=2;d.position.h(-10,10);d.fb=.5*fa;d.xe=!1;d=this.j.l(d);d.k(e,5);var e=new Of,f=new r(2,1);f.ic();e.U(b,d,new r(0,0),f);e.ie=10;e.rn=1E4;e.yd=!0;e.gl=0;e.nm=20;e.hf=!0;this.tc=this.j.ja(e)}q(mp,Y);p("box2d.Testbed.Prismatic",mp);mp.prototype.tc=null;mp.prototype.m_joint=mp.prototype.tc;
mp.prototype.qa=function(a){switch(a){case to:this.tc.Mn(!this.tc.Ae);break;case Ml:this.tc.ji(!this.tc.od);break;case Ek:this.tc.Re(-this.tc.pd)}};mp.prototype.Keyboard=mp.prototype.qa;mp.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Keys: (l) limits, (m) motors, (s) speed");this.m+=25;this.H.ua(5,this.m,"Motor Force = %4.0f",this.tc.bw(a.oe));this.m+=25};mp.prototype.Step=mp.prototype.o;function np(a,c){return new mp(a,c)}mp.Create=np;function op(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d);(new C).Ca(new r(-40,0),new r(40,0));var e=new A;e.N=2;e.La.h(-10,30);b.k(e,0);e.La.h(10,30);b.k(e,0);e=new D;e.D(1,2);d=new G;d.type=2;d.position.h(-10,16);b=this.j.l(d);b.k(e,5);d.position.h(10,16);d=this.j.l(d);d.k(e,5);e=new Qf;e.U(b,d,new r(-10,30),new r(10,30),new r(-10,18),new r(10,18),1.5);this.zd=this.j.ja(e)}q(op,Y);p("box2d.Testbed.Pulleys",op);op.prototype.zd=null;op.prototype.m_joint1=op.prototype.zd;op.prototype.qa=function(){};
op.prototype.Keyboard=op.prototype.qa;op.prototype.o=function(a){Y.prototype.o.call(this,a);a=this.zd.Rb;var c=this.zd.Sp()+a*this.zd.Tp();this.H.ua(5,this.m,"L1 + %4.2f * L2 = %4.2f",a,c);this.m+=25};op.prototype.Step=op.prototype.o;function pp(a,c){return new op(a,c)}op.Create=pp;function qp(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d=new D;d.D(.5,.5);for(var e=new r(-7,.75),f=new r(0,0),h=new r(.5625,1.25),k=new r(1.125,0),l=0;20>l;++l){f.e(e);for(var m=l;20>m;++m)b=new G,b.type=2,b.position.e(f),this.j.l(b).k(d,5),f.Qa(k);e.Qa(h)}}q(qp,Y);p("box2d.Testbed.Pyramid",qp);qp.e_count=20;qp.prototype.o=function(a){Y.prototype.o.call(this,a)};qp.prototype.Step=qp.prototype.o;function rp(a,c){return new qp(a,c)}qp.Create=rp;function sp(a,c){function b(a,b,c){var d=new G;d.type=2;d.position.e(b);a=a.l(d);b=new D;c?b.D(15,2):b.D(2,15);c=new E;c.shape=b;c.fa=1/120;c.gb=.6;c.dc=0;a.k(c)}Y.call(this,a,c);var d=this.j,e=d.l(new G),f=new C;f.Ca(new r(-600,-240),new r(600,-240));var h=new E;h.shape=f;h.gb=1;h.dc=1;e.k(h);for(e=0;12>e;e++)for(f=0;f<12-e;f++)h=new r(45*(f-.5*(11-e)),38*(e+.5)-4-240),b(d,h,!1),b(d,pb(h,new r(0,17),new r),!0),0===f&&b(d,pb(h,new r(-13,34),new r),!1),f!=12-e-1?b(d,pb(h,new r(22.5,21),new r),!0):
b(d,pb(h,new r(13,34),new r),!1)}q(sp,Y);p("box2d.Testbed.PyramidTopple",sp);sp.prototype.Ib=function(){return 10};sp.prototype.GetDefaultViewZoom=sp.prototype.Ib;function tp(a,c){return new sp(a,c)}sp.Create=tp;function up(a,c){Y.call(this,a,c);var b=this.j.l(new G),d;for(d=30;0<d;d-=5){var e=new D,f=[new r(-25,d),new r(-25,d-5),new r(0,15)];e.h(f,3);b.k(e,0)}for(d=-25;25>d;d+=5)e=new D,f=[new r(d,0),new r(d+5,0),new r(0,15)],e.h(f,3),b.k(e,0);this.S.Jd(.25);f=yk();0===f&&this.S.ni(.2);e=new A;e.La.h(-20,33);e.N=3;b=new zg;b.Ea=f;b.shape=e;e=this.S.jd(b);b.Ea&256&&this.Xi(e,0)}q(up,Y);p("box2d.Testbed.Ramp",up);function vp(a,c){return new up(a,c)}up.Create=vp;function wp(){this.fd=new r;this.Mb=new r}q(wp,ve);p("box2d.Testbed.RayCastClosestCallback",wp);wp.prototype.zl=!1;wp.prototype.m_hit=wp.prototype.zl;wp.prototype.fd=null;wp.prototype.m_point=wp.prototype.fd;wp.prototype.Mb=null;wp.prototype.m_normal=wp.prototype.Mb;wp.prototype.Zd=function(a,c,b,d){if((a=a.Ob().ec())&&0===a.index)return-1;this.zl=!0;this.fd.e(c);this.Mb.e(b);return d};wp.prototype.ReportFixture=wp.prototype.Zd;function xp(){this.fd=new r;this.Mb=new r}q(xp,ve);
p("box2d.Testbed.RayCastAnyCallback",xp);xp.prototype.zl=!1;xp.prototype.m_hit=xp.prototype.zl;xp.prototype.fd=null;xp.prototype.m_point=xp.prototype.fd;xp.prototype.Mb=null;xp.prototype.m_normal=xp.prototype.Mb;xp.prototype.Zd=function(a,c,b){if((a=a.Ob().ec())&&0===a.index)return-1;this.zl=!0;this.fd.e(c);this.Mb.e(b);return 0};xp.prototype.ReportFixture=xp.prototype.Zd;function yp(){this.Xh=gb(3);this.mc=gb(3)}q(yp,ve);p("box2d.Testbed.RayCastMultipleCallback",yp);yp.e_maxCount=3;
yp.prototype.Xh=null;yp.prototype.m_points=yp.prototype.Xh;yp.prototype.mc=null;yp.prototype.m_normals=yp.prototype.mc;yp.prototype.n=0;yp.prototype.m_count=yp.prototype.n;yp.prototype.Zd=function(a,c,b){if((a=a.Ob().ec())&&0===a.index)return-1;this.Xh[this.n].e(c);this.mc[this.n].e(b);++this.n;return 3===this.n?0:1};yp.prototype.ReportFixture=yp.prototype.Zd;var zp={gE:0,ZD:1,yE:2};p("box2d.Testbed.RayCastMode",zp);zp.e_closest=0;zp.e_any=1;zp.e_multiple=2;
function Ap(a,c){Y.call(this,a,c);this.Yc=0;this.Q=Array(256);this.Cd=Array(4);for(var b=0;4>b;++b)this.Cd[b]=new D;this.de=new A;this.Yq=new C;var b=this.j.l(new G),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=Array(3);b[0]=new r(-.5,0);b[1]=new r(.5,0);b[2]=new r(0,1.5);this.Cd[0].h(b,3);b=Array(3);b[0]=new r(-.1,0);b[1]=new r(.1,0);b[2]=new r(0,1.5);this.Cd[1].h(b,3);var d=1/(2+Qa(2)),e=Qa(2)*d,b=Array(8);b[0]=new r(.5*e,0);b[1]=new r(.5,d);b[2]=new r(.5,d+e);b[3]=new r(.5*e,1);b[4]=new r(-.5*
e,1);b[5]=new r(-.5,d+e);b[6]=new r(-.5,d);b[7]=new r(-.5*e,0);this.Cd[2].h(b,8);this.Cd[3].D(.5,.5);this.de.N=.5;this.Yq.Ca(new r(-1,0),new r(1,0));for(b=0;256>b;++b)this.Q[b]=null;this.Ai=this.Sd=0}q(Ap,Y);p("box2d.Testbed.RayCast",Ap);Ap.e_maxBodies=256;Ap.prototype.Yc=0;Ap.prototype.m_bodyIndex=Ap.prototype.Yc;Ap.prototype.Q=null;Ap.prototype.m_bodies=Ap.prototype.Q;Ap.prototype.Cd=null;Ap.prototype.m_polygons=Ap.prototype.Cd;Ap.prototype.de=null;Ap.prototype.m_circle=Ap.prototype.de;
Ap.prototype.Yq=null;Ap.prototype.m_edge=Ap.prototype.Yq;Ap.prototype.l=function(a){null!==this.Q[this.Yc]&&(this.j.td(this.Q[this.Yc]),this.Q[this.Yc]=null);var c=new G;c.position.h(Xa(-10,10),Xa(0,20));c.fb=Xa(-fa,fa);c.Hc={};c.Hc.index=a;4===a&&(c.mg=.02);this.Q[this.Yc]=this.j.l(c);4>a?(c=new E,c.shape=this.Cd[a]):5>a?(c=new E,c.shape=this.de):(c=new E,c.shape=this.Yq);c.gb=.3;this.Q[this.Yc].k(c);this.Yc=(this.Yc+1)%256};Ap.prototype.CreateBody=Ap.prototype.l;
Ap.prototype.td=function(){for(var a=0;256>a;++a)if(null!==this.Q[a]){this.j.td(this.Q[a]);this.Q[a]=null;break}};Ap.prototype.DestroyBody=Ap.prototype.td;Ap.prototype.qa=function(a){switch(a){case Yl:case Zl:case $l:case am:case bm:case Bp:this.l(a-Yl);break;case Dk:this.td();break;case Ml:0===this.Ai?this.Ai=1:1===this.Ai?this.Ai=2:2===this.Ai&&(this.Ai=0)}};Ap.prototype.Keyboard=Ap.prototype.qa;
Ap.prototype.o=function(a){var c=!a.pause||a.jm;Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press 1-6 to drop stuff, m to change the mode");this.m+=25;switch(this.Ai){case 0:this.H.ua(5,this.m,"Ray-cast mode: closest - find closest fixture along the ray");break;case 1:this.H.ua(5,this.m,"Ray-cast mode: any - check for obstruction");break;case 2:this.H.ua(5,this.m,"Ray-cast mode: multiple - gather multiple fixtures")}this.m+=25;a=new r(0,10);var b=pb(a,new r(11*Sa(this.Sd),11*Ta(this.Sd)),new r);
if(0===this.Ai){var d=new wp;this.j.Aa(d,a,b);if(d.zl){this.H.Le(d.fd,5,new xa(.4,.9,.4));this.H.oc(a,d.fd,new xa(.8,.8,.8));var e=pb(d.fd,qb(.5,d.Mb,u),new r);this.H.oc(d.fd,e,new xa(.9,.9,.4))}else this.H.oc(a,b,new xa(.8,.8,.8))}else if(1===this.Ai)d=new xp,this.j.Aa(d,a,b),d.zl?(this.H.Le(d.fd,5,new xa(.4,.9,.4)),this.H.oc(a,d.fd,new xa(.8,.8,.8)),e=pb(d.fd,qb(.5,d.Mb,u),new r),this.H.oc(d.fd,e,new xa(.9,.9,.4))):this.H.oc(a,b,new xa(.8,.8,.8));else if(2===this.Ai)for(d=new yp,this.j.Aa(d,a,b),
this.H.oc(a,b,new xa(.8,.8,.8)),b=0;b<d.n;++b){var f=d.Xh[b],e=d.mc[b];this.H.Le(f,5,new xa(.4,.9,.4));this.H.oc(a,f,new xa(.8,.8,.8));e=pb(f,qb(.5,e,u),new r);this.H.oc(f,e,new xa(.9,.9,.4))}c&&(this.Sd+=.25*fa/180)};Ap.prototype.Step=Ap.prototype.o;function Cp(a,c){return new Ap(a,c)}Ap.Create=Cp;function Dp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));d=new E;d.shape=e;b.k(d);e=new A;e.N=.5;d=new G;d.type=2;var f=new Pf;d.position.h(-10,20);d=this.j.l(d);d.k(e,5);d.Jh(100);d.$d(new r(-800,0));f.U(b,d,new r(-10,12));f.ie=1*fa;f.Mf=1E4;f.yd=!1;f.ye=-.25*fa;f.Ie=.5*fa;f.hf=!0;f.pg=!0;this.tc=this.j.ja(f);e=new A;e.N=3;f=new G;f.type=2;f.position.h(5,30);d=new E;d.fa=5;d.filter.Kf=1;d.shape=e;this.jl=this.j.l(f);this.jl.k(d);d=new D;d.D(10,.2,
new r(-10,0),0);e=new G;e.position.h(20,10);e.type=2;e.zf=!0;e=this.j.l(e);e.k(d,2);f=new Pf;f.U(b,e,new r(20,10));f.ye=-.25*fa;f.Ie=0*fa;f.hf=!0;this.j.ja(f);b=new G;b.type=2;d=this.j.l(b);b=new D;e=gb(3);e[0].h(17.63,36.31);e[1].h(17.52,36.69);e[2].h(17.19,36.36);b.h(e,3);e=new E;e.shape=b;e.fa=1;d.k(e)}q(Dp,Y);p("box2d.Testbed.Revolute",Dp);Dp.prototype.jl=null;Dp.prototype.m_ball=Dp.prototype.jl;Dp.prototype.tc=null;Dp.prototype.m_joint=Dp.prototype.tc;
Dp.prototype.qa=function(a){switch(a){case to:this.tc.Mn(!this.tc.Ae);break;case Ml:this.tc.ji(!this.tc.od)}};Dp.prototype.Keyboard=Dp.prototype.qa;Dp.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Keys: (l) limits, (m) motor");this.m+=25};Dp.prototype.Step=Dp.prototype.o;function Ep(a,c){return new Dp(a,c)}Dp.Create=Ep;function Fp(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=new D,e=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(e,4);d.k(b,0);b=new D;e=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,2)];b.h(e,4);d.k(b,0);b=new D;e=[new r(2,-.1),new r(4,-.1),new r(4,2),new r(2,2)];b.h(e,4);d.k(b,0);this.S.Jd(.035*3);b=new A;b.La.h(0,3);b.N=.5;d=new zg;d.qi=3;d.shape=b;d.color.h(255,0,0,255);this.S.jd(d);b=new A;b.La.h(-1,3);b.N=.5;d=new zg;d.qi=3;d.shape=b;d.color.h(0,255,0,255);this.S.jd(d);b=new D;
b.D(1,.5);d=new zg;d.qi=3;d.position.h(1,4);d.fb=-.5;d.hh=2;d.shape=b;d.color.h(0,0,255,255);this.S.jd(d);b=new G;b.type=2;d=this.j.l(b);b=new A;b.La.h(0,8);b.N=.5;d.k(b,.5)}q(Fp,Y);p("box2d.Testbed.RigidParticles",Fp);Fp.prototype.Ib=function(){return.1};Fp.prototype.GetDefaultViewZoom=Fp.prototype.Ib;function Gp(a,c){return new Fp(a,c)}Fp.Create=Gp;function Hp(a,c){Y.call(this,a,c);this.Jf=new Xi;for(var b=gb(40),d=ta(40),e=0;40>e;++e)b[e].h(0,20-.25*e),d[e]=1;d[0]=0;d[1]=0;e=new Wi;e.fg=b;e.count=40;e.Vj.h(0,-10);e.Tu=d;e.nx=.1;e.sx=1;e.tx=.5;this.Jf.U(e);this.Sd=0;this.Jf.Ba(this.Sd)}q(Hp,Y);p("box2d.Testbed.Rope",Hp);Hp.prototype.Jf=null;Hp.prototype.m_rope=Hp.prototype.Jf;Hp.prototype.Sd=0;Hp.prototype.m_angle=Hp.prototype.Sd;
Hp.prototype.qa=function(a){switch(a){case Tk:this.Sd=Ja(-fa,this.Sd-.05*fa);this.Jf.Ba(this.Sd);break;case Uk:this.Sd=Ia(fa,this.Sd+.05*fa),this.Jf.Ba(this.Sd)}};Hp.prototype.Keyboard=Hp.prototype.qa;Hp.prototype.o=function(a){var c=0<a.oe?1/a.oe:0;a.pause&&!a.jm&&(c=0);this.Jf.o(c,1);Y.prototype.o.call(this,a);this.Jf.Hk(this.H);this.H.ua(5,this.m,"Press (q,e) to adjust target angle");this.m+=25;this.H.ua(5,this.m,"Target angle = %4.2f degrees",180*this.Sd/fa);this.m+=25};Hp.prototype.Step=Hp.prototype.o;
function Ip(a,c){return new Hp(a,c)}Hp.Create=Ip;function Jp(a,c){Y.call(this,a,c);this.Gj=new Uf;var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.D(.5,.125);var f=new E;f.shape=e;f.fa=20;f.gb=.2;f.filter.Af=1;f.filter.Kf=65533;var h=new Pf;h.pg=!1;this.Gj.va.h(0,15);for(var k=b,l=0;10>l;++l)d=new G,d.type=2,d.position.h(.5+1*l,15),9===l&&(e.D(1.5,1.5),f.fa=100,f.filter.Af=2,d.position.h(1*l,15),d.mg=.4),d=this.j.l(d),d.k(f),h.U(k,d,new r(l,15)),this.j.ja(h),k=d;this.Gj.Da.ba();this.Gj.maxLength=9.01;this.Gj.Fa=
k;this.Gj.Ja=b;this.Jf=this.j.ja(this.Gj)}q(Jp,Y);p("box2d.Testbed.RopeJoint",Jp);Jp.prototype.Gj=null;Jp.prototype.m_ropeDef=Jp.prototype.Gj;Jp.prototype.Jf=null;Jp.prototype.m_rope=Jp.prototype.Jf;Jp.prototype.qa=function(a){switch(a){case Kp:this.Jf?(this.j.qm(this.Jf),this.Jf=null):this.Jf=this.j.ja(this.Gj)}};Jp.prototype.Keyboard=Jp.prototype.qa;
Jp.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press (j) to toggle the rope joint.");this.m+=25;this.Jf?this.H.ua(5,this.m,"Rope ON"):this.H.ua(5,this.m,"Rope OFF");this.m+=25};Jp.prototype.Step=Jp.prototype.o;function Lp(a,c){return new Jp(a,c)}Jp.Create=Lp;function Mp(){this.Xk()}q(Mp,ke);g=Mp.prototype;g.Jl=null;g.j=null;g.S=null;g.$t=0;g.zx=2;g.Xk=function(){this.Jl=[]};g.Yk=function(){this.j.Qk(null)};g.Fn=function(a,c){for(var b=0;b<c&&256>this.Jl.length;++b){var d=a[b];this.S.fj(d,this.S.Ya.data[d]|512);this.Jl.push(this.S.dw(d))}};g.o=function(a){a=this.$t+a;var c=this.zx;this.$t=a-Math.floor(a/c)*c;a=2*Math.abs(this.$t/this.zx-.5);a=new Yf(128+128*(1-a),128+256*Math.abs(.5-a),128+128*a,255);for(c=0;c<this.Jl.length;++c)this.S.Pn()[this.Jl[c].Be].e(a)};
g.fo=function(){};g.$p=function(){};g.ho=function(){};g.pt=function(a,c){a===this.S&&(this.Jl=this.Jl.filter(function(a){return a.Be!==c}))};function Np(a,c){Y.call(this,a,c);this.Xk()}q(Np,Y);p("box2d.Testbed.Sandbox",Np);g=Np.prototype;g.Go=0;g.zr=0;g.bn=0;g.Vb=0;g.yr=null;g.ru=null;g.su=null;g.Ar=null;g.Rh=null;g.Gr=null;
var Op=[new gg([new fg(0,6,"water"),new fg(0,7,"water (strict)"),new fg(64,6,"powder"),new fg(128,6,"tensile"),new fg(32,6,"viscous"),new fg(192,6,"tensile powder"),new fg(96,6,"viscous powder"),new fg(224,6,"viscous tensile powder"),new fg(160,6,"tensile viscous water")])],Pp=Op.length;
Np.prototype.Xk=function(){var a=this.j.l(new G);this.Rh=[];for(var c=0;5>c;c++)this.Rh[c]=null;this.Ar=[];for(c=0;5>c;c++)this.Ar[c]=null;this.j.ej(new r(0,-20));var c=new D,b=[new r(-40,-10),new r(40,-10),new r(40,0),new r(-40,0)];c.h(b,4);a.k(c,0);c=new D;b=[new r(-40,-1),new r(-20,-1),new r(-20,50),new r(-40,50)];c.h(b,4);a.k(c,0);c=new D;b=[new r(20,-1),new r(40,-1),new r(40,50),new r(20,50)];c.h(b,4);a.k(c,0);this.S.Jd(.25);a=this.Gr=new Mp;c=this.S;a.j=this.j;a.S=c;a.j.Qk(a);this.zr=this.Go=
this.bn=0;a=new D;a.D(2,2);var d=gb(3);d[0].h(-2,-2);d[1].h(2,2);d[2].h(2,-2);c=new D;c.h(d,3);d[1].h(-2,2);b=new D;b.h(d,3);d=new A;d.N=1.4;var e=new Yf(255,128,128,255),f=new Yf(128,255,128,255),h=new Yf(128,128,255,255);this.yr=new r(600,0);for(var k=0;10>k;k++)for(var l=0;11>l;l++){var m=new r(4*k+-18,40-4*l+2);switch("# r#g #r##  /#  #  # ###     pA  #  /##### # /#  C  /# #   # ### # / # ## p /#   #  ####  A        /#####KK###"[10*l+k]){case "#":this.l(m,a,0);break;case "A":this.l(m,b,0);break;
case "/":this.l(m,c,0);break;case "C":this.l(m,d,2);break;case "p":var n=new D;n.D(1.95,1.95);var t=new G;t.position.e(m);t.type=2;t.fb=0;t=this.j.l(t);t.k(n,5);n=new Of;n.Ja=this.vl;n.Fa=t;n.pg=!1;n.Gg.h(1,0);n.va.e(m);this.j.ja(n);this.Ar[this.zr]=t;this.zr++;break;case "b":Qp(this,m,h);break;case "r":Qp(this,m,e);break;case "g":Qp(this,m,f)}}this.ru=new D;this.ru.D(40,1);this.su=new Vb;this.su.h(new r(-20,1),0);gk(Op,Pp);this.Vb=yk();Dl.tk=!1};
Np.prototype.Yk=function(){for(var a=0;a<this.Go;a++)this.Rh[a]=null};Np.prototype.l=function(a,c,b){var d=new G;d.position.e(a);d.type=b;this.j.l(d).k(c,10)};function Qp(a,c,b){var d=new r(0,-9.8),e=new Ri;e.S=a.S;e.gj(c);e.Yo.e(d);e.wl.e(new r(3,0)).Ia(.5);e.rj=30;e.dj(b);a.Rh[a.Go]=e;a.Go++}Np.prototype.yf=function(a){Y.prototype.yf.call(this,a)};Np.prototype.JointDestroyed=Np.prototype.yf;Np.prototype.ff=function(a){Y.prototype.ff.call(this,a)};Np.prototype.ParticleGroupDestroyed=Np.prototype.ff;
Np.prototype.Qd=function(a){Y.prototype.Qd.call(this,a)};Np.prototype.BeginContact=Np.prototype.Qd;Np.prototype.Xd=function(a){Y.prototype.Xd.call(this,a)};Np.prototype.EndContact=Np.prototype.Xd;Np.prototype.Mc=function(a,c){Y.prototype.Mc.call(this,a,c)};Np.prototype.PreSolve=Np.prototype.Mc;Np.prototype.Qe=function(a,c){Y.prototype.Qe.call(this,a,c)};Np.prototype.PostSolve=Np.prototype.Qe;
Np.prototype.qa=function(a){Y.prototype.qa.call(this,a);var c=0;switch(a){case Sk:this.Vb=0;break;case Tk:c=64;break;case Hl:c=128;break;case Il:c=32;break;case ul:c=4}c&&(this.Vb=this.Vb&c?this.Vb&~c:this.Vb|c);Pl(this.Vb)};Np.prototype.Keyboard=Np.prototype.qa;Np.prototype.we=function(a){Y.prototype.we.call(this,a)};Np.prototype.KeyboardUp=Np.prototype.we;Np.prototype.Oe=function(a){Y.prototype.Oe.call(this,a)};Np.prototype.MouseDown=Np.prototype.Oe;
Np.prototype.Tc=function(a){Y.prototype.Tc.call(this,a)};Np.prototype.MouseUp=Np.prototype.Tc;Np.prototype.Pe=function(a){Y.prototype.Pe.call(this,a)};Np.prototype.MouseMove=Np.prototype.Pe;
Np.prototype.o=function(a){Y.prototype.o.call(this,a);this.Vb=yk();a=1/a.oe;for(var c=0;c<this.Go;c++){var b=[],d=this.Rh[c];d.fj(this.Vb);d=d.o(a,b,256);this.Gr.Fn(b,d)}this.Gr.o(a);this.S.Yi(this.ru,this.su);for(c=0;c<this.zr;c++)this.Ar[c].ls(this.yr,!0),this.bn+=a,6<this.bn&&(this.bn-=6,this.yr.x*=-1);this.H.ua(5,this.m,"Keys: (a) zero out (water), (q) powder");this.m+=25;this.H.ua(5,this.m,"      (t) tensile, (v) viscous");this.m+=25};Np.prototype.Step=Np.prototype.o;Np.prototype.Ib=function(){return Y.prototype.Ib.call(this)};
Np.prototype.GetDefaultViewZoom=Np.prototype.Ib;function Rp(a,c){return new Np(a,c)}Np.Create=Rp;function Sp(a,c){Y.call(this,a,c);this.Q=Array(7);this.pn=Array(7);for(var b=0;7>b;++b)this.pn[b]=Array(1);var d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new A;e.N=5;e.La.h(0,10);var f=new E;f.shape=e;f.vi=!0;this.cg=b.k(f);e=new A;e.N=1;for(b=0;7>b;++b)d.type=2,d.position.h(-10+3*b,20),d.Hc=this.pn[b],this.pn[b][0]=!1,this.Q[b]=this.j.l(d),this.Q[b].k(e,1)}q(Sp,Y);p("box2d.Testbed.SensorTest",Sp);Sp.e_count=7;Sp.prototype.cg=null;Sp.prototype.m_sensor=Sp.prototype.cg;
Sp.prototype.Q=null;Sp.prototype.m_bodies=Sp.prototype.Q;Sp.prototype.pn=null;Sp.prototype.m_touching=Sp.prototype.pn;Sp.prototype.Qd=function(a){var c=a.Xb;a=a.Yb;if(c===this.cg){var b=a.Ob().ec();b&&(b[0]=!0)}a===this.cg&&(b=c.Ob().ec())&&(b[0]=!0)};Sp.prototype.BeginContact=Sp.prototype.Qd;Sp.prototype.Xd=function(a){var c=a.Xb;a=a.Yb;if(c===this.cg){var b=a.Ob().ec();b&&(b[0]=!1)}a===this.cg&&(b=c.Ob().ec())&&(b[0]=!1)};Sp.prototype.EndContact=Sp.prototype.Xd;
Sp.prototype.o=function(a){Y.prototype.o.call(this,a);for(a=0;7>a;++a)if(this.pn[a][0]){var c=this.Q[a],b=this.cg.Ob().sb(this.cg.$a.La,new r),d=c.cd(),b=x(b,d,new r);b.ef()<ea||(b.ic(),b=qb(100,b,new r),c.Ke(b,d))}};Sp.prototype.Step=Sp.prototype.o;function Tp(a,c){return new Sp(a,c)}Sp.Create=Tp;function Up(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,10);this.xa=this.j.l(b);d=new D;d.D(4,4,new r(0,0),0);this.Cx=this.xa.k(d,10);this.sj=null;this.cg=!1}q(Up,Y);p("box2d.Testbed.ShapeEditing",Up);Up.prototype.xa=null;Up.prototype.m_body=Up.prototype.xa;Up.prototype.Cx=null;Up.prototype.m_fixture1=Up.prototype.Cx;Up.prototype.sj=null;Up.prototype.m_fixture2=Up.prototype.sj;Up.prototype.cg=!1;
Up.prototype.m_sensor=Up.prototype.cg;Up.prototype.qa=function(a){switch(a){case gl:null===this.sj&&(a=new A,a.N=3,a.La.h(.5,-4),this.sj=this.xa.k(a,10),this.xa.Ra(!0));break;case Dk:null!==this.sj&&(this.xa.vs(this.sj),this.sj=null,this.xa.Ra(!0));break;case Ek:null!==this.sj&&(this.cg=!this.cg,this.sj.Qw(this.cg))}};Up.prototype.Keyboard=Up.prototype.qa;
Up.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press: (c) create a shape, (d) destroy a shape.");this.m+=25;this.H.ua(5,this.m,"sensor = %d",this.cg?1:0);this.m+=25};Up.prototype.Step=Up.prototype.o;function Vp(a,c){return new Up(a,c)}Up.Create=Vp;function Wp(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);var f=b,e=new D;e.D(.5,2);d=new G;d.type=2;d.position.h(0,7);d=this.j.l(d);d.k(e,2);e=new Pf;e.U(f,d,new r(0,5));e.ie=1*fa;e.Mf=1E4;e.yd=!0;this.zd=this.j.ja(e);f=d;e=new D;e.D(.5,4);d=new G;d.type=2;d.position.h(0,13);d=this.j.l(d);d.k(e,2);e=new Pf;e.U(f,d,new r(0,9));e.yd=!1;this.j.ja(e);f=d;e=new D;e.D(1.5,1.5);d=new G;d.type=2;d.Uf=!0;d.position.h(0,17);d=this.j.l(d);d.k(e,2);e=
new Pf;e.U(f,d,new r(0,17));this.j.ja(e);f=new Of;f.U(b,d,new r(0,17),new r(0,1));f.rn=1E3;f.yd=!0;this.De=this.j.ja(f);e=new D;e.D(1.5,1.5);d=new G;d.type=2;d.position.h(0,23);d=this.j.l(d);d.k(e,2)}q(Wp,Y);p("box2d.Testbed.SliderCrank",Wp);Wp.e_count=30;Wp.prototype.zd=null;Wp.prototype.m_joint1=Wp.prototype.zd;Wp.prototype.De=null;Wp.prototype.m_joint2=Wp.prototype.De;Wp.prototype.qa=function(a){switch(a){case Nl:this.De.ji(!this.De.od);this.De.ia.Ra(!0);break;case Ml:this.zd.ji(!this.zd.od),this.zd.ia.Ra(!0)}};
Wp.prototype.Keyboard=Wp.prototype.qa;Wp.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Keys: (f) toggle friction, (m) toggle motor");this.m+=25;this.H.ua(5,this.m,"Motor Torque = %5.0f",this.zd.Yp(a.oe));this.m+=25};Wp.prototype.Step=Wp.prototype.o;function Xp(a,c){return new Wp(a,c)}Wp.Create=Xp;function Yp(a,c){Y.call(this,a,c);this.tw(1028);var b=new G;this.Lo=this.j.l(b);var b=new D,d=[new r(-4,-1),new r(4,-1),new r(4,0),new r(-4,0)];b.h(d,4);this.Lo.k(b,0);b=new D;d=[new r(-4,-.1),new r(-2,-.1),new r(-2,2),new r(-4,3)];b.h(d,4);this.Lo.k(b,0);b=new D;d=[new r(2,-.1),new r(4,-.1),new r(4,3),new r(2,2)];b.h(d,4);this.Lo.k(b,0);this.S.Jd(.035*3);b=new D;b.D(2,1,new r(0,1),0);d=new zg;d.shape=b;d.Ea=yk();b=this.S.jd(d);d.Ea&256&&this.Xi(b,0);b=new G;b.type=2;d=this.j.l(b);b=new A;b.La.h(0,
.5);b.N=.1;d.k(b,.1);this.S.Yi(b,d.Wb());b=new G;b.type=2;d=this.j.l(b);b=new D;b.D(.1,.1,new r(-1,.5),0);d.k(b,.1);this.S.Yi(b,d.Wb());b=new G;b.type=2;d=this.j.l(b);b=new D;b.D(.1,.1,new r(1,.5),.5);d.k(b,.1);this.S.Yi(b,d.Wb());b=new G;b.type=2;d=this.j.l(b);b=new C;b.h(new r(0,2),new r(.1,2.1));d.k(b,1);var e=new Cd;e.qd=.1;e.jc.x=.5*b.Kc.x+b.Qc.x;e.jc.y=.5*b.Kc.y+b.Qc.y;e.Rf=0;d.Sk(e);b=new G;b.type=2;d=this.j.l(b);b=new C;b.h(new r(.3,2),new r(.4,2.1));d.k(b,1);e=new Cd;e.qd=.1;e.jc.x=.5*b.Kc.x+
b.Qc.x;e.jc.y=.5*b.Kc.y+b.Qc.y;e.Rf=0;d.Sk(e);b=new G;b.type=2;d=this.j.l(b);b=new C;b.h(new r(-.3,2.1),new r(-.2,2));d.k(b,1);e=new Cd;e.qd=.1;e.jc.x=.5*b.Kc.x+b.Qc.x;e.jc.y=.5*b.Kc.y+b.Qc.y;e.Rf=0;d.Sk(e)}q(Yp,Y);p("box2d.Testbed.Soup",Yp);Yp.prototype.Lo=null;Yp.prototype.Ib=function(){return.1};Yp.prototype.GetDefaultViewZoom=Yp.prototype.Ib;function Zp(a,c){return new Yp(a,c)}Yp.Create=Zp;function $p(a,c){Yp.call(this,a,c);this.S.ni(1);var b=new A;b.La.h(0,.7);b.N=.4;var d=new G;d.type=2;this.Tl=this.j.l(d);this.Tl.k(b,1);d=new Vb;d.Sf();this.S.Yi(b,d);this.ja()}q($p,Yp);p("box2d.Testbed.SoupStirrer",$p);g=$p.prototype;g.Tl=null;g.tc=null;g.Zm=0;g.ja=function(){var a=new Of;a.Ja=this.Lo;a.Fa=this.Tl;a.pg=!0;a.Gg.h(1,0);a.va.e(this.Tl.cd());this.tc=this.j.ja(a)};function aq(a){a.tc?(a.j.qm(a.tc),a.tc=null):a.ja()}
g.qa=function(a){switch(a){case Hl:aq(this);break;default:Y.prototype.qa.call(this,a)}};$p.prototype.Keyboard=$p.prototype.qa;$p.prototype.Tc=function(a){Y.prototype.Tc.call(this,a);bq(a)&&aq(this)};$p.prototype.MouseUp=$p.prototype.Tc;function bq(a){return-1<a.y&&2>a.y&&-3<a.x&&3>a.x}$p.prototype.o=function(a){this.Zm+=1/a.oe;5<this.Zm&&(this.Zm-=5);var c=.4*this.Zm*fa,c=(new r(Math.sin(c),Math.cos(c))).Ia(10);bq(this.Tl.cd())&&2>this.Tl.le().qc()&&this.Tl.ls(c,!0);Y.prototype.o.call(this,a)};
$p.prototype.Step=$p.prototype.o;function cq(a,c){return new $p(a,c)}$p.Create=cq;function dq(a,c,b,d,e,f){this.sr=new Yf;var h=new A;h.La.e(c);h.N=b;b=new zg;b.Ea=f;b.shape=h;this.sr.h(Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),255);b.color.e(this.sr);this.S=a;this.Kl=this.S.jd(b);this.Dx=this.Nl=e;this.er=.5*this.Dx;a=this.Kl.Lb;e=this.S.Qb.data;f=this.S.Hb.data;for(h=a;h<a+this.Kl.Sc();h++)x(e[h],c,f[h]),rb(f[h],d,f[h])}g=dq.prototype;g.Dx=0;g.Nl=0;g.er=0;g.Kl=null;g.S=null;g.sr=null;g.ys=function(){this.Kl.ws(!1);this.Kl=null};
g.o=function(a){if(0<this.Nl){this.Nl=Math.max(this.Nl-a,0);a=this.Nl>=this.er?1:1-(this.er-this.Nl)/this.er;for(var c=this.S.Pn(),b=this.Kl.Lb,d=b;d<b+this.Kl.Sc();d++){var e=c[d];e.rt(a);e.B=this.sr.B}}};
function eq(a,c){Y.call(this,a,c);this.cu=new r;this.hl=[];for(var b=this.Im=0;20>b;b++)this.hl[b]=null;var b=this.j.l(new G),d=new D,e=[new r(-40,-10),new r(40,-10),new r(40,0),new r(-40,0)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-40,40),new r(40,40),new r(40,50),new r(-40,50)];d.h(e,4);b.k(d,0);d=new D;e=[new r(-40,-1),new r(-20,-1),new r(-20,40),new r(-40,40)];d.h(e,4);b.k(d,0);d=new D;e=[new r(20,-1),new r(40,-1),new r(40,40),new r(20,40)];d.h(e,4);b.k(d,0);this.S.Jd(.5);for(b=0;3>b;b++)d=new G,d.type=
2,d=this.j.l(d),e=new A,e.La.h(3*mj(),7+4.5*b),e.N=2,d.k(e,.5).fh({Xx:!0});Dl.tk=!1;Pl(64)}q(eq,Y);g=eq.prototype;g.Im=0;g.hl=null;g.au=!1;g.cu=null;g.Qd=function(a){Y.prototype.Qd.call(this,a);var c=a.Xb.ec(),b=a.Yb.ec();if(c&&c.Xx||b&&b.Xx)c=new Cc,a.$s(c),this.cu.e(c.Oa[0]),this.au=!0};
g.o=function(a){var c=yk();Y.prototype.o.call(this,a);if(this.au){var b=this.cu,d=this.hl[this.Im];null!==d&&(d.ys(),this.hl[this.Im]=null);this.hl[this.Im]=new dq(this.S,b,mj(1,2),mj(10,20),mj(.5,1),c);20<=++this.Im&&(this.Im=0);this.au=!1}for(c=0;20>c;c++)b=this.hl[c],null!==b&&(b.o(1/a.oe),0>=b.Nl&&(b.ys(),this.hl[c]=null))};function fq(a,c){return new eq(a,c)}p("box2d.Testbed.Sparky.Create",fq);function gq(a,c){Y.call(this,a,c);this.Q=Array(10);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);d=new A;d.N=1;for(var e=0;10>e;++e)b=new G,b.type=2,b.position.h(0,4+3*e),this.Q[e]=this.j.l(b),this.Q[e].k(d,1),this.Q[e].$d(new r(0,-50))}q(gq,Y);p("box2d.Testbed.SphereStack",gq);gq.e_count=10;gq.prototype.Q=null;gq.prototype.m_bodies=gq.prototype.Q;gq.prototype.o=function(a){Y.prototype.o.call(this,a)};gq.prototype.Step=gq.prototype.o;
function hq(a,c){return new gq(a,c)}gq.Create=hq;function iq(a,c){Y.call(this,a,c);this.rf=new r;this.Iv()}q(iq,Y);p("box2d.Testbed.TheoJansen",iq);iq.prototype.rf=null;iq.prototype.m_offset=iq.prototype.rf;iq.prototype.Co=null;iq.prototype.m_chassis=iq.prototype.Co;iq.prototype.Mi=null;iq.prototype.m_wheel=iq.prototype.Mi;iq.prototype.Fl=null;iq.prototype.m_motorJoint=iq.prototype.Fl;iq.prototype.zu=!1;iq.prototype.m_motorOn=iq.prototype.zu;iq.prototype.pd=0;iq.prototype.m_motorSpeed=iq.prototype.pd;
iq.prototype.Gk=function(a,c){var b=new r(5.4*a,-6.1),d=new r(7.2*a,-1.2),e=new r(4.3*a,-1.9),f=new r(3.1*a,.8),h=new r(6*a,1.5),k=new r(2.5*a,3.7),l=new E,m=new E;l.filter.Ld=-1;m.filter.Ld=-1;l.fa=1;m.fa=1;var n=new D,t=new D;if(0<a){var z=[];z[0]=b;z[1]=d;z[2]=e;n.h(z);z[0]=Ya;z[1]=x(h,f,new r);z[2]=x(k,f,new r)}else z=[],z[0]=b,z[1]=e,z[2]=d,n.h(z),z[0]=Ya,z[1]=x(k,f,new r),z[2]=x(h,f,new r);t.h(z);l.shape=n;m.shape=t;b=new G;n=new G;b.type=2;n.type=2;b.position.e(this.rf);n.position.e(pb(f,this.rf,
new r));b.mg=10;n.mg=10;b=this.j.l(b);n=this.j.l(n);b.k(l);n.k(m);l=new Bf;l.wd=.5;l.Kd=10;l.U(b,n,pb(d,this.rf,new r),pb(h,this.rf,new r));this.j.ja(l);l.U(b,n,pb(e,this.rf,new r),pb(f,this.rf,new r));this.j.ja(l);l.U(b,this.Mi,pb(e,this.rf,new r),pb(c,this.rf,new r));this.j.ja(l);l.U(n,this.Mi,pb(k,this.rf,new r),pb(c,this.rf,new r));this.j.ja(l);d=new Pf;d.U(n,this.Co,pb(f,this.rf,new r));this.j.ja(d)};iq.prototype.CreateLeg=iq.prototype.Gk;
iq.prototype.Iv=function(){this.rf.h(0,8);this.pd=2;this.zu=!0;var a=new r(0,.8),c=new G,c=this.j.l(c),b=new C;b.Ca(new r(-50,0),new r(50,0));c.k(b,0);b.Ca(new r(-50,0),new r(-50,10));c.k(b,0);b.Ca(new r(50,0),new r(50,10));c.k(b,0);for(var d=0;40>d;++d)b=new A,b.N=.25,c=new G,c.type=2,c.position.h(-40+2*d,.5),this.j.l(c).k(b,1);b=new D;b.D(2.5,1);d=new E;d.fa=1;d.shape=b;d.filter.Ld=-1;c=new G;c.type=2;c.position=pb(a,this.rf,new r);this.Co=this.j.l(c);this.Co.k(d);b=new A;b.N=1.6;d=new E;d.fa=1;
d.shape=b;d.filter.Ld=-1;c=new G;c.type=2;c.position=pb(a,this.rf,new r);this.Mi=this.j.l(c);this.Mi.k(d);b=new Pf;b.U(this.Mi,this.Co,pb(a,this.rf,new r));b.pg=!1;b.ie=this.pd;b.Mf=400;b.yd=this.zu;this.Fl=this.j.ja(b);a=pb(a,new r(0,-.8),new r);this.Gk(-1,a);this.Gk(1,a);this.Mi.hj(this.Mi.cd(),120*fa/180);this.Gk(-1,a);this.Gk(1,a);this.Mi.hj(this.Mi.cd(),-120*fa/180);this.Gk(-1,a);this.Gk(1,a)};iq.prototype.Construct=iq.prototype.Iv;
iq.prototype.o=function(a){this.H.ua(5,this.m,"Keys: left = a, brake = s, right = d, toggle motor = m");this.m+=25;Y.prototype.o.call(this,a)};iq.prototype.Step=iq.prototype.o;iq.prototype.qa=function(a){switch(a){case Sk:this.Fl.Re(-this.pd);break;case Ek:this.Fl.Re(0);break;case Dk:this.Fl.Re(this.pd);break;case Ml:this.Fl.ji(!this.Fl.od)}};iq.prototype.Keyboard=iq.prototype.qa;function jq(a,c){return new iq(a,c)}iq.Create=jq;function kq(a,c){Y.call(this,a,c);this.oh=0;var b=new Hd,d=.5,e=new G;e.position.y=-d;for(var e=this.j.l(e),f=new r,h=f.y=0;10>h;++h){f.x=-200*d;for(var k=0;200>k;++k){var l=new D;l.D(d,d,f,0);e.k(l,0);++this.oh;f.x+=2*d}f.y-=2*d}d=.5;l=new D;l.D(d,d);for(var d=new r(-7,.75),f=new r,m=new r(.5625,1.25),n=new r(1.125,0),k=0;20>k;++k){f.e(d);for(h=k;20>h;++h)e=new G,e.type=2,e.position.e(f),this.j.l(e).k(l,5),++this.oh,f.Qa(n);d.Qa(m)}this.du=b.Eh()}q(kq,Y);p("box2d.Testbed.Tiles",kq);kq.e_count=20;
kq.prototype.oh=0;kq.prototype.m_fixtureCount=kq.prototype.oh;kq.prototype.du=0;kq.prototype.m_createTime=kq.prototype.du;kq.prototype.o=function(a){var c=this.j.jb,b=c.Zc.wm(),c=Math.ceil(Math.log(2*c.Zc.um()-1)/Math.log(2));this.H.ua(5,this.m,"dynamic tree height = %d, min = %d",b,c);this.m+=25;Y.prototype.o.call(this,a);this.H.ua(5,this.m,"create time = %6.2f ms, fixture count = %d",this.du,this.oh);this.m+=25};kq.prototype.Step=kq.prototype.o;function lq(a,c){return new kq(a,c)}kq.Create=lq;function mq(a,c){Y.call(this,a,c);this.Rl=new D;this.Rg=new D;this.Rl.D(25,5);this.Rg.D(2.5,2.5)}q(mq,Y);p("box2d.Testbed.TimeOfImpact",mq);mq.prototype.Rl=null;mq.prototype.m_shapeA=mq.prototype.Rl;mq.prototype.Rg=null;mq.prototype.m_shapeB=mq.prototype.Rg;
mq.prototype.o=function(a){Y.prototype.o.call(this,a);var c=new ac;c.Vc.h(24,-60);c.be=2.95;c.W=c.Vc;c.B=c.be;c.hb.ba();a=new ac;a.Vc.h(53.474274,-50.252514);a.be=513.36676;a.W.h(54.595478,-51.083473);a.B=513.62781;a.hb.ba();var b=new Td;b.hd.Lh(this.Rl,0);b.Ed.Lh(this.Rg,0);b.zn.e(c);b.An.e(a);b.Bn=1;var d=new Vd;Yd(d,b);this.H.ua(5,this.m,"toi = %4.2f",d.Ah);this.m+=25;this.H.ua(5,this.m,"max toi iters = %d, max root iters = %d",Qd,Sd);this.m+=25;var b=Array(8),e=new Vb;c.Wb(e,0);for(c=0;c<this.Rl.n;++c)b[c]=
Xb(e,this.Rl.Z[c],new r);this.H.Qf(b,this.Rl.n,new xa(.9,.9,.9));e=new Vb;a.Wb(e,0);for(c=0;c<this.Rg.n;++c)b[c]=Xb(e,this.Rg.Z[c],new r);this.H.Qf(b,this.Rg.n,new xa(.5,.9,.5));a.Wb(e,d.Ah);for(c=0;c<this.Rg.n;++c)b[c]=Xb(e,this.Rg.Z[c],new r);this.H.Qf(b,this.Rg.n,new xa(.5,.7,.9));a.Wb(e,1);for(c=0;c<this.Rg.n;++c)b[c]=Xb(e,this.Rg.Z[c],new r);this.H.Qf(b,this.Rg.n,new xa(.9,.5,.5))};mq.prototype.Step=mq.prototype.o;function nq(a,c){return new mq(a,c)}mq.Create=nq;function oq(a){this.cb=a}function pq(){this.cb=0}q(pq,oq);function qq(a){this.cb=1;this.qx=a}q(qq,oq);function rq(a){this.Mo=[];var c=new G;c.type=2;this.xa=a.l(c);a=new D;a.D(.5,1.25);this.xa.k(a,1).fh(new pq);this.xa.fh(this);this.dk=1}function sq(a,c,b){a.mB=250;a.lB=-40;a.Ix=c;a.Jx=b}function tq(a){0===a.Mo.length?a.dk=1:(a.dk=0,a.Mo.forEach(function(a){a.qx>this.dk&&(this.dk=a.qx)}))}function uq(a){var c=a.xa.aj(new r(0,1),new r);return c.Ia(v(c,a.xa.le()))}
function vq(a){this.on=[];var c=new G;c.type=2;this.xa=a.l(c);this.xa.Iw(3);c=[];c[0]=new r(1.5,0);c[1]=new r(3,2.5);c[2]=new r(2.8,5.5);c[3]=new r(1,10);c[4]=new r(-1,10);c[5]=new r(-2.8,5.5);c[6]=new r(-3,2.5);c[7]=new r(-1.5,0);var b=new D;b.h(c,8);this.xa.k(b,.1);c=new Pf;c.Ja=this.xa;c.hf=!0;c.ye=0;c.Ie=0;c.Da.ba();b=new rq(a);sq(b,300,8.5);c.Fa=b.xa;c.va.h(-3,.75);a.ja(c);this.on.push(b);b=new rq(a);sq(b,300,8.5);c.Fa=b.xa;c.va.h(3,.75);a.ja(c);this.on.push(b);b=new rq(a);sq(b,500,7.5);c.Fa=
b.xa;c.va.h(-3,8.5);this.px=a.ja(c);this.on.push(b);b=new rq(a);sq(b,500,7.5);c.Fa=b.xa;c.va.h(3,8.5);this.fB=a.ja(c);this.on.push(b)}
vq.prototype.update=function(a){this.on.forEach(function(a){var b=a.xa.aj(new r(1,0),new r),b=b.Ia(v(b,a.xa.le())).Ia(-1*a.xa.me());b.qc()>a.Jx&&b.Ia(a.Jx/b.qc());a.xa.wf(b.Ia(a.dk),a.xa.Ne());a.xa.ks(.1*a.dk*a.xa.ki()*-a.xa.sm());var b=uq(a),c=-2*b.ic();a.xa.Ke(b.Ia(a.dk*c),a.xa.Ne())});this.on.forEach(function(b){a:{var c=0;switch(a&12){case 4:c=b.mB;break;case 8:c=b.lB;break;default:break a}var f=b.xa.aj(new r(0,1),new r),h=v(uq(b),f),k=0;if(c>h)k=b.Ix;else if(c<h)k=-b.Ix;else break a;b.xa.Ke(f.Ia(b.dk*
k),b.xa.Ne())}});var c=0;switch(a&3){case 1:c=.6108652381980153;break;case 2:c=-.6108652381980153}var b=this.px.Qn(),c=Ka(c-b,-.046542113386515455,.046542113386515455),b=b+c;this.px.jo(b,b);this.fB.jo(b,b)};
function wq(a,c){Y.call(this,a,c);this.j.ej(new r(0,0));this.j.Qk(this.Lg);this.vl=this.j.l(new G);var b=new D,d=new E;d.shape=b;d.vi=!0;b.D(9,7,new r(-10,15),.3490658503988659);var e=this.vl.k(d);e.fh(new qq(.5));b.D(9,5,new r(5,20),-.6981317007977318);e=this.vl.k(d);e.fh(new qq(.2));this.bk=new vq(this.j);this.mf=0}q(wq,Y);p("box2d.Testbed.TopdownCar",wq);
wq.prototype.qa=function(a){switch(a){case Sk:this.mf|=1;break;case Dk:this.mf|=2;break;case ul:this.mf|=4;break;case Ek:this.mf|=8;break;default:Y.prototype.qa.call(this,a)}};wq.prototype.Keyboard=wq.prototype.qa;wq.prototype.we=function(a){switch(a){case Sk:this.mf&=-2;break;case Dk:this.mf&=-3;break;case ul:this.mf&=-5;break;case Ek:this.mf&=-9;break;default:Y.prototype.we.call(this,a)}};wq.prototype.KeyboardUp=wq.prototype.we;
function xq(a,c){var b=a.Xb,d=a.Yb,e=b.ec(),f=d.ec();e&&f&&(0==e.cb||1==f.cb?yq(b,d,c):1!=e.cb&&0!=f.cb||yq(d,b,c))}wq.prototype.Qd=function(a){xq(a,!0)};wq.prototype.BeginContact=wq.prototype.Qd;wq.prototype.Xd=function(a){xq(a,!1)};wq.prototype.EndContact=wq.prototype.Xd;function yq(a,c,b){a=a.Ob().ec();c=c.ec();b?a.Mo.push(c):a.Mo.splice(a.Mo.indexOf(c));tq(a)}
wq.prototype.o=function(a){this.bk.update(this.mf);Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press w/a/s/d to control the car");this.m+=25};wq.prototype.Step=wq.prototype.o;function zq(a,c){return new wq(a,c)}wq.Create=zq;function Aq(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=new G;d.type=2;d.xe=!1;d.position.h(0,10);var d=this.j.l(d),e=new D;e.D(.5,10,new r(10,0),0);d.k(e,5);e.D(.5,10,new r(-10,0),0);d.k(e,5);e.D(10,.5,new r(0,10),0);d.k(e,5);e.D(10,.5,new r(0,-10),0);d.k(e,5);e=new Pf;e.Ja=b;e.Fa=d;e.va.h(0,10);e.Da.h(0,0);e.vf=0;e.ie=.05*fa;e.Mf=1E8;e.yd=!0;this.tc=this.j.ja(e);this.n=0}q(Aq,Y);p("box2d.Testbed.Tumbler",Aq);Aq.e_count=800;Aq.prototype.tc=null;Aq.prototype.m_joint=Aq.prototype.tc;
Aq.prototype.n=0;Aq.prototype.m_count=Aq.prototype.n;Aq.prototype.o=function(a){Y.prototype.o.call(this,a);if(800>this.n){a=new G;a.type=2;a.position.h(0,10);a=this.j.l(a);var c=new D;c.D(.125,.125);a.k(c,1);++this.n}};Aq.prototype.Step=Aq.prototype.o;function Bq(a,c){return new Aq(a,c)}Aq.Create=Bq;function Cq(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),e=new C;e.Ca(new r(-40,0),new r(40,0));d.k(e,0);e=new D;e.D(13,.25);b=new G;b.position.h(-4,22);b.fb=-.25;d=this.j.l(b);d.k(e,0);e=new D;e.D(.25,1);b=new G;b.position.h(10.5,19);d=this.j.l(b);d.k(e,0);e=new D;e.D(13,.25);b=new G;b.position.h(4,14);b.fb=.25;d=this.j.l(b);d.k(e,0);e=new D;e.D(.25,1);b=new G;b.position.h(-10.5,11);d=this.j.l(b);d.k(e,0);e=new D;e.D(13,.25);b=new G;b.position.h(-4,6);b.fb=-.25;d=this.j.l(b);d.k(e,0);e=new D;
e.D(.5,.5);d=new E;d.shape=e;d.fa=25;for(var e=[.75,.5,.35,.1,0],f=0;5>f;++f)b=new G,b.type=2,b.position.h(-15+4*f,28),b=this.j.l(b),d.gb=e[f],b.k(d)}q(Cq,Y);p("box2d.Testbed.VaryingFriction",Cq);function Dq(a,c){return new Cq(a,c)}Cq.Create=Dq;function Eq(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),e=new C;e.Ca(new r(-40,0),new r(40,0));d.k(e,0);e=new A;e.N=1;d=new E;d.shape=e;d.fa=1;for(var e=[0,.1,.3,.5,.75,.9,1],f=0;7>f;++f)b=new G,b.type=2,b.position.h(-10+3*f,20),b=this.j.l(b),d.dc=e[f],b.k(d)}q(Eq,Y);p("box2d.Testbed.VaryingRestitution",Eq);function Fq(a,c){return new Eq(a,c)}Eq.Create=Fq;function Gq(a,c){Y.call(this,a,c);this.Df=null;this.Q=Array(15);this.fr=Array(15);var b=new G,d=this.j.l(b),e=new C;e.Ca(new r(-40,0),new r(40,0));d.k(e,0);e.Ca(new r(20,0),new r(20,20));d.k(e,0);for(var d=[0,-10,-5,5,10],f=0;1>f;++f){e=new D;e.D(.5,.5);var h=new E;h.shape=e;h.fa=1;h.gb=.3;for(e=0;15>e;++e){b=new G;b.type=2;var k=15*f+e;this.fr[k]=k;b.Hc=this.fr[k];b.position.h(d[f]+0,.55+1.1*e);b=this.j.l(b);this.Q[k]=b;b.k(h)}}}q(Gq,Y);p("box2d.Testbed.VerticalStack",Gq);Gq.e_columnCount=1;
Gq.e_rowCount=15;Gq.prototype.Df=null;Gq.prototype.m_bullet=Gq.prototype.Df;Gq.prototype.Q=null;Gq.prototype.m_bodies=Gq.prototype.Q;Gq.prototype.fr=null;Gq.prototype.m_indices=Gq.prototype.fr;Gq.prototype.qa=function(a){switch(a){case Fo:this.Df&&(this.j.td(this.Df),this.Df=null);var c=new A;c.N=.25;a=new E;a.shape=c;a.fa=20;a.dc=.05;c=new G;c.type=2;c.zf=!0;c.position.h(-31,5);this.Df=this.j.l(c);this.Df.k(a);this.Df.$d(new r(400,0));break;case Jl:bf=!bf}};Gq.prototype.Keyboard=Gq.prototype.qa;
Gq.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"Press: (,) to launch a bullet.");this.m+=25;this.H.ua(5,this.m,"Blocksolve = %d",bf?1:0)};Gq.prototype.Step=Gq.prototype.o;function Hq(a,c){return new Gq(a,c)}Gq.Create=Hq;function Iq(a,c){Y.call(this,a,c);var b=null,d=new G,b=this.j.l(d),d=new G;d.type=2;d.xe=!1;d.position.h(0,1);var d=this.j.l(d),e=new D;e.D(.05,1,new r(2,0),0);d.k(e,5);e.D(.05,1,new r(-2,0),0);d.k(e,5);e.D(2,.05,new r(0,1),0);d.k(e,5);e.D(2,.05,new r(0,-1),0);d.k(e,5);e=new Pf;e.Ja=b;e.Fa=d;e.va.h(0,1);e.Da.h(0,0);e.vf=0;e.ie=.05*fa;e.Mf=1E7;e.yd=!0;this.tc=this.j.ja(e);this.S.Jd(.025*3);d=yk();this.S.ni(.2);b=new zg;b.Ea=d;e=new D;e.D(.9,.9,new r(0,1),0);b.shape=e;d=this.S.jd(b);b.Ea&256&&this.Xi(d,
0);this.ai=0}q(Iq,Y);p("box2d.Testbed.WaveMachine",Iq);Iq.prototype.o=function(a){Y.prototype.o.call(this,a);0<a.oe&&(this.ai+=1/a.oe);this.tc.Re(.05*Math.cos(this.ai)*fa)};Iq.prototype.Step=Iq.prototype.o;Iq.prototype.Ib=function(){return.1};Iq.prototype.GetDefaultViewZoom=Iq.prototype.Ib;function ls(a,c){return new Iq(a,c)}Iq.Create=ls;function ms(a,c){Y.call(this,a,c);this.Q=Array(4);this.wc=Array(8);var b=null,d=new G,b=this.j.l(d),e=new C;e.Ca(new r(-40,0),new r(40,0));b.k(e,0);e=new D;e.D(.5,.5);d=new G;d.type=2;d.position.h(-5,5);this.Q[0]=this.j.l(d);this.Q[0].k(e,5);d.position.h(5,5);this.Q[1]=this.j.l(d);this.Q[1].k(e,5);d.position.h(5,15);this.Q[2]=this.j.l(d);this.Q[2].k(e,5);d.position.h(-5,15);this.Q[3]=this.j.l(d);this.Q[3].k(e,5);var d=new Bf,f;d.Kd=2;d.wd=0;d.Ja=b;d.Fa=this.Q[0];d.va.h(-10,0);d.Da.h(-.5,-.5);e=d.Ja.sb(d.va,
new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[0]=this.j.ja(d);d.Ja=b;d.Fa=this.Q[1];d.va.h(10,0);d.Da.h(.5,-.5);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[1]=this.j.ja(d);d.Ja=b;d.Fa=this.Q[2];d.va.h(10,20);d.Da.h(.5,.5);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[2]=this.j.ja(d);d.Ja=b;d.Fa=this.Q[3];d.va.h(-10,20);d.Da.h(-.5,.5);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=
e.qc();this.wc[3]=this.j.ja(d);d.Ja=this.Q[0];d.Fa=this.Q[1];d.va.h(.5,0);d.Da.h(-.5,0);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[4]=this.j.ja(d);d.Ja=this.Q[1];d.Fa=this.Q[2];d.va.h(0,.5);d.Da.h(0,-.5);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[5]=this.j.ja(d);d.Ja=this.Q[2];d.Fa=this.Q[3];d.va.h(-.5,0);d.Da.h(.5,0);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[6]=this.j.ja(d);d.Ja=
this.Q[3];d.Fa=this.Q[0];d.va.h(0,-.5);d.Da.h(0,.5);e=d.Ja.sb(d.va,new r);f=d.Fa.sb(d.Da,new r);e=x(f,e,new r);d.length=e.qc();this.wc[7]=this.j.ja(d)}q(ms,Y);p("box2d.Testbed.Web",ms);ms.prototype.Q=null;ms.prototype.m_bodies=ms.prototype.Q;ms.prototype.wc=null;ms.prototype.m_joints=ms.prototype.wc;
ms.prototype.qa=function(a){switch(a){case Jl:for(a=0;4>a;++a)if(this.Q[a]){this.j.td(this.Q[a]);this.Q[a]=null;break}break;case Kp:for(a=0;8>a;++a)if(this.wc[a]){this.j.qm(this.wc[a]);this.wc[a]=null;break}}};ms.prototype.Keyboard=ms.prototype.qa;ms.prototype.o=function(a){Y.prototype.o.call(this,a);this.H.ua(5,this.m,"This demonstrates a soft distance joint.");this.m+=25;this.H.ua(5,this.m,"Press: (b) to delete a body, (j) to delete a joint");this.m+=25};ms.prototype.Step=ms.prototype.o;
ms.prototype.yf=function(a){for(var c=0;8>c;++c)if(this.wc[c]===a){this.wc[c]=null;break}};ms.prototype.JointDestroyed=ms.prototype.yf;function ns(a,c){return new ms(a,c)}ms.Create=ns;var os=-1!=gj.indexOf("Opera")||-1!=gj.indexOf("OPR"),ps=-1!=gj.indexOf("Trident")||-1!=gj.indexOf("MSIE"),qs=-1!=gj.indexOf("Gecko")&&-1==gj.toLowerCase().indexOf("webkit")&&!(-1!=gj.indexOf("Trident")||-1!=gj.indexOf("MSIE")),rs=-1!=gj.toLowerCase().indexOf("webkit"),ss=function(){var a="",c;if(os&&ba.opera)return a=ba.opera.version,"function"==ca(a)?a():a;qs?c=/rv\:([^\);]+)(\)|;)/:ps?c=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:rs&&(c=/WebKit\/(\S+)/);c&&(a=(a=c.exec(gj))?a[1]:"");return ps&&(c=(c=ba.document)?
c.documentMode:void 0,c>parseFloat(a))?String(c):a}(),ts={};
function us(a){var c;if(!(c=ts[a])){c=0;for(var b=ej(String(ss)).split("."),d=ej(String(a)).split("."),e=Math.max(b.length,d.length),f=0;0==c&&f<e;f++){var h=b[f]||"",k=d[f]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var n=l.exec(h)||["","",""],t=m.exec(k)||["","",""];if(0==n[0].length&&0==t[0].length)break;c=fj(0==n[1].length?0:parseInt(n[1],10),0==t[1].length?0:parseInt(t[1],10))||fj(0==n[2].length,0==t[2].length)||fj(n[2],t[2])}while(0==c)}c=ts[a]=0<=c}return c};ps&&us("9");!rs||us("528");qs&&us("1.9b")||ps&&us("8")||os&&us("9.5")||rs&&us("528");qs&&!us("8")||ps&&us("9");var Yl=49,Zl=50,$l=51,am=52,bm=53,Bp=54,Sk=65,Jl=66,gl=67,Dk=68,Uk=69,Nl=70,ll=71,Kl=72,Kp=74,Fk=75,to=76,Ml=77,Ll=78,Fl=80,Tk=81,Gl=82,Ek=83,Hl=84,Il=86,ul=87,El=88,Ol=90,Go=186,Qn=189,Pn=187,Fo=188,Do=190,Ho=222;function vs(a,c){Y.call(this,a,c);this.xa=null;this.j.ej(new r(0,0));var b=null,d=new G;d.position.h(0,20);var b=this.j.l(d),e=new C,f=new E;f.shape=e;f.fa=0;f.dc=.4;e.Ca(new r(-20,-20),new r(-20,20));b.k(f);e.Ca(new r(20,-20),new r(20,20));b.k(f);e.Ca(new r(-20,20),new r(20,20));b.k(f);e.Ca(new r(-20,-20),new r(20,-20));b.k(f);f=new Vb;f.ha.Ba(.3524*fa);f.ta.e(y(f.ha,new r(1,0),new r));e=[];e[0]=Xb(f,new r(-1,0),new r);e[1]=Xb(f,new r(1,0),new r);e[2]=Xb(f,new r(0,.5),new r);d=new D;d.h(e,3);f=new E;
f.shape=d;f.fa=4;d=new Vb;d.ha.Ba(-.3524*fa);d.ta.e(y(d.ha,new r(-1,0),new r));e[0]=Xb(d,new r(-1,0),new r);e[1]=Xb(d,new r(1,0),new r);e[2]=Xb(d,new r(0,.5),new r);d=new D;d.h(e,3);e=new E;e.shape=d;e.fa=2;d=new G;d.type=2;d.mg=2;d.Wj=.5;d.position.h(0,2);d.fb=fa;d.xe=!1;this.xa=this.j.l(d);this.xa.k(f);this.xa.k(e);e=new D;e.D(.5,.5);f=new E;f.shape=e;f.fa=1;f.gb=.3;for(e=0;10>e;++e){d=new G;d.type=2;d.position.h(0,5+1.54*e);d=this.j.l(d);d.k(f);var h=d.ki(),k=d.me(),h=Qa(2*h/k),l=new Lf;l.va.ba();
l.Da.ba();l.Ja=b;l.Fa=d;l.pg=!0;l.di=10*k;l.Zl=k*h*10;this.j.ja(l)}}q(vs,Y);p("box2d.Testbed.ApplyForce",vs);vs.prototype.xa=null;vs.prototype.m_body=vs.prototype.xa;vs.prototype.qa=function(a){switch(a){case ul:var c=this.xa.aj(new r(0,-200),new r),b=this.xa.sb(new r(0,2),new r);this.xa.Ke(c,b);break;case Sk:this.xa.Fp(50);break;case Dk:this.xa.Fp(-50)}Y.prototype.qa.call(this,a)};vs.prototype.Keyboard=vs.prototype.qa;function ws(a,c){return new vs(a,c)}vs.Create=ws;function xs(a,c){Y.call(this,a,c);var b=null,d=new G;d.position.h(0,17);var e=b=this.j.l(d),f=new D;f.D(4,1);d=new G;d.type=2;d.position.h(-8,20);d=this.j.l(d);d.k(f,2);f=new Pf;f.U(e,d,new r(-12,20));this.j.ja(f);e=d;f=new D;f.D(8,1);d=new G;d.type=2;d.position.h(4,20);d=this.j.l(d);d.k(f,2);f=new Pf;f.U(e,d,new r(-4,20));this.j.ja(f);e=d;f=new D;f.D(3,3);d=new G;d.type=2;d.Uf=!0;d.position.h(12,20);d=this.j.l(d);d.k(f,2);f=new Pf;f.U(e,d,new r(12,20));this.j.ja(f);e=new Of;e.U(b,d,new r(12,17),
new r(1,0));this.j.ja(e)}q(xs,Y);p("box2d.Testbed.BasicSliderCrank",xs);function ys(a,c){return new xs(a,c)}xs.Create=ys;function zs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,.5);var e=this.j.l(b),d=new A;d.N=.5;e.k(d,10);b.position.h(0,6);e=this.j.l(b);d.N=5;e.k(d,10)}q(zs,Y);p("box2d.Testbed.HeavyOnLight",zs);function As(a,c){return new zs(a,c)}zs.Create=As;function Bs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=new C;d.Ca(new r(-40,0),new r(40,0));b.k(d,0);b=new G;b.type=2;b.position.h(0,2.5);var e=this.j.l(b),d=new A;d.N=.5;e.k(d,10);b.position.h(0,3.5);e=this.j.l(b);e.k(d,10);this.yl=null}q(Bs,Y);p("box2d.Testbed.HeavyOnLightTwo",Bs);Bs.prototype.yl=null;Bs.prototype.m_heavy=Bs.prototype.yl;
Bs.prototype.fx=function(){if(null!==this.yl)this.j.td(this.yl),this.yl=null;else{var a=new G;a.type=2;a.position.h(0,9);this.yl=this.j.l(a);a=new A;a.N=5;this.yl.k(a,10)}};Bs.prototype.ToggleHeavy=Bs.prototype.fx;Bs.prototype.qa=function(a){switch(a){case Kl:this.fx()}Y.prototype.qa.call(this,a)};Bs.prototype.Keyboard=Bs.prototype.qa;function Cs(a,c){return new Bs(a,c)}Bs.Create=Cs;function Ds(a,c){Y.call(this,a,c);var b=new G,d=this.j.l(b),b=[];b[0]=new r(-30,0);b[1]=new r(30,0);b[2]=new r(30,40);b[3]=new r(-30,40);var e=new Fd;e.hi(b);d.k(e,0);this.j.ut(!0);d=new E;d.fa=4;d.dc=1.4;b=new G;b.type=2;b.zf=!0;b.position.h(15,5);b=this.j.l(b);e=new D;e.D(4.5,.45);d.shape=e;b.k(d);e=new D;e.D(.45,8.1,new r(-4.35,7.05),.2);d.shape=e;b.k(d);e=new D;e.D(.45,8.1,new r(4.35,7.05),-.2);d.shape=e;b.k(d);for(e=0;5>e;e++)d.shape=new A(1*Math.random()+.5),d.gb=.3,d.fa=1,d.dc=1.1,b=new G,
b.type=2,b.zf=!0,b.position.h(30*Math.random()-25,32*Math.random()+2),b=this.j.l(b),b.k(d)}q(Ds,Y);p("box2d.Testbed.TestCCD",Ds);function Es(a,c){return new Ds(a,c)}Ds.Create=Es;function Fs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=[];d[0]=new r(-30,0);d[1]=new r(30,0);d[2]=new r(30,40);d[3]=new r(-30,40);var e=new Fd;e.hi(d);b.k(e,0);for(var b=new G,d=new E,e=new Pf,f=0;2>f;++f){var h=-20+2*Math.random()+40*f,k=30+5*Math.random();b.type=2;d.shape=new A(1.25);d.fa=1;d.gb=.4;d.dc=.3;b.position.h(h,k);var l=this.j.l(b);l.k(d);l.wf(new r(1E3*Math.random()-500,1E3*Math.random()-500),l.Ne());d.shape=new D;d.shape.D(1.5,1);d.fa=1;d.gb=.4;d.dc=.1;b.position.h(h,k-2.8);var m=
this.j.l(b);m.k(d);d.shape.D(1.5,1);b.position.h(h,k-4.3);var n=this.j.l(b);n.k(d);d.shape.D(1.5,1);b.position.h(h,k-5.8);var t=this.j.l(b);t.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.D(1.8,.65);b.position.h(h-3,k-2);var z=this.j.l(b);z.k(d);d.shape.D(1.8,.65);b.position.h(h+3,k-2);var B=this.j.l(b);B.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.D(1.7,.6);b.position.h(h-5.7,k-2);var O=this.j.l(b);O.k(d);d.shape.D(1.7,.6);b.position.h(h+5.7,k-2);var ia=this.j.l(b);ia.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.D(.75,2.2);
b.position.h(h-.8,k-8.5);var aa=this.j.l(b);aa.k(d);d.shape.D(.75,2.2);b.position.h(h+.8,k-8.5);var ua=this.j.l(b);ua.k(d);d.fa=1;d.gb=.4;d.dc=.1;d.shape.D(.6,2);b.position.h(h-.8,k-12);var Fa=this.j.l(b);Fa.k(d);d.shape.D(.6,2);b.position.h(h+.8,k-12);var na=this.j.l(b);na.k(d);e.hf=!0;e.ye=-40*Ea;e.Ie=40*Ea;e.U(m,l,new r(h,k-1.5));this.j.ja(e);e.ye=-85*Ea;e.Ie=130*Ea;e.U(m,z,new r(h-1.8,k-2));this.j.ja(e);e.ye=-130*Ea;e.Ie=85*Ea;e.U(m,B,new r(h+1.8,k-2));this.j.ja(e);e.ye=-130*Ea;e.Ie=10*Ea;e.U(z,
O,new r(h-4.5,k-2));this.j.ja(e);e.ye=-10*Ea;e.Ie=130*Ea;e.U(B,ia,new r(h+4.5,k-2));this.j.ja(e);e.ye=-15*Ea;e.Ie=15*Ea;e.U(m,n,new r(h,k-3.5));this.j.ja(e);e.U(n,t,new r(h,k-5));this.j.ja(e);e.ye=-25*Ea;e.Ie=45*Ea;e.U(t,aa,new r(h-.8,k-7.2));this.j.ja(e);e.ye=-45*Ea;e.Ie=25*Ea;e.U(t,ua,new r(h+.8,k-7.2));this.j.ja(e);e.ye=-25*Ea;e.Ie=115*Ea;e.U(aa,Fa,new r(h-.8,k-10.5));this.j.ja(e);e.ye=-115*Ea;e.Ie=25*Ea;e.U(ua,na,new r(h+.8,k-10.5));this.j.ja(e)}b.type=0;d.shape=new D;d.fa=0;d.gb=.4;d.dc=.3;for(e=
1;10>=e;++e)d.shape.D(1*e,1),b.position.h(1*e-30,21-2*e),this.j.l(b).k(d);for(e=1;10>=e;++e)d.shape.D(1*e,1),b.position.h(30-1*e,21-2*e),this.j.l(b).k(d);d.shape.D(3,4);b.position.h(0,4);this.j.l(b).k(d)}q(Fs,Y);p("box2d.Testbed.TestRagdoll",Fs);function Gs(a,c){return new Fs(a,c)}Fs.Create=Gs;function Hs(a,c){Y.call(this,a,c);var b=new G,b=this.j.l(b),d=[];d[0]=new r(-30,0);d[1]=new r(30,0);d[2]=new r(30,40);d[3]=new r(-30,40);var e=new Fd;e.hi(d);b.k(e,0);b=new G;d=new E;b.type=2;d.shape=new D;d.fa=1;d.gb=.5;d.dc=.1;d.shape.D(1,1);for(e=0;10>e;++e)b.position.h(0+.2*Math.random()-.1,30-2.5*e),this.j.l(b).k(d);for(e=0;10>e;++e)b.position.h(10+.2*Math.random()-.1,30-2.5*e),this.j.l(b).k(d);for(e=0;10>e;++e)b.position.h(20+.2*Math.random()-.1,30-2.5*e),this.j.l(b).k(d);b.type=0;b.position.h(0,
0);e=[new r(-30,0),new r(-10,0),new r(-30,10)];d.shape.h(e,e.length);d.fa=0;this.j.l(b).k(d);b.type=2;b.position.h(-25,20);d.shape=new A(4);d.fa=2;d.dc=.2;d.gb=.5;this.j.l(b).k(d)}q(Hs,Y);p("box2d.Testbed.TestStack",Hs);function Is(a,c){return new Hs(a,c)}Hs.Create=Is;function Js(a){a.push(new oj("Sparky",fq));a.push(new oj("Ragdolls",Gs));a.push(new oj("Topdown Car",zq));a.push(new oj("Tiles",lq));a.push(new oj("Heavy on Light",As));a.push(new oj("Heavy on Light Two",Cs));a.push(new oj("Vertical Stack",Hq));a.push(new oj("Basic Slider Crank",ys));a.push(new oj("Slider Crank",Xp));a.push(new oj("Sphere Stack",hq));a.push(new oj("Convex Hull",ml));a.push(new oj("Tumbler",Bq));a.push(new oj("Ray-Cast",Cp));a.push(new oj("Dump Shell",Sl));a.push(new oj("Apply Force",
ws));a.push(new oj("Continuous Test",jl));a.push(new oj("Time of Impact",nq));a.push(new oj("Motor Joint",Po));a.push(new oj("One-Sided Platform",Zo));a.push(new oj("Mobile",Lo));a.push(new oj("MobileBalanced",No));a.push(new oj("Conveyor Belt",ol));a.push(new oj("Gears",no));a.push(new oj("Varying Restitution",Fq));a.push(new oj("Cantilever",Qk));a.push(new oj("Character Collision",Zk));a.push(new oj("Edge Test",Fn));a.push(new oj("Body Types",Gk));a.push(new oj("Shape Editing",Vp));a.push(new oj("Car",
Vk));a.push(new oj("Prismatic",np));a.push(new oj("Revolute",Ep));a.push(new oj("Pulleys",pp));a.push(new oj("Polygon Shapes",lp));a.push(new oj("Web",ns));a.push(new oj("RopeJoint",Lp));a.push(new oj("Pinball",ep));a.push(new oj("Bullet Test",Mk));a.push(new oj("Confined",hl));a.push(new oj("Pyramid",rp));a.push(new oj("Theo Jansen's Walker",jq));a.push(new oj("Edge Shapes",cm));a.push(new oj("PolyCollision",ip));a.push(new oj("Bridge",Kk));a.push(new oj("Breakable",Ik));a.push(new oj("Chain",Xk));
a.push(new oj("Collision Filtering",al));a.push(new oj("Collision Processing",cl));a.push(new oj("Compound Shapes",el));a.push(new oj("Distance Test",vl));a.push(new oj("Dominos",xl));a.push(new oj("Dynamic Tree",Vl));a.push(new oj("Sensor Test",Tp));a.push(new oj("Varying Friction",Dq));a.push(new oj("Add Pair Stress Test",wk));a.push(new oj("Rope",Ip));a.push(new oj("Blob Test",Bk));a.push(new oj("Buoyancy Test",Ok));a.push(new oj("Continuous Collision",Es));a.push(new oj("Stacked Boxes",Is));a.push(new oj("Domino Tower",
zl));a.push(new oj("Pyramid Topple",tp));a.push(new oj("Sandbox",Rp));a.push(new oj("Dam Break",sl));a.push(new oj("Liquid Timer",yo));a.push(new oj("Wave Machine",ls));a.push(new oj("Particles",ap));a.push(new oj("Faucet",Rn));a.push(new oj("Particle Drawing",Ql));a.push(new oj("Soup",Zp));a.push(new oj("Surface Tension",cp));a.push(new oj("Elastic Particles",Hn));a.push(new oj("Rigid Particles",Gp));a.push(new oj("Multiple Systems",Xo));a.push(new oj("Impulse",uo));a.push(new oj("Soup Stirrer",
cq));a.push(new oj("Fracker",lo));a.push(new oj("Maxwell",Jo));a.push(new oj("Ramp",vp));a.push(new oj("Pointy",gp));a.push(new oj("AntiPointy",zk));a.push(new oj("Corner Case",ql));a.push(new oj("Eye Candy",Kn));return a}p("box2d.Testbed.GetTestEntries",Js);var Ks=new da,Dl=new eg;
function Z(){function a(a,b,c){var d=document.createElement("input");d.type="button";d.style.width=100;d.value=b;d.addEventListener("click",c,!1);a.appendChild(d);a.appendChild(document.createElement("br"));return d}function c(a,b,c,d){var e=document.createElement("input");e.type="checkbox";e.checked=c;e.addEventListener("click",function(){d(this.checked)},!1);a.appendChild(e);a.appendChild(document.createTextNode(b));a.appendChild(document.createElement("br"))}function b(a,b,c,d,e,f){a=a.appendChild(document.createElement("tr"));
var h=a.appendChild(document.createElement("td"));h.align="right";h.appendChild(document.createTextNode(b));b=a.appendChild(document.createElement("td"));a=document.createElement("input");ps||(a.type="number");a.size=8;a.min=d||1;a.max=e||100;a.step=1;a.value=c;a.addEventListener("change",function(){f(parseInt(this.value,10))},!1);b.appendChild(a)}function d(){m.width!==m.parentNode.clientWidth&&(m.width=m.parentNode.clientWidth);m.height!==m.parentNode.clientHeight&&(m.height=m.parentNode.clientHeight)}
function e(){k.style.width=window.innerWidth+"px";k.style.height=window.innerHeight+"px"}var f=this,h=this.ju=document.body.appendChild(document.createElement("div"));h.style.position="absolute";h.style.left="0px";h.style.bottom="0px";h.style.backgroundColor="rgba(0,0,255,0.75)";h.style.color="white";h.style.font="10pt Courier New";h.style.zIndex=256;h.innerHTML="FPS";h=this.Bx=document.body.appendChild(document.createElement("div"));h.style.position="absolute";h.style.left="0px";h.style.bottom="0px";
h.style.backgroundColor="rgba(0,0,255,0.75)";h.style.color="white";h.style.font="10pt Courier New";h.style.zIndex=256;h.innerHTML="";this.ma=new nj;this.vk=Js([]);this.wr=new r;this.Or=new r;document.body.style.backgroundColor="black";var k=document.body.appendChild(document.createElement("div"));k.style.position="absolute";k.style.left="0px";k.style.top="0px";window.addEventListener("resize",function(){e()},!1);window.addEventListener("orientationchange",function(){e()},!1);e();h=k.appendChild(document.createElement("div"));
h.style.textAlign="center";h.style.color="grey";h.innerHTML="Box2D Testbed version "+pa+" (revision 313)";var l=k.appendChild(document.createElement("div")),h=this.Pq=l.appendChild(document.createElement("div"));h.style.position="absolute";h.style.left="0px";h.style.right="0px";h.style.top="0px";h.style.bottom="0px";var m=this.mh=h.appendChild(document.createElement("canvas"));window.addEventListener("resize",function(){d()},!1);window.addEventListener("orientationchange",function(){d()},!1);d();
this.ze=this.mh.getContext("2d");l=l.appendChild(document.createElement("div"));l.style.position="absolute";l.style.backgroundColor="rgba(255,255,255,0.5)";l.style.padding="8px";l.style.right="0px";l.style.top="0px";l.style.bottom="0px";l.style.overflowY="scroll";l.appendChild(document.createTextNode("Tests"));l.appendChild(document.createElement("br"));var n=document.createElement("select");n.id="testEntries";for(var t=0;t<this.vk.length;++t){var z=document.createElement("option");z.text=this.vk[t].name;
z.value=t;n.add(z,null)}n.selectedIndex=this.Tg;n.addEventListener("change",function(){f.Tg=this.selectedIndex;f.Pj()},!1);l.appendChild(n);l.appendChild(document.createElement("br"));l.appendChild(document.createElement("hr"));n=l.appendChild(document.createElement("table"));b(n,"Vel Iters",f.ma.Zg,1,20,function(a){f.ma.Zg=a});b(n,"Pos Iters",f.ma.zh,1,20,function(a){f.ma.zh=a});b(n,"Pcl Iters",f.ma.dg,1,100,function(a){f.ma.dg=a});b(n,"Hertz",f.ma.oe,10,120,function(a){f.ma.oe=a});c(l,"Sleep",f.ma.Aq,
function(a){f.ma.Aq=a});c(l,"Warm Starting",f.ma.Cq,function(a){f.ma.Cq=a});c(l,"Time of Impact",f.ma.zq,function(a){f.ma.zq=a});c(l,"Sub-Stepping",f.ma.Bq,function(a){f.ma.Bq=a});c(l,"Strict Particle/Body Contacts",f.ma.bs,function(a){f.ma.bs=a});n=l.appendChild(document.createElement("fieldset"));n.appendChild(document.createElement("legend")).appendChild(document.createTextNode("Draw"));c(n,"Shapes",f.ma.uq,function(a){f.ma.uq=a});c(n,"Particles",f.ma.sq,function(a){f.ma.sq=a});c(n,"Joints",f.ma.rq,
function(a){f.ma.rq=a});c(n,"AABBs",f.ma.lq,function(a){f.ma.lq=a});c(n,"Contact Points",f.ma.pq,function(a){f.ma.pq=a});c(n,"Contact Normals",f.ma.oq,function(a){f.ma.oq=a});c(n,"Contact Impulses",f.ma.nq,function(a){f.ma.nq=a});c(n,"Friction Impulses",f.ma.qq,function(a){f.ma.qq=a});c(n,"Center of Masses",f.ma.mq,function(a){f.ma.mq=a});c(n,"Statistics",f.ma.vq,function(a){f.ma.vq=a});c(n,"Profile",f.ma.tq,function(a){f.ma.tq=a});l=l.appendChild(document.createElement("div"));l.align="center";n=
a(l,"Pause",function(){f.it()});n=a(l,"Step",function(){f.Ft()});n=a(l,"Restart",function(){f.Pj(!0)});this.Wq=n=a(l,"Demo",function(){f.dx()});window.addEventListener("contextmenu",function(a){a.preventDefault()},!0);h.addEventListener("mousemove",function(a){f.nw(a)},!1);h.addEventListener("mousedown",function(a){f.mw(a)},!1);h.addEventListener("mouseup",function(a){f.ow(a)},!1);h.addEventListener("mousewheel",function(a){f.pw(a)},!1);h.addEventListener("touchmove",function(a){f.rw(a)},!1);h.addEventListener("touchstart",
function(a){f.sw(a)},!1);h.addEventListener("touchend",function(a){f.qw(a)},!1);window.addEventListener("keydown",function(a){f.kw(a)},!1);window.addEventListener("keyup",function(a){f.lw(a)},!1);this.Pj();this.nn=(new Date).getTime()}p("box2d.Testbed.Main",Z);Z.prototype.nn=0;Z.prototype.m_time_last=Z.prototype.nn;Z.prototype.Pm=0;Z.prototype.m_fps_time=Z.prototype.Pm;Z.prototype.cr=0;Z.prototype.m_fps_frames=Z.prototype.cr;Z.prototype.iu=0;Z.prototype.m_fps=Z.prototype.iu;Z.prototype.ju=null;
Z.prototype.m_fps_div=Z.prototype.ju;Z.prototype.Bx=null;Z.prototype.m_debug_div=Z.prototype.Bx;Z.prototype.ma=null;Z.prototype.m_settings=Z.prototype.ma;Z.prototype.Fc=null;Z.prototype.m_test=Z.prototype.Fc;Z.prototype.Tg=0;Z.prototype.m_test_index=Z.prototype.Tg;Z.prototype.vk=null;Z.prototype.m_test_entries=Z.prototype.vk;Z.prototype.dn=!1;Z.prototype.m_shift=Z.prototype.dn;Z.prototype.ol=!1;Z.prototype.m_ctrl=Z.prototype.ol;Z.prototype.kr=!1;Z.prototype.m_lMouseDown=Z.prototype.kr;
Z.prototype.Dr=!1;Z.prototype.m_rMouseDown=Z.prototype.Dr;Z.prototype.wr=null;Z.prototype.m_projection0=Z.prototype.wr;Z.prototype.Or=null;Z.prototype.m_viewCenter0=Z.prototype.Or;Z.prototype.Xq=!1;Z.prototype.m_demo_mode=Z.prototype.Xq;Z.prototype.Nm=0;Z.prototype.m_demo_time=Z.prototype.Nm;Z.prototype.xu=1E4;Z.prototype.m_max_demo_time=Z.prototype.xu;Z.prototype.Pq=null;Z.prototype.m_canvas_div=Z.prototype.Pq;Z.prototype.mh=null;Z.prototype.m_canvas=Z.prototype.mh;Z.prototype.ze=null;
Z.prototype.m_ctx=Z.prototype.ze;Z.prototype.Wq=null;Z.prototype.m_demo_button=Z.prototype.Wq;Z.prototype.jy=function(a,c){var b=this.Pq.getBoundingClientRect();return c.h(+a.x+b.left+.5*b.width,-a.y+b.top+.5*b.height)};Z.prototype.ConvertViewportToElement=Z.prototype.jy;Z.prototype.os=function(a,c){var b=this.Pq.getBoundingClientRect();return c.h(+(a.x-b.left-.5*b.width),-(a.y-b.top-.5*b.height))};Z.prototype.ConvertElementToViewport=Z.prototype.os;
Z.prototype.iy=function(a,c){var b=c.e(a);qb(1/this.ma.Cg,b,b);qb(this.ma.Tj,b,b);return b};Z.prototype.ConvertProjectionToViewport=Z.prototype.iy;Z.prototype.ps=function(a,c){var b=c.e(a);qb(1/this.ma.Tj,b,b);qb(this.ma.Cg,b,b);return b};Z.prototype.ConvertViewportToProjection=Z.prototype.ps;Z.prototype.ky=function(a,c){var b=c.e(a);x(b,this.ma.$g,b);Ub(this.ma.Vi,b,b);return b};Z.prototype.ConvertWorldToProjection=Z.prototype.ky;
Z.prototype.Kv=function(a,c){var b=c.e(a);y(this.ma.Vi,b,b);pb(this.ma.$g,b,b);return b};Z.prototype.ConvertProjectionToWorld=Z.prototype.Kv;Z.prototype.om=function(a,c){var b=this.os(a,c),b=this.ps(b,c);return this.Kv(b,c)};Z.prototype.ConvertElementToWorld=Z.prototype.om;Z.prototype.ns=function(a,c){var b=this.os(a,c);return this.ps(b,c)};Z.prototype.ConvertElementToProjection=Z.prototype.ns;Z.prototype.bo=function(a){var c=this.ma.$g.za(),b=this.ma.Vi.za();a.Fw(b.hc());c.Qa(a);this.ma.$g.e(c)};
Z.prototype.MoveCamera=Z.prototype.bo;Z.prototype.ot=function(a){this.ma.Vi.Ba(this.ma.Vi.hc()+a)};Z.prototype.RollCamera=Z.prototype.ot;Z.prototype.ro=function(a){this.ma.Cg*=a;this.ma.Cg=Ka(this.ma.Cg,.02,200)};Z.prototype.ZoomCamera=Z.prototype.ro;Z.prototype.at=function(){this.ma.Cg=this.Fc?this.Fc.Ib():1;this.ma.$g.h(0,20*this.ma.Cg);this.ma.Vi.Ba(0*Ea)};Z.prototype.HomeCamera=Z.prototype.at;
Z.prototype.nw=function(a){a=new r(a.clientX,a.clientY);var c=this.om(a,new r);this.kr&&this.Fc.Pe(c);this.Dr&&(a=this.ns(a,new r),a=x(a,this.wr,new r),a=x(this.Or,a,new r),this.ma.$g.e(a))};Z.prototype.HandleMouseMove=Z.prototype.nw;Z.prototype.mw=function(a){var c=new r(a.clientX,a.clientY),b=this.om(c,new r);switch(a.which){case 1:this.kr=!0;this.dn?this.Fc.Uw(b):this.Fc.Oe(b);break;case 3:a=this.ns(c,new r),this.wr.e(a),this.Or.e(this.ma.$g),this.Dr=!0}};Z.prototype.HandleMouseDown=Z.prototype.mw;
Z.prototype.ow=function(a){var c=this.om(new r(a.clientX,a.clientY),new r);switch(a.which){case 1:this.Fc.Tc(c);this.kr=!1;break;case 3:this.Dr=!1}};Z.prototype.HandleMouseUp=Z.prototype.ow;Z.prototype.rw=function(a){var c=this.om(new r(a.touches[0].clientX,a.touches[0].clientY),new r);this.Fc.Pe(c);a.preventDefault()};Z.prototype.HandleTouchMove=Z.prototype.rw;Z.prototype.sw=function(a){var c=this.om(new r(a.touches[0].clientX,a.touches[0].clientY),new r);this.Fc.Oe(c);a.preventDefault()};
Z.prototype.HandleTouchStart=Z.prototype.sw;Z.prototype.qw=function(a){this.Fc.Tc(this.Fc.Bi);a.preventDefault()};Z.prototype.HandleTouchEnd=Z.prototype.qw;Z.prototype.pw=function(a){0<a.wheelDelta?this.ro(1/1.1):0>a.wheelDelta&&this.ro(1.1);a.preventDefault()};Z.prototype.HandleMouseWheel=Z.prototype.pw;
Z.prototype.kw=function(a){switch(a.keyCode){case 17:this.ol=!0;break;case 16:this.dn=!0;break;case 37:this.ol?this.Fc&&this.Fc.ae(new r(2,0)):this.bo(new r(-.5,0));break;case 39:this.ol?this.Fc&&this.Fc.ae(new r(-2,0)):this.bo(new r(.5,0));break;case 40:this.ol?this.Fc&&this.Fc.ae(new r(0,2)):this.bo(new r(0,-.5));break;case 38:this.ol?this.Fc&&this.Fc.ae(new r(0,-2)):this.bo(new r(0,.5));break;case 34:this.ot(-1*Ea);break;case 33:this.ot(1*Ea);break;case Ol:this.ro(1/1.1);break;case El:this.ro(1.1);
break;case 36:this.at();break;case Gl:this.Pj(!0);break;case 32:this.Fc&&this.Fc.xw();break;case Fl:this.it();break;case 219:this.Pv();break;case 221:this.ct();break;case Fo:this.dn&&Dl.us();break;case Do:this.dn&&Dl.bt();break;case 191:this.Ft()}this.Fc&&this.Fc.qa(a.keyCode)};Z.prototype.HandleKeyDown=Z.prototype.kw;Z.prototype.lw=function(a){switch(a.keyCode){case 17:this.ol=!1;break;case 16:this.dn=!1}this.Fc&&this.Fc.we(a.keyCode)};Z.prototype.HandleKeyUp=Z.prototype.lw;
Z.prototype.ix=function(a){this.Xq?(this.Nm+=a,this.Nm>this.xu&&this.ct(),this.Wq.value=((500+this.xu-this.Nm)/1E3).toFixed(0).toString()):this.Wq.value="Demo"};Z.prototype.UpdateTest=Z.prototype.ix;Z.prototype.Pv=function(){0>=this.Tg&&(this.Tg=this.vk.length);this.Tg--;document.getElementById("testEntries").selectedIndex=this.Tg;this.Pj()};Z.prototype.DecrementTest=Z.prototype.Pv;
Z.prototype.ct=function(){this.Tg++;this.Tg>=this.vk.length&&(this.Tg=0);document.getElementById("testEntries").selectedIndex=this.Tg;this.Pj()};Z.prototype.IncrementTest=Z.prototype.ct;Z.prototype.Pj=function(a){Ks.ub();a||Dl.ub();this.Nm=0;this.Fc&&this.Fc.Cw();this.Fc=this.vk[this.Tg].bl(this.mh,this.ma);a||this.at()};Z.prototype.LoadTest=Z.prototype.Pj;Z.prototype.it=function(){this.ma.pause=!this.ma.pause};Z.prototype.Pause=Z.prototype.it;
Z.prototype.Ft=function(){this.ma.pause=!0;this.ma.jm=!0};Z.prototype.SingleStep=Z.prototype.Ft;Z.prototype.dx=function(){this.Xq=!this.Xq};Z.prototype.ToggleDemo=Z.prototype.dx;
Z.prototype.Xw=function(){var a=(new Date).getTime();this.nn=this.nn||a;var c=a-this.nn;this.nn=a;1E3<c&&(c=1E3);this.Pm+=c;this.cr++;500<=this.Pm&&(this.iu=1E3*this.cr/this.Pm,this.Pm=this.cr=0,this.ju.innerHTML=this.iu.toFixed(1).toString());if(0<c){var a=this.ze,b=this.mh.width,d=this.mh.height;a.clearRect(0,0,b,d);a.save();a.translate(.5*b,.5*d);a.scale(1,-1);a.scale(this.ma.Tj,this.ma.Tj);a.lineWidth/=this.ma.Tj;a.scale(1/this.ma.Cg,1/this.ma.Cg);a.lineWidth*=this.ma.Cg;a.rotate(-this.ma.Vi.hc());
a.translate(-this.ma.$g.x,-this.ma.$g.y);this.Fc.o(this.ma);var b=[!1],d=Dl,e=d.Yt;d.Yt=!1;b&&(b[0]=e&&d.tk);d=this.vk[this.Tg].name;Ks.Gu&&(d=d+" : "+Dl.Nr.name);this.Fc.Sv(d);a.restore();b[0]&&this.Pj(!0);this.ix(c)}};Z.prototype.SimulationLoop=Z.prototype.Xw;p("box2d.Testbed.TestMain.SetRestartOnParticleParameterChange",function(a){Dl.tk=a});
function Pl(a){a:{for(var c=Dl,b=0,d=0;d<c.Vq;++d)for(var e=c.Uq[d],f=e.jp,h=0;h<f;++h,++b)if(e.fs[h].value===a){a=b;break a}a=-1}Dl.h(0<=a?a:0);return Dl.Nr.value}p("box2d.Testbed.TestMain.SetParticleParameterValue",Pl);function yk(){Ks.Gu=!0;return Dl.Nr.value}p("box2d.Testbed.TestMain.GetParticleParameterValue",yk);function gk(a,c){xg(Dl,a,c)}p("box2d.Testbed.TestMain.SetParticleParameters",gk);ba.uB=ba.requestAnimationFrame||ba.webkitRequestAnimationFrame||ba.mozRequestAnimationFrame||ba.oRequestAnimationFrame||ba.msRequestAnimationFrame||function(a){ba.setTimeout(a,1E3/60)};var Ls=null;p("main.m_app",Ls);p("main.start",function(){Ls=new Z;Ms()});function Ms(){ba.uB(Ms);Ls.Xw()}p("main.loop",Ms);

//# sourceMappingURL=box2d-html5-testbed.map.json
