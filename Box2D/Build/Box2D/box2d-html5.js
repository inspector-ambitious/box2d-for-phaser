var k,aa=this;function q(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function ca(a,b){function c(){}c.prototype=b.prototype;a.Dy=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Kx=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};Object.defineProperty||(Object.defineProperty=function(a,b,c){Object.__defineGetter__&&("get"in c?a.__defineGetter__(b,c.get):"value"in c&&a.__defineGetter__(b,c.value));Object.__defineSetter__&&("set"in c?a.__defineSetter__(b,c.set):"value"in c&&a.__defineSetter__(b,c.value))});q("box2d.DEBUG",!1);q("box2d.ENABLE_ASSERTS",!1);q("box2d.b2Assert",function(){});q("box2d.b2_maxFloat",1E37);q("box2d.b2_epsilon",1E-5);var da=1E-5*1E-5;q("box2d.b2_epsilon_sq",da);var ea=Math.PI;q("box2d.b2_pi",ea);
q("box2d.b2_maxManifoldPoints",2);q("box2d.b2_maxPolygonVertices",8);q("box2d.b2_aabbExtension",.1);q("box2d.b2_aabbMultiplier",2);q("box2d.b2_linearSlop",.008);var fa=2/180*ea;q("box2d.b2_angularSlop",fa);q("box2d.b2_polygonRadius",.016);q("box2d.b2_maxSubSteps",8);q("box2d.b2_maxTOIContacts",32);q("box2d.b2_velocityThreshold",1);q("box2d.b2_maxLinearCorrection",.2);var ga=8/180*ea;q("box2d.b2_maxAngularCorrection",ga);q("box2d.b2_maxTranslation",2);q("box2d.b2_maxTranslationSquared",4);
var ha=.5*ea;q("box2d.b2_maxRotation",ha);var ia=ha*ha;q("box2d.b2_maxRotationSquared",ia);q("box2d.b2_baumgarte",.2);q("box2d.b2_toiBaumgarte",.75);q("box2d.b2_invalidParticleIndex",-1);q("box2d.b2_maxParticleIndex",2147483647);q("box2d.b2_particleStride",.75);q("box2d.b2_minParticleWeight",1);q("box2d.b2_maxParticlePressure",.25);q("box2d.b2_maxParticleForce",.5);q("box2d.b2_maxTriadDistance",2);q("box2d.b2_maxTriadDistanceSquared",4);q("box2d.b2_minParticleSystemBufferCapacity",256);
q("box2d.b2_barrierCollisionTime",2.5);q("box2d.b2_timeToSleep",.5);q("box2d.b2_linearSleepTolerance",.01);var ka=2/180*ea;q("box2d.b2_angularSleepTolerance",ka);q("box2d.b2Alloc",function(){return null});q("box2d.b2Free",function(){});function la(a){aa.console.log.apply(null,arguments)}q("box2d.b2Log",la);function ma(a,b,c){this.Ko=a||0;this.Lo=b||0;this.Po=c||0}q("box2d.b2Version",ma);ma.prototype.Ko=0;ma.prototype.major=ma.prototype.Ko;ma.prototype.Lo=0;ma.prototype.minor=ma.prototype.Lo;
ma.prototype.Po=0;ma.prototype.revision=ma.prototype.Po;ma.prototype.toString=function(){return this.Ko+"."+this.Lo+"."+this.Po};ma.prototype.toString=ma.prototype.toString;q("box2d.b2_version",new ma(2,3,2));q("box2d.b2_changelist",313);q("box2d.b2ParseInt",function(a){return parseInt(a,10)});q("box2d.b2ParseUInt",function(a){return na(parseInt(a,10))});
function oa(a,b){a="number"===typeof a?a:0;var c=[];if("function"===typeof b)for(var d=0;d<a;++d)c.push(b(d));else for(d=0;d<a;++d)c.push(null);return c}q("box2d.b2MakeArray",oa);function pa(a){return oa(a,function(){return 0})}q("box2d.b2MakeNumberArray",pa);function qa(){}q("box2d.b2ControllerEdge",qa);qa.prototype.$n=null;qa.prototype.controller=qa.prototype.$n;qa.prototype.body=null;qa.prototype.body=qa.prototype.body;qa.prototype.vi=null;qa.prototype.prevBody=qa.prototype.vi;qa.prototype.Xd=null;qa.prototype.nextBody=qa.prototype.Xd;qa.prototype.wi=null;qa.prototype.prevController=qa.prototype.wi;qa.prototype.uh=null;qa.prototype.nextController=qa.prototype.uh;function sa(){}q("box2d.b2Controller",sa);sa.prototype.bb=null;sa.prototype.m_world=sa.prototype.bb;
sa.prototype.Ya=null;sa.prototype.m_bodyList=sa.prototype.Ya;sa.prototype.gc=0;sa.prototype.m_bodyCount=sa.prototype.gc;sa.prototype.Ha=null;sa.prototype.m_prev=sa.prototype.Ha;sa.prototype.H=null;sa.prototype.m_next=sa.prototype.H;sa.prototype.tc=function(){};sa.prototype.Step=sa.prototype.tc;sa.prototype.Hi=function(){};sa.prototype.Draw=sa.prototype.Hi;sa.prototype.Ec=function(){return this.H};sa.prototype.GetNext=sa.prototype.Ec;sa.prototype.$s=function(){return this.Ha};
sa.prototype.GetPrev=sa.prototype.$s;sa.prototype.rn=function(){return this.bb};sa.prototype.GetWorld=sa.prototype.rn;sa.prototype.Um=function(){return this.Ya};sa.prototype.GetBodyList=sa.prototype.Um;sa.prototype.ig=function(a){var b=new qa;b.body=a;b.$n=this;b.Xd=this.Ya;b.vi=null;this.Ya&&(this.Ya.vi=b);this.Ya=b;++this.gc;b.uh=a.bd;b.wi=null;a.bd&&(a.bd.wi=b);a.bd=b;++a.ug};sa.prototype.AddBody=sa.prototype.ig;
sa.prototype.xn=function(a){for(var b=this.Ya;b&&b.body!==a;)b=b.Xd;b.vi&&(b.vi.Xd=b.Xd);b.Xd&&(b.Xd.vi=b.vi);this.Ya===b&&(this.Ya=b.Xd);--this.gc;b.uh&&(b.uh.wi=b.wi);b.wi&&(b.wi.uh=b.uh);a.bd===b&&(a.bd=b.uh);--a.ug};sa.prototype.RemoveBody=sa.prototype.xn;sa.prototype.Bh=function(){for(;this.Ya;)this.xn(this.Ya.body);this.gc=0};sa.prototype.Clear=sa.prototype.Bh;function ta(a,b,c,d){this.Za=a;this.Wa=b;this.Ua=c;this.f="number"===typeof d?d:1}q("box2d.b2Color",ta);ta.prototype.Za=.5;ta.prototype.r=ta.prototype.Za;ta.prototype.Wa=.5;ta.prototype.g=ta.prototype.Wa;ta.prototype.Ua=.5;ta.prototype.b=ta.prototype.Ua;ta.prototype.f=1;ta.prototype.a=ta.prototype.f;ta.prototype.og=function(a,b,c){this.Za=a;this.Wa=b;this.Ua=c;return this};ta.prototype.SetRGB=ta.prototype.og;
ta.prototype.Jt=function(a){var b=Math.round(Math.max(0,Math.min(255,255*this.Za))),c=Math.round(Math.max(0,Math.min(255,255*this.Wa))),d=Math.round(Math.max(0,Math.min(255,255*this.Ua)));a="undefined"===typeof a?this.f:Math.max(0,Math.min(1,a));return ua(b,c,d,a)};ta.prototype.MakeStyleString=ta.prototype.Jt;function ua(a,b,c,d){return 1>d?"rgba("+a+","+b+","+c+","+d+")":"rgb("+a+","+b+","+c+")"}ta.MakeStyleString=ua;ta.RED=new ta(1,0,0);ta.GREEN=new ta(0,1,0);ta.BLUE=new ta(0,0,1);
var va={ly:0,wy:1,iy:2,Lx:4,ny:8,Qx:16,Vx:32,oy:64,Mx:65535};q("box2d.b2DrawFlags",va);va.e_none=0;va.e_shapeBit=1;va.e_jointBit=2;va.e_aabbBit=4;va.e_pairBit=8;va.e_centerOfMassBit=16;va.e_controllerBit=32;va.e_particleBit=64;va.e_all=65535;function wa(){}q("box2d.b2Draw",wa);wa.prototype.bi=0;wa.prototype.m_drawFlags=wa.prototype.bi;wa.prototype.Dn=function(a){this.bi=a};wa.prototype.SetFlags=wa.prototype.Dn;wa.prototype.ml=function(){return this.bi};wa.prototype.GetFlags=wa.prototype.ml;
wa.prototype.hr=function(a){this.bi|=a};wa.prototype.AppendFlags=wa.prototype.hr;wa.prototype.pr=function(a){this.bi&=~a};wa.prototype.ClearFlags=wa.prototype.pr;wa.prototype.Rt=function(){};wa.prototype.PushTransform=wa.prototype.Rt;wa.prototype.Ot=function(){};wa.prototype.PopTransform=wa.prototype.Ot;wa.prototype.Hr=function(){};wa.prototype.DrawPolygon=wa.prototype.Hr;wa.prototype.Lr=function(){};wa.prototype.DrawSolidPolygon=wa.prototype.Lr;wa.prototype.Fr=function(){};
wa.prototype.DrawCircle=wa.prototype.Fr;wa.prototype.Kr=function(){};wa.prototype.DrawSolidCircle=wa.prototype.Kr;wa.prototype.Gr=function(){};wa.prototype.DrawParticles=wa.prototype.Gr;wa.prototype.Ir=function(){};wa.prototype.DrawSegment=wa.prototype.Ir;wa.prototype.Mr=function(){};wa.prototype.DrawTransform=wa.prototype.Mr;function xa(a){this.uk=Array(a)}q("box2d.b2GrowableStack",xa);xa.prototype.uk=null;xa.prototype.m_stack=xa.prototype.uk;xa.prototype.h=0;xa.prototype.m_count=xa.prototype.h;xa.prototype.xb=function(){this.h=0;return this};xa.prototype.Reset=xa.prototype.xb;xa.prototype.Rc=function(a){this.uk[this.h]=a;++this.h};xa.prototype.Push=xa.prototype.Rc;xa.prototype.Ji=function(){--this.h;var a=this.uk[this.h];this.uk[this.h]=null;return a};xa.prototype.Pop=xa.prototype.Ji;xa.prototype.Fh=function(){return this.h};
xa.prototype.GetCount=xa.prototype.Fh;var ya=ea/180;q("box2d.b2_pi_over_180",ya);var za=180/ea;q("box2d.b2_180_over_pi",za);var Ca=2*ea;q("box2d.b2_two_pi",Ca);var na=Math.abs;q("box2d.b2Abs",na);var Da=Math.min;q("box2d.b2Min",Da);var Ea=Math.max;q("box2d.b2Max",Ea);function Fa(a,b,c){return Math.min(Math.max(a,b),c)}q("box2d.b2Clamp",Fa);q("box2d.b2Wrap",function(a,b,c){return b<c?a<b?c-(b-a)%(c-b):b+(a-b)%(c-b):b===c?b:a});function Ga(a){return 0>a?(a-ea)%Ca+ea:(a+ea)%Ca-ea}q("box2d.b2WrapAngle",Ga);
q("box2d.b2Swap",function(a,b){var c=a[0];a[0]=b[0];b[0]=c});q("box2d.b2IsValid",function(a){return isFinite(a)});function Ha(a){return a*a}q("box2d.b2Sq",Ha);function La(a){return 1/Math.sqrt(a)}q("box2d.b2InvSqrt",La);function Na(a){return Math.sqrt(a)}q("box2d.b2Sqrt",Na);function Oa(a,b){return Math.pow(a,b)}q("box2d.b2Pow",Oa);q("box2d.b2DegToRad",function(a){return a*ya});q("box2d.b2RadToDeg",function(a){return a*za});q("box2d.b2Cos",function(a){return Math.cos(a)});q("box2d.b2Sin",function(a){return Math.sin(a)});
q("box2d.b2Acos",function(a){return Math.acos(a)});function Pa(a){return Math.asin(a)}q("box2d.b2Asin",Pa);function Qa(a,b){return Math.atan2(a,b)}q("box2d.b2Atan2",Qa);q("box2d.b2NextPowerOfTwo",function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1});q("box2d.b2IsPowerOfTwo",function(a){return 0<a&&0===(a&a-1)});q("box2d.b2Random",function(){return 2*Math.random()-1});q("box2d.b2RandomRange",function(a,b){return(b-a)*Math.random()+a});
function r(a,b){this.x=a||0;this.y=b||0}q("box2d.b2Vec2",r);r.prototype.x=0;r.prototype.x=r.prototype.x;r.prototype.y=0;r.prototype.y=r.prototype.y;var Ra=new r;q("box2d.b2Vec2_zero",Ra);r.ZERO=new r;r.UNITX=new r(1,0);r.UNITY=new r(0,1);var t=new r;r.s_t0=t;var Sa=new r;r.s_t1=Sa;var Ta=new r;r.s_t2=Ta;var Wa=new r;r.s_t3=Wa;function Xa(a){return oa(a,function(){return new r})}r.MakeArray=Xa;r.prototype.ba=function(){return new r(this.x,this.y)};r.prototype.Clone=r.prototype.ba;
r.prototype.R=function(){this.y=this.x=0;return this};r.prototype.SetZero=r.prototype.R;r.prototype.U=function(a,b){this.x=a;this.y=b;return this};r.prototype.Set=r.prototype.U;r.prototype.d=function(a){this.x=a.x;this.y=a.y;return this};r.prototype.Copy=r.prototype.d;r.prototype.Da=function(a){this.x+=a.x;this.y+=a.y;return this};r.prototype.SelfAdd=r.prototype.Da;r.prototype.An=function(a,b){this.x+=a;this.y+=b;return this};r.prototype.SelfAddXY=r.prototype.An;
r.prototype.gb=function(a){this.x-=a.x;this.y-=a.y;return this};r.prototype.SelfSub=r.prototype.gb;r.prototype.Cn=function(a,b){this.x-=a;this.y-=b;return this};r.prototype.SelfSubXY=r.prototype.Cn;r.prototype.cb=function(a){this.x*=a;this.y*=a;return this};r.prototype.SelfMul=r.prototype.cb;r.prototype.Z=function(a,b){this.x+=a*b.x;this.y+=a*b.y;return this};r.prototype.SelfMulAdd=r.prototype.Z;r.prototype.Ea=function(a,b){this.x-=a*b.x;this.y-=a*b.y;return this};r.prototype.SelfMulSub=r.prototype.Ea;
r.prototype.Er=function(a){return this.x*a.x+this.y*a.y};r.prototype.Dot=r.prototype.Er;r.prototype.wr=function(a){return this.x*a.y-this.y*a.x};r.prototype.Cross=r.prototype.wr;r.prototype.Qc=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)};r.prototype.Length=r.prototype.Qc;r.prototype.Md=function(){var a=this.x,b=this.y;return a*a+b*b};r.prototype.LengthSquared=r.prototype.Md;r.prototype.ec=function(){var a=this.Qc();if(1E-5<=a){var b=1/a;this.x*=b;this.y*=b}return a};
r.prototype.Normalize=r.prototype.ec;r.prototype.ke=function(){this.ec();return this};r.prototype.SelfNormalize=r.prototype.ke;r.prototype.dq=function(a,b){var c=this.x,d=this.y;this.x=a*c-b*d;this.y=b*c+a*d;return this};r.prototype.SelfRotate=r.prototype.dq;r.prototype.lu=function(a){return this.dq(Math.cos(a),Math.sin(a))};r.prototype.SelfRotateAngle=r.prototype.lu;r.prototype.Rj=function(){return isFinite(this.x)&&isFinite(this.y)};r.prototype.IsValid=r.prototype.Rj;
r.prototype.iu=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this};r.prototype.SelfMin=r.prototype.iu;r.prototype.hu=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this};r.prototype.SelfMax=r.prototype.hu;r.prototype.Tj=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);return this};r.prototype.SelfAbs=r.prototype.Tj;r.prototype.la=function(){this.x=-this.x;this.y=-this.y;return this};r.prototype.SelfNeg=r.prototype.la;
r.prototype.Bn=function(){var a=this.x;this.x=-this.y;this.y=a;return this};r.prototype.SelfSkew=r.prototype.Bn;function Ya(a,b){b.x=Math.abs(a.x);b.y=Math.abs(a.y);return b}q("box2d.b2Abs_V2",Ya);function Za(a,b,c){c.x=Math.min(a.x,b.x);c.y=Math.min(a.y,b.y);return c}q("box2d.b2Min_V2_V2",Za);function $a(a,b,c){c.x=Math.max(a.x,b.x);c.y=Math.max(a.y,b.y);return c}q("box2d.b2Max_V2_V2",$a);
q("box2d.b2Clamp_V2_V2_V2",function(a,b,c,d){d.x=Math.min(Math.max(a.x,b.x),c.x);d.y=Math.min(Math.max(a.y,b.y),c.y);return d});function u(a,b){return a.x*b.x+a.y*b.y}q("box2d.b2Dot_V2_V2",u);function v(a,b){return a.x*b.y-a.y*b.x}q("box2d.b2Cross_V2_V2",v);function ab(a,b,c){var d=a.x;c.x=b*a.y;c.y=-b*d;return c}q("box2d.b2Cross_V2_S",ab);function bb(a,b,c){var d=b.x;c.x=-a*b.y;c.y=a*d;return c}q("box2d.b2Cross_S_V2",bb);function cb(a,b,c){c.x=a.x+b.x;c.y=a.y+b.y;return c}q("box2d.b2Add_V2_V2",cb);
function w(a,b,c){c.x=a.x-b.x;c.y=a.y-b.y;return c}q("box2d.b2Sub_V2_V2",w);q("box2d.b2Add_V2_S",function(a,b,c){c.x=a.x+b;c.y=a.y+b;return c});q("box2d.b2Sub_V2_S",function(a,b,c){c.x=a.x-b;c.y=a.y-b;return c});function db(a,b,c){c.x=b.x*a;c.y=b.y*a;return c}q("box2d.b2Mul_S_V2",db);q("box2d.b2Mul_V2_S",function(a,b,c){c.x=a.x*b;c.y=a.y*b;return c});q("box2d.b2Div_V2_S",function(a,b,c){c.x=a.x/b;c.y=a.y/b;return c});function eb(a,b,c,d){d.x=a.x+b*c.x;d.y=a.y+b*c.y;return d}
q("box2d.b2AddMul_V2_S_V2",eb);function fb(a,b,c,d){d.x=a.x-b*c.x;d.y=a.y-b*c.y;return d}q("box2d.b2SubMul_V2_S_V2",fb);function gb(a,b,c,d){var e=c.x;d.x=a.x-b*c.y;d.y=a.y+b*e;return d}q("box2d.b2AddCross_V2_S_V2",gb);function hb(a,b,c){c.x=.5*(a.x+b.x);c.y=.5*(a.y+b.y);return c}q("box2d.b2Mid_V2_V2",hb);function ib(a,b,c){c.x=.5*(b.x-a.x);c.y=.5*(b.y-a.y);return c}q("box2d.b2Ext_V2_V2",ib);function jb(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}q("box2d.b2Distance",jb);
function kb(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}q("box2d.b2DistanceSquared",kb);function z(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}q("box2d.b2Vec3",z);z.prototype.x=0;z.prototype.x=z.prototype.x;z.prototype.y=0;z.prototype.y=z.prototype.y;z.prototype.z=0;z.prototype.z=z.prototype.z;z.ZERO=new z;var mb=new z;z.s_t0=mb;z.prototype.ba=function(){return new z(this.x,this.y,this.z)};z.prototype.Clone=z.prototype.ba;z.prototype.R=function(){this.z=this.y=this.x=0;return this};
z.prototype.SetZero=z.prototype.R;z.prototype.U=function(a,b,c){this.x=a;this.y=b;this.z=c;return this};z.prototype.Set=z.prototype.U;z.prototype.d=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};z.prototype.Copy=z.prototype.d;z.prototype.la=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};z.prototype.SelfNeg=z.prototype.la;z.prototype.Da=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};z.prototype.SelfAdd=z.prototype.Da;
z.prototype.eu=function(a,b){this.x+=a.x;this.y+=a.y;this.z+=b;return this};z.prototype.SelfAddV2=z.prototype.eu;z.prototype.fu=function(a,b,c){this.x+=a;this.y+=b;this.z+=c;return this};z.prototype.SelfAddXYZ=z.prototype.fu;z.prototype.gb=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};z.prototype.SelfSub=z.prototype.gb;z.prototype.mu=function(a,b){this.x-=a.x;this.y-=a.y;this.z-=b;return this};z.prototype.SelfSubV2=z.prototype.mu;
z.prototype.nu=function(a,b,c){this.x-=a;this.y-=b;this.z-=c;return this};z.prototype.SelfSubXYZ=z.prototype.nu;z.prototype.cb=function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this};z.prototype.SelfMul=z.prototype.cb;z.prototype.ju=function(a,b){this.x*=a.x;this.y*=a.y;this.z*=b;return this};z.prototype.SelfMulV2=z.prototype.ju;z.prototype.ku=function(a,b,c){this.x*=a;this.y*=b;this.z*=c;return this};z.prototype.SelfMulXYZ=z.prototype.ku;
z.prototype.ul=function(a){this.x*=a;this.y*=a;this.z*=a;return this};z.prototype.SelfMulScalar=z.prototype.ul;z.prototype.Qc=function(){var a=this.x,b=this.y,c=this.z;return Math.sqrt(a*a+b*b+c*c)};z.prototype.Length=z.prototype.Qc;z.prototype.Md=function(){var a=this.x,b=this.y,c=this.z;return a*a+b*b+c*c};z.prototype.LengthSquared=z.prototype.Md;z.prototype.ec=function(){var a=this.Qc();if(1E-5<=a){var b=1/a;this.x*=b;this.y*=b;this.z*=b}return a};z.prototype.Normalize=z.prototype.ec;
z.prototype.ke=function(){this.ec();return this};z.prototype.SelfNormalize=z.prototype.ke;function nb(a,b,c){c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;return c}q("box2d.b2Add_V3_V3",nb);function ob(a,b,c){c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;return c}q("box2d.b2Sub_V3_V3",ob);function pb(a,b){return a.x*b.x+a.y*b.y+a.z*b.z}q("box2d.b2Dot_V3_V3",pb);function qb(a,b,c){var d=a.x,e=a.y;a=a.z;var f=b.x,g=b.y;b=b.z;c.x=e*b-a*g;c.y=a*f-d*b;c.z=d*g-e*f;return c}q("box2d.b2Cross_V3_V3",qb);
function rb(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.k=d||0}q("box2d.b2Vec4",rb);rb.prototype.x=0;rb.prototype.x=rb.prototype.x;rb.prototype.y=0;rb.prototype.y=rb.prototype.y;rb.prototype.z=0;rb.prototype.z=rb.prototype.z;rb.prototype.k=0;rb.prototype.w=rb.prototype.k;rb.ZERO=new rb(0,0,0,0);rb.s_t0=new rb;rb.prototype.ba=function(){return new rb(this.x,this.y,this.z,this.k)};rb.prototype.Clone=rb.prototype.ba;rb.prototype.R=function(){this.k=this.z=this.y=this.x=0;return this};
rb.prototype.SetZero=rb.prototype.R;rb.prototype.U=function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.k=d;return this};rb.prototype.Set=rb.prototype.U;rb.prototype.d=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.k=a.k;return this};rb.prototype.Copy=rb.prototype.d;function sb(){this.C=new r(1,0);this.J=new r(0,1)}q("box2d.b2Mat22",sb);sb.prototype.C=null;sb.prototype.ex=sb.prototype.C;sb.prototype.J=null;sb.prototype.ey=sb.prototype.J;sb.IDENTITY=new sb;sb.prototype.ba=function(){return(new sb).d(this)};
sb.prototype.Clone=sb.prototype.ba;sb.prototype.fa=function(a){var b=Math.cos(a);a=Math.sin(a);this.C.U(b,a);this.J.U(-a,b);return this};sb.prototype.SetAngle=sb.prototype.fa;sb.prototype.d=function(a){this.C.d(a.C);this.J.d(a.J);return this};sb.prototype.Copy=sb.prototype.d;sb.prototype.lf=function(){this.C.U(1,0);this.J.U(0,1);return this};sb.prototype.SetIdentity=sb.prototype.lf;sb.prototype.R=function(){this.C.R();this.J.R();return this};sb.prototype.SetZero=sb.prototype.R;
sb.prototype.Wb=function(){return Math.atan2(this.C.y,this.C.x)};sb.prototype.GetAngle=sb.prototype.Wb;sb.prototype.Ii=function(a){var b=this.C.x,c=this.J.x,d=this.C.y,e=this.J.y,f=b*e-c*d;0!==f&&(f=1/f);a.C.x=f*e;a.J.x=-f*c;a.C.y=-f*d;a.J.y=f*b;return a};sb.prototype.GetInverse=sb.prototype.Ii;sb.prototype.Re=function(a,b,c){var d=this.C.x,e=this.J.x,f=this.C.y,g=this.J.y,h=d*g-e*f;0!==h&&(h=1/h);c.x=h*(g*a-e*b);c.y=h*(d*b-f*a);return c};sb.prototype.Solve=sb.prototype.Re;
sb.prototype.Tj=function(){this.C.Tj();this.J.Tj();return this};sb.prototype.SelfAbs=sb.prototype.Tj;sb.prototype.gu=function(){return this.Ii(this)};sb.prototype.SelfInv=sb.prototype.gu;sb.prototype.Da=function(a){this.C.Da(a.C);this.J.Da(a.J);return this};sb.prototype.SelfAdd=sb.prototype.Da;sb.prototype.gb=function(a){this.C.gb(a.C);this.J.gb(a.J);return this};sb.prototype.SelfSub=sb.prototype.gb;
q("box2d.b2Abs_M22",function(a,b){var c=a.C,d=a.J;b.C.x=na(c.x);b.C.y=na(c.y);b.J.x=na(d.x);b.J.y=na(d.y);return b});function tb(a,b,c){var d=a.C;a=a.J;var e=b.x;b=b.y;c.x=d.x*e+a.x*b;c.y=d.y*e+a.y*b;return c}q("box2d.b2Mul_M22_V2",tb);function ub(a,b,c){var d=a.C;a=a.J;var e=b.x;b=b.y;c.x=d.x*e+d.y*b;c.y=a.x*e+a.y*b;return c}q("box2d.b2MulT_M22_V2",ub);q("box2d.b2Add_M22_M22",function(a,b,c){var d=a.C;a=a.J;var e=b.C;b=b.J;c.C.x=d.x+e.x;c.C.y=d.y+e.y;c.J.x=a.x+b.x;c.J.y=a.y+b.y;return c});
function vb(a,b,c){var d=a.C.x,e=a.C.y,f=a.J.x;a=a.J.y;var g=b.C.x,h=b.C.y,l=b.J.x;b=b.J.y;c.C.x=d*g+f*h;c.C.y=e*g+a*h;c.J.x=d*l+f*b;c.J.y=e*l+a*b;return c}q("box2d.b2Mul_M22_M22",vb);function yb(a,b,c){var d=a.C.x,e=a.C.y,f=a.J.x;a=a.J.y;var g=b.C.x,h=b.C.y,l=b.J.x;b=b.J.y;c.C.x=d*g+e*h;c.C.y=f*g+a*h;c.J.x=d*l+e*b;c.J.y=f*l+a*b;return c}q("box2d.b2MulT_M22_M22",yb);function zb(){this.C=new z(1,0,0);this.J=new z(0,1,0);this.sa=new z(0,0,1)}q("box2d.b2Mat33",zb);zb.prototype.C=null;
zb.prototype.ex=zb.prototype.C;zb.prototype.J=null;zb.prototype.ey=zb.prototype.J;zb.prototype.sa=null;zb.prototype.ez=zb.prototype.sa;zb.IDENTITY=new zb;zb.prototype.ba=function(){return(new zb).d(this)};zb.prototype.Clone=zb.prototype.ba;zb.prototype.d=function(a){this.C.d(a.C);this.J.d(a.J);this.sa.d(a.sa);return this};zb.prototype.Copy=zb.prototype.d;zb.prototype.lf=function(){this.C.U(1,0,0);this.J.U(0,1,0);this.sa.U(0,0,1);return this};zb.prototype.SetIdentity=zb.prototype.lf;
zb.prototype.R=function(){this.C.R();this.J.R();this.sa.R();return this};zb.prototype.SetZero=zb.prototype.R;zb.prototype.Da=function(a){this.C.Da(a.C);this.J.Da(a.J);this.sa.Da(a.sa);return this};zb.prototype.SelfAdd=zb.prototype.Da;
zb.prototype.Yj=function(a,b,c,d){var e=this.C.x,f=this.C.y,g=this.C.z,h=this.J.x,l=this.J.y,m=this.J.z,n=this.sa.x,p=this.sa.y,y=this.sa.z,x=e*(l*y-m*p)+f*(m*n-h*y)+g*(h*p-l*n);0!==x&&(x=1/x);d.x=x*(a*(l*y-m*p)+b*(m*n-h*y)+c*(h*p-l*n));d.y=x*(e*(b*y-c*p)+f*(c*n-a*y)+g*(a*p-b*n));d.z=x*(e*(l*c-m*b)+f*(m*a-h*c)+g*(h*b-l*a));return d};zb.prototype.Solve33=zb.prototype.Yj;
zb.prototype.Sg=function(a,b,c){var d=this.C.x,e=this.J.x,f=this.C.y,g=this.J.y,h=d*g-e*f;0!==h&&(h=1/h);c.x=h*(g*a-e*b);c.y=h*(d*b-f*a);return c};zb.prototype.Solve22=zb.prototype.Sg;zb.prototype.dn=function(a){var b=this.C.x,c=this.J.x,d=this.C.y,e=this.J.y,f=b*e-c*d;0!==f&&(f=1/f);a.C.x=f*e;a.J.x=-f*c;a.C.z=0;a.C.y=-f*d;a.J.y=f*b;a.J.z=0;a.sa.x=0;a.sa.y=0;a.sa.z=0};zb.prototype.GetInverse22=zb.prototype.dn;
zb.prototype.Vp=function(a){var b=pb(this.C,qb(this.J,this.sa,mb));0!==b&&(b=1/b);var c=this.C.x,d=this.J.x,e=this.sa.x,f=this.J.y,g=this.sa.y,h=this.sa.z;a.C.x=b*(f*h-g*g);a.C.y=b*(e*g-d*h);a.C.z=b*(d*g-e*f);a.J.x=a.C.y;a.J.y=b*(c*h-e*e);a.J.z=b*(e*d-c*g);a.sa.x=a.C.z;a.sa.y=a.J.z;a.sa.z=b*(c*f-d*d)};zb.prototype.GetSymInverse33=zb.prototype.Vp;function Ab(a,b,c){var d=b.x,e=b.y;b=b.z;c.x=a.C.x*d+a.J.x*e+a.sa.x*b;c.y=a.C.y*d+a.J.y*e+a.sa.y*b;c.z=a.C.z*d+a.J.z*e+a.sa.z*b;return c}
q("box2d.b2Mul_M33_V3",Ab);function Bb(a,b,c,d,e){e.x=a.C.x*b+a.J.x*c+a.sa.x*d;e.y=a.C.y*b+a.J.y*c+a.sa.y*d;e.z=a.C.z*b+a.J.z*c+a.sa.z*d;return e}q("box2d.b2Mul_M33_X_Y_Z",Bb);function Cb(a,b,c){var d=b.x;b=b.y;c.x=a.C.x*d+a.J.x*b;c.y=a.C.y*d+a.J.y*b;return c}q("box2d.b2Mul22_M33_V2",Cb);function Db(a,b,c,d){d.x=a.C.x*b+a.J.x*c;d.y=a.C.y*b+a.J.y*c;return d}q("box2d.b2Mul_M33_X_Y",Db);function Eb(a){a&&(this.uc=a,this.Sb=Math.sin(a),this.o=Math.cos(a))}q("box2d.b2Rot",Eb);Eb.prototype.uc=0;
Eb.prototype.angle=Eb.prototype.uc;Eb.prototype.Sb=0;Eb.prototype.s=Eb.prototype.Sb;Eb.prototype.o=1;Eb.prototype.c=Eb.prototype.o;Eb.IDENTITY=new Eb;Eb.prototype.ba=function(){return(new Eb).d(this)};Eb.prototype.Clone=Eb.prototype.ba;Eb.prototype.d=function(a){this.uc=a.uc;this.Sb=a.Sb;this.o=a.o;return this};Eb.prototype.Copy=Eb.prototype.d;Eb.prototype.U=function(a){1E-5<=Math.abs(this.uc-a)&&(this.uc=a,this.Sb=Math.sin(a),this.o=Math.cos(a));return this};Eb.prototype.Set=Eb.prototype.U;
Eb.prototype.fa=Eb.prototype.U;Eb.prototype.SetAngle=Eb.prototype.fa;Eb.prototype.lf=function(){this.Sb=this.uc=0;this.o=1;return this};Eb.prototype.SetIdentity=Eb.prototype.lf;Eb.prototype.Wb=function(){return this.uc};Eb.prototype.GetAngle=Eb.prototype.Wb;Eb.prototype.xt=function(a){a.x=this.o;a.y=this.Sb;return a};Eb.prototype.GetXAxis=Eb.prototype.xt;Eb.prototype.yt=function(a){a.x=-this.Sb;a.y=this.o;return a};Eb.prototype.GetYAxis=Eb.prototype.yt;
function Fb(a,b,c){var d=a.o,e=a.Sb,f=b.o,g=b.Sb;c.Sb=e*f+d*g;c.o=d*f-e*g;c.uc=Ga(a.uc+b.uc);return c}q("box2d.b2Mul_R_R",Fb);function Gb(a,b,c){var d=a.o,e=a.Sb,f=b.o,g=b.Sb;c.Sb=d*g-e*f;c.o=d*f+e*g;c.uc=Ga(a.uc-b.uc);return c}q("box2d.b2MulT_R_R",Gb);function A(a,b,c){var d=a.o;a=a.Sb;var e=b.x;b=b.y;c.x=d*e-a*b;c.y=a*e+d*b;return c}q("box2d.b2Mul_R_V2",A);function Hb(a,b,c){var d=a.o;a=a.Sb;var e=b.x;b=b.y;c.x=d*e+a*b;c.y=-a*e+d*b;return c}q("box2d.b2MulT_R_V2",Hb);
function B(){this.ca=new r;this.Q=new Eb}q("box2d.b2Transform",B);B.prototype.ca=null;B.prototype.p=B.prototype.ca;B.prototype.Q=null;B.prototype.q=B.prototype.Q;var Ib=new B;B.IDENTITY=Ib;B.prototype.ba=function(){return(new B).d(this)};B.prototype.Clone=B.prototype.ba;B.prototype.d=function(a){this.ca.d(a.ca);this.Q.d(a.Q);return this};B.prototype.Copy=B.prototype.d;B.prototype.lf=function(){this.ca.R();this.Q.lf();return this};B.prototype.SetIdentity=B.prototype.lf;
B.prototype.U=function(a,b){return this.jq(a,b)};B.prototype.iq=function(a,b){this.ca.d(a);this.Q.d(b);return this};B.prototype.SetPositionRotation=B.prototype.iq;B.prototype.jq=function(a,b){this.ca.d(a);this.Q.fa(b);return this};B.prototype.SetPositionRotationAngle=B.prototype.jq;B.prototype.yl=function(a){this.ca.d(a);return this};B.prototype.SetPosition=B.prototype.yl;B.prototype.Mn=function(a,b){this.ca.U(a,b);return this};B.prototype.SetPositionXY=B.prototype.Mn;
B.prototype.On=function(a){this.Q.d(a);return this};B.prototype.SetRotation=B.prototype.On;B.prototype.mq=function(a){this.Q.fa(a);return this};B.prototype.SetRotationAngle=B.prototype.mq;B.prototype.ff=function(){return this.ca};B.prototype.GetPosition=B.prototype.ff;B.prototype.on=function(){return this.Q};B.prototype.GetRotation=B.prototype.on;B.prototype.bt=function(){return this.Q.Wb()};B.prototype.GetRotationAngle=B.prototype.bt;B.prototype.Wb=function(){return this.Q.Wb()};
B.prototype.GetAngle=B.prototype.Wb;function Kb(a,b,c){var d=a.Q.o,e=a.Q.Sb,f=b.x;b=b.y;c.x=d*f-e*b+a.ca.x;c.y=e*f+d*b+a.ca.y;return c}q("box2d.b2Mul_X_V2",Kb);function Lb(a,b,c){var d=a.Q.o,e=a.Q.Sb,f=b.x-a.ca.x;a=b.y-a.ca.y;c.x=d*f+e*a;c.y=-e*f+d*a;return c}q("box2d.b2MulT_X_V2",Lb);function Mb(a,b,c){Fb(a.Q,b.Q,c.Q);cb(A(a.Q,b.ca,c.ca),a.ca,c.ca);return c}q("box2d.b2Mul_X_X",Mb);function Nb(a,b,c){Gb(a.Q,b.Q,c.Q);Hb(a.Q,w(b.ca,a.ca,c.ca),c.ca);return c}q("box2d.b2MulT_X_X",Nb);
function Ob(){this.Ba=new r;this.wc=new r;this.o=new r}q("box2d.b2Sweep",Ob);Ob.prototype.Ba=null;Ob.prototype.localCenter=Ob.prototype.Ba;Ob.prototype.wc=null;Ob.prototype.c0=Ob.prototype.wc;Ob.prototype.o=null;Ob.prototype.c=Ob.prototype.o;Ob.prototype.qd=0;Ob.prototype.a0=Ob.prototype.qd;Ob.prototype.f=0;Ob.prototype.a=Ob.prototype.f;Ob.prototype.be=0;Ob.prototype.alpha0=Ob.prototype.be;Ob.prototype.ba=function(){return(new Ob).d(this)};Ob.prototype.Clone=Ob.prototype.ba;
Ob.prototype.d=function(a){this.Ba.d(a.Ba);this.wc.d(a.wc);this.o.d(a.o);this.qd=a.qd;this.f=a.f;this.be=a.be;return this};Ob.prototype.Copy=Ob.prototype.d;Ob.prototype.Fc=function(a,b){var c=1-b;a.ca.x=c*this.wc.x+b*this.o.x;a.ca.y=c*this.wc.y+b*this.o.y;a.Q.fa(c*this.qd+b*this.f);a.ca.gb(A(a.Q,this.Ba,t));return a};Ob.prototype.GetTransform=Ob.prototype.Fc;
Ob.prototype.jg=function(a){var b=(a-this.be)/(1-this.be);this.wc.x+=b*(this.o.x-this.wc.x);this.wc.y+=b*(this.o.y-this.wc.y);this.qd+=b*(this.f-this.qd);this.be=a};Ob.prototype.Advance=Ob.prototype.jg;Ob.prototype.ec=function(){this.qd=Ga(this.qd);this.f=Ga(this.f)};Ob.prototype.Normalize=Ob.prototype.ec;q("box2d.b2Dot",function(a,b){if(a instanceof r&&b instanceof r)return u(a,b);if(a instanceof z&&b instanceof z)return pb(a,b);throw Error();});
q("box2d.b2Cross",function(a,b,c){if(a instanceof r&&b instanceof r)return v(a,b);if(a instanceof r&&"number"===typeof b&&c instanceof r)return ab(a,b,c);if("number"===typeof a&&b instanceof r&&c instanceof r)return bb(a,b,c);if(a instanceof z&&b instanceof z&&c instanceof z)return qb(a,b,c);throw Error();});q("box2d.b2Add",function(a,b,c){if(a instanceof r&&b instanceof r&&c instanceof r)return cb(a,b,c);if(a instanceof z&&b instanceof z&&c instanceof z)return nb(a,b,c);throw Error();});
q("box2d.b2Sub",function(a,b,c){if(a instanceof r&&b instanceof r&&c instanceof r)return w(a,b,c);if(a instanceof z&&b instanceof z&&c instanceof z)return ob(a,b,c);throw Error();});
q("box2d.b2Mul",function(a,b,c){if(a instanceof sb&&b instanceof r&&c instanceof r)return tb(a,b,c);if(a instanceof sb&&b instanceof sb&&c instanceof sb)return vb(a,b,c);if(a instanceof zb&&b instanceof z&&c instanceof z)return Ab(a,b,c);if(a instanceof Eb&&b instanceof Eb&&c instanceof Eb)return Fb(a,b,c);if(a instanceof Eb&&b instanceof r&&c instanceof r)return A(a,b,c);if(a instanceof B&&b instanceof r&&c instanceof r)return Kb(a,b,c);if(a instanceof B&&b instanceof B&&c instanceof B)return Mb(a,
b,c);throw Error();});q("box2d.b2Mul22",function(a,b,c){if(a instanceof zb&&b instanceof r)return Cb(a,b,c);throw Error();});
q("box2d.b2MulT",function(a,b,c){if(a instanceof sb&&b instanceof r&&c instanceof r)return ub(a,b,c);if(a instanceof sb&&b instanceof sb&&c instanceof sb)return yb(a,b,c);if(a instanceof Eb&&b instanceof Eb&&c instanceof Eb)return Gb(a,b,c);if(a instanceof Eb&&b instanceof r&&c instanceof r)return Hb(a,b,c);if(a instanceof B&&b instanceof r&&c instanceof r)return Lb(a,b,c);if(a instanceof B&&b instanceof B&&c instanceof B)return Nb(a,b,c);throw Error();});function Pb(){this.Hm=new r(0,0)}ca(Pb,sa);q("box2d.b2ConstantAccelController",Pb);Pb.prototype.Hm=null;Pb.prototype.A=Pb.prototype.Hm;Pb.prototype.tc=function(a){a=db(a.Va,this.Hm,Pb.prototype.tc.Zv);for(var b=this.Ya;b;b=b.Xd){var c=b.body;c.Gb&&c.Gn(cb(c.ve(),a,t))}};Pb.prototype.Step=Pb.prototype.tc;Pb.prototype.tc.Zv=new r;function Qb(){this.Rm=new r(0,0)}ca(Qb,sa);q("box2d.b2ConstantForceController",Qb);Pb.prototype.Rm=null;Pb.prototype.F=Pb.prototype.Rm;Qb.prototype.tc=function(){for(var a=this.Ya;a;a=a.Xd){var b=a.body;b.Gb&&b.te(this.Rm,b.gf())}};Qb.prototype.Step=Qb.prototype.tc;function Rb(){}ca(Rb,sa);q("box2d.b2GravityController",Rb);Rb.prototype.Sm=1;Rb.prototype.G=Rb.prototype.Sm;Rb.prototype.Bq=!0;Rb.prototype.invSqr=Rb.prototype.Bq;
Rb.prototype.tc=function(){if(this.Bq)for(var a=this.Ya;a;a=a.Xd)for(var b=a.body,c=b.gf(),d=b.ae(),e=this.Ya;e!==a;e=e.Xd){var f=e.body,g=f.gf(),h=f.ae(),l=g.x-c.x,m=g.y-c.y,n=l*l+m*m;1E-5>n||(l=Rb.prototype.tc.Yq.U(l,m),l.cb(this.Sm/n/Na(n)*d*h),b.Gb&&b.te(l,c),f.Gb&&f.te(l.cb(-1),g))}else for(a=this.Ya;a;a=a.Xd)for(b=a.body,c=b.gf(),d=b.ae(),e=this.Ya;e!==a;e=e.Xd)f=e.body,g=f.gf(),h=f.ae(),l=g.x-c.x,m=g.y-c.y,n=l*l+m*m,1E-5>n||(l=Rb.prototype.tc.Yq.U(l,m),l.cb(this.Sm/n*d*h),b.Gb&&b.te(l,c),f.Gb&&
f.te(l.cb(-1),g))};Rb.prototype.Step=Rb.prototype.tc;Rb.prototype.tc.Yq=new r;function Sb(){this.Qn=new sb;this.Dk=0}ca(Sb,sa);q("box2d.b2TensorDampingController",Sb);Sb.prototype.Qn=new sb;Sb.prototype.T=Sb.prototype.Qn;Sb.prototype.Dk=0;Sb.prototype.maxTimestep=Sb.prototype.Dk;Sb.prototype.tc=function(a){a=a.Va;if(!(1E-5>=a)){a>this.Dk&&0<this.Dk&&(a=this.Dk);for(var b=this.Ya;b;b=b.Xd){var c=b.body;if(c.Gb){var d=c.Oj(tb(this.Qn,c.nl(c.ve(),t),Sa),Sb.prototype.tc.Qv);c.Gn(cb(c.ve(),db(a,d,t),Sa))}}}};Sb.prototype.tc.Qv=new r;function Tb(){this.Od=Xa(2)}q("box2d.b2DistanceProxy",Tb);Tb.prototype.Od=null;Tb.prototype.m_buffer=Tb.prototype.Od;Tb.prototype.O=null;Tb.prototype.m_vertices=Tb.prototype.O;Tb.prototype.h=0;Tb.prototype.m_count=Tb.prototype.h;Tb.prototype.ma=0;Tb.prototype.m_radius=Tb.prototype.ma;Tb.prototype.xb=function(){this.O=null;this.ma=this.h=0;return this};Tb.prototype.Reset=Tb.prototype.xb;Tb.prototype.Lh=function(a,b){a.Wj(this,b)};Tb.prototype.SetShape=Tb.prototype.Lh;
Tb.prototype.Ih=function(a){for(var b=0,c=u(this.O[0],a),d=1;d<this.h;++d){var e=u(this.O[d],a);e>c&&(b=d,c=e)}return b};Tb.prototype.GetSupport=Tb.prototype.Ih;Tb.prototype.lt=function(a,b){for(var c=0,d=u(this.O[0],a),e=1;e<this.h;++e){var f=u(this.O[e],a);f>d&&(c=e,d=f)}return b.d(this.O[c])};Tb.prototype.GetSupportVertex=Tb.prototype.lt;Tb.prototype.qn=function(){return this.h};Tb.prototype.GetVertexCount=Tb.prototype.qn;Tb.prototype.Gc=function(a){return this.O[a]};Tb.prototype.GetVertex=Tb.prototype.Gc;
function Vb(){this.B=pa(3);this.D=pa(3)}q("box2d.b2SimplexCache",Vb);Vb.prototype.rm=0;Vb.prototype.metric=Vb.prototype.rm;Vb.prototype.count=0;Vb.prototype.count=Vb.prototype.count;Vb.prototype.B=null;Vb.prototype.indexA=Vb.prototype.B;Vb.prototype.D=null;Vb.prototype.indexB=Vb.prototype.D;Vb.prototype.xb=function(){this.count=this.rm=0;return this};Vb.prototype.Reset=Vb.prototype.xb;function Wb(){this.Bc=new Tb;this.Oc=new Tb;this.Aj=new B;this.Bj=new B}q("box2d.b2DistanceInput",Wb);
Wb.prototype.Bc=null;Wb.prototype.proxyA=Wb.prototype.Bc;Wb.prototype.Oc=null;Wb.prototype.proxyB=Wb.prototype.Oc;Wb.prototype.Aj=null;Wb.prototype.transformA=Wb.prototype.Aj;Wb.prototype.Bj=null;Wb.prototype.transformB=Wb.prototype.Bj;Wb.prototype.bl=!1;Wb.prototype.useRadii=Wb.prototype.bl;Wb.prototype.xb=function(){this.Bc.xb();this.Oc.xb();this.Aj.lf();this.Bj.lf();this.bl=!1;return this};Wb.prototype.Reset=Wb.prototype.xb;function Xb(){this.Lg=new r;this.Mg=new r}q("box2d.b2DistanceOutput",Xb);
Xb.prototype.Lg=null;Xb.prototype.pointA=Xb.prototype.Lg;Xb.prototype.Mg=null;Xb.prototype.pointB=Xb.prototype.Mg;Xb.prototype.ce=0;Xb.prototype.distance=Xb.prototype.ce;Xb.prototype.fo=0;Xb.prototype.iterations=Xb.prototype.fo;Xb.prototype.xb=function(){this.Lg.R();this.Mg.R();this.fo=this.ce=0;return this};Xb.prototype.Reset=Xb.prototype.xb;var Zb=0;q("box2d.b2_gjkCalls",Zb);var $b=0;q("box2d.b2_gjkIters",$b);var ac=0;q("box2d.b2_gjkMaxIters",ac);
function bc(){this.Yc=new r;this.je=new r;this.k=new r}q("box2d.b2SimplexVertex",bc);bc.prototype.Yc=null;bc.prototype.wA=bc.prototype.Yc;bc.prototype.je=null;bc.prototype.wB=bc.prototype.je;bc.prototype.k=null;bc.prototype.w=bc.prototype.k;bc.prototype.f=0;bc.prototype.a=bc.prototype.f;bc.prototype.B=0;bc.prototype.indexA=bc.prototype.B;bc.prototype.D=0;bc.prototype.indexB=bc.prototype.D;bc.prototype.d=function(a){this.Yc.d(a.Yc);this.je.d(a.je);this.k.d(a.k);this.f=a.f;this.B=a.B;this.D=a.D;return this};
bc.prototype.Copy=bc.prototype.d;function cc(){this.ya=new bc;this.Sa=new bc;this.Wc=new bc;this.O=Array(3);this.O[0]=this.ya;this.O[1]=this.Sa;this.O[2]=this.Wc}q("box2d.b2Simplex",cc);cc.prototype.ya=null;cc.prototype.m_v1=cc.prototype.ya;cc.prototype.Sa=null;cc.prototype.m_v2=cc.prototype.Sa;cc.prototype.Wc=null;cc.prototype.m_v3=cc.prototype.Wc;cc.prototype.O=null;cc.prototype.m_vertices=cc.prototype.O;cc.prototype.h=0;cc.prototype.m_count=cc.prototype.h;
cc.prototype.$p=function(a,b,c,d,e){this.h=a.count;for(var f=this.O,g=0;g<this.h;++g){var h=f[g];h.B=a.B[g];h.D=a.D[g];var l=b.Gc(h.B),m=d.Gc(h.D);Kb(c,l,h.Yc);Kb(e,m,h.je);w(h.je,h.Yc,h.k);h.f=0}1<this.h&&(a=a.rm,g=this.kn(),g<.5*a||2*a<g||1E-5>g)&&(this.h=0);0===this.h&&(h=f[0],h.B=0,h.D=0,l=b.Gc(0),m=d.Gc(0),Kb(c,l,h.Yc),Kb(e,m,h.je),w(h.je,h.Yc,h.k),this.h=h.f=1)};cc.prototype.ReadCache=cc.prototype.$p;
cc.prototype.wq=function(a){a.rm=this.kn();a.count=this.h;for(var b=this.O,c=0;c<this.h;++c)a.B[c]=b[c].B,a.D[c]=b[c].D};cc.prototype.WriteCache=cc.prototype.wq;cc.prototype.Up=function(a){switch(this.h){case 1:return a.d(this.ya.k).la();case 2:var b=w(this.Sa.k,this.ya.k,a);return 0<v(b,t.d(this.ya.k).la())?bb(1,b,a):ab(b,1,a);default:return a.R()}};cc.prototype.GetSearchDirection=cc.prototype.Up;
cc.prototype.Kp=function(a){switch(this.h){case 0:return a.R();case 1:return a.d(this.ya.k);case 2:return a.U(this.ya.f*this.ya.k.x+this.Sa.f*this.Sa.k.x,this.ya.f*this.ya.k.y+this.Sa.f*this.Sa.k.y);case 3:return a.R();default:return a.R()}};cc.prototype.GetClosestPoint=cc.prototype.Kp;
cc.prototype.Wp=function(a,b){switch(this.h){case 1:a.d(this.ya.Yc);b.d(this.ya.je);break;case 2:a.x=this.ya.f*this.ya.Yc.x+this.Sa.f*this.Sa.Yc.x;a.y=this.ya.f*this.ya.Yc.y+this.Sa.f*this.Sa.Yc.y;b.x=this.ya.f*this.ya.je.x+this.Sa.f*this.Sa.je.x;b.y=this.ya.f*this.ya.je.y+this.Sa.f*this.Sa.je.y;break;case 3:b.x=a.x=this.ya.f*this.ya.Yc.x+this.Sa.f*this.Sa.Yc.x+this.Wc.f*this.Wc.Yc.x,b.y=a.y=this.ya.f*this.ya.Yc.y+this.Sa.f*this.Sa.Yc.y+this.Wc.f*this.Wc.Yc.y}};cc.prototype.GetWitnessPoints=cc.prototype.Wp;
cc.prototype.kn=function(){switch(this.h){case 0:return 0;case 1:return 0;case 2:return jb(this.ya.k,this.Sa.k);case 3:return v(w(this.Sa.k,this.ya.k,t),w(this.Wc.k,this.ya.k,Sa));default:return 0}};cc.prototype.GetMetric=cc.prototype.kn;cc.prototype.qq=function(){var a=this.ya.k,b=this.Sa.k,c=w(b,a,dc),a=-u(a,c);0>=a?this.h=this.ya.f=1:(b=u(b,c),0>=b?(this.h=this.Sa.f=1,this.ya.d(this.Sa)):(c=1/(b+a),this.ya.f=b*c,this.Sa.f=a*c,this.h=2))};cc.prototype.Solve2=cc.prototype.qq;
cc.prototype.rq=function(){var a=this.ya.k,b=this.Sa.k,c=this.Wc.k,d=w(b,a,dc),e=u(b,d),f=-u(a,d),g=w(c,a,ec),h=u(c,g),l=-u(a,g),m=w(c,b,fc),n=u(c,m),m=-u(b,m),g=v(d,g),d=g*v(b,c),c=g*v(c,a),a=g*v(a,b);0>=f&&0>=l?this.h=this.ya.f=1:0<e&&0<f&&0>=a?(h=1/(e+f),this.ya.f=e*h,this.Sa.f=f*h,this.h=2):0<h&&0<l&&0>=c?(e=1/(h+l),this.ya.f=h*e,this.Wc.f=l*e,this.h=2,this.Sa.d(this.Wc)):0>=e&&0>=m?(this.h=this.Sa.f=1,this.ya.d(this.Sa)):0>=h&&0>=n?(this.h=this.Wc.f=1,this.ya.d(this.Wc)):0<n&&0<m&&0>=d?(e=1/
(n+m),this.Sa.f=n*e,this.Wc.f=m*e,this.h=2,this.ya.d(this.Wc)):(e=1/(d+c+a),this.ya.f=d*e,this.Sa.f=c*e,this.Wc.f=a*e,this.h=3)};cc.prototype.Solve3=cc.prototype.rq;var dc=new r,ec=new r,fc=new r;
function ic(a,b,c){++Zb;var d=c.Bc,e=c.Oc,f=c.Aj,g=c.Bj,h=jb.Mw;h.$p(b,d,f,e,g);for(var l=h.O,m=jb.Kw,n=jb.Lw,p=0,y=0;20>y;){for(var p=h.h,x=0;x<p;++x)m[x]=l[x].B,n[x]=l[x].D;switch(h.h){case 2:h.qq();break;case 3:h.rq()}if(3===h.h)break;var I=h.Kp(jb.vh),x=h.Up(jb.rc);if(x.Md()<da)break;I=l[h.h];I.B=d.Ih(Hb(f.Q,t.d(x).la(),jb.Qw));Kb(f,d.Gc(I.B),I.Yc);I.D=e.Ih(Hb(g.Q,x,jb.Rw));Kb(g,e.Gc(I.D),I.je);w(I.je,I.Yc,I.k);++y;++$b;for(var W=!1,x=0;x<p;++x)if(I.B===m[x]&&I.D===n[x]){W=!0;break}if(W)break;
++h.h}ac=Ea(ac,y);h.Wp(a.Lg,a.Mg);a.ce=jb(a.Lg,a.Mg);a.fo=y;h.wq(b);c.bl&&(b=d.ma,e=e.ma,a.ce>b+e&&1E-5<a.ce?(a.ce-=b+e,c=w(a.Mg,a.Lg,jb.dg),c.ec(),a.Lg.Z(b,c),a.Mg.Ea(e,c)):(I=hb(a.Lg,a.Mg,jb.vh),a.Lg.d(I),a.Mg.d(I),a.ce=0))}q("box2d.b2ShapeDistance",ic);jb.Mw=new cc;jb.Kw=pa(3);jb.Lw=pa(3);jb.vh=new r;jb.rc=new r;jb.dg=new r;jb.Qw=new r;jb.Rw=new r;var jc={Ay:0,by:1};q("box2d.b2ContactFeatureType",jc);jc.e_vertex=0;jc.e_face=1;function kc(a){this.Kf=a}q("box2d.b2ContactFeature",kc);kc.prototype.Kf=null;kc.prototype._id=kc.prototype.Kf;kc.prototype.$j=0;kc.prototype._indexA=kc.prototype.$j;kc.prototype.ak=0;kc.prototype._indexB=kc.prototype.ak;kc.prototype.bk=0;kc.prototype._typeA=kc.prototype.bk;kc.prototype.ck=0;kc.prototype._typeB=kc.prototype.ck;
Object.defineProperty(kc.prototype,"indexA",{enumerable:!1,configurable:!0,get:function(){return this.$j},set:function(a){this.$j=a;this.Kf.ye=this.Kf.ye&4294967040|this.$j&255}});Object.defineProperty(kc.prototype,"indexB",{enumerable:!1,configurable:!0,get:function(){return this.ak},set:function(a){this.ak=a;this.Kf.ye=this.Kf.ye&4294902015|this.ak<<8&65280}});
Object.defineProperty(kc.prototype,"typeA",{enumerable:!1,configurable:!0,get:function(){return this.bk},set:function(a){this.bk=a;this.Kf.ye=this.Kf.ye&4278255615|this.bk<<16&16711680}});Object.defineProperty(kc.prototype,"typeB",{enumerable:!1,configurable:!0,get:function(){return this.ck},set:function(a){this.ck=a;this.Kf.ye=this.Kf.ye&16777215|this.ck<<24&4278190080}});function lc(){this.Aa=new kc(this)}q("box2d.b2ContactID",lc);lc.prototype.Aa=null;lc.prototype.cf=lc.prototype.Aa;
lc.prototype.key=0;lc.prototype.key=lc.prototype.key;lc.prototype.d=function(a){this.key=a.key;return this};lc.prototype.Copy=lc.prototype.d;lc.prototype.ba=function(){return(new lc).d(this)};lc.prototype.Clone=lc.prototype.ba;Object.defineProperty(lc.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.ye},set:function(a){this.ye=a;this.Aa.$j=this.ye&255;this.Aa.ak=this.ye>>8&255;this.Aa.bk=this.ye>>16&255;this.Aa.ck=this.ye>>24&255}});
function mc(){this.Fa=new r;this.id=new lc}q("box2d.b2ManifoldPoint",mc);mc.prototype.Fa=null;mc.prototype.localPoint=mc.prototype.Fa;mc.prototype.Nb=0;mc.prototype.normalImpulse=mc.prototype.Nb;mc.prototype.od=0;mc.prototype.tangentImpulse=mc.prototype.od;mc.prototype.id=null;mc.prototype.id=mc.prototype.id;function nc(a){return oa(a,function(){return new mc})}mc.MakeArray=nc;mc.prototype.xb=function(){this.Fa.R();this.od=this.Nb=0;this.id.key=0};mc.prototype.Reset=mc.prototype.xb;
mc.prototype.d=function(a){this.Fa.d(a.Fa);this.Nb=a.Nb;this.od=a.od;this.id.d(a.id);return this};mc.prototype.Copy=mc.prototype.d;var pc={Hl:-1,Tx:0,mv:1,nv:2};q("box2d.b2ManifoldType",pc);pc.e_unknown=-1;pc.e_circles=0;pc.e_faceA=1;pc.e_faceB=2;function qc(){this.qa=nc(2);this.oc=new r;this.Fa=new r;this.type=-1;this.za=0}q("box2d.b2Manifold",qc);qc.prototype.qa=null;qc.prototype.points=qc.prototype.qa;qc.prototype.oc=null;qc.prototype.localNormal=qc.prototype.oc;qc.prototype.Fa=null;
qc.prototype.localPoint=qc.prototype.Fa;qc.prototype.type=-1;qc.prototype.type=qc.prototype.type;qc.prototype.za=0;qc.prototype.pointCount=qc.prototype.za;qc.prototype.xb=function(){for(var a=0;2>a;++a)this.qa[a].xb();this.oc.R();this.Fa.R();this.type=-1;this.za=0};qc.prototype.Reset=qc.prototype.xb;qc.prototype.d=function(a){this.za=a.za;for(var b=0;2>b;++b)this.qa[b].d(a.qa[b]);this.oc.d(a.oc);this.Fa.d(a.Fa);this.type=a.type;return this};qc.prototype.Copy=qc.prototype.d;qc.prototype.ba=function(){return(new qc).d(this)};
qc.prototype.Clone=qc.prototype.ba;function rc(){this.u=new r;this.qa=Xa(2);this.Xk=pa(2)}q("box2d.b2WorldManifold",rc);rc.prototype.u=null;rc.prototype.normal=rc.prototype.u;rc.prototype.qa=null;rc.prototype.points=rc.prototype.qa;rc.prototype.Xk=null;rc.prototype.separations=rc.prototype.Xk;
rc.prototype.da=function(a,b,c,d,e){if(0!==a.za)switch(a.type){case 0:this.u.U(1,0);b=Kb(b,a.Fa,rc.prototype.da.Ne);a=Kb(d,a.qa[0].Fa,rc.prototype.da.Oe);kb(b,a)>da&&w(a,b,this.u).ke();var f=eb(b,c,this.u,rc.prototype.da.Ro),g=fb(a,e,this.u,rc.prototype.da.So);hb(f,g,this.qa[0]);this.Xk[0]=u(w(g,f,t),this.u);break;case 1:A(b.Q,a.oc,this.u);for(var h=Kb(b,a.Fa,rc.prototype.da.vj),l=0,m=a.za;l<m;++l){var n=Kb(d,a.qa[l].Fa,rc.prototype.da.xm),f=c-u(w(n,h,t),this.u),f=eb(n,f,this.u,rc.prototype.da.Ro),
g=fb(n,e,this.u,rc.prototype.da.So);hb(f,g,this.qa[l]);this.Xk[l]=u(w(g,f,t),this.u)}break;case 2:A(d.Q,a.oc,this.u);h=Kb(d,a.Fa,rc.prototype.da.vj);l=0;for(m=a.za;l<m;++l)n=Kb(b,a.qa[l].Fa,rc.prototype.da.xm),f=e-u(w(n,h,t),this.u),g=eb(n,f,this.u,rc.prototype.da.So),f=fb(n,c,this.u,rc.prototype.da.Ro),hb(f,g,this.qa[l]),this.Xk[l]=u(w(f,g,t),this.u);this.u.la()}};rc.prototype.Initialize=rc.prototype.da;k=rc.prototype;k.da.Ne=new r;k.da.Oe=new r;k.da.Ro=new r;k.da.So=new r;k.da.vj=new r;
k.da.xm=new r;var sc={ox:0,dx:1,ux:2,xx:3};q("box2d.b2PointState",sc);sc["b2_nullState   "]=0;sc["b2_addState    "]=1;sc.b2_persistState=2;sc["b2_removeState "]=3;q("box2d.b2GetPointStates",function(a,b,c,d){for(var e=0,f=c.za;e<f;++e){var g=c.qa[e].id,g=g.key;a[e]=3;for(var h=0,l=d.za;h<l;++h)if(d.qa[h].id.key===g){a[e]=2;break}}for(f=2;e<f;++e)a[e]=0;e=0;for(f=d.za;e<f;++e)for(g=d.qa[e].id,g=g.key,b[e]=1,h=0,l=c.za;h<l;++h)if(c.qa[h].id.key===g){b[e]=2;break}for(f=2;e<f;++e)b[e]=0});
function tc(){this.W=new r;this.id=new lc}q("box2d.b2ClipVertex",tc);tc.prototype.W=null;tc.prototype.v=tc.prototype.W;tc.prototype.id=null;tc.prototype.id=tc.prototype.id;function uc(a){return oa(a,function(){return new tc})}tc.MakeArray=uc;tc.prototype.d=function(a){this.W.d(a.W);this.id.d(a.id);return this};tc.prototype.Copy=tc.prototype.d;function vc(){this.gd=new r;this.Zd=new r;this.Me=1}q("box2d.b2RayCastInput",vc);vc.prototype.gd=null;vc.prototype.p1=vc.prototype.gd;vc.prototype.Zd=null;
vc.prototype.p2=vc.prototype.Zd;vc.prototype.Me=1;vc.prototype.maxFraction=vc.prototype.Me;vc.prototype.d=function(a){this.gd.d(a.gd);this.Zd.d(a.Zd);this.Me=a.Me;return this};vc.prototype.Copy=vc.prototype.d;function wc(){this.u=new r;this.ze=0}q("box2d.b2RayCastOutput",wc);wc.prototype.u=null;wc.prototype.normal=wc.prototype.u;wc.prototype.ze=0;wc.prototype.fraction=wc.prototype.ze;wc.prototype.d=function(a){this.u.d(a.u);this.ze=a.ze;return this};wc.prototype.Copy=wc.prototype.d;
function xc(){this.lowerBound=new r;this.upperBound=new r;this.Bo=new r;this.Co=new r}q("box2d.b2AABB",xc);xc.prototype.lowerBound=null;xc.prototype.lowerBound=xc.prototype.lowerBound;xc.prototype.upperBound=null;xc.prototype.upperBound=xc.prototype.upperBound;xc.prototype.Bo=null;xc.prototype.m_out_center=xc.prototype.Bo;xc.prototype.Co=null;xc.prototype.m_out_extent=xc.prototype.Co;xc.prototype.ba=function(){return(new xc).d(this)};xc.prototype.Clone=xc.prototype.ba;
xc.prototype.d=function(a){this.lowerBound.d(a.lowerBound);this.upperBound.d(a.upperBound);return this};xc.prototype.Copy=xc.prototype.d;xc.prototype.Rj=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.Rj()&&this.upperBound.Rj()};xc.prototype.IsValid=xc.prototype.Rj;xc.prototype.Dh=function(){return hb(this.lowerBound,this.upperBound,this.Bo)};xc.prototype.GetCenter=xc.prototype.Dh;
xc.prototype.Mp=function(){return ib(this.lowerBound,this.upperBound,this.Co)};xc.prototype.GetExtents=xc.prototype.Mp;xc.prototype.ef=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))};xc.prototype.GetPerimeter=xc.prototype.ef;
xc.prototype.up=function(a){this.lowerBound.x=Da(this.lowerBound.x,a.lowerBound.x);this.lowerBound.y=Da(this.lowerBound.y,a.lowerBound.y);this.upperBound.x=Ea(this.upperBound.x,a.upperBound.x);this.upperBound.y=Ea(this.upperBound.y,a.upperBound.y);return this};xc.prototype.Combine1=xc.prototype.up;
xc.prototype.Zc=function(a,b){this.lowerBound.x=Da(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Da(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Ea(a.upperBound.x,b.upperBound.x);this.upperBound.y=Ea(a.upperBound.y,b.upperBound.y);return this};xc.prototype.Combine2=xc.prototype.Zc;xc.Combine=function(a,b,c){c.Zc(a,b);return c};
xc.prototype.xp=function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};xc.prototype.Contains=xc.prototype.xp;
xc.prototype.ha=function(a,b){var c=-1E37,d=1E37,e=b.gd.x,f=b.gd.y,g=b.Zd.x-b.gd.x,h=b.Zd.y-b.gd.y,l=na(g),m=na(h),n=a.u;if(1E-5>l){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(l=1/g,g=(this.lowerBound.x-e)*l,e=(this.upperBound.x-e)*l,l=-1,g>e&&(l=g,g=e,e=l,l=1),g>c&&(n.x=l,n.y=0,c=g),d=Da(d,e),c>d)return!1;if(1E-5>m){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else if(l=1/h,g=(this.lowerBound.y-f)*l,e=(this.upperBound.y-f)*l,l=-1,g>e&&(l=g,g=e,e=l,l=1),g>c&&(n.x=0,n.y=l,
c=g),d=Da(d,e),c>d)return!1;if(0>c||b.Me<c)return!1;a.ze=c;return!0};xc.prototype.RayCast=xc.prototype.ha;xc.prototype.Zj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};xc.prototype.TestOverlap=xc.prototype.Zj;
function Bc(a,b){var c=b.lowerBound.y-a.upperBound.y,d=a.lowerBound.y-b.upperBound.y;return 0<b.lowerBound.x-a.upperBound.x||0<c||0<a.lowerBound.x-b.upperBound.x||0<d?!1:!0}q("box2d.b2TestOverlapAABB",Bc);function Cc(a,b,c,d,e){var f=0,g=b[0];b=b[1];var h=u(c,g.W)-d;c=u(c,b.W)-d;0>=h&&a[f++].d(g);0>=c&&a[f++].d(b);0>h*c&&(c=h/(h-c),d=a[f].W,d.x=g.W.x+c*(b.W.x-g.W.x),d.y=g.W.y+c*(b.W.y-g.W.y),a=a[f].id,a.Aa.B=e,a.Aa.D=g.id.Aa.D,a.Aa.Pe=0,a.Aa.Df=1,++f);return f}q("box2d.b2ClipSegmentToLine",Cc);
function Dc(a,b,c,d,e,f){var g=Dc.Nk.xb();g.Bc.Lh(a,b);g.Oc.Lh(c,d);g.Aj.d(e);g.Bj.d(f);g.bl=!0;a=Dc.Nw.xb();a.count=0;b=Dc.Ok.xb();ic(b,a,g);return 1E-4>b.ce}q("box2d.b2TestOverlapShape",Dc);Dc.Nk=new Wb;Dc.Nw=new Vb;Dc.Ok=new Xb;function Ec(a,b,c,d,e){a.za=0;c=Kb(c,b.Vb,Ec.ap);e=Kb(e,d.Vb,Ec.bp);var f=b.ma+d.ma;kb(c,e)>f*f||(a.type=0,a.Fa.d(b.Vb),a.oc.R(),a.za=1,a.qa[0].Fa.d(d.Vb),a.qa[0].id.key=0)}q("box2d.b2CollideCircles",Ec);Ec.ap=new r;Ec.bp=new r;
function Fc(a,b,c,d,e){a.za=0;e=Kb(e,d.Vb,Fc.Kv);c=Lb(c,e,Fc.Lv);var f=0,g=-1E37;e=b.ma+d.ma;var h=b.h,l=b.O;b=b.Qb;for(var m=0;m<h;++m){var n=u(b[m],w(c,l[m],t));if(n>e)return;n>g&&(g=n,f=m)}m=f;n=l[m];h=l[(m+1)%h];1E-5>g?(a.za=1,a.type=1,a.oc.d(b[f]),hb(n,h,a.Fa),a.qa[0].Fa.d(d.Vb),a.qa[0].id.key=0):(g=u(w(c,n,t),w(h,n,Sa)),f=u(w(c,h,t),w(n,h,Sa)),0>=g?kb(c,n)>e*e||(a.za=1,a.type=1,w(c,n,a.oc).ke(),a.Fa.d(n),a.qa[0].Fa.d(d.Vb),a.qa[0].id.key=0):0>=f?kb(c,h)>e*e||(a.za=1,a.type=1,w(c,h,a.oc).ke(),
a.Fa.d(h),a.qa[0].Fa.d(d.Vb),a.qa[0].id.key=0):(f=hb(n,h,Fc.gw),g=u(w(c,f,Sa),b[m]),g>e||(a.za=1,a.type=1,a.oc.d(b[m]).ke(),a.Fa.d(f),a.qa[0].Fa.d(d.Vb),a.qa[0].id.key=0)))}q("box2d.b2CollidePolygonAndCircle",Fc);Fc.Kv=new r;Fc.Lv=new r;Fc.gw=new r;function Gc(a,b,c,d,e){a.za=0;c=Lb(c,Kb(e,d.Vb,t),Gc.Bv);var f=b.yd,g=b.Id,h=w(g,f,Gc.Kk),l=u(h,w(g,c,t)),m=u(h,w(c,f,t)),n=b.ma+d.ma;e=Gc.jw;e.Aa.D=0;e.Aa.Df=0;if(0>=m){var p=f,l=w(c,p,Gc.rc),l=u(l,l);if(!(l>n*n)){if(b.xg&&(b=w(f,b.ag,Gc.Lk),0<u(b,w(f,c,t))))return;e.Aa.B=0;e.Aa.Pe=0;a.za=1;a.type=0;a.oc.R();a.Fa.d(p);a.qa[0].id.d(e);a.qa[0].Fa.d(d.Vb)}}else if(0>=l){if(p=g,l=w(c,p,Gc.rc),l=u(l,l),!(l>n*n)){if(b.yg&&(f=w(b.bg,g,Gc.Mk),0<u(f,w(c,g,t))))return;e.Aa.B=1;e.Aa.Pe=0;a.za=1;a.type=0;a.oc.R();
a.Fa.d(p);a.qa[0].id.d(e);a.qa[0].Fa.d(d.Vb)}}else b=u(h,h),p=Gc.Ka,p.x=1/b*(l*f.x+m*g.x),p.y=1/b*(l*f.y+m*g.y),l=w(c,p,Gc.rc),l=u(l,l),l>n*n||(p=Gc.Yo.U(-h.y,h.x),0>u(p,w(c,f,t))&&p.U(-p.x,-p.y),p.ec(),e.Aa.B=0,e.Aa.Pe=1,a.za=1,a.type=1,a.oc.d(p),a.Fa.d(f),a.qa[0].id.d(e),a.qa[0].Fa.d(d.Vb))}q("box2d.b2CollideEdgeAndCircle",Gc);Gc.Bv=new r;Gc.Kk=new r;Gc.rc=new r;Gc.Lk=new r;Gc.Mk=new r;Gc.Ka=new r;Gc.Yo=new r;Gc.jw=new lc;var Hc={Hl:0,Yx:1,Zx:2};q("box2d.b2EPAxisType",Hc);Hc.e_unknown=0;
Hc.e_edgeA=1;Hc.e_edgeB=2;function Ic(){}q("box2d.b2EPAxis",Ic);Ic.prototype.type=0;Ic.prototype.type=Ic.prototype.type;Ic.prototype.index=0;Ic.prototype.index=Ic.prototype.index;Ic.prototype.nd=0;Ic.prototype.separation=Ic.prototype.nd;function Kc(){this.se=Xa(8);this.si=Xa(8);this.count=0}q("box2d.b2TempPolygon",Kc);Kc.prototype.se=null;Kc.prototype.vertices=Kc.prototype.se;Kc.prototype.si=null;Kc.prototype.normals=Kc.prototype.si;Kc.prototype.count=0;Kc.prototype.count=Kc.prototype.count;
function Lc(){this.Wh=this.nf=0;this.xh=new r;this.Cj=new r;this.u=new r;this.xj=new r;this.ym=0;this.Yk=new r;this.zm=0}q("box2d.b2ReferenceFace",Lc);Lc.prototype.nf=0;Lc.prototype.i1=Lc.prototype.nf;Lc.prototype.Wh=0;Lc.prototype.i2=Lc.prototype.Wh;Lc.prototype.xh=null;Lc.prototype.v1=Lc.prototype.xh;Lc.prototype.Cj=null;Lc.prototype.v2=Lc.prototype.Cj;Lc.prototype.u=null;Lc.prototype.normal=Lc.prototype.u;Lc.prototype.xj=null;Lc.prototype.sideNormal1=Lc.prototype.xj;Lc.prototype.ym=0;
Lc.prototype.sideOffset1=Lc.prototype.ym;Lc.prototype.Yk=null;Lc.prototype.sideNormal2=Lc.prototype.Yk;Lc.prototype.zm=0;Lc.prototype.sideOffset2=Lc.prototype.zm;var Mc={hy:0,Ux:1,Wx:2};q("box2d.b2EPColliderVertexType",Mc);Mc.e_isolated=0;Mc.e_concave=1;Mc.e_convex=2;
function Nc(){this.Uc=new Kc;this.ja=new B;this.Vi=new r;this.zk=new r;this.ya=new r;this.Sa=new r;this.Wc=new r;this.Tf=new r;this.Ma=new r;this.Uf=new r;this.bc=new r;this.Rq=this.Qq=0;this.Tc=new r;this.ld=new r;this.ma=0;this.Cb=!1}q("box2d.b2EPCollider",Nc);Nc.prototype.Uc=null;Nc.prototype.m_polygonB=Nc.prototype.Uc;Nc.prototype.ja=null;Nc.prototype.m_xf=Nc.prototype.ja;Nc.prototype.Vi=null;Nc.prototype.m_centroidB=Nc.prototype.Vi;Nc.prototype.zk=null;Nc.prototype.m_v0=Nc.prototype.zk;
Nc.prototype.ya=null;Nc.prototype.m_v1=Nc.prototype.ya;Nc.prototype.Sa=null;Nc.prototype.m_v2=Nc.prototype.Sa;Nc.prototype.Wc=null;Nc.prototype.m_v3=Nc.prototype.Wc;Nc.prototype.Tf=null;Nc.prototype.m_normal0=Nc.prototype.Tf;Nc.prototype.Ma=null;Nc.prototype.m_normal1=Nc.prototype.Ma;Nc.prototype.Uf=null;Nc.prototype.m_normal2=Nc.prototype.Uf;Nc.prototype.bc=null;Nc.prototype.m_normal=Nc.prototype.bc;Nc.prototype.Qq=0;Nc.prototype.m_type1=Nc.prototype.Qq;Nc.prototype.Rq=0;Nc.prototype.m_type2=Nc.prototype.Rq;
Nc.prototype.Tc=null;Nc.prototype.m_lowerLimit=Nc.prototype.Tc;Nc.prototype.ld=null;Nc.prototype.m_upperLimit=Nc.prototype.ld;Nc.prototype.ma=0;Nc.prototype.m_radius=Nc.prototype.ma;Nc.prototype.Cb=!1;Nc.prototype.m_front=Nc.prototype.Cb;
Nc.prototype.Dj=function(a,b,c,d,e){Nb(c,e,this.ja);Kb(this.ja,d.dh,this.Vi);this.zk.d(b.ag);this.ya.d(b.yd);this.Sa.d(b.Id);this.Wc.d(b.bg);c=b.xg;b=b.yg;e=w(this.Sa,this.ya,Oc);e.ec();this.Ma.U(e.y,-e.x);var f=u(this.Ma,w(this.Vi,this.ya,t)),g=0,h=0,l=!1,m=!1;c&&(g=w(this.ya,this.zk,Pc),g.ec(),this.Tf.U(g.y,-g.x),l=0<=v(g,e),g=u(this.Tf,w(this.Vi,this.zk,t)));b&&(h=w(this.Wc,this.Sa,Qc),h.ec(),this.Uf.U(h.y,-h.x),m=0<v(e,h),h=u(this.Uf,w(this.Vi,this.Sa,t)));c&&b?l&&m?(this.Cb=0<=g||0<=f||0<=h)?
(this.bc.d(this.Ma),this.Tc.d(this.Tf),this.ld.d(this.Uf)):(this.bc.d(this.Ma).la(),this.Tc.d(this.Ma).la(),this.ld.d(this.Ma).la()):l?(this.Cb=0<=g||0<=f&&0<=h)?(this.bc.d(this.Ma),this.Tc.d(this.Tf),this.ld.d(this.Ma)):(this.bc.d(this.Ma).la(),this.Tc.d(this.Uf).la(),this.ld.d(this.Ma).la()):m?(this.Cb=0<=h||0<=g&&0<=f)?(this.bc.d(this.Ma),this.Tc.d(this.Ma),this.ld.d(this.Uf)):(this.bc.d(this.Ma).la(),this.Tc.d(this.Ma).la(),this.ld.d(this.Tf).la()):(this.Cb=0<=g&&0<=f&&0<=h)?(this.bc.d(this.Ma),
this.Tc.d(this.Ma),this.ld.d(this.Ma)):(this.bc.d(this.Ma).la(),this.Tc.d(this.Uf).la(),this.ld.d(this.Tf).la()):c?l?((this.Cb=0<=g||0<=f)?(this.bc.d(this.Ma),this.Tc.d(this.Tf)):(this.bc.d(this.Ma).la(),this.Tc.d(this.Ma)),this.ld.d(this.Ma).la()):(this.Cb=0<=g&&0<=f)?(this.bc.d(this.Ma),this.Tc.d(this.Ma),this.ld.d(this.Ma).la()):(this.bc.d(this.Ma).la(),this.Tc.d(this.Ma),this.ld.d(this.Tf).la()):b?m?(this.Cb=0<=f||0<=h)?(this.bc.d(this.Ma),this.Tc.d(this.Ma).la(),this.ld.d(this.Uf)):(this.bc.d(this.Ma).la(),
this.Tc.d(this.Ma).la(),this.ld.d(this.Ma)):((this.Cb=0<=f&&0<=h)?(this.bc.d(this.Ma),this.Tc.d(this.Ma).la()):(this.bc.d(this.Ma).la(),this.Tc.d(this.Uf).la()),this.ld.d(this.Ma)):(this.Cb=0<=f)?(this.bc.d(this.Ma),this.Tc.d(this.Ma).la(),this.ld.d(this.Ma).la()):(this.bc.d(this.Ma).la(),this.Tc.d(this.Ma),this.ld.d(this.Ma));this.Uc.count=d.h;f=0;for(g=d.h;f<g;++f)Kb(this.ja,d.O[f],this.Uc.se[f]),A(this.ja.Q,d.Qb[f],this.Uc.si[f]);this.ma=.032;a.za=0;c=this.vp(Vc);if(!(0===c.type||c.nd>this.ma||
(b=this.wp(Wc),0!==b.type&&b.nd>this.ma))){c=0===b.type?c:b.nd>.98*c.nd+.001?b:c;e=Xc;b=Yc;if(1===c.type){a.type=1;h=0;l=u(this.bc,this.Uc.si[0]);f=1;for(g=this.Uc.count;f<g;++f)m=u(this.bc,this.Uc.si[f]),m<l&&(l=m,h=f);g=h;f=(g+1)%this.Uc.count;h=e[0];h.W.d(this.Uc.se[g]);h.id.Aa.B=0;h.id.Aa.D=g;h.id.Aa.Pe=1;h.id.Aa.Df=0;g=e[1];g.W.d(this.Uc.se[f]);g.id.Aa.B=0;g.id.Aa.D=f;g.id.Aa.Pe=1;g.id.Aa.Df=0;this.Cb?(b.nf=0,b.Wh=1,b.xh.d(this.ya),b.Cj.d(this.Sa),b.u.d(this.Ma)):(b.nf=1,b.Wh=0,b.xh.d(this.Sa),
b.Cj.d(this.ya),b.u.d(this.Ma).la())}else a.type=2,h=e[0],h.W.d(this.ya),h.id.Aa.B=0,h.id.Aa.D=c.index,h.id.Aa.Pe=0,h.id.Aa.Df=1,g=e[1],g.W.d(this.Sa),g.id.Aa.B=0,g.id.Aa.D=c.index,g.id.Aa.Pe=0,g.id.Aa.Df=1,b.nf=c.index,b.Wh=(b.nf+1)%this.Uc.count,b.xh.d(this.Uc.se[b.nf]),b.Cj.d(this.Uc.se[b.Wh]),b.u.d(this.Uc.si[b.nf]);b.xj.U(b.u.y,-b.u.x);b.Yk.d(b.xj).la();b.ym=u(b.xj,b.xh);b.zm=u(b.Yk,b.Cj);f=Zc;h=$c;g=0;g=Cc(f,e,b.xj,b.ym,b.nf);if(!(2>g||(g=Cc(h,f,b.Yk,b.zm,b.Wh),2>g))){1===c.type?(a.oc.d(b.u),
a.Fa.d(b.xh)):(a.oc.d(d.Qb[b.nf]),a.Fa.d(d.O[b.nf]));f=d=0;for(g=2;f<g;++f)u(b.u,w(h[f].W,b.xh,t))<=this.ma&&(e=a.qa[d],1===c.type?(Lb(this.ja,h[f].W,e.Fa),e.id=h[f].id):(e.Fa.d(h[f].W),e.id.Aa.Pe=h[f].id.Aa.Df,e.id.Aa.Df=h[f].id.Aa.Pe,e.id.Aa.B=h[f].id.Aa.D,e.id.Aa.D=h[f].id.Aa.B),++d);a.za=d}}};Nc.prototype.Collide=Nc.prototype.Dj;var Oc=new r,Pc=new r,Qc=new r,Xc=uc(2),Yc=new Lc,Zc=uc(2),$c=uc(2),Vc=new Ic,Wc=new Ic;
Nc.prototype.vp=function(a){a.type=1;a.index=this.Cb?0:1;a.nd=1E37;for(var b=0,c=this.Uc.count;b<c;++b){var d=u(this.bc,w(this.Uc.se[b],this.ya,t));d<a.nd&&(a.nd=d)}return a};Nc.prototype.ComputeEdgeSeparation=Nc.prototype.vp;
Nc.prototype.wp=function(a){a.type=0;a.index=-1;a.nd=-1E37;for(var b=ad.U(-this.bc.y,this.bc.x),c=0,d=this.Uc.count;c<d;++c){var e=ld.d(this.Uc.si[c]).la(),f=u(e,w(this.Uc.se[c],this.ya,t)),g=u(e,w(this.Uc.se[c],this.Sa,t)),f=Da(f,g);if(f>this.ma){a.type=2;a.index=c;a.nd=f;break}if(0<=u(e,b)){if(u(w(e,this.ld,t),this.bc)<-fa)continue}else if(u(w(e,this.Tc,t),this.bc)<-fa)continue;f>a.nd&&(a.type=2,a.index=c,a.nd=f)}return a};Nc.prototype.ComputePolygonSeparation=Nc.prototype.wp;var ld=new r,ad=new r;
function md(a,b,c,d,e){md.Pv.Dj(a,b,c,d,e)}q("box2d.b2CollideEdgeAndPolygon",md);md.Pv=new Nc;function nd(a,b,c,d,e){var f=b.h,g=d.h,h=b.Qb;b=b.O;d=d.O;c=Nb(e,c,nd.hp);e=0;for(var l=-1E37,m=0;m<f;++m){for(var n=A(c.Q,h[m],nd.Yo),p=Kb(c,b[m],nd.wh),y=1E37,x=0;x<g;++x){var I=u(n,w(d[x],p,t));I<y&&(y=I)}y>l&&(l=y,e=m)}a[0]=e;return l}q("box2d.b2FindMaxSeparation",nd);nd.hp=new B;nd.Yo=new r;nd.wh=new r;
function od(a,b,c,d,e,f){var g=e.h,h=e.O;e=e.Qb;b=Hb(f.Q,A(c.Q,b.Qb[d],t),od.xw);c=0;for(var l=1E37,m=0;m<g;++m){var n=u(b,e[m]);n<l&&(l=n,c=m)}e=c;g=(e+1)%g;b=a[0];Kb(f,h[e],b.W);b=b.id.Aa;b.B=d;b.D=e;b.Pe=1;b.Df=0;a=a[1];Kb(f,h[g],a.W);f=a.id.Aa;f.B=d;f.D=g;f.Pe=1;f.Df=0}q("box2d.b2FindIncidentEdge",od);od.xw=new r;
function pd(a,b,c,d,e){a.za=0;var f=b.ma+d.ma,g=pd.cw;g[0]=0;var h=nd(g,b,c,d,e);if(!(h>f)){var l=pd.dw;l[0]=0;var m=nd(l,d,e,b,c);if(!(m>f)){var n=0,p=0;m>.98*h+.001?(h=d,d=b,b=e,n=l[0],a.type=2,p=1):(h=b,b=c,c=e,n=g[0],a.type=1,p=0);g=pd.mw;od(g,h,b,n,d,c);e=h.O;var l=n,h=(n+1)%h.h,y=e[l],x=e[h],n=w(x,y,pd.sw);n.ec();e=ab(n,1,pd.rw);d=hb(y,x,pd.vj);var m=A(b.Q,n,pd.Uw),n=ab(m,1,pd.dg),y=Kb(b,y,pd.Yw),I=Kb(b,x,pd.Zw);b=u(n,y);var x=-u(m,y)+f,I=u(m,I)+f,W=pd.Nv,y=pd.Ov,S=pd.Aw.d(m).la(),g=Cc(W,g,
S,x,l);if(!(2>g||(g=Cc(y,W,m,I,h),2>g))){a.oc.d(e);a.Fa.d(d);for(l=g=0;2>l;++l)e=y[l],u(n,e.W)-b<=f&&(h=a.qa[g],Lb(c,e.W,h.Fa),h.id.d(e.id),p&&(e=h.id.Aa,h.id.Aa.B=e.D,h.id.Aa.D=e.B,h.id.Aa.Pe=e.Df,h.id.Aa.Df=e.Pe),++g);a.za=g}}}}q("box2d.b2CollidePolygons",pd);pd.mw=uc(2);pd.Nv=uc(2);pd.Ov=uc(2);pd.cw=pa(1);pd.dw=pa(1);pd.sw=new r;pd.rw=new r;pd.vj=new r;pd.dg=new r;pd.Uw=new r;pd.Aw=new r;pd.Yw=new r;pd.Zw=new r;function qd(a){this.Rd=a||0;this.$=new xc}q("box2d.b2TreeNode",qd);qd.prototype.Rd=0;qd.prototype.m_id=qd.prototype.Rd;qd.prototype.$=null;qd.prototype.aabb=qd.prototype.$;qd.prototype.ic=null;qd.prototype.userData=qd.prototype.ic;qd.prototype.parent=null;qd.prototype.parent=qd.prototype.parent;qd.prototype.Db=null;qd.prototype.child1=qd.prototype.Db;qd.prototype.Tb=null;qd.prototype.child2=qd.prototype.Tb;qd.prototype.height=0;qd.prototype.height=qd.prototype.height;
qd.prototype.Hf=function(){return null===this.Db};qd.prototype.IsLeaf=qd.prototype.Hf;function C(){}q("box2d.b2DynamicTree",C);C.prototype.Ac=null;C.prototype.m_root=C.prototype.Ac;C.prototype.fi=null;C.prototype.m_freeList=C.prototype.fi;C.prototype.sv=0;C.prototype.m_path=C.prototype.sv;C.prototype.Lq=0;C.prototype.m_insertionCount=C.prototype.Lq;var td=new xa(256),ud=new r,vd=new r,wd=new r,xd=new xc,yd=new vc,zd=new xc,Ad=new xc;C.prototype.$c=function(a){return a.ic};
C.prototype.GetUserData=C.prototype.$c;C.prototype.kg=function(a){return a.$};C.prototype.GetFatAABB=C.prototype.kg;C.prototype.Qg=function(a,b){if(null!==this.Ac){var c=td.xb();for(c.Rc(this.Ac);0<c.Fh();){var d=c.Ji();if(null!==d&&d.$.Zj(b))if(d.Hf()){if(!a(d))break}else c.Rc(d.Db),c.Rc(d.Tb)}}};C.prototype.Query=C.prototype.Qg;
C.prototype.ha=function(a,b){if(null!==this.Ac){var c=b.gd,d=b.Zd,e=w(d,c,ud);e.ec();var e=bb(1,e,vd),f=Ya(e,wd),g=b.Me,h=c.x+g*(d.x-c.x),l=c.y+g*(d.y-c.y);xd.lowerBound.x=Da(c.x,h);xd.lowerBound.y=Da(c.y,l);xd.upperBound.x=Ea(c.x,h);xd.upperBound.y=Ea(c.y,l);var m=td.xb();for(m.Rc(this.Ac);0<m.Fh();)if(h=m.Ji(),null!==h&&Bc(h.$,xd)){var l=h.$.Dh(),n=h.$.Mp();if(!(0<na(u(e,w(c,l,t)))-u(f,n)))if(h.Hf()){l=yd;l.gd.d(b.gd);l.Zd.d(b.Zd);l.Me=g;h=a(l,h);if(0===h)break;0<h&&(g=h,h=c.x+g*(d.x-c.x),l=c.y+
g*(d.y-c.y),xd.lowerBound.x=Da(c.x,h),xd.lowerBound.y=Da(c.y,l),xd.upperBound.x=Ea(c.x,h),xd.upperBound.y=Ea(c.y,l))}else m.Rc(h.Db),m.Rc(h.Tb)}}};C.prototype.RayCast=C.prototype.ha;C.prototype.Im=function(){if(this.fi){var a=this.fi;this.fi=a.parent;a.parent=null;a.Db=null;a.Tb=null;a.height=0;a.ic=null;return a}return new qd(C.prototype.ww++)};C.prototype.AllocateNode=C.prototype.Im;C.prototype.ww=0;C.prototype.jl=function(a){a.parent=this.fi;a.height=-1;this.fi=a};C.prototype.FreeNode=C.prototype.jl;
C.prototype.Fi=function(a,b){var c=this.Im();c.$.lowerBound.x=a.lowerBound.x-.1;c.$.lowerBound.y=a.lowerBound.y-.1;c.$.upperBound.x=a.upperBound.x+.1;c.$.upperBound.y=a.upperBound.y+.1;c.ic=b;c.height=0;this.sn(c);return c};C.prototype.CreateProxy=C.prototype.Fi;C.prototype.Gj=function(a){this.yn(a);this.jl(a)};C.prototype.DestroyProxy=C.prototype.Gj;
C.prototype.Sj=function(a,b,c){if(a.$.xp(b))return!1;this.yn(a);var d=.1+2*(0<c.x?c.x:-c.x);c=.1+2*(0<c.y?c.y:-c.y);a.$.lowerBound.x=b.lowerBound.x-d;a.$.lowerBound.y=b.lowerBound.y-c;a.$.upperBound.x=b.upperBound.x+d;a.$.upperBound.y=b.upperBound.y+c;this.sn(a);return!0};C.prototype.MoveProxy=C.prototype.Sj;
C.prototype.sn=function(a){++this.Lq;if(null===this.Ac)this.Ac=a,this.Ac.parent=null;else{var b=a.$;b.Dh();for(var c=this.Ac,d,e;!c.Hf();){d=c.Db;e=c.Tb;var f=c.$.ef(),g=zd;g.Zc(c.$,b);var h=g.ef(),g=2*h,h=2*(h-f),l=Ad,m,n;d.Hf()?(l.Zc(b,d.$),f=l.ef()+h):(l.Zc(b,d.$),m=d.$.ef(),n=l.ef(),f=n-m+h);e.Hf()?(l.Zc(b,e.$),h=l.ef()+h):(l.Zc(b,e.$),m=e.$.ef(),n=l.ef(),h=n-m+h);if(g<f&&g<h)break;c=f<h?d:e}d=c.parent;e=this.Im();e.parent=d;e.ic=null;e.$.Zc(b,c.$);e.height=c.height+1;d?(d.Db===c?d.Db=e:d.Tb=
e,e.Db=c,e.Tb=a,c.parent=e,a.parent=e):(e.Db=c,e.Tb=a,c.parent=e,this.Ac=a.parent=e);for(c=a.parent;null!==c;)c=this.Jm(c),d=c.Db,e=c.Tb,c.height=1+Ea(d.height,e.height),c.$.Zc(d.$,e.$),c=c.parent}};C.prototype.InsertLeaf=C.prototype.sn;
C.prototype.yn=function(a){if(a===this.Ac)this.Ac=null;else{var b=a.parent,c=b.parent;a=b.Db===a?b.Tb:b.Db;if(c)for(c.Db===b?c.Db=a:c.Tb=a,a.parent=c,this.jl(b),b=c;b;)b=this.Jm(b),c=b.Db,a=b.Tb,b.$.Zc(c.$,a.$),b.height=1+Ea(c.height,a.height),b=b.parent;else this.Ac=a,a.parent=null,this.jl(b)}};C.prototype.RemoveLeaf=C.prototype.yn;
C.prototype.Jm=function(a){if(a.Hf()||2>a.height)return a;var b=a.Db,c=a.Tb,d=c.height-b.height;if(1<d){var d=c.Db,e=c.Tb;c.Db=a;c.parent=a.parent;a.parent=c;null!==c.parent?c.parent.Db===a?c.parent.Db=c:c.parent.Tb=c:this.Ac=c;d.height>e.height?(c.Tb=d,a.Tb=e,e.parent=a,a.$.Zc(b.$,e.$),c.$.Zc(a.$,d.$),a.height=1+Ea(b.height,e.height),c.height=1+Ea(a.height,d.height)):(c.Tb=e,a.Tb=d,d.parent=a,a.$.Zc(b.$,d.$),c.$.Zc(a.$,e.$),a.height=1+Ea(b.height,d.height),c.height=1+Ea(a.height,e.height));return c}return-1>
d?(d=b.Db,e=b.Tb,b.Db=a,b.parent=a.parent,a.parent=b,null!==b.parent?b.parent.Db===a?b.parent.Db=b:b.parent.Tb=b:this.Ac=b,d.height>e.height?(b.Tb=d,a.Db=e,e.parent=a,a.$.Zc(c.$,e.$),b.$.Zc(a.$,d.$),a.height=1+Ea(c.height,e.height),b.height=1+Ea(a.height,d.height)):(b.Tb=e,a.Db=d,d.parent=a,a.$.Zc(c.$,d.$),b.$.Zc(a.$,e.$),a.height=1+Ea(c.height,d.height),b.height=1+Ea(a.height,e.height)),b):a};C.prototype.Balance=C.prototype.Jm;C.prototype.Pp=function(){return null===this.Ac?0:this.Ac.height};
C.prototype.GetHeight=C.prototype.Pp;C.prototype.Jp=function(){function a(b){if(null===b||b.Hf())return 0;var c=b.$.ef(),c=c+a(b.Db);return c+=a(b.Tb)}return null===this.Ac?0:a(this.Ac)/this.Ac.$.ef()};C.prototype.GetAreaRatio=C.prototype.Jp;C.prototype.dl=function(a){if(a.Hf())return 0;var b=this.dl(a.Db);a=this.dl(a.Tb);return 1+Ea(b,a)};C.prototype.ComputeHeightNode=C.prototype.dl;C.prototype.rr=function(){return this.dl(this.Ac)};C.prototype.ComputeHeight=C.prototype.rr;C.prototype.kv=function(){};
C.prototype.ValidateStructure=C.prototype.kv;C.prototype.Bl=function(a){if(null!==a){var b=a.Db,c=a.Tb;a.Hf()||(Ea(b.height,c.height),Ad.Zc(b.$,c.$),this.Bl(b),this.Bl(c))}};C.prototype.ValidateMetrics=C.prototype.Bl;C.prototype.Ug=function(){this.Bl(this.Ac);for(var a=0,b=this.fi;null!==b;)b=b.parent,++a};C.prototype.Validate=C.prototype.Ug;C.prototype.Qp=function(){var a;a=this.Ac;null===a||1>=a.height?a=0:(a=na(a.Tb.height-a.Db.height),a=Ea(0,a));return a};C.prototype.GetMaxBalance=C.prototype.Qp;
C.prototype.Wt=function(){this.Ug()};C.prototype.RebuildBottomUp=C.prototype.Wt;C.prototype.le=function(a){function b(a,d){if(null!==a&&!(1>=a.height)){var e=a.Tb;b(a.Db,d);b(e,d);a.$.lowerBound.gb(d);a.$.upperBound.gb(d)}}b(this.Ac,a)};C.prototype.ShiftOrigin=C.prototype.le;function Bd(){}q("box2d.b2Pair",Bd);Bd.prototype.Bc=null;Bd.prototype.proxyA=Bd.prototype.Bc;Bd.prototype.Oc=null;Bd.prototype.proxyB=Bd.prototype.Oc;function Cd(){this.kd=new C;this.hj=[];this.Rb=[]}q("box2d.b2BroadPhase",Cd);Cd.prototype.kd=null;Cd.prototype.m_tree=Cd.prototype.kd;Cd.prototype.Gd=0;Cd.prototype.m_proxyCount=Cd.prototype.Gd;Cd.prototype.qk=0;Cd.prototype.m_moveCount=Cd.prototype.qk;Cd.prototype.hj=null;Cd.prototype.m_moveBuffer=Cd.prototype.hj;Cd.prototype.Hg=0;
Cd.prototype.m_pairCount=Cd.prototype.Hg;Cd.prototype.Rb=null;Cd.prototype.m_pairBuffer=Cd.prototype.Rb;Cd.prototype.Fi=function(a,b){var c=this.kd.Fi(a,b);++this.Gd;this.cl(c);return c};Cd.prototype.CreateProxy=Cd.prototype.Fi;Cd.prototype.Gj=function(a){this.uq(a);--this.Gd;this.kd.Gj(a)};Cd.prototype.DestroyProxy=Cd.prototype.Gj;Cd.prototype.Sj=function(a,b,c){this.kd.Sj(a,b,c)&&this.cl(a)};Cd.prototype.MoveProxy=Cd.prototype.Sj;Cd.prototype.Rn=function(a){this.cl(a)};Cd.prototype.TouchProxy=Cd.prototype.Rn;
Cd.prototype.kg=function(a){return this.kd.kg(a)};Cd.prototype.GetFatAABB=Cd.prototype.kg;Cd.prototype.$c=function(a){return this.kd.$c(a)};Cd.prototype.GetUserData=Cd.prototype.$c;Cd.prototype.Zj=function(a,b){return Bc(this.kd.kg(a),this.kd.kg(b))};Cd.prototype.TestOverlap=Cd.prototype.Zj;Cd.prototype.pl=function(){return this.Gd};Cd.prototype.GetProxyCount=Cd.prototype.pl;Cd.prototype.rl=function(){return this.kd.Pp()};Cd.prototype.GetTreeHeight=Cd.prototype.rl;Cd.prototype.ql=function(){return this.kd.Qp()};
Cd.prototype.GetTreeBalance=Cd.prototype.ql;Cd.prototype.sl=function(){return this.kd.Jp()};Cd.prototype.GetTreeQuality=Cd.prototype.sl;Cd.prototype.le=function(a){this.kd.le(a)};Cd.prototype.ShiftOrigin=Cd.prototype.le;
Cd.prototype.vq=function(a){for(var b=this.Hg=0;b<this.qk;++b){var c=this.hj[b];if(null!==c){var d=this;this.kd.Qg(function(a){if(a.Rd===c.Rd)return!0;d.Hg===d.Rb.length&&(d.Rb[d.Hg]=new Bd);var b=d.Rb[d.Hg];a.Rd<c.Rd?(b.Bc=a,b.Oc=c):(b.Bc=c,b.Oc=a);++d.Hg;return!0},this.kd.kg(c))}}this.qk=0;this.Rb.length=this.Hg;this.Rb.sort(Dd);for(b=0;b<this.Hg;){var e=this.Rb[b];a.qp(this.kd.$c(e.Bc),this.kd.$c(e.Oc));for(++b;b<this.Hg;){var f=this.Rb[b];if(f.Bc.Rd!==e.Bc.Rd||f.Oc.Rd!==e.Oc.Rd)break;++b}}};
Cd.prototype.UpdatePairs=Cd.prototype.vq;Cd.prototype.Qg=function(a,b){this.kd.Qg(a,b)};Cd.prototype.Query=Cd.prototype.Qg;Cd.prototype.ha=function(a,b){this.kd.ha(a,b)};Cd.prototype.RayCast=Cd.prototype.ha;Cd.prototype.cl=function(a){this.hj[this.qk]=a;++this.qk};Cd.prototype.BufferMove=Cd.prototype.cl;Cd.prototype.uq=function(a){this.hj[this.hj.indexOf(a)]=null};Cd.prototype.UnBufferMove=Cd.prototype.uq;function Dd(a,b){return a.Bc.Rd===b.Bc.Rd?a.Oc.Rd-b.Oc.Rd:a.Bc.Rd-b.Bc.Rd};function Ed(){this.Yb=new r(0,0)}q("box2d.b2MassData",Ed);Ed.prototype.Xc=0;Ed.prototype.mass=Ed.prototype.Xc;Ed.prototype.Yb=null;Ed.prototype.center=Ed.prototype.Yb;Ed.prototype.hf=0;Ed.prototype.I=Ed.prototype.hf;var Gd={Hl:-1,Sx:0,$x:1,qy:2,Rx:3,xy:4};q("box2d.b2ShapeType",Gd);Gd.e_unknown=-1;Gd.e_circleShape=0;Gd.e_edgeShape=1;Gd.e_polygonShape=2;Gd.e_chainShape=3;Gd.e_shapeTypeCount=4;function Hd(a,b){this.Qa=a;this.ma=b}q("box2d.b2Shape",Hd);Hd.prototype.Qa=-1;Hd.prototype.m_type=Hd.prototype.Qa;
Hd.prototype.ma=0;Hd.prototype.m_radius=Hd.prototype.ma;Hd.prototype.ba=function(){return null};Hd.prototype.Clone=Hd.prototype.ba;Hd.prototype.d=function(a){this.ma=a.ma;return this};Hd.prototype.Copy=Hd.prototype.d;Hd.prototype.mc=function(){return this.Qa};Hd.prototype.GetType=Hd.prototype.mc;Hd.prototype.Jd=function(){return 0};Hd.prototype.GetChildCount=Hd.prototype.Jd;Hd.prototype.nc=function(){return!1};Hd.prototype.TestPoint=Hd.prototype.nc;Hd.prototype.ob=function(){return 0};
Hd.prototype.ComputeDistance=Hd.prototype.ob;Hd.prototype.ha=function(){return!1};Hd.prototype.RayCast=Hd.prototype.ha;Hd.prototype.ib=function(){};Hd.prototype.ComputeAABB=Hd.prototype.ib;Hd.prototype.Pc=function(){};Hd.prototype.ComputeMass=Hd.prototype.Pc;Hd.prototype.Wj=function(){};Hd.prototype.Ic=function(){return 0};Hd.prototype.ComputeSubmergedArea=Hd.prototype.Ic;Hd.prototype.$a=function(){};Hd.prototype.Dump=Hd.prototype.$a;function Id(a){Hd.call(this,0,a||0);this.Vb=new r}ca(Id,Hd);q("box2d.b2CircleShape",Id);Id.prototype.Vb=null;Id.prototype.m_p=Id.prototype.Vb;Id.prototype.ba=function(){return(new Id).d(this)};Id.prototype.Clone=Id.prototype.ba;Id.prototype.d=function(a){Hd.prototype.d.call(this,a);this.Vb.d(a.Vb);return this};Id.prototype.Copy=Id.prototype.d;Id.prototype.Jd=function(){return 1};Id.prototype.GetChildCount=Id.prototype.Jd;
Id.prototype.nc=function(a,b){var c=Kb(a,this.Vb,Id.prototype.nc.yi),c=w(b,c,Id.prototype.nc.rc);return u(c,c)<=Ha(this.ma)};Id.prototype.TestPoint=Id.prototype.nc;Id.prototype.nc.yi=new r;Id.prototype.nc.rc=new r;Id.prototype.ob=function(a,b,c){a=Kb(a,this.Vb,Id.prototype.ob.yi);w(b,a,c);return c.ec()-this.ma};Id.prototype.ComputeDistance=Id.prototype.ob;Id.prototype.ob.yi=new r;
Id.prototype.ha=function(a,b,c){c=Kb(c,this.Vb,Id.prototype.ha.Fw);c=w(b.gd,c,Id.prototype.ha.Sk);var d=u(c,c)-Ha(this.ma),e=w(b.Zd,b.gd,Id.prototype.ha.Rk),f=u(c,e),g=u(e,e),d=f*f-g*d;if(0>d||1E-5>g)return!1;f=-(f+Na(d));return 0<=f&&f<=b.Me*g?(f/=g,a.ze=f,eb(c,f,e,a.u).ke(),!0):!1};Id.prototype.RayCast=Id.prototype.ha;Id.prototype.ha.Fw=new r;Id.prototype.ha.Sk=new r;Id.prototype.ha.Rk=new r;
Id.prototype.ib=function(a,b){var c=Kb(b,this.Vb,Id.prototype.ib.vh);a.lowerBound.U(c.x-this.ma,c.y-this.ma);a.upperBound.U(c.x+this.ma,c.y+this.ma)};Id.prototype.ComputeAABB=Id.prototype.ib;Id.prototype.ib.vh=new r;Id.prototype.Pc=function(a,b){var c=Ha(this.ma);a.Xc=b*ea*c;a.Yb.d(this.Vb);a.hf=a.Xc*(.5*c+u(this.Vb,this.Vb))};Id.prototype.ComputeMass=Id.prototype.Pc;Id.prototype.Wj=function(a){a.O=a.Od;a.O[0].d(this.Vb);a.h=1;a.ma=this.ma};
Id.prototype.Ic=function(a,b,c,d){c=Kb(c,this.Vb,new r);var e=-(u(a,c)-b);if(e<-this.ma+1E-5)return 0;if(e>this.ma)return d.d(c),ea*this.ma*this.ma;b=this.ma*this.ma;var f=e*e,e=b*(Pa(e/this.ma)+ea/2)+e*Na(b-f);b=-2/3*Oa(b-f,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};Id.prototype.ComputeSubmergedArea=Id.prototype.Ic;
Id.prototype.$a=function(){la("    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();\n");la("    shape.m_radius = %.15f;\n",this.ma);la("    shape.m_p.Set(%.15f, %.15f);\n",this.Vb.x,this.Vb.y)};Id.prototype.Dump=Id.prototype.$a;function Jd(){Hd.call(this,1,.016);this.yd=new r;this.Id=new r;this.ag=new r;this.bg=new r}ca(Jd,Hd);q("box2d.b2EdgeShape",Jd);Jd.prototype.yd=null;Jd.prototype.m_vertex1=Jd.prototype.yd;Jd.prototype.Id=null;Jd.prototype.m_vertex2=Jd.prototype.Id;Jd.prototype.ag=null;Jd.prototype.m_vertex0=Jd.prototype.ag;Jd.prototype.bg=null;Jd.prototype.m_vertex3=Jd.prototype.bg;Jd.prototype.xg=!1;Jd.prototype.m_hasVertex0=Jd.prototype.xg;Jd.prototype.yg=!1;Jd.prototype.m_hasVertex3=Jd.prototype.yg;
Jd.prototype.U=function(a,b){this.yd.d(a);this.Id.d(b);this.yg=this.xg=!1;return this};Jd.prototype.Set=Jd.prototype.U;Jd.prototype.ba=function(){return(new Jd).d(this)};Jd.prototype.Clone=Jd.prototype.ba;Jd.prototype.d=function(a){Hd.prototype.d.call(this,a);this.yd.d(a.yd);this.Id.d(a.Id);this.ag.d(a.ag);this.bg.d(a.bg);this.xg=a.xg;this.yg=a.yg;return this};Jd.prototype.Copy=Jd.prototype.d;Jd.prototype.Jd=function(){return 1};Jd.prototype.GetChildCount=Jd.prototype.Jd;Jd.prototype.nc=function(){return!1};
Jd.prototype.TestPoint=Jd.prototype.nc;Jd.prototype.ob=function(a,b,c){var d=Kb(a,this.yd,Jd.prototype.ob.wh);a=Kb(a,this.Id,Jd.prototype.ob.wj);var e=w(b,d,Jd.prototype.ob.rc),d=w(a,d,Jd.prototype.ob.Sk),f=u(e,d);if(0<f){var g=u(d,d);f>g?w(b,a,e):e.Ea(f/g,d)}c.d(e);return c.ec()};Jd.prototype.ComputeDistance=Jd.prototype.ob;k=Jd.prototype;k.ob.wh=new r;k.ob.wj=new r;k.ob.rc=new r;k.ob.Sk=new r;
k.ha=function(a,b,c){var d=Lb(c,b.gd,Jd.prototype.ha.Pk),e=Lb(c,b.Zd,Jd.prototype.ha.Qk),f=w(e,d,Jd.prototype.ha.rc),e=this.yd,g=this.Id,h=w(g,e,Jd.prototype.ha.Kk),l=a.u.U(h.y,-h.x).ke(),h=u(l,w(e,d,t)),l=u(l,f);if(0===l)return!1;l=h/l;if(0>l||b.Me<l)return!1;b=eb(d,l,f,Jd.prototype.ha.Hw);d=w(g,e,Jd.prototype.ha.Rk);g=u(d,d);if(0===g)return!1;e=u(w(b,e,t),d)/g;if(0>e||1<e)return!1;a.ze=l;A(c.Q,a.u,a.u);0<h&&a.u.la();return!0};Jd.prototype.RayCast=Jd.prototype.ha;k=Jd.prototype;k.ha.Pk=new r;
k.ha.Qk=new r;k.ha.rc=new r;k.ha.Kk=new r;k.ha.Hw=new r;k.ha.Rk=new r;k.ib=function(a,b){var c=Kb(b,this.yd,Jd.prototype.ib.wh),d=Kb(b,this.Id,Jd.prototype.ib.wj);Za(c,d,a.lowerBound);$a(c,d,a.upperBound);c=this.ma;a.lowerBound.Cn(c,c);a.upperBound.An(c,c)};Jd.prototype.ComputeAABB=Jd.prototype.ib;Jd.prototype.ib.wh=new r;Jd.prototype.ib.wj=new r;Jd.prototype.Pc=function(a){a.Xc=0;hb(this.yd,this.Id,a.Yb);a.hf=0};Jd.prototype.ComputeMass=Jd.prototype.Pc;
Jd.prototype.Wj=function(a){a.O=a.Od;a.O[0].d(this.yd);a.O[1].d(this.Id);a.h=2;a.ma=this.ma};Jd.prototype.Ic=function(a,b,c,d){d.R();return 0};Jd.prototype.ComputeSubmergedArea=Jd.prototype.Ic;
Jd.prototype.$a=function(){la("    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();\n");la("    shape.m_radius = %.15f;\n",this.ma);la("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.ag.x,this.ag.y);la("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.yd.x,this.yd.y);la("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.Id.x,this.Id.y);la("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.bg.x,this.bg.y);la("    shape.m_hasVertex0 = %s;\n",this.xg);la("    shape.m_hasVertex3 = %s;\n",this.yg)};
Jd.prototype.Dump=Jd.prototype.$a;function D(){Hd.call(this,3,.016);this.Vf=new r;this.Sf=new r}ca(D,Hd);q("box2d.b2ChainShape",D);D.prototype.O=null;D.prototype.m_vertices=D.prototype.O;D.prototype.h=0;D.prototype.m_count=D.prototype.h;D.prototype.Vf=null;D.prototype.m_prevVertex=D.prototype.Vf;D.prototype.Sf=null;D.prototype.m_nextVertex=D.prototype.Sf;D.prototype.jh=!1;D.prototype.m_hasPrevVertex=D.prototype.jh;D.prototype.ih=!1;D.prototype.m_hasNextVertex=D.prototype.ih;D.prototype.Bh=function(){this.O=null;this.h=0};
D.prototype.Clear=D.prototype.Bh;D.prototype.ur=function(a,b){var c;b=b||a.length;this.h=b+1;this.O=Xa(this.h);for(c=0;c<b;++c)this.O[c].d(a[c]);this.O[b].d(this.O[0]);this.Vf.d(this.O[this.h-2]);this.Sf.d(this.O[1]);this.ih=this.jh=!0;return this};D.prototype.CreateLoop=D.prototype.ur;D.prototype.yp=function(a,b){var c;this.h=b=b||a.length;this.O=Xa(b);for(c=0;c<b;++c)this.O[c].d(a[c]);this.ih=this.jh=!1;this.Vf.R();this.Sf.R();return this};D.prototype.CreateChain=D.prototype.yp;
D.prototype.Ru=function(a){this.Vf.d(a);this.jh=!0;return this};D.prototype.SetPrevVertex=D.prototype.Ru;D.prototype.Nu=function(a){this.Sf.d(a);this.ih=!0;return this};D.prototype.SetNextVertex=D.prototype.Nu;D.prototype.ba=function(){return(new D).d(this)};D.prototype.Clone=D.prototype.ba;D.prototype.d=function(a){Hd.prototype.d.call(this,a);this.yp(a.O,a.h);this.Vf.d(a.Vf);this.Sf.d(a.Sf);this.jh=a.jh;this.ih=a.ih;return this};D.prototype.Copy=D.prototype.d;
D.prototype.Jd=function(){return this.h-1};D.prototype.GetChildCount=D.prototype.Jd;D.prototype.Ij=function(a,b){a.Qa=1;a.ma=this.ma;a.yd.d(this.O[b]);a.Id.d(this.O[b+1]);0<b?(a.ag.d(this.O[b-1]),a.xg=!0):(a.ag.d(this.Vf),a.xg=this.jh);b<this.h-2?(a.bg.d(this.O[b+2]),a.yg=!0):(a.bg.d(this.Sf),a.yg=this.ih)};D.prototype.GetChildEdge=D.prototype.Ij;D.prototype.nc=function(){return!1};D.prototype.TestPoint=D.prototype.nc;
D.prototype.ob=function(a,b,c,d){var e=D.prototype.ob.Vo;this.Ij(e,d);return e.ob(a,b,c,0)};D.prototype.ComputeDistance=D.prototype.ob;D.prototype.ob.Vo=new Jd;D.prototype.ha=function(a,b,c,d){var e=D.prototype.ha.Vo;e.yd.d(this.O[d]);e.Id.d(this.O[(d+1)%this.h]);return e.ha(a,b,c,0)};D.prototype.RayCast=D.prototype.ha;D.prototype.ha.Vo=new Jd;D.prototype.ib=function(a,b,c){var d=this.O[(c+1)%this.h];c=Kb(b,this.O[c],D.prototype.ib.wh);b=Kb(b,d,D.prototype.ib.wj);Za(c,b,a.lowerBound);$a(c,b,a.upperBound)};
D.prototype.ComputeAABB=D.prototype.ib;D.prototype.ib.wh=new r;D.prototype.ib.s_v1=D.prototype.ib.wh;D.prototype.ib.wj=new r;D.prototype.ib.s_v2=D.prototype.ib.wj;D.prototype.Pc=function(a){a.Xc=0;a.Yb.R();a.hf=0};D.prototype.ComputeMass=D.prototype.Pc;D.prototype.Wj=function(a,b){a.Od[0].d(this.O[b]);b+1<this.h?a.Od[1].d(this.O[b+1]):a.Od[1].d(this.O[0]);a.O=a.Od;a.h=2;a.ma=this.ma};D.prototype.Ic=function(a,b,c,d){d.R();return 0};D.prototype.ComputeSubmergedArea=D.prototype.Ic;
D.prototype.$a=function(){la("    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();\n");la("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",8);for(var a=0;a<this.h;++a)la("    vs[%d].Set(%.15f, %.15f);\n",a,this.O[a].x,this.O[a].y);la("    shape.CreateChain(vs, %d);\n",this.h);la("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.Vf.x,this.Vf.y);la("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.Sf.x,this.Sf.y);la("    shape.m_hasPrevVertex = %s;\n",this.jh?"true":"false");
la("    shape.m_hasNextVertex = %s;\n",this.ih?"true":"false")};D.prototype.Dump=D.prototype.$a;function E(){Hd.call(this,2,.016);this.dh=new r(0,0);this.O=Xa(8);this.Qb=Xa(8)}ca(E,Hd);q("box2d.b2PolygonShape",E);E.prototype.dh=null;E.prototype.m_centroid=E.prototype.dh;E.prototype.O=null;E.prototype.m_vertices=E.prototype.O;E.prototype.Qb=null;E.prototype.m_normals=E.prototype.Qb;E.prototype.h=0;E.prototype.m_count=E.prototype.h;E.prototype.ba=function(){return(new E).d(this)};E.prototype.Clone=E.prototype.ba;
E.prototype.d=function(a){Hd.prototype.d.call(this,a);this.dh.d(a.dh);this.h=a.h;for(var b=0,c=this.h;b<c;++b)this.O[b].d(a.O[b]),this.Qb[b].d(a.Qb[b]);return this};E.prototype.Copy=E.prototype.d;
E.prototype.vl=function(a,b,c,d){this.h=4;this.O[0].U(-a,-b);this.O[1].U(a,-b);this.O[2].U(a,b);this.O[3].U(-a,b);this.Qb[0].U(0,-1);this.Qb[1].U(1,0);this.Qb[2].U(0,1);this.Qb[3].U(-1,0);this.dh.R();if(c instanceof r)for(d="number"===typeof d?d:0,this.dh.d(c),a=new B,a.yl(c),a.mq(d),c=0,d=this.h;c<d;++c)Kb(a,this.O[c],this.O[c]),A(a.Q,this.Qb[c],this.Qb[c]);return this};E.prototype.SetAsBox=E.prototype.vl;
E.prototype.U=function(a,b,c){b="number"===typeof b?b:a.length;c="number"===typeof c?c:0;if(3>b)return this.vl(1,1);b=Da(b,8);for(var d=E.prototype.U.Gw,e=0,f=0;f<b;++f){for(var g=a[c+f],h=!0,l=0;l<e;++l)if(1.6E-5>kb(g,d[l])){h=!1;break}h&&d[e++].d(g)}b=e;if(3>b)return this.vl(1,1);a=0;g=d[0].x;for(f=1;f<b;++f)if(l=d[f].x,l>g||l===g&&d[f].y<d[a].y)a=f,g=l;e=E.prototype.U.iw;c=0;for(f=a;;){e[c]=f;h=0;for(l=1;l<b;++l)if(h===f)h=l;else{var m=w(d[h],d[e[c]],E.prototype.U.Rk),g=w(d[l],d[e[c]],E.prototype.U.Uk),
n=v(m,g);0>n&&(h=l);0===n&&g.Md()>m.Md()&&(h=l)}++c;f=h;if(h===a)break}if(3>c)return this.vl(1,1);this.h=c;for(f=0;f<c;++f)this.O[f].d(d[e[f]]);f=0;for(b=c;f<b;++f)d=w(this.O[(f+1)%b],this.O[f],t),ab(d,1,this.Qb[f]).ke();Kd(this.O,c,this.dh);return this};E.prototype.Set=E.prototype.U;k=E.prototype;k.U.Gw=Xa(8);k.U.iw=pa(8);k.U.Rk=new r;k.U.Uk=new r;k.Jd=function(){return 1};E.prototype.GetChildCount=E.prototype.Jd;
E.prototype.nc=function(a,b){for(var c=Lb(a,b,E.prototype.nc.cp),d=0,e=this.h;d<e;++d)if(0<u(this.Qb[d],w(c,this.O[d],t)))return!1;return!0};E.prototype.TestPoint=E.prototype.nc;E.prototype.nc.cp=new r;
E.prototype.ob=function(a,b,c){b=Lb(a,b,E.prototype.ob.cp);for(var d=-1E37,e=E.prototype.ob.yw.d(b),f=0;f<this.h;++f){var g=u(this.Qb[f],w(b,this.O[f],t));g>d&&(d=g,e.d(this.Qb[f]))}if(0<d){e=E.prototype.ob.vw.d(e);d*=d;for(f=0;f<this.h;++f){var g=w(b,this.O[f],E.prototype.ob.Wv),h=g.Md();d>h&&(e.d(g),d=h)}A(a.Q,e,c);c.ec();return Math.sqrt(d)}A(a.Q,e,c);return d};E.prototype.ComputeDistance=E.prototype.ob;k=E.prototype;k.ob.cp=new r;k.ob.yw=new r;k.ob.vw=new r;k.ob.Wv=new r;
k.ha=function(a,b,c){var d=Lb(c,b.gd,E.prototype.ha.Pk),e=Lb(c,b.Zd,E.prototype.ha.Qk),e=w(e,d,E.prototype.ha.rc),f=0;b=b.Me;for(var g=-1,h=0,l=this.h;h<l;++h){var m=u(this.Qb[h],w(this.O[h],d,t)),n=u(this.Qb[h],e);if(0===n){if(0>m)return!1}else 0>n&&m<f*n?(f=m/n,g=h):0<n&&m<b*n&&(b=m/n);if(b<f)return!1}return 0<=g?(a.ze=f,A(c.Q,this.Qb[g],a.u),!0):!1};E.prototype.RayCast=E.prototype.ha;E.prototype.ha.Pk=new r;E.prototype.ha.Qk=new r;E.prototype.ha.rc=new r;
E.prototype.ib=function(a,b){for(var c=Kb(b,this.O[0],a.lowerBound),d=a.upperBound.d(c),e=0,f=this.h;e<f;++e){var g=Kb(b,this.O[e],E.prototype.ib.Uk);Za(g,c,c);$a(g,d,d)}e=this.ma;c.Cn(e,e);d.An(e,e)};E.prototype.ComputeAABB=E.prototype.ib;E.prototype.ib.Uk=new r;
E.prototype.Pc=function(a,b){for(var c=E.prototype.Pc.yi.R(),d=0,e=0,f=E.prototype.Pc.Sk.R(),g=0,h=this.h;g<h;++g)f.Da(this.O[g]);f.cb(1/this.h);for(var l=1/3,g=0,h=this.h;g<h;++g){var m=w(this.O[g],f,E.prototype.Pc.Lk),n=w(this.O[(g+1)%h],f,E.prototype.Pc.Mk),p=v(m,n),y=.5*p,d=d+y;c.Da(db(y*l,cb(m,n,t),Sa));var y=m.x,m=m.y,x=n.x,n=n.y,e=e+.25*l*p*(y*y+x*y+x*x+(m*m+n*m+n*n))}a.Xc=b*d;c.cb(1/d);cb(c,f,a.Yb);a.hf=b*e;a.hf+=a.Xc*(u(a.Yb,a.Yb)-u(c,c))};E.prototype.ComputeMass=E.prototype.Pc;k=E.prototype;
k.Pc.yi=new r;k.Pc.Sk=new r;k.Pc.Lk=new r;k.Pc.Mk=new r;k.Ug=function(){for(var a=0;a<this.h;++a)for(var b=a,c=(a+1)%this.h,d=this.O[b],e=w(this.O[c],d,E.prototype.Ug.Kk),f=0;f<this.h;++f)if(f!==b&&f!==c){var g=w(this.O[f],d,E.prototype.Ug.Uk);if(0>v(e,g))return!1}return!0};E.prototype.Validate=E.prototype.Ug;E.prototype.Ug.Kk=new r;E.prototype.Ug.Uk=new r;E.prototype.Wj=function(a){a.O=this.O;a.h=this.h;a.ma=this.ma};
E.prototype.Ic=function(a,b,c,d){var e=Hb(c.Q,a,E.prototype.Ic.zw),f=b-u(a,c.ca),g=E.prototype.Ic.Sv,h=0,l=-1;b=-1;var m=!1;a=0;for(var n=this.h;a<n;++a){g[a]=u(e,this.O[a])-f;var p=-1E-5>g[a];0<a&&(p?m||(l=a-1,h++):m&&(b=a-1,h++));m=p}switch(h){case 0:return m?(a=E.prototype.Ic.uw,this.Pc(a,1),Kb(c,a.Yb,d),a.Xc):0;case 1:-1===l?l=this.h-1:b=this.h-1}a=(l+1)%this.h;e=(b+1)%this.h;f=(0-g[l])/(g[a]-g[l]);g=(0-g[b])/(g[e]-g[b]);l=E.prototype.Ic.pw.U(this.O[l].x*(1-f)+this.O[a].x*f,this.O[l].y*(1-f)+
this.O[a].y*f);b=E.prototype.Ic.Cw.U(this.O[b].x*(1-g)+this.O[e].x*g,this.O[b].y*(1-g)+this.O[e].y*g);g=0;f=E.prototype.Ic.yi.R();h=this.O[a];for(m=null;a!==e;)a=(a+1)%this.h,m=a===e?b:this.O[a],n=.5*((h.x-l.x)*(m.y-l.y)-(h.y-l.y)*(m.x-l.x)),g+=n,f.x+=n*(l.x+h.x+m.x)/3,f.y+=n*(l.y+h.y+m.y)/3,h=m;f.cb(1/g);Kb(c,f,d);return g};E.prototype.ComputeSubmergedArea=E.prototype.Ic;k=E.prototype;k.Ic.zw=new r;k.Ic.Sv=pa(8);k.Ic.uw=new Ed;k.Ic.pw=new r;k.Ic.Cw=new r;k.Ic.yi=new r;
k.$a=function(){la("    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();\n");la("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",8);for(var a=0;a<this.h;++a)la("    vs[%d].Set(%.15f, %.15f);\n",a,this.O[a].x,this.O[a].y);la("    shape.Set(vs, %d);\n",this.h)};E.prototype.Dump=E.prototype.$a;
function Kd(a,b,c){c.R();for(var d=0,e=Kd.Dw.R(),f=1/3,g=0;g<b;++g){var h=e,l=a[g],m=a[(g+1)%b],n=w(l,h,Kd.Lk),p=w(m,h,Kd.Mk),n=.5*v(n,p),d=d+n;c.x+=n*f*(h.x+l.x+m.x);c.y+=n*f*(h.y+l.y+m.y)}c.cb(1/d);return c}E.ComputeCentroid=Kd;Kd.Dw=new r;Kd.Lk=new r;Kd.Mk=new r;function Ld(){this.nm=(new Date).getTime()}q("box2d.b2Timer",Ld);Ld.prototype.nm=0;Ld.prototype.m_start=Ld.prototype.nm;Ld.prototype.xb=function(){this.nm=(new Date).getTime();return this};Ld.prototype.Reset=Ld.prototype.xb;Ld.prototype.Ff=function(){return(new Date).getTime()-this.nm};Ld.prototype.GetMilliseconds=Ld.prototype.Ff;function Md(){}q("box2d.b2Counter",Md);Md.prototype.h=0;Md.prototype.m_count=Md.prototype.h;Md.prototype.pk=0;Md.prototype.m_min_count=Md.prototype.pk;Md.prototype.ok=0;
Md.prototype.m_max_count=Md.prototype.ok;Md.prototype.Fh=function(){return this.h};Md.prototype.GetCount=Md.prototype.Fh;Md.prototype.Ns=function(){return this.pk};Md.prototype.GetMinCount=Md.prototype.Ns;Md.prototype.Js=function(){return this.ok};Md.prototype.GetMaxCount=Md.prototype.Js;Md.prototype.Yt=function(){var a=this.h;this.h=0;return a};Md.prototype.ResetCount=Md.prototype.Yt;Md.prototype.au=function(){this.pk=0};Md.prototype.ResetMinCount=Md.prototype.au;
Md.prototype.$t=function(){this.ok=0};Md.prototype.ResetMaxCount=Md.prototype.$t;Md.prototype.zt=function(){this.h++;this.ok<this.h&&(this.ok=this.h)};Md.prototype.Increment=Md.prototype.zt;Md.prototype.xr=function(){this.h--;this.pk>this.h&&(this.pk=this.h)};Md.prototype.Decrement=Md.prototype.xr;var Nd=0;q("box2d.b2_toiTime",Nd);var Od=0;q("box2d.b2_toiMaxTime",Od);var Pd=0;q("box2d.b2_toiCalls",Pd);var Zd=0;q("box2d.b2_toiIters",Zd);var $d=0;q("box2d.b2_toiMaxIters",$d);var ae=0;q("box2d.b2_toiRootIters",ae);var be=0;q("box2d.b2_toiMaxRootIters",be);function ce(){this.Bc=new Tb;this.Oc=new Tb;this.Zk=new Ob;this.$k=new Ob}q("box2d.b2TOIInput",ce);ce.prototype.Bc=null;ce.prototype.proxyA=ce.prototype.Bc;ce.prototype.Oc=null;ce.prototype.proxyB=ce.prototype.Oc;ce.prototype.Zk=null;
ce.prototype.sweepA=ce.prototype.Zk;ce.prototype.$k=null;ce.prototype.sweepB=ce.prototype.$k;ce.prototype.al=0;ce.prototype.tMax=ce.prototype.al;var de={Hl:0,cy:1,my:2,yy:3,vy:4};q("box2d.b2TOIOutputState",de);de.e_unknown=0;de.e_failed=1;de.e_overlapped=2;de.e_touching=3;de.e_separated=4;function ee(){}q("box2d.b2TOIOutput",ee);ee.prototype.state=0;ee.prototype.state=ee.prototype.state;ee.prototype.hg=0;ee.prototype.t=ee.prototype.hg;var fe={Hl:-1,py:0,mv:1,nv:2};
q("box2d.b2SeparationFunctionType",fe);fe.e_unknown=-1;fe.e_points=0;fe.e_faceA=1;fe.e_faceB=2;function se(){this.mj=new Ob;this.nj=new Ob;this.sf=new r;this.Bb=new r}q("box2d.b2SeparationFunction",se);se.prototype.Xe=null;se.prototype.m_proxyA=se.prototype.Xe;se.prototype.Ye=null;se.prototype.m_proxyB=se.prototype.Ye;se.prototype.mj=null;se.prototype.m_sweepA=se.prototype.mj;se.prototype.nj=null;se.prototype.m_sweepB=se.prototype.nj;se.prototype.Qa=-1;se.prototype.m_type=se.prototype.Qa;
se.prototype.sf=null;se.prototype.m_localPoint=se.prototype.sf;se.prototype.Bb=null;se.prototype.m_axis=se.prototype.Bb;
se.prototype.da=function(a,b,c,d,e,f){this.Xe=b;this.Ye=d;b=a.count;this.mj.d(c);this.nj.d(e);c=ve.eg;e=ve.fg;this.mj.Fc(c,f);this.nj.Fc(e,f);1===b?(this.Qa=0,b=this.Xe.Gc(a.B[0]),a=this.Ye.Gc(a.D[0]),c=Kb(c,b,ve.Ne),e=Kb(e,a,ve.Oe),w(e,c,this.Bb),a=this.Bb.ec(),this.sf.R()):(a.B[0]===a.B[1]?(this.Qa=2,b=this.Ye.Gc(a.D[0]),d=this.Ye.Gc(a.D[1]),ab(w(d,b,t),1,this.Bb).ke(),f=A(e.Q,this.Bb,ve.dg),hb(b,d,this.sf),e=Kb(e,this.sf,ve.Oe),b=this.Xe.Gc(a.B[0]),c=Kb(c,b,ve.Ne),a=u(w(c,e,t),f)):(this.Qa=1,b=
this.Xe.Gc(a.B[0]),d=this.Xe.Gc(a.B[1]),ab(w(d,b,t),1,this.Bb).ke(),f=A(c.Q,this.Bb,ve.dg),hb(b,d,this.sf),c=Kb(c,this.sf,ve.Ne),a=this.Ye.Gc(a.D[0]),e=Kb(e,a,ve.Oe),a=u(w(e,c,t),f)),0>a&&(this.Bb.la(),a=-a));return a};se.prototype.Initialize=se.prototype.da;
se.prototype.Gp=function(a,b,c){var d=ve.eg,e=ve.fg;this.mj.Fc(d,c);this.nj.Fc(e,c);switch(this.Qa){case 0:var f=Hb(d.Q,this.Bb,ve.Wq),g=Hb(e.Q,t.d(this.Bb).la(),ve.Xq);a[0]=this.Xe.Ih(f);b[0]=this.Ye.Ih(g);a=this.Xe.Gc(a[0]);b=this.Ye.Gc(b[0]);d=Kb(d,a,ve.Ne);e=Kb(e,b,ve.Oe);return b=u(w(e,d,t),this.Bb);case 1:return c=A(d.Q,this.Bb,ve.dg),d=Kb(d,this.sf,ve.Ne),g=Hb(e.Q,t.d(c).la(),ve.Xq),a[0]=-1,b[0]=this.Ye.Ih(g),b=this.Ye.Gc(b[0]),e=Kb(e,b,ve.Oe),b=u(w(e,d,t),c);case 2:return c=A(e.Q,this.Bb,
ve.dg),e=Kb(e,this.sf,ve.Oe),f=Hb(d.Q,t.d(c).la(),ve.Wq),b[0]=-1,a[0]=this.Xe.Ih(f),a=this.Xe.Gc(a[0]),d=Kb(d,a,ve.Ne),b=u(w(d,e,t),c);default:return a[0]=-1,b[0]=-1,0}};se.prototype.FindMinSeparation=se.prototype.Gp;
se.prototype.sc=function(a,b,c){var d=ve.eg,e=ve.fg;this.mj.Fc(d,c);this.nj.Fc(e,c);switch(this.Qa){case 0:return a=this.Xe.Gc(a),b=this.Ye.Gc(b),d=Kb(d,a,ve.Ne),e=Kb(e,b,ve.Oe),d=u(w(e,d,t),this.Bb);case 1:return c=A(d.Q,this.Bb,ve.dg),d=Kb(d,this.sf,ve.Ne),b=this.Ye.Gc(b),e=Kb(e,b,ve.Oe),d=u(w(e,d,t),c);case 2:return c=A(e.Q,this.Bb,ve.dg),e=Kb(e,this.sf,ve.Oe),a=this.Xe.Gc(a),d=Kb(d,a,ve.Ne),d=u(w(d,e,t),c);default:return 0}};se.prototype.Evaluate=se.prototype.sc;
function ve(a,b){var c=ve.Vw.xb();++Pd;a.state=0;a.hg=b.al;var d=b.Bc,e=b.Oc,f=ve.Sw.d(b.Zk),g=ve.Tw.d(b.$k);f.ec();g.ec();var h=b.al,l=Ea(.008,d.ma+e.ma-.024),m=0,n=0,p=ve.Mv;p.count=0;var y=ve.Xv;y.Bc=b.Bc;y.Oc=b.Oc;for(y.bl=!1;;){var x=ve.eg,I=ve.fg;f.Fc(x,m);g.Fc(I,m);y.Aj.d(x);y.Bj.d(I);x=ve.Yv;ic(x,p,y);if(0>=x.ce){a.state=2;a.hg=0;break}if(x.ce<l+.002){a.state=3;a.hg=m;break}x=ve.hw;x.da(p,d,f,e,g,m);for(var I=!1,W=h,S=0;;){var ja=ve.nw,ra=ve.ow,ba=x.Gp(ja,ra,W);if(ba>l+.002){a.state=4;a.hg=
h;I=!0;break}if(ba>l-.002){m=W;break}var Ua=x.sc(ja[0],ra[0],m);if(Ua<l-.002){a.state=1;a.hg=m;I=!0;break}if(Ua<=l+.002){a.state=3;a.hg=m;I=!0;break}for(var Ia=0,Ja=m,Va=W;;){var Aa=0,Aa=Ia&1?Ja+(l-Ua)*(Va-Ja)/(ba-Ua):.5*(Ja+Va);++Ia;++ae;var Ba=x.sc(ja[0],ra[0],Aa);if(.002>na(Ba-l)){W=Aa;break}Ba>l?(Ja=Aa,Ua=Ba):(Va=Aa,ba=Ba);if(50===Ia)break}be=Ea(be,Ia);++S;if(8===S)break}++n;++Zd;if(I)break;if(20===n){a.state=1;a.hg=m;break}}$d=Ea($d,n);c=c.Ff();Od=Ea(Od,c);Nd+=c}q("box2d.b2TimeOfImpact",ve);
ve.Vw=new Ld;ve.Mv=new Vb;ve.Xv=new Wb;ve.Yv=new Xb;ve.eg=new B;ve.fg=new B;ve.nw=pa(1);ve.ow=pa(1);ve.hw=new se;ve.Sw=new Ob;ve.Tw=new Ob;ve.Ne=new r;ve.Oe=new r;ve.dg=new r;ve.Wq=new r;ve.Xq=new r;function we(){}q("box2d.b2Filter",we);we.prototype.dk=1;we.prototype.categoryBits=we.prototype.dk;we.prototype.Bk=65535;we.prototype.maskBits=we.prototype.Bk;we.prototype.Vh=0;we.prototype.groupIndex=we.prototype.Vh;we.prototype.ba=function(){return(new we).d(this)};we.prototype.Clone=we.prototype.ba;we.prototype.d=function(a){this.dk=a.dk;this.Bk=a.Bk;this.Vh=a.Vh;return this};we.prototype.Copy=we.prototype.d;function xe(){this.filter=new we}q("box2d.b2FixtureDef",xe);xe.prototype.shape=null;
xe.prototype.shape=xe.prototype.shape;xe.prototype.ic=null;xe.prototype.userData=xe.prototype.ic;xe.prototype.Ni=.2;xe.prototype.friction=xe.prototype.Ni;xe.prototype.uj=0;xe.prototype.restitution=xe.prototype.uj;xe.prototype.rd=0;xe.prototype.density=xe.prototype.rd;xe.prototype.Cq=!1;xe.prototype.isSensor=xe.prototype.Cq;xe.prototype.filter=null;xe.prototype.filter=xe.prototype.filter;function ye(){this.$=new xc}q("box2d.b2FixtureProxy",ye);ye.prototype.$=null;ye.prototype.aabb=ye.prototype.$;
ye.prototype.ne=null;ye.prototype.fixture=ye.prototype.ne;ye.prototype.ek=0;ye.prototype.childIndex=ye.prototype.ek;ye.prototype.cg=null;ye.prototype.proxy=ye.prototype.cg;function ze(a){return oa(a,function(){return new ye})}ye.MakeArray=ze;function F(){this.Gd=0;this.kk=new we}q("box2d.b2Fixture",F);F.prototype.ai=0;F.prototype.m_density=F.prototype.ai;F.prototype.H=null;F.prototype.m_next=F.prototype.H;F.prototype.tb=null;F.prototype.m_body=F.prototype.tb;F.prototype.Ja=null;
F.prototype.m_shape=F.prototype.Ja;F.prototype.ge=0;F.prototype.m_friction=F.prototype.ge;F.prototype.ie=0;F.prototype.m_restitution=F.prototype.ie;F.prototype.xf=null;F.prototype.m_proxies=F.prototype.xf;F.prototype.Gd=0;F.prototype.m_proxyCount=F.prototype.Gd;F.prototype.kk=null;F.prototype.m_filter=F.prototype.kk;F.prototype.vd=!1;F.prototype.m_isSensor=F.prototype.vd;F.prototype.xd=null;F.prototype.m_userData=F.prototype.xd;F.prototype.mc=function(){return this.Ja.mc()};F.prototype.GetType=F.prototype.mc;
F.prototype.ct=function(){return this.Ja};F.prototype.GetShape=F.prototype.ct;F.prototype.Gt=function(){return this.vd};F.prototype.IsSensor=F.prototype.Gt;F.prototype.$m=function(a){a=a||new we;return a.d(this.kk)};F.prototype.GetFilterData=F.prototype.$m;F.prototype.$c=function(){return this.xd};F.prototype.GetUserData=F.prototype.$c;F.prototype.Nh=function(a){this.xd=a};F.prototype.SetUserData=F.prototype.Nh;F.prototype.Vr=function(){return this.tb};F.prototype.GetBody=F.prototype.Vr;
F.prototype.Ec=function(){return this.H};F.prototype.GetNext=F.prototype.Ec;F.prototype.wl=function(a){this.ai=a};F.prototype.SetDensity=F.prototype.wl;F.prototype.ll=function(){return this.ai};F.prototype.GetDensity=F.prototype.ll;F.prototype.an=function(){return this.ge};F.prototype.GetFriction=F.prototype.an;F.prototype.En=function(a){this.ge=a};F.prototype.SetFriction=F.prototype.En;F.prototype.nn=function(){return this.ie};F.prototype.GetRestitution=F.prototype.nn;
F.prototype.Nn=function(a){this.ie=a};F.prototype.SetRestitution=F.prototype.Nn;F.prototype.nc=function(a){return this.Ja.nc(this.tb.Fc(),a)};F.prototype.TestPoint=F.prototype.nc;F.prototype.ob=function(a,b,c){return this.Ja.ob(this.tb.Fc(),a,b,c)};F.prototype.ComputeDistance=F.prototype.ob;F.prototype.ha=function(a,b,c){return this.Ja.ha(a,b,this.tb.Fc(),c)};F.prototype.RayCast=F.prototype.ha;F.prototype.ol=function(a){a=a||new Ed;this.Ja.Pc(a,this.ai);return a};F.prototype.GetMassData=F.prototype.ol;
F.prototype.Ip=function(a){return this.xf[a].$};F.prototype.GetAABB=F.prototype.Ip;F.prototype.Fj=function(a,b){this.xd=b.ic;this.ge=b.Ni;this.ie=b.uj;this.tb=a;this.H=null;this.kk.d(b.filter);this.vd=b.Cq;this.Ja=b.shape.ba();this.xf=ze(this.Ja.Jd());this.Gd=0;this.ai=b.rd};F.prototype.Create=F.prototype.Fj;F.prototype.$d=function(){this.Ja=null};F.prototype.Destroy=F.prototype.$d;
F.prototype.Nm=function(a,b){this.Gd=this.Ja.Jd();for(var c=0;c<this.Gd;++c){var d=this.xf[c];this.Ja.ib(d.$,b,c);d.cg=a.Fi(d.$,d);d.ne=this;d.ek=c}};F.prototype.CreateProxies=F.prototype.Nm;F.prototype.gl=function(a){for(var b=0;b<this.Gd;++b){var c=this.xf[b];a.Gj(c.cg);c.cg=null}this.Gd=0};F.prototype.DestroyProxies=F.prototype.gl;
F.prototype.pg=function(a,b,c){if(0!==this.Gd)for(var d=0;d<this.Gd;++d){var e=this.xf[d],f=F.prototype.pg.Dv,g=F.prototype.pg.Ev;this.Ja.ib(f,b,d);this.Ja.ib(g,c,d);e.$.Zc(f,g);f=w(c.ca,b.ca,F.prototype.pg.Vv);a.Sj(e.cg,e.$,f)}};F.prototype.Synchronize=F.prototype.pg;F.prototype.pg.Dv=new xc;F.prototype.pg.Ev=new xc;F.prototype.pg.Vv=new r;F.prototype.Du=function(a){this.kk.d(a);this.aq()};F.prototype.SetFilterData=F.prototype.Du;
F.prototype.aq=function(){if(!this.tb){for(var a=this.tb.Eh();a;){var b=a.ad,c=b.Fb;b.Eb!==this&&c!==this||b.il();a=a.next}a=this.tb.bb;if(null!==a)for(a=a.La.qc,b=0;b<this.Gd;++b)a.Rn(this.xf[b].cg)}};F.prototype.Refilter=F.prototype.aq;F.prototype.Tu=function(a){a!==this.vd&&(this.tb.ua(!0),this.vd=a)};F.prototype.SetSensor=F.prototype.Tu;F.prototype.$a=function(){};F.prototype.Dump=F.prototype.$a;var Ae={Fx:-1,Cx:0,nx:1,jx:2,gx:3};q("box2d.b2BodyType",Ae);Ae.b2_unknown=-1;Ae.b2_staticBody=0;Ae.b2_kinematicBody=1;Ae.b2_dynamicBody=2;Ae.b2_bulletBody=3;function Be(){this.position=new r(0,0);this.Xg=new r(0,0)}q("box2d.b2BodyDef",Be);Be.prototype.type=0;Be.prototype.type=Be.prototype.type;Be.prototype.position=null;Be.prototype.position=Be.prototype.position;Be.prototype.uc=0;Be.prototype.angle=Be.prototype.uc;Be.prototype.Xg=null;Be.prototype.linearVelocity=Be.prototype.Xg;Be.prototype.Mi=0;
Be.prototype.angularVelocity=Be.prototype.Mi;Be.prototype.ho=0;Be.prototype.linearDamping=Be.prototype.ho;Be.prototype.Vn=0;Be.prototype.angularDamping=Be.prototype.Vn;Be.prototype.Sn=!0;Be.prototype.allowSleep=Be.prototype.Sn;Be.prototype.Wn=!0;Be.prototype.awake=Be.prototype.Wn;Be.prototype.co=!1;Be.prototype.fixedRotation=Be.prototype.co;Be.prototype.Yn=!1;Be.prototype.bullet=Be.prototype.Yn;Be.prototype.xq=!0;Be.prototype.active=Be.prototype.xq;Be.prototype.ic=null;Be.prototype.userData=Be.prototype.ic;
Be.prototype.mf=1;Be.prototype.gravityScale=Be.prototype.mf;
function G(a,b){this.ja=new B;this.rk=new B;this.pi=new B;this.m=new Ob;this.hm=new Ob;this.vb=new r;this.Eo=new r;this.Qd=new r;a.Yn&&(this.vg=!0);a.co&&(this.eh=!0);a.Sn&&(this.di=!0);a.Wn&&(this.Gb=!0);a.xq&&(this.ci=!0);this.bb=b;this.ja.ca.d(a.position);this.ja.Q.fa(a.uc);this.pi.d(this.ja);this.m.Ba.R();this.m.wc.d(this.ja.ca);this.m.o.d(this.ja.ca);this.m.qd=a.uc;this.m.f=a.uc;this.m.be=0;this.vb.d(a.Xg);this.eb=a.Mi;this.ej=a.ho;this.Ti=a.Vn;this.gi=a.mf;this.Qd.R();this.oh=this.$f=0;this.Qa=
a.type;this.Oa=2===a.type?this.L=1:this.L=0;this.rb=this.de=0;this.xd=a.ic;this.dd=null;this.Yi=0;this.bd=null;this.ug=0}q("box2d.b2Body",G);G.prototype.ac=!1;G.prototype.m_flag_islandFlag=G.prototype.ac;G.prototype.Gb=!1;G.prototype.m_flag_awakeFlag=G.prototype.Gb;G.prototype.di=!1;G.prototype.m_flag_autoSleepFlag=G.prototype.di;G.prototype.vg=!1;G.prototype.m_flag_bulletFlag=G.prototype.vg;G.prototype.eh=!1;G.prototype.m_flag_fixedRotationFlag=G.prototype.eh;G.prototype.ci=!1;
G.prototype.m_flag_activeFlag=G.prototype.ci;G.prototype.fh=!1;G.prototype.m_flag_toiFlag=G.prototype.fh;G.prototype.hb=0;G.prototype.m_islandIndex=G.prototype.hb;G.prototype.bb=null;G.prototype.m_world=G.prototype.bb;G.prototype.ja=null;G.prototype.m_xf=G.prototype.ja;G.prototype.rk=null;G.prototype.m_out_xf=G.prototype.rk;G.prototype.pi=null;G.prototype.m_xf0=G.prototype.pi;G.prototype.m=null;G.prototype.m_sweep=G.prototype.m;G.prototype.hm=null;G.prototype.m_out_sweep=G.prototype.hm;
G.prototype.Ib=null;G.prototype.m_jointList=G.prototype.Ib;G.prototype.qb=null;G.prototype.m_contactList=G.prototype.qb;G.prototype.Ha=null;G.prototype.m_prev=G.prototype.Ha;G.prototype.H=null;G.prototype.m_next=G.prototype.H;G.prototype.vb=null;G.prototype.m_linearVelocity=G.prototype.vb;G.prototype.Eo=null;G.prototype.m_out_linearVelocity=G.prototype.Eo;G.prototype.eb=0;G.prototype.m_angularVelocity=G.prototype.eb;G.prototype.ej=0;G.prototype.m_linearDamping=G.prototype.ej;G.prototype.Ti=0;
G.prototype.m_angularDamping=G.prototype.Ti;G.prototype.gi=1;G.prototype.m_gravityScale=G.prototype.gi;G.prototype.Qd=null;G.prototype.m_force=G.prototype.Qd;G.prototype.$f=0;G.prototype.m_torque=G.prototype.$f;G.prototype.oh=0;G.prototype.m_sleepTime=G.prototype.oh;G.prototype.Qa=0;G.prototype.m_type=G.prototype.Qa;G.prototype.L=1;G.prototype.m_mass=G.prototype.L;G.prototype.Oa=1;G.prototype.m_invMass=G.prototype.Oa;G.prototype.de=0;G.prototype.m_I=G.prototype.de;G.prototype.rb=0;
G.prototype.m_invI=G.prototype.rb;G.prototype.xd=null;G.prototype.m_userData=G.prototype.xd;G.prototype.dd=null;G.prototype.m_fixtureList=G.prototype.dd;G.prototype.Yi=0;G.prototype.m_fixtureCount=G.prototype.Yi;G.prototype.bd=null;G.prototype.m_controllerList=G.prototype.bd;G.prototype.ug=0;G.prototype.m_controllerCount=G.prototype.ug;G.prototype.tr=function(a,b){if(a instanceof xe)return this.Km(a);if(a instanceof Hd&&"number"===typeof b)return this.el(a,b);throw Error();};
G.prototype.CreateFixture=G.prototype.tr;G.prototype.Km=function(a){if(this.bb.Sc)return null;var b=new F;b.Fj(this,a);this.ci&&b.Nm(this.bb.La.qc,this.ja);b.H=this.dd;this.dd=b;++this.Yi;b.tb=this;0<b.ai&&this.kf();this.bb.Yl=!0;return b};G.prototype.CreateFixture_Def=G.prototype.Km;G.prototype.el=function(a,b){var c=G.prototype.el.Rv;c.shape=a;c.rd="number"===typeof b?b:0;return this.Km(c)};G.prototype.CreateFixture_Shape_Density=G.prototype.el;G.prototype.el.Rv=new xe;
G.prototype.zr=function(a){if(!this.bb.Sc){for(var b=this.dd,c=null;null!==b;){if(b===a){c?c.H=a.H:this.dd=a.H;break}c=b;b=b.H}for(b=this.qb;b;){var c=b.ad,b=b.next,d=c.Fb;a!==c.Eb&&a!==d||this.bb.La.$d(c)}this.ci&&a.gl(this.bb.La.qc);a.$d();a.tb=null;a.H=null;--this.Yi;this.kf()}};G.prototype.DestroyFixture=G.prototype.zr;
G.prototype.av=function(a,b,c){if(a instanceof r&&"number"===typeof b)this.Mh(a.x,a.y,b);else if(a instanceof B)this.Mh(a.ca.x,a.ca.y,a.Wb());else if("number"===typeof a&&"number"===typeof b&&"number"===typeof c)this.Mh(a,b,c);else throw Error();};G.prototype.SetTransform=G.prototype.av;G.prototype.zl=function(a,b){this.Mh(a.x,a.y,b)};G.prototype.SetTransform_V2_A=G.prototype.zl;
G.prototype.Mh=function(a,b,c){if(!this.bb.Sc&&(this.ja.ca.x!==a||this.ja.ca.y!==b||this.ja.Q.Wb()!==c))for(this.ja.Q.fa(c),this.ja.ca.U(a,b),this.pi.d(this.ja),Kb(this.ja,this.m.Ba,this.m.o),this.m.f=c,this.m.wc.d(this.m.o),this.m.qd=c,a=this.bb.La.qc,b=this.dd;b;b=b.H)b.pg(a,this.ja,this.ja)};G.prototype.SetTransform_X_Y_A=G.prototype.Mh;G.prototype.bv=function(a){this.Mh(a.ca.x,a.ca.y,a.Wb())};G.prototype.SetTransform_X=G.prototype.bv;G.prototype.Fc=function(a){a=a||this.rk;return a.d(this.ja)};
G.prototype.GetTransform=G.prototype.Fc;G.prototype.ff=function(a){a=a||this.rk.ca;return a.d(this.ja.ca)};G.prototype.GetPosition=G.prototype.ff;G.prototype.yl=function(a){this.zl(a,this.Wb())};G.prototype.SetPosition=G.prototype.yl;G.prototype.Mn=function(a,b){this.Mh(a,b,this.Wb())};G.prototype.SetPositionXY=G.prototype.Mn;G.prototype.on=function(a){a=a||this.rk.Q;return a.d(this.ja.Q)};G.prototype.GetRotation=G.prototype.on;G.prototype.On=function(a){this.zl(this.ff(),a.Wb())};
G.prototype.SetRotation=G.prototype.On;G.prototype.Wb=function(){return this.m.f};G.prototype.GetAngle=G.prototype.Wb;G.prototype.fa=function(a){this.zl(this.ff(),a)};G.prototype.SetAngle=G.prototype.fa;G.prototype.gf=function(a){a=a||this.hm.o;return a.d(this.m.o)};G.prototype.GetWorldCenter=G.prototype.gf;G.prototype.Kj=function(a){a=a||this.hm.Ba;return a.d(this.m.Ba)};G.prototype.GetLocalCenter=G.prototype.Kj;G.prototype.Gn=function(a){0!==this.Qa&&(0<u(a,a)&&this.ua(!0),this.vb.d(a))};
G.prototype.SetLinearVelocity=G.prototype.Gn;G.prototype.ve=function(a){a=a||this.Eo;return a.d(this.vb)};G.prototype.GetLinearVelocity=G.prototype.ve;G.prototype.su=function(a){0!==this.Qa&&(0<a*a&&this.ua(!0),this.eb=a)};G.prototype.SetAngularVelocity=G.prototype.su;G.prototype.kl=function(){return this.eb};G.prototype.GetAngularVelocity=G.prototype.kl;
G.prototype.Ym=function(a){a.type=this.mc();a.Sn=this.di;a.uc=this.Wb();a.Vn=this.Ti;a.mf=this.gi;a.Mi=this.eb;a.co=this.eh;a.Yn=this.vg;a.Wn=this.Gb;a.ho=this.ej;a.Xg.d(this.ve());a.position.d(this.ff());a.ic=this.$c();return a};G.prototype.GetDefinition=G.prototype.Ym;G.prototype.te=function(a,b,c){2===this.Qa&&(!this.Gb&&this.ua(!0),this.Gb&&(this.Qd.x+=a.x,this.Qd.y+=a.y,this.$f+=(b.x-this.m.o.x)*a.y-(b.y-this.m.o.y)*a.x))};G.prototype.ApplyForce=G.prototype.te;
G.prototype.jr=function(a,b){2===this.Qa&&(("boolean"===typeof b?b:1)&&!this.Gb&&this.ua(!0),this.Gb&&(this.Qd.x+=a.x,this.Qd.y+=a.y))};G.prototype.ApplyForceToCenter=G.prototype.jr;G.prototype.rp=function(a,b){2===this.Qa&&(("boolean"===typeof b?b:1)&&!this.Gb&&this.ua(!0),this.Gb&&(this.$f+=a))};G.prototype.ApplyTorque=G.prototype.rp;
G.prototype.ue=function(a,b,c){2===this.Qa&&(("boolean"===typeof c?c:1)&&!this.Gb&&this.ua(!0),this.Gb&&(this.vb.x+=this.Oa*a.x,this.vb.y+=this.Oa*a.y,this.eb+=this.rb*((b.x-this.m.o.x)*a.y-(b.y-this.m.o.y)*a.x)))};G.prototype.ApplyLinearImpulse=G.prototype.ue;G.prototype.ir=function(a,b){2===this.Qa&&(("boolean"===typeof b?b:1)&&!this.Gb&&this.ua(!0),this.Gb&&(this.eb+=this.rb*a))};G.prototype.ApplyAngularImpulse=G.prototype.ir;G.prototype.ae=function(){return this.L};G.prototype.GetMass=G.prototype.ae;
G.prototype.Pg=function(){return this.de+this.L*u(this.m.Ba,this.m.Ba)};G.prototype.GetInertia=G.prototype.Pg;G.prototype.ol=function(a){a.Xc=this.L;a.hf=this.de+this.L*u(this.m.Ba,this.m.Ba);a.Yb.d(this.m.Ba);return a};G.prototype.GetMassData=G.prototype.ol;
G.prototype.Hn=function(a){if(!this.bb.Sc&&2===this.Qa){this.rb=this.de=this.Oa=0;this.L=a.Xc;0>=this.L&&(this.L=1);this.Oa=1/this.L;0<a.hf&&!this.eh&&(this.de=a.hf-this.L*u(a.Yb,a.Yb),this.rb=1/this.de);var b=G.prototype.Hn.Zo.d(this.m.o);this.m.Ba.d(a.Yb);Kb(this.ja,this.m.Ba,this.m.o);this.m.wc.d(this.m.o);gb(this.vb,this.eb,w(this.m.o,b,t),this.vb)}};G.prototype.SetMassData=G.prototype.Hn;G.prototype.Hn.Zo=new r;
G.prototype.kf=function(){this.rb=this.de=this.Oa=this.L=0;this.m.Ba.R();if(0===this.Qa||1===this.Qa)this.m.wc.d(this.ja.ca),this.m.o.d(this.ja.ca),this.m.qd=this.m.f;else{for(var a=G.prototype.kf.qw.R(),b=this.dd;b;b=b.H)if(0!==b.ai){var c=b.ol(G.prototype.kf.tw);this.L+=c.Xc;a.x+=c.Yb.x*c.Xc;a.y+=c.Yb.y*c.Xc;this.de+=c.hf}0<this.L?(this.Oa=1/this.L,a.x*=this.Oa,a.y*=this.Oa):this.Oa=this.L=1;0<this.de&&!this.eh?(this.de-=this.L*u(a,a),this.rb=1/this.de):this.rb=this.de=0;b=G.prototype.kf.Zo.d(this.m.o);
this.m.Ba.d(a);Kb(this.ja,this.m.Ba,this.m.o);this.m.wc.d(this.m.o);gb(this.vb,this.eb,w(this.m.o,b,t),this.vb)}};G.prototype.ResetMassData=G.prototype.kf;G.prototype.kf.qw=new r;G.prototype.kf.Zo=new r;G.prototype.kf.tw=new Ed;G.prototype.Xb=function(a,b){return Kb(this.ja,a,b)};G.prototype.GetWorldPoint=G.prototype.Xb;G.prototype.Oj=function(a,b){return A(this.ja.Q,a,b)};G.prototype.GetWorldVector=G.prototype.Oj;G.prototype.Kd=function(a,b){return Lb(this.ja,a,b)};G.prototype.GetLocalPoint=G.prototype.Kd;
G.prototype.nl=function(a,b){return Hb(this.ja.Q,a,b)};G.prototype.GetLocalVector=G.prototype.nl;G.prototype.df=function(a,b){return gb(this.vb,this.eb,w(a,this.m.o,t),b)};G.prototype.GetLinearVelocityFromWorldPoint=G.prototype.df;G.prototype.Hs=function(a,b){return this.df(this.Xb(a,b),b)};G.prototype.GetLinearVelocityFromLocalPoint=G.prototype.Hs;G.prototype.Fs=function(){return this.ej};G.prototype.GetLinearDamping=G.prototype.Fs;G.prototype.Ju=function(a){this.ej=a};
G.prototype.SetLinearDamping=G.prototype.Ju;G.prototype.Sr=function(){return this.Ti};G.prototype.GetAngularDamping=G.prototype.Sr;G.prototype.qu=function(a){this.Ti=a};G.prototype.SetAngularDamping=G.prototype.qu;G.prototype.cn=function(){return this.gi};G.prototype.GetGravityScale=G.prototype.cn;G.prototype.xl=function(a){this.gi=a};G.prototype.SetGravityScale=G.prototype.xl;
G.prototype.cv=function(a){if(!this.bb.Sc&&this.Qa!==a){this.Qa=a;this.kf();0===this.Qa&&(this.vb.R(),this.eb=0,this.m.qd=this.m.f,this.m.wc.d(this.m.o),this.Li());this.ua(!0);this.Qd.R();this.$f=0;for(a=this.qb;a;){var b=a;a=a.next;this.bb.La.$d(b.ad)}this.qb=null;a=this.bb.La.qc;for(b=this.dd;b;b=b.H)for(var c=b.Gd,d=0;d<c;++d)a.Rn(b.xf[d].cg)}};G.prototype.SetType=G.prototype.cv;G.prototype.mc=function(){return this.Qa};G.prototype.GetType=G.prototype.mc;G.prototype.vu=function(a){this.vg=a};
G.prototype.SetBullet=G.prototype.vu;G.prototype.Bt=function(){return this.vg};G.prototype.IsBullet=G.prototype.Bt;G.prototype.Uu=function(a){a?this.di=!0:(this.di=!1,this.ua(!0))};G.prototype.SetSleepingAllowed=G.prototype.Uu;G.prototype.Ht=function(){return this.di};G.prototype.IsSleepingAllowed=G.prototype.Ht;G.prototype.ua=function(a){a?this.Gb||(this.Gb=!0,this.oh=0):(this.Gb=!1,this.oh=0,this.vb.R(),this.eb=0,this.Qd.R(),this.$f=0)};G.prototype.SetAwake=G.prototype.ua;G.prototype.At=function(){return this.Gb};
G.prototype.IsAwake=G.prototype.At;G.prototype.ou=function(a){if(a!==this.Gf())if(a){this.ci=!0;a=this.bb.La.qc;for(var b=this.dd;b;b=b.H)b.Nm(a,this.ja)}else{this.ci=!1;a=this.bb.La.qc;for(b=this.dd;b;b=b.H)b.gl(a);for(a=this.qb;a;)b=a,a=a.next,this.bb.La.$d(b.ad);this.qb=null}};G.prototype.SetActive=G.prototype.ou;G.prototype.Gf=function(){return this.ci};G.prototype.IsActive=G.prototype.Gf;G.prototype.Eu=function(a){this.eh!==a&&(this.eh=a,this.eb=0,this.kf())};G.prototype.SetFixedRotation=G.prototype.Eu;
G.prototype.Dt=function(){return this.eh};G.prototype.IsFixedRotation=G.prototype.Dt;G.prototype.ps=function(){return this.dd};G.prototype.GetFixtureList=G.prototype.ps;G.prototype.en=function(){return this.Ib};G.prototype.GetJointList=G.prototype.en;G.prototype.Eh=function(){return this.qb};G.prototype.GetContactList=G.prototype.Eh;G.prototype.Ec=function(){return this.H};G.prototype.GetNext=G.prototype.Ec;G.prototype.$c=function(){return this.xd};G.prototype.GetUserData=G.prototype.$c;
G.prototype.Nh=function(a){this.xd=a};G.prototype.SetUserData=G.prototype.Nh;G.prototype.rn=function(){return this.bb};G.prototype.GetWorld=G.prototype.rn;G.prototype.Li=function(){var a=G.prototype.Li.cx;a.Q.fa(this.m.qd);A(a.Q,this.m.Ba,a.ca);w(this.m.wc,a.ca,a.ca);for(var b=this.bb.La.qc,c=this.dd;c;c=c.H)c.pg(b,a,this.ja)};G.prototype.SynchronizeFixtures=G.prototype.Li;G.prototype.Li.cx=new B;
G.prototype.Ph=function(){this.ja.Q.fa(this.m.f);A(this.ja.Q,this.m.Ba,this.ja.ca);w(this.m.o,this.ja.ca,this.ja.ca)};G.prototype.SynchronizeTransform=G.prototype.Ph;G.prototype.Oh=function(a){if(2!==this.Qa&&2!==a.Qa)return!1;for(var b=this.Ib;b;b=b.next)if(b.Yd===a&&!b.Wg.hk)return!1;return!0};G.prototype.ShouldCollide=G.prototype.Oh;G.prototype.jg=function(a){this.m.jg(a);this.m.o.d(this.m.wc);this.m.f=this.m.qd;this.ja.Q.fa(this.m.f);A(this.ja.Q,this.m.Ba,this.ja.ca);w(this.m.o,this.ja.ca,this.ja.ca)};
G.prototype.Advance=G.prototype.jg;G.prototype.$a=function(){};G.prototype.Dump=G.prototype.$a;G.prototype.ks=function(){return this.bd};G.prototype.GetControllerList=G.prototype.ks;G.prototype.js=function(){return this.ug};G.prototype.GetControllerCount=G.prototype.js;function Ce(){}q("box2d.b2Profile",Ce);Ce.prototype.step=0;Ce.prototype.step=Ce.prototype.step;Ce.prototype.Zn=0;Ce.prototype.collide=Ce.prototype.Zn;Ce.prototype.jp=0;Ce.prototype.solve=Ce.prototype.jp;Ce.prototype.Bi=0;Ce.prototype.solveInit=Ce.prototype.Bi;Ce.prototype.Di=0;Ce.prototype.solveVelocity=Ce.prototype.Di;Ce.prototype.Ci=0;Ce.prototype.solvePosition=Ce.prototype.Ci;Ce.prototype.Xn=0;Ce.prototype.broadphase=Ce.prototype.Xn;Ce.prototype.kp=0;Ce.prototype.solveTOI=Ce.prototype.kp;
Ce.prototype.xb=function(){this.kp=this.Xn=this.Ci=this.Di=this.Bi=this.jp=this.Zn=this.step=0;return this};Ce.prototype.Reset=Ce.prototype.xb;function De(){}q("box2d.b2TimeStep",De);De.prototype.Va=0;De.prototype.dt=De.prototype.Va;De.prototype.Zb=0;De.prototype.inv_dt=De.prototype.Zb;De.prototype.xc=0;De.prototype.dtRatio=De.prototype.xc;De.prototype.zh=0;De.prototype.velocityIterations=De.prototype.zh;De.prototype.ui=0;De.prototype.positionIterations=De.prototype.ui;De.prototype.Kg=0;
De.prototype.particleIterations=De.prototype.Kg;De.prototype.pd=!1;De.prototype.warmStarting=De.prototype.pd;De.prototype.d=function(a){this.Va=a.Va;this.Zb=a.Zb;this.xc=a.xc;this.ui=a.ui;this.zh=a.zh;this.Kg=a.Kg;this.pd=a.pd;return this};De.prototype.Copy=De.prototype.d;function Ee(){this.o=new r}q("box2d.b2Position",Ee);Ee.prototype.o=null;Ee.prototype.c=Ee.prototype.o;Ee.prototype.f=0;Ee.prototype.a=Ee.prototype.f;function Fe(a){return oa(a,function(){return new Ee})}Ee.MakeArray=Fe;
function Ge(){this.W=new r}q("box2d.b2Velocity",Ge);Ge.prototype.W=null;Ge.prototype.v=Ge.prototype.W;Ge.prototype.k=0;Ge.prototype.w=Ge.prototype.k;function He(a){return oa(a,function(){return new Ge})}Ge.MakeArray=He;function Ie(){this.step=new De}q("box2d.b2SolverData",Ie);Ie.prototype.step=null;Ie.prototype.step=Ie.prototype.step;Ie.prototype.N=null;Ie.prototype.positions=Ie.prototype.N;Ie.prototype.j=null;Ie.prototype.velocities=Ie.prototype.j;function Je(){}q("box2d.b2DestructionListener",Je);Je.prototype.du=function(){};Je.prototype.SayGoodbyeJoint=Je.prototype.du;Je.prototype.cu=function(){};Je.prototype.SayGoodbyeFixture=Je.prototype.cu;function bf(){}q("box2d.b2ContactFilter",bf);bf.prototype.Oh=function(a,b){var c=a.$m(),d=b.$m();return c.Vh===d.Vh&&0!==c.Vh?0<c.Vh:0!==(c.Bk&d.dk)&&0!==(c.dk&d.Bk)};bf.prototype.ShouldCollide=bf.prototype.Oh;bf.prototype.Xj=function(){return!0};bf.prototype.ShouldCollideFixtureParticle=bf.prototype.Xj;
bf.prototype.hv=function(){return!0};bf.prototype.ShouldCollideParticleParticle=bf.prototype.hv;var lf=new bf;function mf(){this.Mo=pa(2);this.mp=pa(2)}q("box2d.b2ContactImpulse",mf);mf.prototype.Mo=null;mf.prototype.normalImpulses=mf.prototype.Mo;mf.prototype.mp=null;mf.prototype.tangentImpulses=mf.prototype.mp;mf.prototype.count=0;mf.prototype.count=mf.prototype.count;function nf(){}q("box2d.b2ContactListener",nf);nf.prototype.lr=function(){};nf.prototype.BeginContact=nf.prototype.lr;
nf.prototype.Nr=function(){};nf.prototype.EndContact=nf.prototype.Nr;nf.prototype.mr=function(){};nf.prototype.BeginContactFixtureParticle=nf.prototype.mr;nf.prototype.Or=function(){};nf.prototype.EndContactFixtureParticle=nf.prototype.Or;nf.prototype.nr=function(){};nf.prototype.BeginContactParticleParticle=nf.prototype.nr;nf.prototype.Pr=function(){};nf.prototype.EndContactParticleParticle=nf.prototype.Pr;nf.prototype.Qt=function(){};nf.prototype.PreSolve=nf.prototype.Qt;nf.prototype.Pt=function(){};
nf.prototype.PostSolve=nf.prototype.Pt;var of=new nf;nf.b2_defaultListener=of;function pf(){}q("box2d.b2QueryCallback",pf);pf.prototype.If=function(){return!0};pf.prototype.ReportFixture=pf.prototype.If;pf.prototype.Jf=function(){return!1};pf.prototype.ReportParticle=pf.prototype.Jf;pf.prototype.Rg=function(){return!0};pf.prototype.ShouldQueryParticleSystem=pf.prototype.Rg;function qf(){}q("box2d.b2RayCastCallback",qf);qf.prototype.If=function(a,b,c,d){return d};qf.prototype.ReportFixture=qf.prototype.If;
qf.prototype.Jf=function(){return 0};qf.prototype.ReportParticle=qf.prototype.Jf;qf.prototype.Rg=function(){return!0};qf.prototype.ShouldQueryParticleSystem=qf.prototype.Rg;function rf(){this.u=new r(0,1);this.Ng=new r(0,0);this.Uh=new r(0,0)}ca(rf,sa);q("box2d.b2BuoyancyController",rf);rf.prototype.u=null;rf.prototype.normal=rf.prototype.u;rf.prototype.offset=0;rf.prototype.offset=rf.prototype.offset;rf.prototype.rd=0;rf.prototype.density=rf.prototype.rd;rf.prototype.Ng=null;rf.prototype.velocity=rf.prototype.Ng;rf.prototype.Gq=0;rf.prototype.linearDrag=rf.prototype.Gq;rf.prototype.yq=0;rf.prototype.angularDrag=rf.prototype.yq;rf.prototype.cr=!1;
rf.prototype.useDensity=rf.prototype.cr;rf.prototype.dr=!0;rf.prototype.useWorldGravity=rf.prototype.dr;rf.prototype.Uh=null;rf.prototype.gravity=rf.prototype.Uh;
rf.prototype.tc=function(){if(this.Ya){this.dr&&this.Uh.d(this.bb.bn());for(var a=this.Ya;a;a=a.Xd){var b=a.body;if(b.Gb){for(var c=new r,d=new r,e=0,f=0,g=b.dd;g;g=g.H){var h=new r,l=g.Ja.Ic(this.u,this.offset,b.Fc(),h),e=e+l;c.x+=l*h.x;c.y+=l*h.y;var m=0,m=this.cr?g.ll():1,f=f+l*m;d.x+=l*h.x*m;d.y+=l*h.y*m}c.x/=e;c.y/=e;d.x/=f;d.y/=f;1E-5>e||(f=this.Uh.ba().la(),f.cb(this.rd*e),b.te(f,d),d=b.df(c,new r),d.gb(this.Ng),d.cb(-this.Gq*e),b.te(d,c),b.rp(-b.Pg()/b.ae()*e*b.kl()*this.yq))}}}};
rf.prototype.Step=rf.prototype.tc;rf.prototype.Hi=function(){var a=new r,b=new r;a.x=this.u.x*this.offset+100*this.u.y;a.y=this.u.y*this.offset-100*this.u.x;b.x=this.u.x*this.offset-100*this.u.y;b.y=this.u.y*this.offset+100*this.u.x};rf.prototype.Draw=rf.prototype.Hi;q("box2d.b2MixFriction",function(a,b){return Na(a*b)});function sf(a,b){return a>b?a:b}q("box2d.b2MixRestitution",sf);function tf(){}q("box2d.b2ContactEdge",tf);tf.prototype.Yd=null;tf.prototype.other=tf.prototype.Yd;tf.prototype.ad=null;tf.prototype.contact=tf.prototype.ad;tf.prototype.Lb=null;tf.prototype.prev=tf.prototype.Lb;tf.prototype.next=null;tf.prototype.next=tf.prototype.next;function H(){this.ed=new tf;this.fd=new tf;this.Td=new qc;this.ij=new qc}q("box2d.b2Contact",H);H.prototype.ac=!1;
H.prototype.m_flag_islandFlag=H.prototype.ac;H.prototype.ei=!1;H.prototype.m_flag_touchingFlag=H.prototype.ei;H.prototype.wg=!1;H.prototype.m_flag_enabledFlag=H.prototype.wg;H.prototype.Xl=!1;H.prototype.m_flag_filterFlag=H.prototype.Xl;H.prototype.qv=!1;H.prototype.m_flag_bulletHitFlag=H.prototype.qv;H.prototype.fh=!1;H.prototype.m_flag_toiFlag=H.prototype.fh;H.prototype.Ha=null;H.prototype.m_prev=H.prototype.Ha;H.prototype.H=null;H.prototype.m_next=H.prototype.H;H.prototype.ed=null;
H.prototype.m_nodeA=H.prototype.ed;H.prototype.fd=null;H.prototype.m_nodeB=H.prototype.fd;H.prototype.Eb=null;H.prototype.m_fixtureA=H.prototype.Eb;H.prototype.Fb=null;H.prototype.m_fixtureB=H.prototype.Fb;H.prototype.l=0;H.prototype.m_indexA=H.prototype.l;H.prototype.i=0;H.prototype.m_indexB=H.prototype.i;H.prototype.Td=null;H.prototype.m_manifold=H.prototype.Td;H.prototype.wk=0;H.prototype.m_toiCount=H.prototype.wk;H.prototype.qm=0;H.prototype.m_toi=H.prototype.qm;H.prototype.ge=0;
H.prototype.m_friction=H.prototype.ge;H.prototype.ie=0;H.prototype.m_restitution=H.prototype.ie;H.prototype.pm=0;H.prototype.m_tangentSpeed=H.prototype.pm;H.prototype.ij=null;H.prototype.m_oldManifold=H.prototype.ij;H.prototype.Is=function(){return this.Td};H.prototype.GetManifold=H.prototype.Is;H.prototype.wt=function(a){var b=this.Fb.tb,c=this.Eb.Ja,d=this.Fb.Ja;a.da(this.Td,this.Eb.tb.Fc(),c.ma,b.Fc(),d.ma)};H.prototype.GetWorldManifold=H.prototype.wt;H.prototype.It=function(){return this.ei};
H.prototype.IsTouching=H.prototype.It;H.prototype.gq=function(a){this.wg=a};H.prototype.SetEnabled=H.prototype.gq;H.prototype.Ct=function(){return this.wg};H.prototype.IsEnabled=H.prototype.Ct;H.prototype.Ec=function(){return this.H};H.prototype.GetNext=H.prototype.Ec;H.prototype.ns=function(){return this.Eb};H.prototype.GetFixtureA=H.prototype.ns;H.prototype.bs=function(){return this.l};H.prototype.GetChildIndexA=H.prototype.bs;H.prototype.os=function(){return this.Fb};H.prototype.GetFixtureB=H.prototype.os;
H.prototype.cs=function(){return this.i};H.prototype.GetChildIndexB=H.prototype.cs;H.prototype.sc=function(){};H.prototype.Evaluate=H.prototype.sc;H.prototype.il=function(){this.Xl=!0};H.prototype.FlagForFiltering=H.prototype.il;H.prototype.En=function(a){this.ge=a};H.prototype.SetFriction=H.prototype.En;H.prototype.an=function(){return this.ge};H.prototype.GetFriction=H.prototype.an;H.prototype.Zt=function(){this.ge=Na(this.Eb.ge*this.Fb.ge)};H.prototype.ResetFriction=H.prototype.Zt;
H.prototype.Nn=function(a){this.ie=a};H.prototype.SetRestitution=H.prototype.Nn;H.prototype.nn=function(){return this.ie};H.prototype.GetRestitution=H.prototype.nn;H.prototype.bu=function(){this.ie=sf(this.Eb.ie,this.Fb.ie)};H.prototype.ResetRestitution=H.prototype.bu;H.prototype.Zu=function(a){this.pm=a};H.prototype.SetTangentSpeed=H.prototype.Zu;H.prototype.mt=function(){return this.pm};H.prototype.GetTangentSpeed=H.prototype.mt;
H.prototype.xb=function(a,b,c,d){this.wg=!0;this.Eb=a;this.Fb=c;this.l=b;this.i=d;this.Td.za=0;this.H=this.Ha=null;this.ed.ad=null;this.ed.Lb=null;this.ed.next=null;this.ed.Yd=null;this.fd.ad=null;this.fd.Lb=null;this.fd.next=null;this.fd.Yd=null;this.wk=0;this.ge=Na(this.Eb.ge*this.Fb.ge);this.ie=sf(this.Eb.ie,this.Fb.ie)};H.prototype.Reset=H.prototype.xb;
H.prototype.Al=function(){var a=this.ij;this.ij=this.Td;this.Td=a;this.wg=!0;var b=!1,a=this.ei,c=this.Fb.vd,b=this.Eb.vd||c,c=this.Eb.tb,d=this.Fb.tb,e=c.Fc(),f=d.Fc();if(b)b=Dc(this.Eb.Ja,this.l,this.Fb.Ja,this.i,e,f),this.Td.za=0;else{this.sc(this.Td,e,f);b=0<this.Td.za;for(e=0;e<this.Td.za;++e){f=this.Td.qa[e];f.Nb=0;f.od=0;for(var g=f.id,h=0;h<this.ij.za;++h){var l=this.ij.qa[h];if(l.id.key===g.key){f.Nb=l.Nb;f.od=l.od;break}}}b!==a&&(c.ua(!0),d.ua(!0))}this.ei=b};H.prototype.Update=H.prototype.Al;
H.prototype.Ej=function(a,b){var c=H.prototype.Ej.Nk;c.Bc.Lh(this.Eb.Ja,this.l);c.Oc.Lh(this.Fb.Ja,this.i);c.Zk.d(a);c.$k.d(b);c.al=.008;var d=H.prototype.Ej.Ok;ve(d,c);return d.hg};H.prototype.ComputeTOI=H.prototype.Ej;H.prototype.Ej.Nk=new ce;H.prototype.Ej.Ok=new ee;function uf(){H.call(this)}ca(uf,H);q("box2d.b2ChainAndCircleContact",uf);function Tf(){return new uf}uf.Create=Tf;uf.Destroy=function(){};uf.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja,f=uf.prototype.sc.Uo;(d instanceof D?d:null).Ij(f,this.l);Gc(a,f,b,e instanceof Id?e:null,c)};uf.prototype.Evaluate=uf.prototype.sc;uf.prototype.sc.Uo=new Jd;function Uf(){H.call(this)}ca(Uf,H);q("box2d.b2ChainAndPolygonContact",Uf);function Vf(){return new Uf}Uf.Create=Vf;Uf.Destroy=function(){};Uf.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja,f=Uf.prototype.sc.Uo;(d instanceof D?d:null).Ij(f,this.l);md(a,f,b,e instanceof E?e:null,c)};Uf.prototype.Evaluate=Uf.prototype.sc;Uf.prototype.sc.Uo=new Jd;function Wf(){H.call(this)}ca(Wf,H);q("box2d.b2CircleContact",Wf);function Xf(){return new Wf}Wf.Create=Xf;Wf.Destroy=function(){};Wf.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja;Ec(a,d instanceof Id?d:null,b,e instanceof Id?e:null,c)};Wf.prototype.Evaluate=Wf.prototype.sc;function Yf(){}q("box2d.b2ContactRegister",Yf);Yf.prototype.ao=null;Yf.prototype.bo=null;Yf.prototype.Oo=!1;function Zf(a){this.ee=a;this.Xp()}q("box2d.b2ContactFactory",Zf);Zf.prototype.ee=null;Zf.prototype.Og=function(a,b,c,d){function e(a){g.push(a)}function f(b){return 0<g.length?g.pop():a(b)}var g=oa(256,function(){return a()});this.Ze[c][d].wv=g;this.Ze[c][d].ao=f;this.Ze[c][d].bo=e;this.Ze[c][d].Oo=!0;c!==d&&(this.Ze[d][c].wv=g,this.Ze[d][c].ao=f,this.Ze[d][c].bo=e,this.Ze[d][c].Oo=!1)};
Zf.prototype.AddType=Zf.prototype.Og;Zf.prototype.Xp=function(){this.Ze=Array(4);for(var a=0;4>a;a++){this.Ze[a]=Array(4);for(var b=0;4>b;b++)this.Ze[a][b]=new Yf}this.Og(Xf,0,0,0);this.Og($f,0,2,0);this.Og(ag,0,2,2);this.Og(bg,0,1,0);this.Og(cg,0,1,2);this.Og(Tf,0,3,0);this.Og(Vf,0,3,2)};Zf.prototype.InitializeRegisters=Zf.prototype.Xp;Zf.prototype.Fj=function(a,b,c,d){var e=this.Ze[a.mc()][c.mc()],f=e.ao;return null!==f?(e.Oo?(e=f(this.ee),e.xb(a,b,c,d)):(e=f(this.ee),e.xb(c,d,a,b)),e):null};
Zf.prototype.Create=Zf.prototype.Fj;Zf.prototype.$d=function(a){var b=a.Eb,c=a.Fb;0<a.Td.za&&!b.vd&&!c.vd&&(b.tb.ua(!0),c.tb.ua(!0));b=this.Ze[b.mc()][c.mc()].bo;b(a,this.ee)};Zf.prototype.Destroy=Zf.prototype.$d;function dg(){this.qc=new Cd;this.Ul=new Zf(this.ee)}dg.prototype.qc=null;q("box2d.b2ContactManager.prototype.m_broadPhase",dg.prototype.qc);dg.prototype.qb=null;q("box2d.b2ContactManager.prototype.m_contactList",dg.prototype.qb);dg.prototype.qe=0;q("box2d.b2ContactManager.prototype.m_contactCount",dg.prototype.qe);dg.prototype.rf=lf;q("box2d.b2ContactManager.prototype.m_contactFilter",dg.prototype.rf);dg.prototype.Wi=of;q("box2d.b2ContactManager.prototype.m_contactListener",dg.prototype.Wi);
dg.prototype.ee=null;q("box2d.b2ContactManager.prototype.m_allocator",dg.prototype.ee);dg.prototype.Ul=null;q("box2d.b2ContactManager.prototype.m_contactFactory",dg.prototype.Ul);
dg.prototype.$d=function(a){var b=a.Eb.tb,c=a.Fb.tb;a.Ha&&(a.Ha.H=a.H);a.H&&(a.H.Ha=a.Ha);a===this.qb&&(this.qb=a.H);a.ed.Lb&&(a.ed.Lb.next=a.ed.next);a.ed.next&&(a.ed.next.Lb=a.ed.Lb);a.ed===b.qb&&(b.qb=a.ed.next);a.fd.Lb&&(a.fd.Lb.next=a.fd.next);a.fd.next&&(a.fd.next.Lb=a.fd.Lb);a.fd===c.qb&&(c.qb=a.fd.next);this.Ul.$d(a);--this.qe};q("box2d.b2ContactManager.prototype.Destroy",dg.prototype.$d);
dg.prototype.Dj=function(){for(var a=this.qb;a;){var b=a.Eb,c=a.Fb,d=a.l,e=a.i,f=b.tb,g=c.tb;if(a.Xl){if(!g.Oh(f)){b=a;a=b.H;this.$d(b);continue}if(this.rf&&!this.rf.Oh(b,c)){b=a;a=b.H;this.$d(b);continue}a.Xl=!1}g=g.Gb&&0!==g.Qa;f.Gb&&0!==f.Qa||g?this.qc.Zj(b.xf[d].cg,c.xf[e].cg)?(a.Al(),a=a.H):(b=a,a=b.H,this.$d(b)):a=a.H}};q("box2d.b2ContactManager.prototype.Collide",dg.prototype.Dj);dg.prototype.hl=function(){this.qc.vq(this)};q("box2d.b2ContactManager.prototype.FindNewContacts",dg.prototype.hl);
dg.prototype.qp=function(a,b){var c=a.ne,d=b.ne,e=a.ek,f=b.ek,g=c.tb,h=d.tb;if(g!==h){for(var l=h.Eh();l;){if(l.Yd===g){var m=l.ad.Eb,n=l.ad.Fb,p=l.ad.l,y=l.ad.i;if(m===c&&n===d&&p===e&&y===f||m===d&&n===c&&p===f&&y===e)return}l=l.next}!h.Oh(g)||this.rf&&!this.rf.Oh(c,d)||(e=this.Ul.Fj(c,e,d,f),null!==e&&(c=e.Eb,d=e.Fb,g=c.tb,h=d.tb,e.Ha=null,e.H=this.qb,null!==this.qb&&(this.qb.Ha=e),this.qb=e,e.ed.ad=e,e.ed.Yd=h,e.ed.Lb=null,e.ed.next=g.qb,null!==g.qb&&(g.qb.Lb=e.ed),g.qb=e.ed,e.fd.ad=e,e.fd.Yd=
g,e.fd.Lb=null,e.fd.next=h.qb,null!==h.qb&&(h.qb.Lb=e.fd),h.qb=e.fd,c.vd||d.vd||(g.ua(!0),h.ua(!0)),++this.qe))}};q("box2d.b2ContactManager.prototype.AddPair",dg.prototype.qp);function eg(){H.call(this)}ca(eg,H);q("box2d.b2EdgeAndCircleContact",eg);function bg(){return new eg}eg.Create=bg;eg.Destroy=function(){};eg.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja;Gc(a,d instanceof Jd?d:null,b,e instanceof Id?e:null,c)};eg.prototype.Evaluate=eg.prototype.sc;function fg(){H.call(this)}ca(fg,H);q("box2d.b2EdgeAndPolygonContact",fg);function cg(){return new fg}fg.Create=cg;fg.Destroy=function(){};fg.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja;md(a,d instanceof Jd?d:null,b,e instanceof E?e:null,c)};fg.prototype.Evaluate=fg.prototype.sc;function gg(){H.call(this)}ca(gg,H);q("box2d.b2PolygonAndCircleContact",gg);function $f(){return new gg}gg.Create=$f;gg.Destroy=function(){};gg.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja;Fc(a,d instanceof E?d:null,b,e instanceof Id?e:null,c)};gg.prototype.Evaluate=gg.prototype.sc;function hg(){H.call(this)}ca(hg,H);q("box2d.b2PolygonContact",hg);function ag(){return new hg}hg.Create=ag;hg.Destroy=function(){};hg.prototype.sc=function(a,b,c){var d=this.Eb.Ja,e=this.Fb.Ja;pd(a,d instanceof E?d:null,b,e instanceof E?e:null,c)};hg.prototype.Evaluate=hg.prototype.sc;function ig(){this.Cc=new r;this.Dc=new r}q("box2d.b2VelocityConstraintPoint",ig);ig.prototype.Cc=null;ig.prototype.rA=ig.prototype.Cc;ig.prototype.Dc=null;ig.prototype.rB=ig.prototype.Dc;ig.prototype.Nb=0;ig.prototype.normalImpulse=ig.prototype.Nb;ig.prototype.od=0;ig.prototype.tangentImpulse=ig.prototype.od;ig.prototype.af=0;ig.prototype.normalMass=ig.prototype.af;ig.prototype.Fm=0;ig.prototype.tangentMass=ig.prototype.Fm;ig.prototype.yh=0;ig.prototype.velocityBias=ig.prototype.yh;
function jg(a){return oa(a,function(){return new ig})}ig.MakeArray=jg;function kg(){this.qa=jg(2);this.u=new r;this.zj=new r;this.af=new sb;this.mg=new sb}q("box2d.b2ContactVelocityConstraint",kg);kg.prototype.qa=null;kg.prototype.points=kg.prototype.qa;kg.prototype.u=null;kg.prototype.normal=kg.prototype.u;kg.prototype.zj=null;kg.prototype.tangent=kg.prototype.zj;kg.prototype.af=null;kg.prototype.normalMass=kg.prototype.af;kg.prototype.mg=null;kg.prototype.K=kg.prototype.mg;kg.prototype.B=0;
kg.prototype.indexA=kg.prototype.B;kg.prototype.D=0;kg.prototype.indexB=kg.prototype.D;kg.prototype.Of=0;kg.prototype.invMassA=kg.prototype.Of;kg.prototype.Pf=0;kg.prototype.invMassB=kg.prototype.Pf;kg.prototype.Mf=0;kg.prototype.invIA=kg.prototype.Mf;kg.prototype.Nf=0;kg.prototype.invIB=kg.prototype.Nf;kg.prototype.Ni=0;kg.prototype.friction=kg.prototype.Ni;kg.prototype.uj=0;kg.prototype.restitution=kg.prototype.uj;kg.prototype.np=0;kg.prototype.tangentSpeed=kg.prototype.np;kg.prototype.za=0;
kg.prototype.pointCount=kg.prototype.za;kg.prototype.Fl=0;kg.prototype.contactIndex=kg.prototype.Fl;function lg(a){return oa(a,function(){return new kg})}kg.MakeArray=lg;function mg(){this.Ri=Xa(2);this.oc=new r;this.Fa=new r;this.Pi=new r;this.Qi=new r}q("box2d.b2ContactPositionConstraint",mg);mg.prototype.Ri=null;mg.prototype.localPoints=mg.prototype.Ri;mg.prototype.oc=null;mg.prototype.localNormal=mg.prototype.oc;mg.prototype.Fa=null;mg.prototype.localPoint=mg.prototype.Fa;mg.prototype.B=0;
mg.prototype.indexA=mg.prototype.B;mg.prototype.D=0;mg.prototype.indexB=mg.prototype.D;mg.prototype.Of=0;mg.prototype.invMassA=mg.prototype.Of;mg.prototype.Pf=0;mg.prototype.invMassB=mg.prototype.Pf;mg.prototype.Pi=null;mg.prototype.localCenterA=mg.prototype.Pi;mg.prototype.Qi=null;mg.prototype.localCenterB=mg.prototype.Qi;mg.prototype.Mf=0;mg.prototype.invIA=mg.prototype.Mf;mg.prototype.Nf=0;mg.prototype.invIB=mg.prototype.Nf;mg.prototype.type=-1;mg.prototype.type=mg.prototype.type;
mg.prototype.rj=0;mg.prototype.radiusA=mg.prototype.rj;mg.prototype.sj=0;mg.prototype.radiusB=mg.prototype.sj;mg.prototype.za=0;mg.prototype.pointCount=mg.prototype.za;function ng(a){return oa(a,function(){return new mg})}mg.MakeArray=ng;function og(){this.step=new De}q("box2d.b2ContactSolverDef",og);og.prototype.step=null;og.prototype.step=og.prototype.step;og.prototype.Gl=null;og.prototype.contacts=og.prototype.Gl;og.prototype.count=0;og.prototype.count=og.prototype.count;og.prototype.N=null;
og.prototype.positions=og.prototype.N;og.prototype.j=null;og.prototype.velocities=og.prototype.j;og.prototype.Qh=null;og.prototype.allocator=og.prototype.Qh;function J(){this.$e=new De;this.wf=ng(1024);this.re=lg(1024)}q("box2d.b2ContactSolver",J);J.prototype.$e=null;J.prototype.m_step=J.prototype.$e;J.prototype.Pa=null;J.prototype.m_positions=J.prototype.Pa;J.prototype.ab=null;J.prototype.m_velocities=J.prototype.ab;J.prototype.ee=null;J.prototype.m_allocator=J.prototype.ee;J.prototype.wf=null;
J.prototype.m_positionConstraints=J.prototype.wf;J.prototype.re=null;J.prototype.m_velocityConstraints=J.prototype.re;J.prototype.fe=null;J.prototype.m_contacts=J.prototype.fe;J.prototype.h=0;J.prototype.m_count=J.prototype.h;
J.prototype.da=function(a){this.$e.d(a.step);this.ee=a.Qh;this.h=a.count;if(this.wf.length<this.h)for(var b=Ea(2*this.wf.length,this.h);this.wf.length<b;)this.wf[this.wf.length]=new mg;if(this.re.length<this.h)for(b=Ea(2*this.re.length,this.h);this.re.length<b;)this.re[this.re.length]=new kg;this.Pa=a.N;this.ab=a.j;this.fe=a.Gl;var c,d,e,f,g,h,l,m;a=0;for(b=this.h;a<b;++a)for(e=this.fe[a],f=e.Eb,g=e.Fb,c=f.Ja,d=g.Ja,c=c.ma,d=d.ma,h=f.tb,l=g.tb,g=e.Td,m=g.za,f=this.re[a],f.Ni=e.ge,f.uj=e.ie,f.np=e.pm,
f.B=h.hb,f.D=l.hb,f.Of=h.Oa,f.Pf=l.Oa,f.Mf=h.rb,f.Nf=l.rb,f.Fl=a,f.za=m,f.mg.R(),f.af.R(),e=this.wf[a],e.B=h.hb,e.D=l.hb,e.Of=h.Oa,e.Pf=l.Oa,e.Pi.d(h.m.Ba),e.Qi.d(l.m.Ba),e.Mf=h.rb,e.Nf=l.rb,e.oc.d(g.oc),e.Fa.d(g.Fa),e.za=m,e.rj=c,e.sj=d,e.type=g.type,c=0,d=m;c<d;++c)h=g.qa[c],m=f.qa[c],this.$e.pd?(m.Nb=this.$e.xc*h.Nb,m.od=this.$e.xc*h.od):(m.Nb=0,m.od=0),m.Cc.R(),m.Dc.R(),m.af=0,m.Fm=0,m.yh=0,e.Ri[c].d(h.Fa);return this};J.prototype.Initialize=J.prototype.da;
J.prototype.lg=function(){var a,b,c,d,e,f,g,h,l,m,n,p,y,x,I,W,S,ja,ra,ba,Ua=J.prototype.lg.eg,Ia=J.prototype.lg.fg,Ja=J.prototype.lg.ax;a=0;for(b=this.h;a<b;++a){e=this.re[a];f=this.wf[a];c=f.rj;d=f.sj;g=this.fe[e.Fl].Td;h=e.B;l=e.D;m=e.Of;n=e.Pf;p=e.Mf;y=e.Nf;x=f.Pi;I=f.Qi;f=this.Pa[h].o;W=this.Pa[h].f;S=this.ab[h].W;h=this.ab[h].k;ja=this.Pa[l].o;ra=this.Pa[l].f;ba=this.ab[l].W;l=this.ab[l].k;Ua.Q.fa(W);Ia.Q.fa(ra);w(f,A(Ua.Q,x,t),Ua.ca);w(ja,A(Ia.Q,I,t),Ia.ca);Ja.da(g,Ua,c,Ia,d);e.u.d(Ja.u);ab(e.u,
1,e.zj);d=e.za;for(c=0;c<d;++c)g=e.qa[c],w(Ja.qa[c],f,g.Cc),w(Ja.qa[c],ja,g.Dc),x=v(g.Cc,e.u),I=v(g.Dc,e.u),x=m+n+p*x*x+y*I*I,g.af=0<x?1/x:0,I=e.zj,x=v(g.Cc,I),I=v(g.Dc,I),x=m+n+p*x*x+y*I*I,g.Fm=0<x?1/x:0,g.yh=0,x=u(e.u,w(gb(ba,l,g.Dc,t),gb(S,h,g.Cc,Sa),t)),-1>x&&(g.yh+=-e.uj*x);2===e.za&&(S=e.qa[0],ja=e.qa[1],f=v(S.Cc,e.u),S=v(S.Dc,e.u),h=v(ja.Cc,e.u),l=v(ja.Dc,e.u),ja=m+n+p*f*f+y*S*S,ba=m+n+p*h*h+y*l*l,m=m+n+p*f*h+y*S*l,ja*ja<1E3*(ja*ba-m*m)?(e.mg.C.U(ja,m),e.mg.J.U(m,ba),e.mg.Ii(e.af)):e.za=1)}};
J.prototype.InitializeVelocityConstraints=J.prototype.lg;J.prototype.lg.eg=new B;J.prototype.lg.fg=new B;J.prototype.lg.ax=new rc;
J.prototype.Cl=function(){var a,b,c,d,e,f,g,h,l,m,n,p,y,x,I,W,S,ja,ra=J.prototype.Cl.Ka;a=0;for(b=this.h;a<b;++a){e=this.re[a];f=e.B;g=e.D;h=e.Of;l=e.Mf;m=e.Pf;n=e.Nf;d=e.za;p=this.ab[f].W;y=this.ab[f].k;x=this.ab[g].W;I=this.ab[g].k;W=e.u;S=e.zj;for(c=0;c<d;++c)ja=e.qa[c],cb(db(ja.Nb,W,t),db(ja.od,S,Sa),ra),y-=l*v(ja.Cc,ra),p.Ea(h,ra),I+=n*v(ja.Dc,ra),x.Z(m,ra);this.ab[f].k=y;this.ab[g].k=I}};J.prototype.WarmStart=J.prototype.Cl;J.prototype.Cl.Ka=new r;
J.prototype.n=function(){var a,b,c,d,e,f,g,h,l,m,n,p,y,x,I,W,S,ja,ra,ba,Ua=J.prototype.n.$v,Ia=J.prototype.n.aw,Ja=J.prototype.n.bw,Va,Aa,Ba=J.prototype.n.Ka,lb=J.prototype.n.Cv,Jb=J.prototype.n.Gv,Ma=J.prototype.n.bx,Ka=J.prototype.n.rc,wb=J.prototype.n.yv,xb=J.prototype.n.Av,Ub=J.prototype.n.zv;a=0;for(b=this.h;a<b;++a){e=this.re[a];f=e.B;g=e.D;h=e.Of;l=e.Mf;m=e.Pf;n=e.Nf;p=e.za;y=this.ab[f].W;x=this.ab[f].k;I=this.ab[g].W;W=this.ab[g].k;S=e.u;ja=e.zj;ra=e.Ni;c=0;for(d=p;c<d;++c)ba=e.qa[c],w(gb(I,
W,ba.Dc,t),gb(y,x,ba.Cc,Sa),Ua),Va=u(Ua,ja)-e.np,Va=ba.Fm*-Va,Aa=ra*ba.Nb,Aa=Fa(ba.od+Va,-Aa,Aa),Va=Aa-ba.od,ba.od=Aa,db(Va,ja,Ba),y.Ea(h,Ba),x-=l*v(ba.Cc,Ba),I.Z(m,Ba),W+=n*v(ba.Dc,Ba);if(1===e.za)for(c=0;c<p;++c)ba=e.qa[c],w(gb(I,W,ba.Dc,t),gb(y,x,ba.Cc,Sa),Ua),d=u(Ua,S),Va=-ba.af*(d-ba.yh),Aa=Ea(ba.Nb+Va,0),Va=Aa-ba.Nb,ba.Nb=Aa,db(Va,S,Ba),y.Ea(h,Ba),x-=l*v(ba.Cc,Ba),I.Z(m,Ba),W+=n*v(ba.Dc,Ba);else for(p=e.qa[0],ba=e.qa[1],lb.U(p.Nb,ba.Nb),w(gb(I,W,p.Dc,t),gb(y,x,p.Cc,Sa),Ia),w(gb(I,W,ba.Dc,t),
gb(y,x,ba.Cc,Sa),Ja),c=u(Ia,S),d=u(Ja,S),Jb.x=c-p.yh,Jb.y=d-ba.yh,Jb.gb(tb(e.mg,lb,t));;){tb(e.af,Jb,Ma).la();if(0<=Ma.x&&0<=Ma.y){w(Ma,lb,Ka);db(Ka.x,S,wb);db(Ka.y,S,xb);cb(wb,xb,Ub);y.Ea(h,Ub);x-=l*(v(p.Cc,wb)+v(ba.Cc,xb));I.Z(m,Ub);W+=n*(v(p.Dc,wb)+v(ba.Dc,xb));p.Nb=Ma.x;ba.Nb=Ma.y;break}Ma.x=-p.af*Jb.x;Ma.y=0;d=e.mg.C.y*Ma.x+Jb.y;if(0<=Ma.x&&0<=d){w(Ma,lb,Ka);db(Ka.x,S,wb);db(Ka.y,S,xb);cb(wb,xb,Ub);y.Ea(h,Ub);x-=l*(v(p.Cc,wb)+v(ba.Cc,xb));I.Z(m,Ub);W+=n*(v(p.Dc,wb)+v(ba.Dc,xb));p.Nb=Ma.x;ba.Nb=
Ma.y;break}Ma.x=0;Ma.y=-ba.af*Jb.y;c=e.mg.J.x*Ma.y+Jb.x;if(0<=Ma.y&&0<=c){w(Ma,lb,Ka);db(Ka.x,S,wb);db(Ka.y,S,xb);cb(wb,xb,Ub);y.Ea(h,Ub);x-=l*(v(p.Cc,wb)+v(ba.Cc,xb));I.Z(m,Ub);W+=n*(v(p.Dc,wb)+v(ba.Dc,xb));p.Nb=Ma.x;ba.Nb=Ma.y;break}Ma.x=0;Ma.y=0;c=Jb.x;d=Jb.y;if(0<=c&&0<=d){w(Ma,lb,Ka);db(Ka.x,S,wb);db(Ka.y,S,xb);cb(wb,xb,Ub);y.Ea(h,Ub);x-=l*(v(p.Cc,wb)+v(ba.Cc,xb));I.Z(m,Ub);W+=n*(v(p.Dc,wb)+v(ba.Dc,xb));p.Nb=Ma.x;ba.Nb=Ma.y;break}break}this.ab[f].k=x;this.ab[g].k=W}};
J.prototype.SolveVelocityConstraints=J.prototype.n;k=J.prototype;k.n.$v=new r;k.n.aw=new r;k.n.bw=new r;k.n.Ka=new r;k.n.Cv=new r;k.n.Gv=new r;k.n.bx=new r;k.n.rc=new r;k.n.yv=new r;k.n.Av=new r;k.n.zv=new r;k.tq=function(){var a,b,c,d,e,f;a=0;for(b=this.h;a<b;++a)for(e=this.re[a],f=this.fe[e.Fl].Td,c=0,d=e.za;c<d;++c)f.qa[c].Nb=e.qa[c].Nb,f.qa[c].od=e.qa[c].od};J.prototype.StoreImpulses=J.prototype.tq;function pg(){this.u=new r;this.ti=new r}q("box2d.b2PositionSolverManifold",pg);
pg.prototype.u=null;pg.prototype.normal=pg.prototype.u;pg.prototype.ti=null;pg.prototype.point=pg.prototype.ti;pg.prototype.nd=0;pg.prototype.separation=pg.prototype.nd;
pg.prototype.da=function(a,b,c,d){var e=pg.prototype.da.Ne,f=pg.prototype.da.Oe,g=pg.prototype.da.vj,h=pg.prototype.da.xm;switch(a.type){case 0:Kb(b,a.Fa,e);Kb(c,a.Ri[0],f);w(f,e,this.u).ke();hb(e,f,this.ti);this.nd=u(w(f,e,t),this.u)-a.rj-a.sj;break;case 1:A(b.Q,a.oc,this.u);Kb(b,a.Fa,g);Kb(c,a.Ri[d],h);this.nd=u(w(h,g,t),this.u)-a.rj-a.sj;this.ti.d(h);break;case 2:A(c.Q,a.oc,this.u),Kb(c,a.Fa,g),Kb(b,a.Ri[d],h),this.nd=u(w(h,g,t),this.u)-a.rj-a.sj,this.ti.d(h),this.u.la()}};
pg.prototype.Initialize=pg.prototype.da;pg.prototype.da.Ne=new r;pg.prototype.da.Oe=new r;pg.prototype.da.vj=new r;pg.prototype.da.xm=new r;
J.prototype.X=function(){var a,b,c,d,e,f,g,h,l,m,n,p,y,x,I,W,S,ja=J.prototype.X.eg,ra=J.prototype.X.fg,ba=J.prototype.X.dp,Ua,Ia,Ja,Va=J.prototype.X.zi,Aa=J.prototype.X.Ai,Ba,lb=J.prototype.X.Ka,Jb=0;a=0;for(b=this.h;a<b;++a){e=this.wf[a];f=e.B;g=e.D;h=e.Pi;l=e.Of;m=e.Mf;n=e.Qi;p=e.Pf;y=e.Nf;d=e.za;x=this.Pa[f].o;I=this.Pa[f].f;W=this.Pa[g].o;S=this.Pa[g].f;for(c=0;c<d;++c)ja.Q.fa(I),ra.Q.fa(S),w(x,A(ja.Q,h,t),ja.ca),w(W,A(ra.Q,n,t),ra.ca),ba.da(e,ja,ra,c),Ua=ba.u,Ia=ba.ti,Ja=ba.nd,w(Ia,x,Va),w(Ia,
W,Aa),Jb=Da(Jb,Ja),Ia=Fa(.2*(Ja+.008),-.2,0),Ja=v(Va,Ua),Ba=v(Aa,Ua),Ja=l+p+m*Ja*Ja+y*Ba*Ba,Ia=0<Ja?-Ia/Ja:0,db(Ia,Ua,lb),x.Ea(l,lb),I-=m*v(Va,lb),W.Z(p,lb),S+=y*v(Aa,lb);this.Pa[f].f=I;this.Pa[g].f=S}return-.024<Jb};J.prototype.SolvePositionConstraints=J.prototype.X;k=J.prototype;k.X.eg=new B;k.X.fg=new B;k.X.dp=new pg;k.X.zi=new r;k.X.Ai=new r;k.X.Ka=new r;
k.me=function(a,b){var c,d,e,f,g,h,l,m,n,p,y,x,I,W,S,ja,ra,ba=J.prototype.me.eg,Ua=J.prototype.me.fg,Ia=J.prototype.me.dp,Ja,Va,Aa,Ba=J.prototype.me.zi,lb=J.prototype.me.Ai,Jb,Ma=J.prototype.me.Ka,Ka=0;c=0;for(d=this.h;c<d;++c){g=this.wf[c];h=g.B;l=g.D;m=g.Pi;n=g.Qi;f=g.za;y=p=0;if(h===a||h===b)p=g.Of,y=g.Mf;I=x=0;if(l===a||l===b)x=g.Pf,I=g.Nf;W=this.Pa[h].o;S=this.Pa[h].f;ja=this.Pa[l].o;ra=this.Pa[l].f;for(e=0;e<f;++e)ba.Q.fa(S),Ua.Q.fa(ra),w(W,A(ba.Q,m,t),ba.ca),w(ja,A(Ua.Q,n,t),Ua.ca),Ia.da(g,
ba,Ua,e),Ja=Ia.u,Va=Ia.ti,Aa=Ia.nd,w(Va,W,Ba),w(Va,ja,lb),Ka=Da(Ka,Aa),Va=Fa(.75*(Aa+.008),-.2,0),Aa=v(Ba,Ja),Jb=v(lb,Ja),Aa=p+x+y*Aa*Aa+I*Jb*Jb,Va=0<Aa?-Va/Aa:0,db(Va,Ja,Ma),W.Ea(p,Ma),S-=y*v(Ba,Ma),ja.Z(x,Ma),ra+=I*v(lb,Ma);this.Pa[h].f=S;this.Pa[l].f=ra}return-.012<=Ka};J.prototype.SolveTOIPositionConstraints=J.prototype.me;k=J.prototype;k.me.eg=new B;k.me.fg=new B;k.me.dp=new pg;k.me.zi=new r;k.me.Ai=new r;k.me.Ka=new r;function qg(){this.mb=Array(1024);this.fe=Array(1024);this.Sd=Array(1024);this.Pa=Fe(1024);this.ab=He(1024)}q("box2d.b2Island",qg);qg.prototype.ee=null;qg.prototype.m_allocator=qg.prototype.ee;qg.prototype.zo=null;qg.prototype.m_listener=qg.prototype.zo;qg.prototype.mb=null;qg.prototype.m_bodies=qg.prototype.mb;qg.prototype.fe=null;qg.prototype.m_contacts=qg.prototype.fe;qg.prototype.Sd=null;qg.prototype.m_joints=qg.prototype.Sd;qg.prototype.Pa=null;qg.prototype.m_positions=qg.prototype.Pa;
qg.prototype.ab=null;qg.prototype.m_velocities=qg.prototype.ab;qg.prototype.gc=0;qg.prototype.m_bodyCount=qg.prototype.gc;qg.prototype.Ie=0;qg.prototype.m_jointCount=qg.prototype.Ie;qg.prototype.qe=0;qg.prototype.m_contactCount=qg.prototype.qe;qg.prototype.lo=0;qg.prototype.m_bodyCapacity=qg.prototype.lo;qg.prototype.mo=0;qg.prototype.m_contactCapacity=qg.prototype.mo;qg.prototype.Nq=0;qg.prototype.m_jointCapacity=qg.prototype.Nq;
qg.prototype.da=function(a,b,c,d,e){this.lo=a;this.mo=b;this.Nq=c;this.Ie=this.qe=this.gc=0;this.ee=d;for(this.zo=e;this.mb.length<a;)this.mb[this.mb.length]=null;for(;this.fe.length<b;)this.fe[this.fe.length]=null;for(;this.Sd.length<c;)this.Sd[this.Sd.length]=null;if(this.Pa.length<a)for(b=Ea(2*this.Pa.length,a);this.Pa.length<b;)this.Pa[this.Pa.length]=new Ee;if(this.ab.length<a)for(b=Ea(2*this.ab.length,a);this.ab.length<b;)this.ab[this.ab.length]=new Ge};qg.prototype.Initialize=qg.prototype.da;
qg.prototype.Bh=function(){this.Ie=this.qe=this.gc=0};qg.prototype.Clear=qg.prototype.Bh;qg.prototype.ig=function(a){a.hb=this.gc;this.mb[this.gc++]=a};qg.prototype.AddBody=qg.prototype.ig;qg.prototype.Ah=function(a){this.fe[this.qe++]=a};qg.prototype.AddContact=qg.prototype.Ah;qg.prototype.pp=function(a){this.Sd[this.Ie++]=a};qg.prototype.AddJoint=qg.prototype.pp;
qg.prototype.Re=function(a,b,c,d){for(var e=rg.xb(),f=b.Va,g=0;g<this.gc;++g){var h=this.mb[g],l=this.Pa[g].o.d(h.m.o),m=h.m.f,n=this.ab[g].W.d(h.vb),p=h.eb;h.m.wc.d(h.m.o);h.m.qd=h.m.f;2===h.Qa&&(n.x+=f*(h.gi*c.x+h.Oa*h.Qd.x),n.y+=f*(h.gi*c.y+h.Oa*h.Qd.y),p+=f*h.rb*h.$f,n.cb(1/(1+f*h.ej)),p*=1/(1+f*h.Ti));this.Pa[g].f=m;this.ab[g].k=p}e.xb();h=sg;h.step.d(b);h.N=this.Pa;h.j=this.ab;g=tg;g.step.d(b);g.Gl=this.fe;g.count=this.qe;g.N=this.Pa;g.j=this.ab;g.Qh=this.ee;c=ug.da(g);c.lg();b.pd&&c.Cl();for(g=
0;g<this.Ie;++g)this.Sd[g].ta(h);a.Bi=e.Ff();e.xb();for(g=0;g<b.zh;++g){for(m=0;m<this.Ie;++m)this.Sd[m].n(h);c.n()}c.tq();a.Di=e.Ff();for(g=0;g<this.gc;++g){var l=this.Pa[g].o,m=this.Pa[g].f,n=this.ab[g].W,p=this.ab[g].k,y=db(f,n,vg);4<u(y,y)&&(y=2/y.Qc(),n.cb(y));y=f*p;y*y>ia&&(y=ha/na(y),p*=y);l.x+=f*n.x;l.y+=f*n.y;m+=f*p;this.Pa[g].f=m;this.ab[g].k=p}e.xb();l=!1;for(g=0;g<b.ui;++g){n=c.X();p=!0;for(m=0;m<this.Ie;++m)y=this.Sd[m].X(h),p=p&&y;if(n&&p){l=!0;break}}for(g=0;g<this.gc;++g)b=this.mb[g],
b.m.o.d(this.Pa[g].o),b.m.f=this.Pa[g].f,b.vb.d(this.ab[g].W),b.eb=this.ab[g].k,b.Ph();a.Ci=e.Ff();this.zn(c.re);if(d){a=1E37;d=ka*ka;for(g=0;g<this.gc;++g)h=this.mb[g],0!==h.mc()&&(!h.di||h.eb*h.eb>d||1E-4<u(h.vb,h.vb)?a=h.oh=0:(h.oh+=f,a=Da(a,h.oh)));if(.5<=a&&l)for(g=0;g<this.gc;++g)h=this.mb[g],h.ua(!1)}};qg.prototype.Solve=qg.prototype.Re;
qg.prototype.zd=function(a,b,c){for(var d=0;d<this.gc;++d){var e=this.mb[d];this.Pa[d].o.d(e.m.o);this.Pa[d].f=e.m.f;this.ab[d].W.d(e.vb);this.ab[d].k=e.eb}d=tg;d.Gl=this.fe;d.count=this.qe;d.Qh=this.ee;d.step.d(a);d.N=this.Pa;d.j=this.ab;e=ug.da(d);for(d=0;d<a.ui&&!e.me(b,c);++d);this.mb[b].m.wc.d(this.Pa[b].o);this.mb[b].m.qd=this.Pa[b].f;this.mb[c].m.wc.d(this.Pa[c].o);this.mb[c].m.qd=this.Pa[c].f;e.lg();for(d=0;d<a.zh;++d)e.n();a=a.Va;for(d=0;d<this.gc;++d){b=this.Pa[d].o;c=this.Pa[d].f;var f=
this.ab[d].W,g=this.ab[d].k,h=db(a,f,vg);4<u(h,h)&&(h=2/h.Qc(),f.cb(h));h=a*g;h*h>ia&&(h=ha/na(h),g*=h);b.Z(a,f);c+=a*g;this.Pa[d].f=c;this.ab[d].k=g;h=this.mb[d];h.m.o.d(b);h.m.f=c;h.vb.d(f);h.eb=g;h.Ph()}this.zn(e.re)};qg.prototype.SolveTOI=qg.prototype.zd;qg.prototype.zn=function(a){if(null!==this.zo)for(var b=0;b<this.qe;++b)if(this.fe[b]){var c=a[b],d=wg;d.count=c.za;for(var e=0;e<c.za;++e)d.Mo[e]=c.qa[e].Nb,d.mp[e]=c.qa[e].od}};qg.prototype.Report=qg.prototype.zn;
var rg=new Ld,sg=new Ie,tg=new og,ug=new J,vg=new r,wg=new mf;var Jg={zy:0,ty:1,ry:2,Xx:3,sy:4,ky:5,fy:6,Cy:7,By:8,dy:9,uy:10,jy:11,Nx:12};q("box2d.b2JointType",Jg);Jg.e_unknownJoint=0;Jg.e_revoluteJoint=1;Jg.e_prismaticJoint=2;Jg.e_distanceJoint=3;Jg.e_pulleyJoint=4;Jg.e_mouseJoint=5;Jg.e_gearJoint=6;Jg.e_wheelJoint=7;Jg.e_weldJoint=8;Jg.e_frictionJoint=9;Jg.e_ropeJoint=10;Jg.e_motorJoint=11;Jg.e_areaJoint=12;var ih={gy:0,Ox:1,Px:2,ay:3};q("box2d.b2LimitState",ih);ih.e_inactiveLimit=0;ih.e_atLowerLimit=1;ih.e_atUpperLimit=2;ih.e_equalLimits=3;
function jh(){this.Ql=new r}q("box2d.b2Jacobian",jh);jh.prototype.Ql=null;jh.prototype.linear=jh.prototype.Ql;jh.prototype.Tn=0;jh.prototype.angularA=jh.prototype.Tn;jh.prototype.Un=0;jh.prototype.angularB=jh.prototype.Un;jh.prototype.R=function(){this.Ql.R();this.Un=this.Tn=0;return this};jh.prototype.SetZero=jh.prototype.R;jh.prototype.U=function(a,b,c){this.Ql.d(a);this.Tn=b;this.Un=c;return this};jh.prototype.Set=jh.prototype.U;function kh(){}q("box2d.b2JointEdge",kh);kh.prototype.Yd=null;
kh.prototype.other=kh.prototype.Yd;kh.prototype.Wg=null;kh.prototype.joint=kh.prototype.Wg;kh.prototype.Lb=null;kh.prototype.prev=kh.prototype.Lb;kh.prototype.next=null;kh.prototype.next=kh.prototype.next;function zh(a){this.type=a}q("box2d.b2JointDef",zh);zh.prototype.type=0;zh.prototype.type=zh.prototype.type;zh.prototype.ic=null;zh.prototype.userData=zh.prototype.ic;zh.prototype.fc=null;zh.prototype.bodyA=zh.prototype.fc;zh.prototype.vc=null;zh.prototype.bodyB=zh.prototype.vc;zh.prototype.Dl=!1;
zh.prototype.collideConnected=zh.prototype.Dl;function K(a){this.Qa=a.type;this.sd=new kh;this.td=new kh;this.V=a.fc;this.P=a.vc;this.hk=a.Dl;this.xd=a.ic}q("box2d.b2Joint",K);K.prototype.Qa=0;K.prototype.m_type=K.prototype.Qa;K.prototype.Ha=null;K.prototype.m_prev=K.prototype.Ha;K.prototype.H=null;K.prototype.m_next=K.prototype.H;K.prototype.sd=null;K.prototype.m_edgeA=K.prototype.sd;K.prototype.td=null;K.prototype.m_edgeB=K.prototype.td;K.prototype.V=null;K.prototype.m_bodyA=K.prototype.V;
K.prototype.P=null;K.prototype.m_bodyB=K.prototype.P;K.prototype.Dg=0;K.prototype.m_index=K.prototype.Dg;K.prototype.$l=!1;K.prototype.m_islandFlag=K.prototype.$l;K.prototype.hk=!1;K.prototype.m_collideConnected=K.prototype.hk;K.prototype.xd=null;K.prototype.m_userData=K.prototype.xd;K.prototype.cc=function(a){return a.R()};K.prototype.GetAnchorA=K.prototype.cc;K.prototype.dc=function(a){return a.R()};K.prototype.GetAnchorB=K.prototype.dc;K.prototype.jc=function(a,b){return b.R()};
K.prototype.GetReactionForce=K.prototype.jc;K.prototype.lc=function(){return 0};K.prototype.GetReactionTorque=K.prototype.lc;K.prototype.ta=function(){};K.prototype.InitVelocityConstraints=K.prototype.ta;K.prototype.n=function(){};K.prototype.SolveVelocityConstraints=K.prototype.n;K.prototype.X=function(){return!1};K.prototype.SolvePositionConstraints=K.prototype.X;K.prototype.mc=function(){return this.Qa};K.prototype.GetType=K.prototype.mc;K.prototype.Wr=function(){return this.V};
K.prototype.GetBodyA=K.prototype.Wr;K.prototype.Xr=function(){return this.P};K.prototype.GetBodyB=K.prototype.Xr;K.prototype.Ec=function(){return this.H};K.prototype.GetNext=K.prototype.Ec;K.prototype.$c=function(){return this.xd};K.prototype.GetUserData=K.prototype.$c;K.prototype.Nh=function(a){this.xd=a};K.prototype.SetUserData=K.prototype.Nh;K.prototype.ds=function(){return this.hk};K.prototype.GetCollideConnected=K.prototype.ds;K.prototype.$a=function(){};K.prototype.Dump=K.prototype.$a;
K.prototype.Gf=function(){return this.V.Gf()&&this.P.Gf()};K.prototype.IsActive=K.prototype.Gf;K.prototype.le=function(){};K.prototype.ShiftOrigin=K.prototype.le;function Ah(){this.type=12;this.Lf=[]}ca(Ah,zh);q("box2d.b2AreaJointDef",Ah);Ah.prototype.er=null;Ah.prototype.world=Ah.prototype.er;Ah.prototype.Lf=null;Ah.prototype.bodies=Ah.prototype.Lf;Ah.prototype.Bd=0;Ah.prototype.frequencyHz=Ah.prototype.Bd;Ah.prototype.Ad=0;Ah.prototype.dampingRatio=Ah.prototype.Ad;Ah.prototype.ig=function(a){this.Lf.push(a);1===this.Lf.length?this.fc=a:2===this.Lf.length&&(this.vc=a)};Ah.prototype.AddBody=Ah.prototype.ig;
function Bh(a){K.call(this,a);this.mb=a.Lf;this.zb=a.Bd;this.Ub=a.Ad;this.Pq=pa(a.Lf.length);this.Qb=Xa(a.Lf.length);this.Sd=Array(a.Lf.length);this.jk=Xa(a.Lf.length);this.no=new r;var b=new Ch;b.Bd=a.Bd;b.Ad=a.Ad;for(var c=this.oj=0,d=this.mb.length;c<d;++c){var e=this.mb[c],f=this.mb[(c+1)%d],g=e.gf(),h=f.gf();this.Pq[c]=jb(g,h);this.oj+=v(g,h);b.da(e,f,g,h);this.Sd[c]=a.er.zp(b)}this.oj*=.5}ca(Bh,K);q("box2d.b2AreaJoint",Bh);Bh.prototype.mb=null;Bh.prototype.m_bodies=Bh.prototype.mb;
Bh.prototype.zb=0;Bh.prototype.m_frequencyHz=Bh.prototype.zb;Bh.prototype.Ub=0;Bh.prototype.m_dampingRatio=Bh.prototype.Ub;Bh.prototype.e=0;Bh.prototype.m_impulse=Bh.prototype.e;k=Bh.prototype;k.Pq=null;k.oj=0;k.Qb=null;k.Sd=null;k.jk=null;k.no=null;k.cc=function(a){return a.R()};Bh.prototype.GetAnchorA=Bh.prototype.cc;Bh.prototype.dc=function(a){return a.R()};Bh.prototype.GetAnchorB=Bh.prototype.dc;Bh.prototype.jc=function(a,b){return b.R()};Bh.prototype.GetReactionForce=Bh.prototype.jc;
Bh.prototype.lc=function(){return 0};Bh.prototype.GetReactionTorque=Bh.prototype.lc;Bh.prototype.Kh=function(a){this.zb=a;for(var b=0,c=this.Sd.length;b<c;++b)this.Sd[b].Kh(a)};Bh.prototype.SetFrequency=Bh.prototype.Kh;Bh.prototype.Hh=function(){return this.zb};Bh.prototype.GetFrequency=Bh.prototype.Hh;Bh.prototype.Jh=function(a){this.Ub=a;for(var b=0,c=this.Sd.length;b<c;++b)this.Sd[b].Jh(a)};Bh.prototype.SetDampingRatio=Bh.prototype.Jh;Bh.prototype.Gh=function(){return this.Ub};
Bh.prototype.GetDampingRatio=Bh.prototype.Gh;Bh.prototype.$a=function(){};Bh.prototype.Dump=Bh.prototype.$a;Bh.prototype.ta=function(a){for(var b=0,c=this.mb.length;b<c;++b){var d=this.jk[b];w(a.N[this.mb[(b+1)%c].hb].o,a.N[this.mb[(b+c-1)%c].hb].o,d)}if(a.step.pd)for(this.e*=a.step.xc,b=0,c=this.mb.length;b<c;++b){var e=this.mb[b],f=a.j[e.hb].W,d=this.jk[b];f.x+=e.Oa*d.y*.5*this.e;f.y+=e.Oa*-d.x*.5*this.e}else this.e=0};Bh.prototype.InitVelocityConstraints=Bh.prototype.ta;
Bh.prototype.n=function(a){for(var b=0,c=0,d=0,e=this.mb.length;d<e;++d)var f=this.mb[d],g=a.j[f.hb].W,h=this.jk[d],b=b+h.Md()/f.ae(),c=c+v(g,h);b=-2*c/b;this.e+=b;d=0;for(e=this.mb.length;d<e;++d)f=this.mb[d],g=a.j[f.hb].W,h=this.jk[d],g.x+=f.Oa*h.y*.5*b,g.y+=f.Oa*-h.x*.5*b};Bh.prototype.SolveVelocityConstraints=Bh.prototype.n;
Bh.prototype.X=function(a){for(var b=0,c=0,d=0,e=this.mb.length;d<e;++d){var f=this.mb[d],f=a.N[f.hb].o,g=a.N[this.mb[(d+1)%e].hb].o,h=w(g,f,this.no),l=h.Qc();1E-5>l&&(l=1);this.Qb[d].x=h.y/l;this.Qb[d].y=-h.x/l;b+=l;c+=v(f,g)}b=.5*(this.oj-.5*c)/b;c=!0;d=0;for(e=this.mb.length;d<e;++d)f=this.mb[d],f=a.N[f.hb].o,h=cb(this.Qb[d],this.Qb[(d+1)%e],this.no),h.cb(b),g=h.Md(),g>.2*.2&&h.cb(.2/Na(g)),6.4E-5<g&&(c=!1),f.x+=h.x,f.y+=h.y;return c};Bh.prototype.SolvePositionConstraints=Bh.prototype.X;function Ch(){this.type=3;this.jb=new r;this.lb=new r}ca(Ch,zh);q("box2d.b2DistanceJointDef",Ch);Ch.prototype.jb=null;Ch.prototype.localAnchorA=Ch.prototype.jb;Ch.prototype.lb=null;Ch.prototype.localAnchorB=Ch.prototype.lb;Ch.prototype.length=1;Ch.prototype.length=Ch.prototype.length;Ch.prototype.Bd=0;Ch.prototype.frequencyHz=Ch.prototype.Bd;Ch.prototype.Ad=0;Ch.prototype.dampingRatio=Ch.prototype.Ad;
Ch.prototype.da=function(a,b,c,d){this.fc=a;this.vc=b;this.fc.Kd(c,this.jb);this.vc.Kd(d,this.lb);this.length=jb(c,d);this.Ad=this.Bd=0};Ch.prototype.Initialize=Ch.prototype.da;function L(a){K.call(this,a);this.Mb=new r;this.S=new r;this.M=new r;this.Ca=new r;this.va=new r;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.zb=a.Bd;this.Ub=a.Ad;this.aa=a.jb.ba();this.Y=a.lb.ba();this.Je=a.length}ca(L,K);q("box2d.b2DistanceJoint",L);L.prototype.zb=0;L.prototype.m_frequencyHz=L.prototype.zb;
L.prototype.Ub=0;L.prototype.m_dampingRatio=L.prototype.Ub;L.prototype.pe=0;L.prototype.m_bias=L.prototype.pe;L.prototype.aa=null;L.prototype.m_localAnchorA=L.prototype.aa;L.prototype.Y=null;L.prototype.m_localAnchorB=L.prototype.Y;L.prototype.fb=0;L.prototype.m_gamma=L.prototype.fb;L.prototype.e=0;L.prototype.m_impulse=L.prototype.e;L.prototype.Je=0;L.prototype.m_length=L.prototype.Je;L.prototype.l=0;L.prototype.m_indexA=L.prototype.l;L.prototype.i=0;L.prototype.m_indexB=L.prototype.i;
L.prototype.Mb=null;L.prototype.m_u=L.prototype.Mb;L.prototype.S=null;L.prototype.m_rA=L.prototype.S;L.prototype.M=null;L.prototype.m_rB=L.prototype.M;L.prototype.Ca=null;L.prototype.m_localCenterA=L.prototype.Ca;L.prototype.va=null;L.prototype.m_localCenterB=L.prototype.va;L.prototype.ra=0;L.prototype.m_invMassA=L.prototype.ra;L.prototype.ga=0;L.prototype.m_invMassB=L.prototype.ga;L.prototype.na=0;L.prototype.m_invIA=L.prototype.na;L.prototype.ea=0;L.prototype.m_invIB=L.prototype.ea;
L.prototype.L=0;L.prototype.m_mass=L.prototype.L;L.prototype.Ia=null;L.prototype.m_qA=L.prototype.Ia;L.prototype.xa=null;L.prototype.m_qB=L.prototype.xa;L.prototype.oa=null;L.prototype.m_lalcA=L.prototype.oa;L.prototype.ia=null;L.prototype.m_lalcB=L.prototype.ia;L.prototype.cc=function(a){return this.V.Xb(this.aa,a)};L.prototype.GetAnchorA=L.prototype.cc;L.prototype.dc=function(a){return this.P.Xb(this.Y,a)};L.prototype.GetAnchorB=L.prototype.dc;
L.prototype.jc=function(a,b){return b.U(a*this.e*this.Mb.x,a*this.e*this.Mb.y)};L.prototype.GetReactionForce=L.prototype.jc;L.prototype.lc=function(){return 0};L.prototype.GetReactionTorque=L.prototype.lc;L.prototype.we=function(a){return a.d(this.aa)};L.prototype.GetLocalAnchorA=L.prototype.we;L.prototype.xe=function(a){return a.d(this.Y)};L.prototype.GetLocalAnchorB=L.prototype.xe;L.prototype.Iu=function(a){this.Je=a};L.prototype.SetLength=L.prototype.Iu;L.prototype.Bs=function(){return this.Je};
L.prototype.GetLength=L.prototype.Bs;L.prototype.Kh=function(a){this.zb=a};L.prototype.SetFrequency=L.prototype.Kh;L.prototype.Hh=function(){return this.zb};L.prototype.GetFrequency=L.prototype.Hh;L.prototype.Jh=function(a){this.Ub=a};L.prototype.SetDampingRatio=L.prototype.Jh;L.prototype.Gh=function(){return this.Ub};L.prototype.GetDampingRatio=L.prototype.Gh;L.prototype.$a=function(){};L.prototype.Dump=L.prototype.$a;
L.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].o,c=a.j[this.l].W,d=a.j[this.l].k,e=a.N[this.i].o,f=a.N[this.i].f,g=a.j[this.i].W,h=a.j[this.i].k,l=this.Ia.fa(a.N[this.l].f),f=this.xa.fa(f);w(this.aa,this.Ca,this.oa);A(l,this.oa,this.S);w(this.Y,this.va,this.ia);A(f,this.ia,this.M);this.Mb.x=e.x+this.M.x-b.x-this.S.x;this.Mb.y=e.y+this.M.y-b.y-this.S.y;
e=this.Mb.Qc();.008<e?this.Mb.cb(1/e):this.Mb.R();b=v(this.S,this.Mb);l=v(this.M,this.Mb);b=this.ra+this.na*b*b+this.ga+this.ea*l*l;this.L=0!==b?1/b:0;if(0<this.zb){var e=e-this.Je,l=2*ea*this.zb,f=this.L*l*l,m=a.step.Va;this.fb=m*(2*this.L*this.Ub*l+m*f);this.fb=0!==this.fb?1/this.fb:0;this.pe=e*m*f*this.fb;b+=this.fb;this.L=0!==b?1/b:0}else this.pe=this.fb=0;a.step.pd?(this.e*=a.step.xc,b=db(this.e,this.Mb,L.prototype.ta.Ka),c.Ea(this.ra,b),d-=this.na*v(this.S,b),g.Z(this.ga,b),h+=this.ea*v(this.M,
b)):this.e=0;a.j[this.l].k=d;a.j[this.i].k=h};L.prototype.InitVelocityConstraints=L.prototype.ta;L.prototype.ta.Ka=new r;L.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=gb(b,c,this.S,L.prototype.n.Vk),g=gb(d,e,this.M,L.prototype.n.Wk),f=u(this.Mb,w(g,f,t)),f=-this.L*(f+this.pe+this.fb*this.e);this.e+=f;f=db(f,this.Mb,L.prototype.n.Ka);b.Ea(this.ra,f);c-=this.na*v(this.S,f);d.Z(this.ga,f);e+=this.ea*v(this.M,f);a.j[this.l].k=c;a.j[this.i].k=e};
L.prototype.SolveVelocityConstraints=L.prototype.n;L.prototype.n.Vk=new r;L.prototype.n.Wk=new r;L.prototype.n.Ka=new r;
L.prototype.X=function(a){if(0<this.zb)return!0;var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f;this.Ia.fa(c);this.xa.fa(e);var f=A(this.Ia,this.oa,this.S),g=A(this.xa,this.ia,this.M),h=this.Mb;h.x=d.x+g.x-b.x-f.x;h.y=d.y+g.y-b.y-f.y;var l=this.Mb.ec()-this.Je,l=Fa(l,-.2,.2),h=db(-this.L*l,h,L.prototype.X.Ka);b.Ea(this.ra,h);c-=this.na*v(f,h);d.Z(this.ga,h);e+=this.ea*v(g,h);a.N[this.l].f=c;a.N[this.i].f=e;return.008>na(l)};L.prototype.SolvePositionConstraints=L.prototype.X;
L.prototype.X.Ka=new r;function Dh(){this.type=9;this.jb=new r;this.lb=new r}ca(Dh,zh);q("box2d.b2FrictionJointDef",Dh);Dh.prototype.jb=null;Dh.prototype.localAnchorA=Dh.prototype.jb;Dh.prototype.lb=null;Dh.prototype.localAnchorB=Dh.prototype.lb;Dh.prototype.sh=0;Dh.prototype.maxForce=Dh.prototype.sh;Dh.prototype.Ek=0;Dh.prototype.maxTorque=Dh.prototype.Ek;Dh.prototype.da=function(a,b,c){this.fc=a;this.vc=b;this.fc.Kd(c,this.jb);this.vc.Kd(c,this.lb)};Dh.prototype.Initialize=Dh.prototype.da;
function M(a){K.call(this,a);this.aa=a.jb.ba();this.Y=a.lb.ba();this.hc=(new r).R();this.Ed=a.sh;this.vf=a.Ek;this.S=new r;this.M=new r;this.Ca=new r;this.va=new r;this.Eg=(new sb).R();this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.Xa=new sb}ca(M,K);q("box2d.b2FrictionJoint",M);M.prototype.aa=null;M.prototype.m_localAnchorA=M.prototype.aa;M.prototype.Y=null;M.prototype.m_localAnchorB=M.prototype.Y;M.prototype.hc=null;M.prototype.m_linearImpulse=M.prototype.hc;M.prototype.Hc=0;
M.prototype.m_angularImpulse=M.prototype.Hc;M.prototype.Ed=0;M.prototype.m_maxForce=M.prototype.Ed;M.prototype.vf=0;M.prototype.m_maxTorque=M.prototype.vf;M.prototype.l=0;M.prototype.m_indexA=M.prototype.l;M.prototype.i=0;M.prototype.m_indexB=M.prototype.i;M.prototype.S=null;M.prototype.m_rA=M.prototype.S;M.prototype.M=null;M.prototype.m_rB=M.prototype.M;M.prototype.Ca=null;M.prototype.m_localCenterA=M.prototype.Ca;M.prototype.va=null;M.prototype.m_localCenterB=M.prototype.va;M.prototype.ra=0;
M.prototype.m_invMassA=M.prototype.ra;M.prototype.ga=0;M.prototype.m_invMassB=M.prototype.ga;M.prototype.na=0;M.prototype.m_invIA=M.prototype.na;M.prototype.ea=0;M.prototype.m_invIB=M.prototype.ea;M.prototype.Eg=null;M.prototype.m_linearMass=M.prototype.Eg;M.prototype.Ce=0;M.prototype.m_angularMass=M.prototype.Ce;M.prototype.Ia=null;M.prototype.m_qA=M.prototype.Ia;M.prototype.xa=null;M.prototype.m_qB=M.prototype.xa;M.prototype.oa=null;M.prototype.m_lalcA=M.prototype.oa;M.prototype.ia=null;
M.prototype.m_lalcB=M.prototype.ia;M.prototype.Xa=null;M.prototype.m_K=M.prototype.Xa;
M.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.j[this.l].W,c=a.j[this.l].k,d=a.N[this.i].f,e=a.j[this.i].W,f=a.j[this.i].k,g=this.Ia.fa(a.N[this.l].f),d=this.xa.fa(d);w(this.aa,this.Ca,this.oa);g=A(g,this.oa,this.S);w(this.Y,this.va,this.ia);var h=A(d,this.ia,this.M),d=this.ra,l=this.ga,m=this.na,n=this.ea,p=this.Xa;p.C.x=d+l+m*g.y*g.y+n*h.y*h.y;p.C.y=-m*g.x*
g.y-n*h.x*h.y;p.J.x=p.C.y;p.J.y=d+l+m*g.x*g.x+n*h.x*h.x;p.Ii(this.Eg);this.Ce=m+n;0<this.Ce&&(this.Ce=1/this.Ce);a.step.pd?(this.hc.cb(a.step.xc),this.Hc*=a.step.xc,g=this.hc,b.Ea(d,g),c-=m*(v(this.S,g)+this.Hc),e.Z(l,g),f+=n*(v(this.M,g)+this.Hc)):(this.hc.R(),this.Hc=0);a.j[this.l].k=c;a.j[this.i].k=f};M.prototype.InitVelocityConstraints=M.prototype.ta;
M.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=this.ra,g=this.ga,h=this.na,l=this.ea,m=a.step.Va,n,p=-this.Ce*(e-c),y=this.Hc;n=m*this.vf;this.Hc=Fa(this.Hc+p,-n,n);p=this.Hc-y;c-=h*p;e+=l*p;n=w(gb(d,e,this.M,t),gb(b,c,this.S,Sa),M.prototype.n.xi);p=tb(this.Eg,n,M.prototype.n.lw).la();y=M.prototype.n.Bw.d(this.hc);this.hc.Da(p);n=m*this.Ed;this.hc.Md()>n*n&&(this.hc.ec(),this.hc.cb(n));w(this.hc,y,p);b.Ea(f,p);c-=h*v(this.S,p);d.Z(g,p);e+=l*v(this.M,
p);a.j[this.l].k=c;a.j[this.i].k=e};M.prototype.SolveVelocityConstraints=M.prototype.n;M.prototype.n.xi=new r;M.prototype.n.lw=new r;M.prototype.n.Bw=new r;M.prototype.X=function(){return!0};M.prototype.SolvePositionConstraints=M.prototype.X;M.prototype.cc=function(a){return this.V.Xb(this.aa,a)};M.prototype.GetAnchorA=M.prototype.cc;M.prototype.dc=function(a){return this.P.Xb(this.Y,a)};M.prototype.GetAnchorB=M.prototype.dc;M.prototype.jc=function(a,b){return b.U(a*this.hc.x,a*this.hc.y)};
M.prototype.GetReactionForce=M.prototype.jc;M.prototype.lc=function(a){return a*this.Hc};M.prototype.GetReactionTorque=M.prototype.lc;M.prototype.we=function(a){return a.d(this.aa)};M.prototype.GetLocalAnchorA=M.prototype.we;M.prototype.xe=function(a){return a.d(this.Y)};M.prototype.GetLocalAnchorB=M.prototype.xe;M.prototype.Uj=function(a){this.Ed=a};M.prototype.SetMaxForce=M.prototype.Uj;M.prototype.Lj=function(){return this.Ed};M.prototype.GetMaxForce=M.prototype.Lj;
M.prototype.Jn=function(a){this.vf=a};M.prototype.SetMaxTorque=M.prototype.Jn;M.prototype.jn=function(){return this.vf};M.prototype.GetMaxTorque=M.prototype.jn;M.prototype.$a=function(){};M.prototype.Dump=M.prototype.$a;function Eh(a){var b=null;switch(a.type){case 3:b=new L(a instanceof Ch?a:null);break;case 5:b=new N(a instanceof Fh?a:null);break;case 2:b=new O(a instanceof Gh?a:null);break;case 1:b=new P(a instanceof Hh?a:null);break;case 4:b=new Q(a instanceof Ih?a:null);break;case 6:b=new R(a instanceof Jh?a:null);break;case 7:b=new T(a instanceof Kh?a:null);break;case 8:b=new U(a instanceof Lh?a:null);break;case 9:b=new M(a instanceof Dh?a:null);break;case 10:b=new V(a instanceof Mh?a:null);break;case 11:b=
new X(a instanceof Nh?a:null);break;case 12:b=new Bh(a instanceof Ah?a:null)}return b}q("box2d.b2JointFactory.Create",Eh);q("box2d.b2JointFactory.Destroy",function(){});function Y(a){this.lk=!0;this.La=new dg;this.Te=a.ba();this.Do=new r;this.Yh=!0;this.Xi=this.po=null;this.ik=this.Ak=!0;this.vk=!1;this.jj=!0;this.Fd=new Ce;this.Zl=new qg;this.gp=[]}q("box2d.b2World",Y);Y.prototype.Yl=!1;Y.prototype.m_flag_newFixture=Y.prototype.Yl;Y.prototype.Sc=!1;Y.prototype.m_flag_locked=Y.prototype.Sc;Y.prototype.lk=!1;Y.prototype.m_flag_clearForces=Y.prototype.lk;Y.prototype.La=null;Y.prototype.m_contactManager=Y.prototype.La;Y.prototype.Ya=null;Y.prototype.m_bodyList=Y.prototype.Ya;
Y.prototype.Ib=null;Y.prototype.m_jointList=Y.prototype.Ib;Y.prototype.Ud=null;Y.prototype.m_particleSystemList=Y.prototype.Ud;Y.prototype.gc=0;Y.prototype.m_bodyCount=Y.prototype.gc;Y.prototype.Ie=0;Y.prototype.m_jointCount=Y.prototype.Ie;Y.prototype.Te=null;Y.prototype.m_gravity=Y.prototype.Te;Y.prototype.Do=null;Y.prototype.m_out_gravity=Y.prototype.Do;Y.prototype.Yh=!0;Y.prototype.m_allowSleep=Y.prototype.Yh;Y.prototype.po=null;Y.prototype.m_destructionListener=Y.prototype.po;Y.prototype.Xi=null;
Y.prototype.m_debugDraw=Y.prototype.Xi;Y.prototype.vo=0;Y.prototype.m_inv_dt0=Y.prototype.vo;Y.prototype.Ak=!0;Y.prototype.m_warmStarting=Y.prototype.Ak;Y.prototype.ik=!0;Y.prototype.m_continuousPhysics=Y.prototype.ik;Y.prototype.vk=!1;Y.prototype.m_subStepping=Y.prototype.vk;Y.prototype.jj=!0;Y.prototype.m_stepComplete=Y.prototype.jj;Y.prototype.Fd=null;Y.prototype.m_profile=Y.prototype.Fd;Y.prototype.Zl=null;Y.prototype.m_island=Y.prototype.Zl;Y.prototype.gp=null;Y.prototype.s_stack=Y.prototype.gp;
Y.prototype.bd=null;Y.prototype.m_controllerList=Y.prototype.bd;Y.prototype.ug=0;Y.prototype.m_controllerCount=Y.prototype.ug;Y.prototype.pu=function(a){if(a!==this.Yh&&(this.Yh=a,!this.Yh))for(a=this.Ya;a;a=a.H)a.ua(!0)};Y.prototype.SetAllowSleeping=Y.prototype.pu;Y.prototype.Rr=function(){return this.Yh};Y.prototype.GetAllowSleeping=Y.prototype.Rr;Y.prototype.fv=function(a){this.Ak=a};Y.prototype.SetWarmStarting=Y.prototype.fv;Y.prototype.tt=function(){return this.Ak};
Y.prototype.GetWarmStarting=Y.prototype.tt;Y.prototype.zu=function(a){this.ik=a};Y.prototype.SetContinuousPhysics=Y.prototype.zu;Y.prototype.hs=function(){return this.ik};Y.prototype.GetContinuousPhysics=Y.prototype.hs;Y.prototype.Yu=function(a){this.vk=a};Y.prototype.SetSubStepping=Y.prototype.Yu;Y.prototype.kt=function(){return this.vk};Y.prototype.GetSubStepping=Y.prototype.kt;Y.prototype.Um=function(){return this.Ya};Y.prototype.GetBodyList=Y.prototype.Um;Y.prototype.en=function(){return this.Ib};
Y.prototype.GetJointList=Y.prototype.en;Y.prototype.Xs=function(){return this.Ud};Y.prototype.GetParticleSystemList=Y.prototype.Xs;Y.prototype.Eh=function(){return this.La.qb};Y.prototype.GetContactList=Y.prototype.Eh;Y.prototype.$r=function(){return this.gc};Y.prototype.GetBodyCount=Y.prototype.$r;Y.prototype.As=function(){return this.Ie};Y.prototype.GetJointCount=Y.prototype.As;Y.prototype.Vm=function(){return this.La.qe};Y.prototype.GetContactCount=Y.prototype.Vm;
Y.prototype.Gu=function(a,b){b=b||!0;if(this.Te.x!==a.x||this.Te.y!==a.y)if(this.Te.d(a),b)for(var c=this.Ya;c;c=c.H)c.ua(!0)};Y.prototype.SetGravity=Y.prototype.Gu;Y.prototype.bn=function(a){a=a||this.Do;return a.d(this.Te)};Y.prototype.GetGravity=Y.prototype.bn;Y.prototype.Et=function(){return this.Sc};Y.prototype.IsLocked=Y.prototype.Et;Y.prototype.tu=function(a){this.lk=a};Y.prototype.SetAutoClearForces=Y.prototype.tu;Y.prototype.Ur=function(){return this.lk};Y.prototype.GetAutoClearForces=Y.prototype.Ur;
Y.prototype.fs=function(){return this.La};Y.prototype.GetContactManager=Y.prototype.fs;Y.prototype.at=function(){return this.Fd};Y.prototype.GetProfile=Y.prototype.at;Y.prototype.Cu=function(a){this.po=a};Y.prototype.SetDestructionListener=Y.prototype.Cu;Y.prototype.xu=function(a){this.La.rf=a};Y.prototype.SetContactFilter=Y.prototype.xu;Y.prototype.yu=function(a){this.La.Wi=a};Y.prototype.SetContactListener=Y.prototype.yu;Y.prototype.Bu=function(a){this.Xi=a};Y.prototype.SetDebugDraw=Y.prototype.Bu;
Y.prototype.sr=function(a){if(this.Sc)return null;a=new G(a,this);a.Ha=null;if(a.H=this.Ya)this.Ya.Ha=a;this.Ya=a;++this.gc;return a};Y.prototype.CreateBody=Y.prototype.sr;
Y.prototype.yr=function(a){if(!this.Sc){for(var b=a.Ib;b;){var c=b,b=b.next;this.Ep(c.Wg);a.Ib=b}a.Ib=null;for(b=a.bd;b;)c=b,b=b.uh,c.$n.xn(a);for(b=a.qb;b;)c=b,b=b.next,this.La.$d(c.ad);a.qb=null;for(b=a.dd;b;)c=b,b=b.H,c.gl(this.La.qc),c.$d(),a.dd=b,--a.Yi;a.dd=null;a.Yi=0;a.Ha&&(a.Ha.H=a.H);a.H&&(a.H.Ha=a.Ha);a===this.Ya&&(this.Ya=a.H);--this.gc}};Y.prototype.DestroyBody=Y.prototype.yr;
Y.prototype.zp=function(a){if(this.Sc)return null;var b=Eh(a);b.Ha=null;if(b.H=this.Ib)this.Ib.Ha=b;this.Ib=b;++this.Ie;b.sd.Wg=b;b.sd.Yd=b.P;b.sd.Lb=null;if(b.sd.next=b.V.Ib)b.V.Ib.Lb=b.sd;b.V.Ib=b.sd;b.td.Wg=b;b.td.Yd=b.V;b.td.Lb=null;if(b.td.next=b.P.Ib)b.P.Ib.Lb=b.td;b.P.Ib=b.td;var c=a.fc,d=a.vc;if(!a.Dl)for(a=d.Eh();a;)a.Yd===c&&a.ad.il(),a=a.next;return b};Y.prototype.CreateJoint=Y.prototype.zp;
Y.prototype.Ep=function(a){if(!this.Sc){var b=a.hk;a.Ha&&(a.Ha.H=a.H);a.H&&(a.H.Ha=a.Ha);a===this.Ib&&(this.Ib=a.H);var c=a.V,d=a.P;c.ua(!0);d.ua(!0);a.sd.Lb&&(a.sd.Lb.next=a.sd.next);a.sd.next&&(a.sd.next.Lb=a.sd.Lb);a.sd===c.Ib&&(c.Ib=a.sd.next);a.sd.Lb=null;a.sd.next=null;a.td.Lb&&(a.td.Lb.next=a.td.next);a.td.next&&(a.td.next.Lb=a.td.Lb);a.td===d.Ib&&(d.Ib=a.td.next);a.td.Lb=null;a.td.next=null;--this.Ie;if(!b)for(a=d.Eh();a;)a.Yd===c&&a.ad.il(),a=a.next}};Y.prototype.DestroyJoint=Y.prototype.Ep;
Y.prototype.vr=function(a){if(this.Sc)return null;a=new Z(a,this);a.Ha=null;if(a.H=this.Ud)this.Ud.Ha=a;return this.Ud=a};Y.prototype.CreateParticleSystem=Y.prototype.vr;Y.prototype.Ar=function(a){this.Sc||(a.Ha&&(a.Ha.H=a.H),a.H&&(a.H.Ha=a.Ha),a===this.Ud&&(this.Ud=a.H))};Y.prototype.DestroyParticleSystem=Y.prototype.Ar;
Y.prototype.Re=function(a){for(var b=this.Ya;b;b=b.H)b.pi.d(b.ja);for(var c=this.bd;c;c=c.H)c.tc(a);this.Fd.Bi=0;this.Fd.Di=0;this.Fd.Ci=0;c=this.Zl;c.da(this.gc,this.La.qe,this.Ie,null,this.La.Wi);for(b=this.Ya;b;b=b.H)b.ac=!1;for(var d=this.La.qb;d;d=d.H)d.ac=!1;for(d=this.Ib;d;d=d.H)d.$l=!1;for(var d=this.gp,e=this.Ya;e;e=e.H)if(!e.ac&&e.Gb&&e.Gf()&&0!==e.mc()){c.Bh();var f=0;d[f++]=e;for(e.ac=!0;0<f;)if(b=d[--f],c.ig(b),b.ua(!0),0!==b.mc()){for(var g=b.qb;g;g=g.next){var h=g.ad;if(!h.ac&&h.wg&&
h.ei){var l=h.Fb.vd;h.Eb.vd||l||(c.Ah(h),h.ac=!0,h=g.Yd,h.ac||(d[f++]=h,h.ac=!0))}}for(b=b.Ib;b;b=b.next)b.Wg.$l||(h=b.Yd,h.Gf()&&(c.pp(b.Wg),b.Wg.$l=!0,h.ac||(d[f++]=h,h.ac=!0)))}b=new Ce;c.Re(b,a,this.Te,this.Yh);this.Fd.Bi+=b.Bi;this.Fd.Di+=b.Di;this.Fd.Ci+=b.Ci;for(f=0;f<c.gc;++f)b=c.mb[f],0===b.mc()&&(b.ac=!1)}for(f=0;f<d.length&&d[f];++f)d[f]=null;a=new Ld;for(b=this.Ya;b;b=b.H)b.ac&&0!==b.mc()&&b.Li();this.La.hl();this.Fd.Xn=a.Ff()};Y.prototype.Solve=Y.prototype.Re;
Y.prototype.zd=function(a){var b=this.Zl;b.da(64,32,0,null,this.La.Wi);if(this.jj){for(var c=this.Ya;c;c=c.H)c.ac=!1,c.m.be=0;for(var d=this.La.qb;d;d=d.H)d.fh=d.ac=!1,d.wk=0,d.qm=1}for(;;){for(var e=null,c=1,d=this.La.qb;d;d=d.H)if(d.wg&&!(8<d.wk)){var f=1;if(d.fh)f=d.qm;else{var g=d.Eb,h=d.Fb;if(g.vd||h.vd)continue;var f=g.tb,l=h.tb,m=f.Qa,n=l.Qa,p=l.Gb&&0!==n;if(!(f.Gb&&0!==m||p))continue;n=l.vg||2!==n;if(!f.vg&&2===m&&!n)continue;m=f.m.be;f.m.be<l.m.be?(m=l.m.be,f.m.jg(m)):l.m.be<f.m.be&&(m=f.m.be,
l.m.jg(m));p=d.i;n=Y.prototype.zd.Ww;n.Bc.Lh(g.Ja,d.l);n.Oc.Lh(h.Ja,p);n.Zk.d(f.m);n.$k.d(l.m);n.al=1;f=Y.prototype.zd.Xw;ve(f,n);l=f.hg;f=3===f.state?Da(m+(1-m)*l,1):1;d.qm=f;d.fh=!0}f<c&&(e=d,c=f)}if(null===e||.9999<c){this.jj=!0;break}g=e.Eb;h=e.Fb;f=g.tb;l=h.tb;d=Y.prototype.zd.Iv.d(f.m);g=Y.prototype.zd.Jv.d(l.m);f.jg(c);l.jg(c);e.Al();e.fh=!1;++e.wk;if(e.wg&&e.ei){f.ua(!0);l.ua(!0);b.Bh();b.ig(f);b.ig(l);b.Ah(e);f.ac=!0;l.ac=!0;e.ac=!0;for(e=0;2>e;++e)if(d=0===e?f:l,2===d.Qa)for(g=d.qb;g&&b.gc!==
b.lo&&b.qe!==b.mo;g=g.next)h=g.ad,!h.ac&&(m=g.Yd,2!==m.Qa||d.vg||m.vg)&&(n=h.Fb.vd,h.Eb.vd||n||(n=Y.prototype.zd.Hv.d(m.m),m.ac||m.jg(c),h.Al(),h.wg?h.ei?(h.ac=!0,b.Ah(h),m.ac||(m.ac=!0,0!==m.Qa&&m.ua(!0),b.ig(m))):(m.m.d(n),m.Ph()):(m.m.d(n),m.Ph())));e=Y.prototype.zd.Pw;e.Va=(1-c)*a.Va;e.Zb=1/e.Va;e.xc=1;e.ui=20;e.zh=a.zh;e.Kg=a.Kg;e.pd=!1;b.zd(e,f.hb,l.hb);for(e=0;e<b.gc;++e)if(d=b.mb[e],d.ac=!1,2===d.Qa)for(d.Li(),g=d.qb;g;g=g.next)g.ad.fh=g.ad.ac=!1;this.La.hl();if(this.vk){this.jj=!1;break}}else e.gq(!1),
f.m.d(d),l.m.d(g),f.Ph(),l.Ph()}};Y.prototype.SolveTOI=Y.prototype.zd;k=Y.prototype;k.zd.Pw=new De;k.zd.Hv=new Ob;k.zd.Iv=new Ob;k.zd.Jv=new Ob;k.zd.Ww=new ce;k.zd.Xw=new ee;
k.tc=function(a,b,c,d){d=d||1;var e=new Ld;this.Yl&&(this.La.hl(),this.Yl=!1);this.Sc=!0;var f=Y.prototype.tc.Ow;f.Va=a;f.zh=b;f.ui=c;f.Kg=d;f.Zb=0<a?1/a:0;f.xc=this.vo*a;f.pd=this.Ak;a=new Ld;this.La.Dj();this.Fd.Zn=a.Ff();if(this.jj&&0<f.Va){a=new Ld;for(b=this.Ud;b;b=b.H)b.Re(f);this.Re(f);this.Fd.jp=a.Ff()}this.ik&&0<f.Va&&(a=new Ld,this.zd(f),this.Fd.kp=a.Ff());0<f.Va&&(this.vo=f.Zb);this.lk&&this.sp();this.Sc=!1;this.Fd.step=e.Ff()};Y.prototype.Step=Y.prototype.tc;Y.prototype.tc.Ow=new De;
Y.prototype.sp=function(){for(var a=this.Ya;a;a=a.H)a.Qd.R(),a.$f=0};Y.prototype.ClearForces=Y.prototype.sp;Y.prototype.jf=function(a,b){var c=this.La.qc;c.Qg(function(b){b=c.$c(b).ne;return a instanceof pf?a.If(b):a(b)},b);if(a instanceof pf)for(var d=this.Ud;d;d=d.H)a.Rg(d)&&d.jf(a,b)};Y.prototype.QueryAABB=Y.prototype.jf;
Y.prototype.wn=function(a,b,c,d){var e=this.La.qc,f=Y.prototype.wn.Qo;b.ib(f,c,d||0);e.Qg(function(d){d=e.$c(d).ne;return Dc(b,0,d.Ja,0,c,d.tb.Fc())?a instanceof pf?a.If(d):a(d):!0},f);if(a instanceof pf)for(d=this.Ud;d;d=d.H)a.Rg(d)&&d.jf(a,f)};Y.prototype.QueryShape=Y.prototype.wn;Y.prototype.wn.Qo=new xc;
Y.prototype.vn=function(a,b,c){var d=this.La.qc;c="number"===typeof c?c:.008;var e=Y.prototype.vn.Qo;e.lowerBound.U(b.x-c,b.y-c);e.upperBound.U(b.x+c,b.y+c);d.Qg(function(c){c=d.$c(c).ne;return c.nc(b)?a instanceof pf?a.If(c):a(c):!0},e);if(a instanceof pf)for(c=this.Ud;c;c=c.H)a.Rg(c)&&c.jf(a,e)};Y.prototype.QueryPoint=Y.prototype.vn;Y.prototype.vn.Qo=new xc;
Y.prototype.ha=function(a,b,c){var d=this.La.qc,e=Y.prototype.ha.Nk;e.Me=1;e.gd.d(b);e.Zd.d(c);d.ha(function(e,g){var h=d.$c(g),l=h.ne,m=Y.prototype.ha.Ok;if(l.ha(m,e,h.ek)){var h=m.ze,n=Y.prototype.ha.Ew;n.U((1-h)*b.x+h*c.x,(1-h)*b.y+h*c.y);return a instanceof qf?a.If(l,n,m.u,h):a(l,n,m.u,h)}return e.Me},e);if(a instanceof qf)for(e=this.Ud;e;e=e.H)a.Rg(e)&&e.ha(a,b,c)};Y.prototype.RayCast=Y.prototype.ha;Y.prototype.ha.Nk=new vc;Y.prototype.ha.Ok=new wc;Y.prototype.ha.Ew=new r;
Y.prototype.Vt=function(a,b){var c=null,d=1;this.ha(function(a,b,g,h){h<d&&(d=h,c=a);return d},a,b);return c};Y.prototype.RayCastOne=Y.prototype.Vt;Y.prototype.Ut=function(a,b,c){c.length=0;this.ha(function(a){c.push(a);return 1},a,b);return c};Y.prototype.RayCastAll=Y.prototype.Ut;Y.prototype.Jr=function(a){a=a.Ja;switch(a.Qa){case 3:a=(a instanceof D?a:null).h;for(var b=1;b<a;++b);}};Y.prototype.DrawShape=Y.prototype.Jr;
Y.prototype.Qe=function(a){a.cc(Y.prototype.Qe.Pk);a.dc(Y.prototype.Qe.Qk);Y.prototype.Qe.To.og(.5,.8,.8);switch(a.Qa){case 4:a=a instanceof Q?a:null,a.Np(Y.prototype.Qe.Iw),a.Op(Y.prototype.Qe.Jw)}};Y.prototype.DrawJoint=Y.prototype.Qe;k=Y.prototype;k.Qe.Pk=new r;k.Qe.Qk=new r;k.Qe.To=new ta(.5,.8,.8);k.Qe.Iw=new r;k.Qe.Jw=new r;k.Fp=function(a){a.Ld()&&a.yc.data&&a.Lp()};Y.prototype.DrawParticleSystem=Y.prototype.Fp;
Y.prototype.Ch=function(){if(null!==this.Xi){var a=this.Xi.ml(),b=Y.prototype.Ch.To.og(0,0,0);if(a&1)for(var c=this.Ya;c;c=c.H)for(var d=c.ja,d=c.dd;d;d=d.H)c.Gf()?0===c.mc()?b.og(.5,.9,.5):1===c.mc()?b.og(.5,.5,.9):c.Gb?b.og(.9,.7,.7):b.og(.6,.6,.6):b.og(.5,.5,.3);if(a&64)for(c=this.Ud;c;c=c.H)this.Fp(c);if(a&2)for(c=this.Ib;c;c=c.H)this.Qe(c);if(a&4){b.og(.9,.3,.9);for(var b=this.La.qc,e=Y.prototype.Ch.$w,c=this.Ya;c;c=c.H)if(c.Gf())for(d=c.dd;d;d=d.H)for(var f=0;f<d.Gd;++f){var g=b.kg(d.xf[f].cg);
e[0].U(g.lowerBound.x,g.lowerBound.y);e[1].U(g.upperBound.x,g.lowerBound.y);e[2].U(g.upperBound.x,g.upperBound.y);e[3].U(g.lowerBound.x,g.upperBound.y)}}if(a&16)for(c=this.Ya;c;c=c.H)d=Y.prototype.Ch.hp,d.Q.d(c.ja.Q),d.ca.d(c.gf());if(a&32)for(a=this.bd;a;a=a.H)a.Hi(this.Xi)}};Y.prototype.DrawDebugData=Y.prototype.Ch;Y.prototype.Ch.To=new ta(0,0,0);Y.prototype.Ch.$w=Xa(4);Y.prototype.Ch.hp=new B;
Y.prototype.uu=function(a){var b=this.La.qc;this.La.qc=a;for(var c=this.Ya;c;c=c.H)for(var d=c.dd;d;d=d.H)d.tv=a.Fi(b.kg(d.tv),d)};Y.prototype.SetBroadPhase=Y.prototype.uu;Y.prototype.or=function(a){if(null===this.Ud)a=1;else{for(var b=this.Te.Qc(),c=1E37,d=this.Ud;null!==d;d=d.H)c=Da(c,d.Tp());a=Oh(b,c,a)}return a};Y.prototype.CalculateReasonableParticleIterations=Y.prototype.or;Y.prototype.pl=function(){return this.La.qc.pl()};Y.prototype.GetProxyCount=Y.prototype.pl;Y.prototype.rl=function(){return this.La.qc.rl()};
Y.prototype.GetTreeHeight=Y.prototype.rl;Y.prototype.ql=function(){return this.La.qc.ql()};Y.prototype.GetTreeBalance=Y.prototype.ql;Y.prototype.sl=function(){return this.La.qc.sl()};Y.prototype.GetTreeQuality=Y.prototype.sl;Y.prototype.le=function(a){if(!this.Sc){for(var b=this.Ya;b;b=b.H)b.ja.ca.gb(a),b.m.wc.gb(a),b.m.o.gb(a);for(b=this.Ib;b;b=b.H)b.le(a);this.La.qc.le(a)}};Y.prototype.ShiftOrigin=Y.prototype.le;Y.prototype.$a=function(){};Y.prototype.Dump=Y.prototype.$a;
Y.prototype.gr=function(a){a.bb=this;a.H=this.bd;a.Ha=null;this.bd&&(this.bd.Ha=a);this.bd=a;++this.ug;return a};Y.prototype.AddController=Y.prototype.gr;Y.prototype.Xt=function(a){a.Ha&&(a.Ha.H=a.H);a.H&&(a.H.Ha=a.Ha);this.bd===a&&(this.bd=a.H);--this.ug;a.Ha=null;a.H=null;a.bb=null};Y.prototype.RemoveController=Y.prototype.Xt;function Nh(){this.type=11;this.Rl=new r(0,0)}ca(Nh,zh);q("box2d.b2MotorJointDef",Nh);Nh.prototype.Rl=null;Nh.prototype.linearOffset=Nh.prototype.Rl;Nh.prototype.zq=0;Nh.prototype.angularOffset=Nh.prototype.zq;Nh.prototype.sh=1;Nh.prototype.maxForce=Nh.prototype.sh;Nh.prototype.Ek=1;Nh.prototype.maxTorque=Nh.prototype.Ek;Nh.prototype.Aq=.3;Nh.prototype.correctionFactor=Nh.prototype.Aq;Nh.prototype.da=function(a,b){this.fc=a;this.vc=b;this.fc.Kd(this.vc.ff(),this.Rl);this.zq=this.vc.Wb()-this.fc.Wb()};
Nh.prototype.Initialize=Nh.prototype.da;function X(a){K.call(this,a);this.ii=a.Rl.ba();this.hc=new r(0,0);this.Ed=a.sh;this.vf=a.Ek;this.Vl=a.Aq;this.S=new r(0,0);this.M=new r(0,0);this.Ca=new r(0,0);this.va=new r(0,0);this.fm=new r(0,0);this.Eg=new sb;this.Ia=new Eb;this.xa=new Eb;this.Xa=new sb}ca(X,K);q("box2d.b2MotorJoint",X);X.prototype.ii=null;X.prototype.m_linearOffset=X.prototype.ii;X.prototype.gk=0;X.prototype.m_angularOffset=X.prototype.gk;X.prototype.hc=null;
X.prototype.m_linearImpulse=X.prototype.hc;X.prototype.Hc=0;X.prototype.m_angularImpulse=X.prototype.Hc;X.prototype.Ed=0;X.prototype.m_maxForce=X.prototype.Ed;X.prototype.vf=0;X.prototype.m_maxTorque=X.prototype.vf;X.prototype.Vl=.3;X.prototype.m_correctionFactor=X.prototype.Vl;X.prototype.l=0;X.prototype.m_indexA=X.prototype.l;X.prototype.i=0;X.prototype.m_indexB=X.prototype.i;X.prototype.S=null;X.prototype.m_rA=X.prototype.S;X.prototype.M=null;X.prototype.m_rB=X.prototype.M;X.prototype.Ca=null;
X.prototype.m_localCenterA=X.prototype.Ca;X.prototype.va=null;X.prototype.m_localCenterB=X.prototype.va;X.prototype.fm=null;X.prototype.m_linearError=X.prototype.fm;X.prototype.ko=0;X.prototype.m_angularError=X.prototype.ko;X.prototype.ra=0;X.prototype.m_invMassA=X.prototype.ra;X.prototype.ga=0;X.prototype.m_invMassB=X.prototype.ga;X.prototype.na=0;X.prototype.m_invIA=X.prototype.na;X.prototype.ea=0;X.prototype.m_invIB=X.prototype.ea;X.prototype.Eg=null;X.prototype.m_linearMass=X.prototype.Eg;
X.prototype.Ce=0;X.prototype.m_angularMass=X.prototype.Ce;X.prototype.Ia=null;X.prototype.m_qA=X.prototype.Ia;X.prototype.xa=null;X.prototype.m_qB=X.prototype.xa;X.prototype.Xa=null;X.prototype.m_K=X.prototype.Xa;X.prototype.cc=function(a){return this.V.ff(a)};X.prototype.GetAnchorA=X.prototype.cc;X.prototype.dc=function(a){return this.P.ff(a)};X.prototype.GetAnchorB=X.prototype.dc;X.prototype.jc=function(a,b){return db(a,this.hc,b)};X.prototype.GetReactionForce=X.prototype.jc;
X.prototype.lc=function(a){return a*this.Hc};X.prototype.GetReactionTorque=X.prototype.lc;X.prototype.Ku=function(a){if(a.x!=this.ii.x||a.y!=this.ii.y)this.V.ua(!0),this.P.ua(!0),this.ii.d(a)};X.prototype.SetLinearOffset=X.prototype.Ku;X.prototype.Gs=function(a){return a.d(this.ii)};X.prototype.GetLinearOffset=X.prototype.Gs;X.prototype.ru=function(a){a!==this.gk&&(this.V.ua(!0),this.P.ua(!0),this.gk=a)};X.prototype.SetAngularOffset=X.prototype.ru;X.prototype.Tr=function(){return this.gk};
X.prototype.GetAngularOffset=X.prototype.Tr;X.prototype.Uj=function(a){this.Ed=a};X.prototype.SetMaxForce=X.prototype.Uj;X.prototype.Lj=function(){return this.Ed};X.prototype.GetMaxForce=X.prototype.Lj;X.prototype.Jn=function(a){this.vf=a};X.prototype.SetMaxTorque=X.prototype.Jn;X.prototype.jn=function(){return this.vf};X.prototype.GetMaxTorque=X.prototype.jn;
X.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].o,c=a.N[this.l].f,d=a.j[this.l].W,e=a.j[this.l].k,f=a.N[this.i].o,g=a.N[this.i].f,h=a.j[this.i].W,l=a.j[this.i].k,m=this.Ia.fa(c),n=this.xa.fa(g),p=A(m,t.d(this.Ca).la(),this.S),n=A(n,t.d(this.va).la(),this.M),y=this.ra,x=this.ga,I=this.na,W=this.ea,S=this.Xa;S.C.x=y+x+I*p.y*p.y+W*n.y*n.y;S.C.y=-I*p.x*p.y-
W*n.x*n.y;S.J.x=S.C.y;S.J.y=y+x+I*p.x*p.x+W*n.x*n.x;S.Ii(this.Eg);this.Ce=I+W;0<this.Ce&&(this.Ce=1/this.Ce);w(w(cb(f,n,t),cb(b,p,Sa),Ta),A(m,this.ii,Wa),this.fm);this.ko=g-c-this.gk;a.step.pd?(this.hc.cb(a.step.xc),this.Hc*=a.step.xc,b=this.hc,d.Ea(y,b),e-=I*(v(p,b)+this.Hc),h.Z(x,b),l+=W*(v(n,b)+this.Hc)):(this.hc.R(),this.Hc=0);a.j[this.l].k=e;a.j[this.i].k=l};X.prototype.InitVelocityConstraints=X.prototype.ta;
X.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=this.ra,g=this.ga,h=this.na,l=this.ea,m=a.step.Va,n=a.step.Zb,p=e-c+n*this.Vl*this.ko,p=-this.Ce*p,y=this.Hc,x=m*this.vf;this.Hc=Fa(this.Hc+p,-x,x);var p=this.Hc-y,c=c-h*p,e=e+l*p,I=this.S,W=this.M,p=cb(w(cb(d,bb(e,W,t),t),cb(b,bb(c,I,Sa),Sa),Ta),db(n*this.Vl,this.fm,Wa),X.prototype.n.xi),p=tb(this.Eg,p,X.prototype.n.Cf).la(),y=X.prototype.n.$o.d(this.hc);this.hc.Da(p);x=m*this.Ed;this.hc.Md()>x*x&&(this.hc.ec(),
this.hc.cb(x));w(this.hc,y,p);b.Ea(f,p);c-=h*v(I,p);d.Z(g,p);e+=l*v(W,p);a.j[this.l].k=c;a.j[this.i].k=e};X.prototype.SolveVelocityConstraints=X.prototype.n;X.prototype.n.xi=new r;X.prototype.n.Cf=new r;X.prototype.n.$o=new r;X.prototype.X=function(){return!0};X.prototype.SolvePositionConstraints=X.prototype.X;X.prototype.$a=function(){};X.prototype.Dump=X.prototype.$a;function Fh(){this.type=5;this.target=new r}ca(Fh,zh);q("box2d.b2MouseJointDef",Fh);Fh.prototype.target=null;Fh.prototype.target=Fh.prototype.target;Fh.prototype.sh=0;Fh.prototype.maxForce=Fh.prototype.sh;Fh.prototype.Bd=5;Fh.prototype.frequencyHz=Fh.prototype.Bd;Fh.prototype.Ad=.7;Fh.prototype.dampingRatio=Fh.prototype.Ad;
function N(a){K.call(this,a);this.Y=new r;this.Zf=new r;this.e=new r;this.M=new r;this.va=new r;this.L=new sb;this.Si=new r;this.xa=new Eb;this.ia=new r;this.Xa=new sb;this.Zf.d(a.target);Lb(this.P.Fc(),this.Zf,this.Y);this.Ed=a.sh;this.e.R();this.zb=a.Bd;this.Ub=a.Ad;this.fb=this.Tl=0}ca(N,K);q("box2d.b2MouseJoint",N);N.prototype.Y=null;N.prototype.m_localAnchorB=N.prototype.Y;N.prototype.Zf=null;N.prototype.m_targetA=N.prototype.Zf;N.prototype.zb=0;N.prototype.m_frequencyHz=N.prototype.zb;
N.prototype.Ub=0;N.prototype.m_dampingRatio=N.prototype.Ub;N.prototype.Tl=0;N.prototype.m_beta=N.prototype.Tl;N.prototype.e=null;N.prototype.m_impulse=N.prototype.e;N.prototype.Ed=0;N.prototype.m_maxForce=N.prototype.Ed;N.prototype.fb=0;N.prototype.m_gamma=N.prototype.fb;N.prototype.l=0;N.prototype.m_indexA=N.prototype.l;N.prototype.i=0;N.prototype.m_indexB=N.prototype.i;N.prototype.M=null;N.prototype.m_rB=N.prototype.M;N.prototype.va=null;N.prototype.m_localCenterB=N.prototype.va;
N.prototype.ga=0;N.prototype.m_invMassB=N.prototype.ga;N.prototype.ea=0;N.prototype.m_invIB=N.prototype.ea;N.prototype.L=null;N.prototype.m_mass=N.prototype.L;N.prototype.Si=null;N.prototype.m_C=N.prototype.Si;N.prototype.xa=null;N.prototype.m_qB=N.prototype.xa;N.prototype.ia=null;N.prototype.m_lalcB=N.prototype.ia;N.prototype.Xa=null;N.prototype.m_K=N.prototype.Xa;N.prototype.$u=function(a){this.P.Gb||this.P.ua(!0);this.Zf.d(a)};N.prototype.SetTarget=N.prototype.$u;N.prototype.nt=function(a){return a.d(this.Zf)};
N.prototype.GetTarget=N.prototype.nt;N.prototype.Uj=function(a){this.Ed=a};N.prototype.SetMaxForce=N.prototype.Uj;N.prototype.Lj=function(){return this.Ed};N.prototype.GetMaxForce=N.prototype.Lj;N.prototype.Kh=function(a){this.zb=a};N.prototype.SetFrequency=N.prototype.Kh;N.prototype.Hh=function(){return this.zb};N.prototype.GetFrequency=N.prototype.Hh;N.prototype.Jh=function(a){this.Ub=a};N.prototype.SetDampingRatio=N.prototype.Jh;N.prototype.Gh=function(){return this.Ub};
N.prototype.GetDampingRatio=N.prototype.Gh;
N.prototype.ta=function(a){this.i=this.P.hb;this.va.d(this.P.m.Ba);this.ga=this.P.Oa;this.ea=this.P.rb;var b=a.N[this.i].o,c=a.j[this.i].W,d=a.j[this.i].k,e=this.xa.fa(a.N[this.i].f),f=this.P.ae(),g=2*ea*this.zb,h=f*g*g,l=a.step.Va;this.fb=l*(2*f*this.Ub*g+l*h);0!==this.fb&&(this.fb=1/this.fb);this.Tl=l*h*this.fb;w(this.Y,this.va,this.ia);A(e,this.ia,this.M);e=this.Xa;e.C.x=this.ga+this.ea*this.M.y*this.M.y+this.fb;e.C.y=-this.ea*this.M.x*this.M.y;e.J.x=e.C.y;e.J.y=this.ga+this.ea*this.M.x*this.M.x+
this.fb;e.Ii(this.L);this.Si.x=b.x+this.M.x-this.Zf.x;this.Si.y=b.y+this.M.y-this.Zf.y;this.Si.cb(this.Tl);d*=.98;a.step.pd?(this.e.cb(a.step.xc),c.x+=this.ga*this.e.x,c.y+=this.ga*this.e.y,d+=this.ea*v(this.M,this.e)):this.e.R();a.j[this.i].k=d};N.prototype.InitVelocityConstraints=N.prototype.ta;
N.prototype.n=function(a){var b=a.j[this.i].W,c=a.j[this.i].k,d=gb(b,c,this.M,N.prototype.n.xi),d=tb(this.L,cb(d,cb(this.Si,db(this.fb,this.e,t),t),t).la(),N.prototype.n.Cf),e=N.prototype.n.$o.d(this.e);this.e.Da(d);var f=a.step.Va*this.Ed;this.e.Md()>f*f&&this.e.cb(f/this.e.Qc());w(this.e,e,d);b.Z(this.ga,d);c+=this.ea*v(this.M,d);a.j[this.i].k=c};N.prototype.SolveVelocityConstraints=N.prototype.n;N.prototype.n.xi=new r;N.prototype.n.Cf=new r;N.prototype.n.$o=new r;N.prototype.X=function(){return!0};
N.prototype.SolvePositionConstraints=N.prototype.X;N.prototype.cc=function(a){return a.d(this.Zf)};N.prototype.GetAnchorA=N.prototype.cc;N.prototype.dc=function(a){return this.P.Xb(this.Y,a)};N.prototype.GetAnchorB=N.prototype.dc;N.prototype.jc=function(a,b){return db(a,this.e,b)};N.prototype.GetReactionForce=N.prototype.jc;N.prototype.lc=function(){return 0};N.prototype.GetReactionTorque=N.prototype.lc;N.prototype.$a=function(){};N.prototype.Dump=N.prototype.$a;N.prototype.le=function(a){this.Zf.gb(a)};
N.prototype.ShiftOrigin=N.prototype.le;function Gh(){this.type=2;this.jb=new r;this.lb=new r;this.qg=new r(1,0)}ca(Gh,zh);q("box2d.b2PrismaticJointDef",Gh);Gh.prototype.jb=null;Gh.prototype.localAnchorA=Gh.prototype.jb;Gh.prototype.lb=null;Gh.prototype.localAnchorB=Gh.prototype.lb;Gh.prototype.qg=null;Gh.prototype.localAxisA=Gh.prototype.qg;Gh.prototype.Bf=0;Gh.prototype.referenceAngle=Gh.prototype.Bf;Gh.prototype.fk=!1;Gh.prototype.enableLimit=Gh.prototype.fk;Gh.prototype.Iq=0;Gh.prototype.lowerTranslation=Gh.prototype.Iq;
Gh.prototype.br=0;Gh.prototype.upperTranslation=Gh.prototype.br;Gh.prototype.Vg=!1;Gh.prototype.enableMotor=Gh.prototype.Vg;Gh.prototype.Tq=0;Gh.prototype.maxMotorForce=Gh.prototype.Tq;Gh.prototype.th=0;Gh.prototype.motorSpeed=Gh.prototype.th;Gh.prototype.da=function(a,b,c,d){this.fc=a;this.vc=b;this.fc.Kd(c,this.jb);this.vc.Kd(c,this.lb);this.fc.nl(d,this.qg);this.Bf=this.vc.Wb()-this.fc.Wb()};Gh.prototype.Initialize=Gh.prototype.da;
function O(a){K.call(this,a);this.aa=a.jb.ba();this.Y=a.lb.ba();this.Dd=a.qg.ba().ke();this.Fg=bb(1,this.Dd,new r);this.Vc=a.Bf;this.e=new z(0,0,0);this.tf=a.Iq;this.Af=a.br;this.nk=a.Tq;this.wd=a.th;this.Cd=a.fk;this.cd=a.Vg;this.Ca=new r;this.va=new r;this.Bb=new r(0,0);this.We=new r(0,0);this.Xa=new zb;this.jo=new zb;this.io=new sb;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.S=new r;this.M=new r}ca(O,K);q("box2d.b2PrismaticJoint",O);O.prototype.aa=null;
O.prototype.m_localAnchorA=O.prototype.aa;O.prototype.Y=null;O.prototype.m_localAnchorB=O.prototype.Y;O.prototype.Dd=null;O.prototype.m_localXAxisA=O.prototype.Dd;O.prototype.Fg=null;O.prototype.m_localYAxisA=O.prototype.Fg;O.prototype.Vc=0;O.prototype.m_referenceAngle=O.prototype.Vc;O.prototype.e=null;O.prototype.m_impulse=O.prototype.e;O.prototype.Ta=0;O.prototype.m_motorImpulse=O.prototype.Ta;O.prototype.tf=0;O.prototype.m_lowerTranslation=O.prototype.tf;O.prototype.Af=0;
O.prototype.m_upperTranslation=O.prototype.Af;O.prototype.nk=0;O.prototype.m_maxMotorForce=O.prototype.nk;O.prototype.wd=0;O.prototype.m_motorSpeed=O.prototype.wd;O.prototype.Cd=!1;O.prototype.m_enableLimit=O.prototype.Cd;O.prototype.cd=!1;O.prototype.m_enableMotor=O.prototype.cd;O.prototype.Kb=0;O.prototype.m_limitState=O.prototype.Kb;O.prototype.l=0;O.prototype.m_indexA=O.prototype.l;O.prototype.i=0;O.prototype.m_indexB=O.prototype.i;O.prototype.Ca=null;O.prototype.m_localCenterA=O.prototype.Ca;
O.prototype.va=null;O.prototype.m_localCenterB=O.prototype.va;O.prototype.ra=0;O.prototype.m_invMassA=O.prototype.ra;O.prototype.ga=0;O.prototype.m_invMassB=O.prototype.ga;O.prototype.na=0;O.prototype.m_invIA=O.prototype.na;O.prototype.ea=0;O.prototype.m_invIB=O.prototype.ea;O.prototype.Bb=null;O.prototype.m_axis=O.prototype.Bb;O.prototype.We=null;O.prototype.m_perp=O.prototype.We;O.prototype.Wf=0;O.prototype.m_s1=O.prototype.Wf;O.prototype.Xf=0;O.prototype.m_s2=O.prototype.Xf;O.prototype.Ae=0;
O.prototype.m_a1=O.prototype.Ae;O.prototype.Be=0;O.prototype.m_a2=O.prototype.Be;O.prototype.Xa=null;O.prototype.m_K=O.prototype.Xa;O.prototype.jo=null;O.prototype.m_K3=O.prototype.jo;O.prototype.io=null;O.prototype.m_K2=O.prototype.io;O.prototype.zc=0;O.prototype.m_motorMass=O.prototype.zc;O.prototype.Ia=null;O.prototype.m_qA=O.prototype.Ia;O.prototype.xa=null;O.prototype.m_qB=O.prototype.xa;O.prototype.oa=null;O.prototype.m_lalcA=O.prototype.oa;O.prototype.ia=null;O.prototype.m_lalcB=O.prototype.ia;
O.prototype.S=null;O.prototype.m_rA=O.prototype.S;O.prototype.M=null;O.prototype.m_rB=O.prototype.M;
O.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].o,c=a.j[this.l].W,d=a.j[this.l].k,e=a.N[this.i].o,f=a.N[this.i].f,g=a.j[this.i].W,h=a.j[this.i].k,l=this.Ia.fa(a.N[this.l].f),f=this.xa.fa(f);w(this.aa,this.Ca,this.oa);var m=A(l,this.oa,this.S);w(this.Y,this.va,this.ia);var n=A(f,this.ia,this.M),p=cb(w(e,b,t),w(n,m,Sa),O.prototype.ta.rc),b=this.ra,e=this.ga,
f=this.na,y=this.ea;A(l,this.Dd,this.Bb);this.Ae=v(cb(p,m,t),this.Bb);this.Be=v(n,this.Bb);this.zc=b+e+f*this.Ae*this.Ae+y*this.Be*this.Be;0<this.zc&&(this.zc=1/this.zc);A(l,this.Fg,this.We);this.Wf=v(cb(p,m,t),this.We);this.Xf=v(n,this.We);this.Xa.C.x=b+e+f*this.Wf*this.Wf+y*this.Xf*this.Xf;this.Xa.C.y=f*this.Wf+y*this.Xf;this.Xa.C.z=f*this.Wf*this.Ae+y*this.Xf*this.Be;this.Xa.J.x=this.Xa.C.y;this.Xa.J.y=f+y;0===this.Xa.J.y&&(this.Xa.J.y=1);this.Xa.J.z=f*this.Ae+y*this.Be;this.Xa.sa.x=this.Xa.C.z;
this.Xa.sa.y=this.Xa.J.z;this.Xa.sa.z=b+e+f*this.Ae*this.Ae+y*this.Be*this.Be;this.Cd?(l=u(this.Bb,p),.016>na(this.Af-this.tf)?this.Kb=3:l<=this.tf?1!==this.Kb&&(this.Kb=1,this.e.z=0):l>=this.Af?2!==this.Kb&&(this.Kb=2,this.e.z=0):(this.Kb=0,this.e.z=0)):(this.Kb=0,this.e.z=0);this.cd||(this.Ta=0);a.step.pd?(this.e.ul(a.step.xc),this.Ta*=a.step.xc,l=cb(db(this.e.x,this.We,t),db(this.Ta+this.e.z,this.Bb,Sa),O.prototype.ta.Ka),m=this.e.x*this.Wf+this.e.y+(this.Ta+this.e.z)*this.Ae,n=this.e.x*this.Xf+
this.e.y+(this.Ta+this.e.z)*this.Be,c.Ea(b,l),d-=f*m,g.Z(e,l),h+=y*n):(this.e.R(),this.Ta=0);a.j[this.l].k=d;a.j[this.i].k=h};O.prototype.InitVelocityConstraints=O.prototype.ta;O.prototype.ta.rc=new r;O.prototype.ta.Ka=new r;
O.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=this.ra,g=this.ga,h=this.na,l=this.ea;if(this.cd&&3!==this.Kb){var m=u(this.Bb,w(d,b,t))+this.Be*e-this.Ae*c,m=this.zc*(this.wd-m),n=this.Ta,p=a.step.Va*this.nk;this.Ta=Fa(this.Ta+m,-p,p);m=this.Ta-n;n=db(m,this.Bb,O.prototype.n.Ka);p=m*this.Ae;m*=this.Be;b.Ea(f,n);c-=h*p;d.Z(g,n);e+=l*m}var p=u(this.We,w(d,b,t))+this.Xf*e-this.Wf*c,y=e-c;this.Cd&&0!==this.Kb?(m=u(this.Bb,w(d,b,t))+this.Be*e-this.Ae*c,
n=O.prototype.n.ew.d(this.e),m=this.Xa.Yj(-p,-y,-m,O.prototype.n.Uv),this.e.Da(m),1===this.Kb?this.e.z=Ea(this.e.z,0):2===this.Kb&&(this.e.z=Da(this.e.z,0)),p=this.Xa.Sg(-p-(this.e.z-n.z)*this.Xa.sa.x,-y-(this.e.z-n.z)*this.Xa.sa.y,O.prototype.n.fw),p.x+=n.x,p.y+=n.y,this.e.x=p.x,this.e.y=p.y,m.x=this.e.x-n.x,m.y=this.e.y-n.y,m.z=this.e.z-n.z,n=cb(db(m.x,this.We,t),db(m.z,this.Bb,Sa),O.prototype.n.Ka),p=m.x*this.Wf+m.y+m.z*this.Ae,m=m.x*this.Xf+m.y+m.z*this.Be):(m=this.Xa.Sg(-p,-y,O.prototype.n.Tv),
this.e.x+=m.x,this.e.y+=m.y,n=db(m.x,this.We,O.prototype.n.Ka),p=m.x*this.Wf+m.y,m=m.x*this.Xf+m.y);b.Ea(f,n);c-=h*p;d.Z(g,n);a.j[this.l].k=c;a.j[this.i].k=e+l*m};O.prototype.SolveVelocityConstraints=O.prototype.n;k=O.prototype;k.n.Ka=new r;k.n.fw=new r;k.n.ew=new z;k.n.Uv=new z;k.n.Tv=new r;
k.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=this.Ia.fa(c),g=this.xa.fa(e),h=this.ra,l=this.ga,m=this.na,n=this.ea,p=A(f,this.oa,this.S),y=A(g,this.ia,this.M),x=w(cb(d,y,t),cb(b,p,Sa),O.prototype.X.rc),I=A(f,this.Dd,this.Bb),W=v(cb(x,p,t),I),g=v(y,I),f=A(f,this.Fg,this.We),S=v(cb(x,p,t),f),ja=v(y,f),ra=O.prototype.X.Cf,ba=u(f,x),Ua=e-c-this.Vc,p=na(ba),y=na(Ua),Ia=!1,Ja=0;this.Cd&&(x=u(I,x),.016>na(this.Af-this.tf)?(Ja=Fa(x,-.2,.2),p=Ea(p,na(x)),Ia=!0):x<=
this.tf?(Ja=Fa(x-this.tf+.008,-.2,0),p=Ea(p,this.tf-x),Ia=!0):x>=this.Af&&(Ja=Fa(x-this.Af-.008,0,.2),p=Ea(p,x-this.Af),Ia=!0));if(Ia){var x=m*S+n*ja,Va=m*S*W+n*ja*g,Ia=m+n;0===Ia&&(Ia=1);var Aa=m*W+n*g,Ba=h+l+m*W*W+n*g*g,lb=this.jo;lb.C.U(h+l+m*S*S+n*ja*ja,x,Va);lb.J.U(x,Ia,Aa);lb.sa.U(Va,Aa,Ba);ra=lb.Yj(-ba,-Ua,-Ja,ra)}else x=m*S+n*ja,Ia=m+n,0===Ia&&(Ia=1),Ja=this.io,Ja.C.U(h+l+m*S*S+n*ja*ja,x),Ja.J.U(x,Ia),ba=Ja.Re(-ba,-Ua,O.prototype.X.Wo),ra.x=ba.x,ra.y=ba.y,ra.z=0;I=cb(db(ra.x,f,t),db(ra.z,
I,Sa),O.prototype.X.Ka);W=ra.x*S+ra.y+ra.z*W;g=ra.x*ja+ra.y+ra.z*g;b.Ea(h,I);c-=m*W;d.Z(l,I);a.N[this.l].f=c;a.N[this.i].f=e+n*g;return.008>=p&&y<=fa};O.prototype.SolvePositionConstraints=O.prototype.X;k=O.prototype;k.X.rc=new r;k.X.Cf=new z;k.X.Wo=new r;k.X.Ka=new r;k.cc=function(a){return this.V.Xb(this.aa,a)};O.prototype.GetAnchorA=O.prototype.cc;O.prototype.dc=function(a){return this.P.Xb(this.Y,a)};O.prototype.GetAnchorB=O.prototype.dc;
O.prototype.jc=function(a,b){return b.U(a*(this.e.x*this.We.x+(this.Ta+this.e.z)*this.Bb.x),a*(this.e.x*this.We.y+(this.Ta+this.e.z)*this.Bb.y))};O.prototype.GetReactionForce=O.prototype.jc;O.prototype.lc=function(a){return a*this.e.y};O.prototype.GetReactionTorque=O.prototype.lc;O.prototype.we=function(a){return a.d(this.aa)};O.prototype.GetLocalAnchorA=O.prototype.we;O.prototype.xe=function(a){return a.d(this.Y)};O.prototype.GetLocalAnchorB=O.prototype.xe;O.prototype.fn=function(a){return a.d(this.Dd)};
O.prototype.GetLocalAxisA=O.prototype.fn;O.prototype.Nj=function(){return this.Vc};O.prototype.GetReferenceAngle=O.prototype.Nj;O.prototype.bf=function(){var a=this.V.Xb(this.aa,O.prototype.bf.ap),b=this.P.Xb(this.Y,O.prototype.bf.bp),a=w(b,a,O.prototype.bf.rc),b=this.V.Oj(this.Dd,O.prototype.bf.Fv);return u(a,b)};O.prototype.GetJointTranslation=O.prototype.bf;k=O.prototype;k.bf.ap=new r;k.bf.bp=new r;k.bf.rc=new r;k.bf.Fv=new r;
k.Jj=function(){var a=this.V,b=this.P;w(this.aa,a.m.Ba,this.oa);var c=A(a.ja.Q,this.oa,this.S);w(this.Y,b.m.Ba,this.ia);var d=A(b.ja.Q,this.ia,this.M),e=cb(a.m.o,c,t),f=cb(b.m.o,d,Sa),e=w(f,e,Ta),f=a.Oj(this.Dd,this.Bb),g=a.vb,h=b.vb,a=a.eb,b=b.eb;return u(e,bb(a,f,t))+u(f,w(gb(h,b,d,t),gb(g,a,c,Sa),t))};O.prototype.GetJointSpeed=O.prototype.Jj;O.prototype.tn=function(){return this.Cd};O.prototype.IsLimitEnabled=O.prototype.tn;
O.prototype.Pm=function(a){a!==this.Cd&&(this.V.ua(!0),this.P.ua(!0),this.Cd=a,this.e.z=0)};O.prototype.EnableLimit=O.prototype.Pm;O.prototype.gn=function(){return this.tf};O.prototype.GetLowerLimit=O.prototype.gn;O.prototype.pn=function(){return this.Af};O.prototype.GetUpperLimit=O.prototype.pn;O.prototype.Fn=function(a,b){if(a!==this.tf||b!==this.Af)this.V.ua(!0),this.P.ua(!0),this.tf=a,this.Af=b,this.e.z=0};O.prototype.SetLimits=O.prototype.Fn;O.prototype.Pj=function(){return this.cd};
O.prototype.IsMotorEnabled=O.prototype.Pj;O.prototype.Hj=function(a){this.V.ua(!0);this.P.ua(!0);this.cd=a};O.prototype.EnableMotor=O.prototype.Hj;O.prototype.Vj=function(a){this.V.ua(!0);this.P.ua(!0);this.wd=a};O.prototype.SetMotorSpeed=O.prototype.Vj;O.prototype.Mj=function(){return this.wd};O.prototype.GetMotorSpeed=O.prototype.Mj;O.prototype.Mu=function(a){this.V.ua(!0);this.P.ua(!0);this.nk=a};O.prototype.SetMaxMotorForce=O.prototype.Mu;O.prototype.Ls=function(){return this.nk};
O.prototype.GetMaxMotorForce=O.prototype.Ls;O.prototype.Os=function(a){return a*this.Ta};O.prototype.GetMotorForce=O.prototype.Os;O.prototype.$a=function(){};O.prototype.Dump=O.prototype.$a;q("box2d.b2_minPulleyLength",2);function Ih(){this.type=4;this.Dl=!0;this.Kl=new r(-1,1);this.Ll=new r(1,1);this.jb=new r(-1,0);this.lb=new r(1,0)}ca(Ih,zh);q("box2d.b2PulleyJointDef",Ih);Ih.prototype.Kl=null;Ih.prototype.groundAnchorA=Ih.prototype.Kl;Ih.prototype.Ll=null;Ih.prototype.groundAnchorB=Ih.prototype.Ll;Ih.prototype.jb=null;Ih.prototype.localAnchorA=Ih.prototype.jb;Ih.prototype.lb=null;Ih.prototype.localAnchorB=Ih.prototype.lb;Ih.prototype.Ol=0;Ih.prototype.lengthA=Ih.prototype.Ol;
Ih.prototype.Pl=0;Ih.prototype.lengthB=Ih.prototype.Pl;Ih.prototype.tj=1;Ih.prototype.ratio=Ih.prototype.tj;Ih.prototype.da=function(a,b,c,d,e,f,g){this.fc=a;this.vc=b;this.Kl.d(c);this.Ll.d(d);this.fc.Kd(e,this.jb);this.vc.Kd(f,this.lb);this.Ol=jb(e,c);this.Pl=jb(f,d);this.tj=g};Ih.prototype.Initialize=Ih.prototype.da;
function Q(a){K.call(this,a);this.gh=new r;this.hh=new r;this.aa=new r;this.Y=new r;this.zf=new r;this.Le=new r;this.S=new r;this.M=new r;this.Ca=new r;this.va=new r;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.gh.d(a.Kl);this.hh.d(a.Ll);this.aa.d(a.jb);this.Y.d(a.lb);this.xo=a.Ol;this.yo=a.Pl;this.nb=a.tj;this.$h=a.Ol+this.nb*a.Pl;this.e=0}ca(Q,K);q("box2d.b2PulleyJoint",Q);Q.prototype.gh=null;Q.prototype.m_groundAnchorA=Q.prototype.gh;Q.prototype.hh=null;
Q.prototype.m_groundAnchorB=Q.prototype.hh;Q.prototype.xo=0;Q.prototype.m_lengthA=Q.prototype.xo;Q.prototype.yo=0;Q.prototype.m_lengthB=Q.prototype.yo;Q.prototype.aa=null;Q.prototype.m_localAnchorA=Q.prototype.aa;Q.prototype.Y=null;Q.prototype.m_localAnchorB=Q.prototype.Y;Q.prototype.$h=0;Q.prototype.m_constant=Q.prototype.$h;Q.prototype.nb=0;Q.prototype.m_ratio=Q.prototype.nb;Q.prototype.e=0;Q.prototype.m_impulse=Q.prototype.e;Q.prototype.l=0;Q.prototype.m_indexA=Q.prototype.l;Q.prototype.i=0;
Q.prototype.m_indexB=Q.prototype.i;Q.prototype.zf=null;Q.prototype.m_uA=Q.prototype.zf;Q.prototype.Le=null;Q.prototype.m_uB=Q.prototype.Le;Q.prototype.S=null;Q.prototype.m_rA=Q.prototype.S;Q.prototype.M=null;Q.prototype.m_rB=Q.prototype.M;Q.prototype.Ca=null;Q.prototype.m_localCenterA=Q.prototype.Ca;Q.prototype.va=null;Q.prototype.m_localCenterB=Q.prototype.va;Q.prototype.ra=0;Q.prototype.m_invMassA=Q.prototype.ra;Q.prototype.ga=0;Q.prototype.m_invMassB=Q.prototype.ga;Q.prototype.na=0;
Q.prototype.m_invIA=Q.prototype.na;Q.prototype.ea=0;Q.prototype.m_invIB=Q.prototype.ea;Q.prototype.L=0;Q.prototype.m_mass=Q.prototype.L;Q.prototype.Ia=null;Q.prototype.m_qA=Q.prototype.Ia;Q.prototype.xa=null;Q.prototype.m_qB=Q.prototype.xa;Q.prototype.oa=null;Q.prototype.m_lalcA=Q.prototype.oa;Q.prototype.ia=null;Q.prototype.m_lalcB=Q.prototype.ia;
Q.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].o,c=a.j[this.l].W,d=a.j[this.l].k,e=a.N[this.i].o,f=a.N[this.i].f,g=a.j[this.i].W,h=a.j[this.i].k,l=this.Ia.fa(a.N[this.l].f),f=this.xa.fa(f);w(this.aa,this.Ca,this.oa);A(l,this.oa,this.S);w(this.Y,this.va,this.ia);A(f,this.ia,this.M);this.zf.d(b).Da(this.S).gb(this.gh);this.Le.d(e).Da(this.M).gb(this.hh);
b=this.zf.Qc();e=this.Le.Qc();.08<b?this.zf.cb(1/b):this.zf.R();.08<e?this.Le.cb(1/e):this.Le.R();b=v(this.S,this.zf);e=v(this.M,this.Le);this.L=this.ra+this.na*b*b+this.nb*this.nb*(this.ga+this.ea*e*e);0<this.L&&(this.L=1/this.L);a.step.pd?(this.e*=a.step.xc,b=db(-this.e,this.zf,Q.prototype.ta.Ik),e=db(-this.nb*this.e,this.Le,Q.prototype.ta.Jk),c.Z(this.ra,b),d+=this.na*v(this.S,b),g.Z(this.ga,e),h+=this.ea*v(this.M,e)):this.e=0;a.j[this.l].k=d;a.j[this.i].k=h};
Q.prototype.InitVelocityConstraints=Q.prototype.ta;Q.prototype.ta.Ik=new r;Q.prototype.ta.Jk=new r;Q.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=gb(b,c,this.S,Q.prototype.n.Vk),g=gb(d,e,this.M,Q.prototype.n.Wk),g=-this.L*(-u(this.zf,f)-this.nb*u(this.Le,g));this.e+=g;f=db(-g,this.zf,Q.prototype.n.Ik);g=db(-this.nb*g,this.Le,Q.prototype.n.Jk);b.Z(this.ra,f);c+=this.na*v(this.S,f);d.Z(this.ga,g);e+=this.ea*v(this.M,g);a.j[this.l].k=c;a.j[this.i].k=e};
Q.prototype.SolveVelocityConstraints=Q.prototype.n;k=Q.prototype;k.n.Vk=new r;k.n.Wk=new r;k.n.Ik=new r;k.n.Jk=new r;
k.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=this.Ia.fa(c),g=this.xa.fa(e);w(this.aa,this.Ca,this.oa);f=A(f,this.oa,this.S);w(this.Y,this.va,this.ia);var g=A(g,this.ia,this.M),h=this.zf.d(b).Da(f).gb(this.gh),l=this.Le.d(d).Da(g).gb(this.hh),m=h.Qc(),n=l.Qc();.08<m?h.cb(1/m):h.R();.08<n?l.cb(1/n):l.R();var p=v(f,h),y=v(g,l),p=this.ra+this.na*p*p+this.nb*this.nb*(this.ga+this.ea*y*y);0<p&&(p=1/p);n=this.$h-m-this.nb*n;m=na(n);n*=-p;h=db(-n,h,Q.prototype.X.Ik);
l=db(-this.nb*n,l,Q.prototype.X.Jk);b.Z(this.ra,h);c+=this.na*v(f,h);d.Z(this.ga,l);e+=this.ea*v(g,l);a.N[this.l].f=c;a.N[this.i].f=e;return.008>m};Q.prototype.SolvePositionConstraints=Q.prototype.X;Q.prototype.X.Ik=new r;Q.prototype.X.Jk=new r;Q.prototype.cc=function(a){return this.V.Xb(this.aa,a)};Q.prototype.GetAnchorA=Q.prototype.cc;Q.prototype.dc=function(a){return this.P.Xb(this.Y,a)};Q.prototype.GetAnchorB=Q.prototype.dc;Q.prototype.jc=function(a,b){return b.U(a*this.e*this.Le.x,a*this.e*this.Le.y)};
Q.prototype.GetReactionForce=Q.prototype.jc;Q.prototype.lc=function(){return 0};Q.prototype.GetReactionTorque=Q.prototype.lc;Q.prototype.Np=function(a){return a.d(this.gh)};Q.prototype.GetGroundAnchorA=Q.prototype.Np;Q.prototype.Op=function(a){return a.d(this.hh)};Q.prototype.GetGroundAnchorB=Q.prototype.Op;Q.prototype.Cs=function(){return this.xo};Q.prototype.GetLengthA=Q.prototype.Cs;Q.prototype.Ds=function(){return this.yo};Q.prototype.GetLengthB=Q.prototype.Ds;Q.prototype.mn=function(){return this.nb};
Q.prototype.GetRatio=Q.prototype.mn;Q.prototype.Wm=function(){var a=this.V.Xb(this.aa,Q.prototype.Wm.vh);return jb(a,this.gh)};Q.prototype.GetCurrentLengthA=Q.prototype.Wm;Q.prototype.Wm.vh=new r;Q.prototype.Xm=function(){var a=this.P.Xb(this.Y,Q.prototype.Xm.vh);return jb(a,this.hh)};Q.prototype.GetCurrentLengthB=Q.prototype.Xm;Q.prototype.Xm.vh=new r;Q.prototype.$a=function(){};Q.prototype.Dump=Q.prototype.$a;Q.prototype.le=function(a){this.gh.gb(a);this.hh.gb(a)};Q.prototype.ShiftOrigin=Q.prototype.le;function Hh(){this.type=1;this.jb=new r(0,0);this.lb=new r(0,0)}ca(Hh,zh);q("box2d.b2RevoluteJointDef",Hh);Hh.prototype.jb=null;Hh.prototype.localAnchorA=Hh.prototype.jb;Hh.prototype.lb=null;Hh.prototype.localAnchorB=Hh.prototype.lb;Hh.prototype.Bf=0;Hh.prototype.referenceAngle=Hh.prototype.Bf;Hh.prototype.fk=!1;Hh.prototype.enableLimit=Hh.prototype.fk;Hh.prototype.Hq=0;Hh.prototype.lowerAngle=Hh.prototype.Hq;Hh.prototype.ar=0;Hh.prototype.upperAngle=Hh.prototype.ar;Hh.prototype.Vg=!1;
Hh.prototype.enableMotor=Hh.prototype.Vg;Hh.prototype.th=0;Hh.prototype.motorSpeed=Hh.prototype.th;Hh.prototype.Ck=0;Hh.prototype.maxMotorTorque=Hh.prototype.Ck;Hh.prototype.da=function(a,b,c){this.fc=a;this.vc=b;this.fc.Kd(c,this.jb);this.vc.Kd(c,this.lb);this.Bf=this.vc.Wb()-this.fc.Wb()};Hh.prototype.Initialize=Hh.prototype.da;
function P(a){K.call(this,a);this.aa=new r;this.Y=new r;this.e=new z;this.S=new r;this.M=new r;this.Ca=new r;this.va=new r;this.L=new zb;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.Xa=new sb;this.aa.d(a.jb);this.Y.d(a.lb);this.Vc=a.Bf;this.e.R();this.Ta=0;this.Gg=a.Hq;this.rh=a.ar;this.uf=a.Ck;this.wd=a.th;this.Cd=a.fk;this.cd=a.Vg;this.Kb=0}ca(P,K);q("box2d.b2RevoluteJoint",P);P.prototype.aa=null;P.prototype.m_localAnchorA=P.prototype.aa;P.prototype.Y=null;
P.prototype.m_localAnchorB=P.prototype.Y;P.prototype.e=null;P.prototype.m_impulse=P.prototype.e;P.prototype.Ta=0;P.prototype.m_motorImpulse=P.prototype.Ta;P.prototype.cd=!1;P.prototype.m_enableMotor=P.prototype.cd;P.prototype.uf=0;P.prototype.m_maxMotorTorque=P.prototype.uf;P.prototype.wd=0;P.prototype.m_motorSpeed=P.prototype.wd;P.prototype.Cd=!1;P.prototype.m_enableLimit=P.prototype.Cd;P.prototype.Vc=0;P.prototype.m_referenceAngle=P.prototype.Vc;P.prototype.Gg=0;P.prototype.m_lowerAngle=P.prototype.Gg;
P.prototype.rh=0;P.prototype.m_upperAngle=P.prototype.rh;P.prototype.l=0;P.prototype.m_indexA=P.prototype.l;P.prototype.i=0;P.prototype.m_indexB=P.prototype.i;P.prototype.S=null;P.prototype.m_rA=P.prototype.S;P.prototype.M=null;P.prototype.m_rB=P.prototype.M;P.prototype.Ca=null;P.prototype.m_localCenterA=P.prototype.Ca;P.prototype.va=null;P.prototype.m_localCenterB=P.prototype.va;P.prototype.ra=0;P.prototype.m_invMassA=P.prototype.ra;P.prototype.ga=0;P.prototype.m_invMassB=P.prototype.ga;
P.prototype.na=0;P.prototype.m_invIA=P.prototype.na;P.prototype.ea=0;P.prototype.m_invIB=P.prototype.ea;P.prototype.L=null;P.prototype.m_mass=P.prototype.L;P.prototype.zc=0;P.prototype.m_motorMass=P.prototype.zc;P.prototype.Kb=0;P.prototype.m_limitState=P.prototype.Kb;P.prototype.Ia=null;P.prototype.m_qA=P.prototype.Ia;P.prototype.xa=null;P.prototype.m_qB=P.prototype.xa;P.prototype.oa=null;P.prototype.m_lalcA=P.prototype.oa;P.prototype.ia=null;P.prototype.m_lalcB=P.prototype.ia;P.prototype.Xa=null;
P.prototype.m_K=P.prototype.Xa;
P.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].f,c=a.j[this.l].W,d=a.j[this.l].k,e=a.N[this.i].f,f=a.j[this.i].W,g=a.j[this.i].k,h=this.Ia.fa(b),l=this.xa.fa(e);w(this.aa,this.Ca,this.oa);A(h,this.oa,this.S);w(this.Y,this.va,this.ia);A(l,this.ia,this.M);var h=this.ra,l=this.ga,m=this.na,n=this.ea,p=0===m+n;this.L.C.x=h+l+this.S.y*this.S.y*m+this.M.y*
this.M.y*n;this.L.J.x=-this.S.y*this.S.x*m-this.M.y*this.M.x*n;this.L.sa.x=-this.S.y*m-this.M.y*n;this.L.C.y=this.L.J.x;this.L.J.y=h+l+this.S.x*this.S.x*m+this.M.x*this.M.x*n;this.L.sa.y=this.S.x*m+this.M.x*n;this.L.C.z=this.L.sa.x;this.L.J.z=this.L.sa.y;this.L.sa.z=m+n;this.zc=m+n;0<this.zc&&(this.zc=1/this.zc);if(!this.cd||p)this.Ta=0;this.Cd&&!p?(b=e-b-this.Vc,na(this.rh-this.Gg)<2*fa?this.Kb=3:b<=this.Gg?(1!==this.Kb&&(this.e.z=0),this.Kb=1):b>=this.rh?(2!==this.Kb&&(this.e.z=0),this.Kb=2):(this.Kb=
0,this.e.z=0)):this.Kb=0;a.step.pd?(this.e.ul(a.step.xc),this.Ta*=a.step.xc,b=P.prototype.ta.Ka.U(this.e.x,this.e.y),c.Ea(h,b),d-=m*(v(this.S,b)+this.Ta+this.e.z),f.Z(l,b),g+=n*(v(this.M,b)+this.Ta+this.e.z)):(this.e.R(),this.Ta=0);a.j[this.l].k=d;a.j[this.i].k=g};P.prototype.InitVelocityConstraints=P.prototype.ta;P.prototype.ta.Ka=new r;
P.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=this.ra,g=this.ga,h=this.na,l=this.ea,m=0===h+l;if(this.cd&&3!==this.Kb&&!m){var n=e-c-this.wd,n=-this.zc*n,p=this.Ta,y=a.step.Va*this.uf;this.Ta=Fa(this.Ta+n,-y,y);n=this.Ta-p;c-=h*n;e+=l*n}this.Cd&&0!==this.Kb&&!m?(m=w(gb(d,e,this.M,t),gb(b,c,this.S,Sa),P.prototype.n.wm),n=this.L.Yj(m.x,m.y,e-c,P.prototype.n.kw).la(),3===this.Kb?this.e.Da(n):1===this.Kb?(p=this.e.z+n.z,0>p?(p=-m.x+this.e.z*this.L.sa.x,
m=-m.y+this.e.z*this.L.sa.y,m=this.L.Sg(p,m,P.prototype.n.Zq),n.x=m.x,n.y=m.y,n.z=-this.e.z,this.e.x+=m.x,this.e.y+=m.y,this.e.z=0):this.e.Da(n)):2===this.Kb&&(p=this.e.z+n.z,0<p?(p=-m.x+this.e.z*this.L.sa.x,m=-m.y+this.e.z*this.L.sa.y,m=this.L.Sg(p,m,P.prototype.n.Zq),n.x=m.x,n.y=m.y,n.z=-this.e.z,this.e.x+=m.x,this.e.y+=m.y,this.e.z=0):this.e.Da(n)),m=P.prototype.n.Ka.U(n.x,n.y),b.Ea(f,m),c-=h*(v(this.S,m)+n.z),d.Z(g,m),e+=l*(v(this.M,m)+n.z)):(n=w(gb(d,e,this.M,t),gb(b,c,this.S,Sa),P.prototype.n.xi),
n=this.L.Sg(-n.x,-n.y,P.prototype.n.Xo),this.e.x+=n.x,this.e.y+=n.y,b.Ea(f,n),c-=h*v(this.S,n),d.Z(g,n),e+=l*v(this.M,n));a.j[this.l].k=c;a.j[this.i].k=e};P.prototype.SolveVelocityConstraints=P.prototype.n;k=P.prototype;k.n.Ka=new r;k.n.xi=new r;k.n.wm=new r;k.n.kw=new z;k.n.Zq=new r;k.n.Xo=new r;
k.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=this.Ia.fa(c),g=this.xa.fa(e),h=0,l=0,l=0===this.na+this.ea;if(this.Cd&&0!==this.Kb&&!l){var m=e-c-this.Vc,l=0;3===this.Kb?(m=Fa(m-this.Gg,-ga,ga),l=-this.zc*m,h=na(m)):1===this.Kb?(m-=this.Gg,h=-m,m=Fa(m+fa,-ga,0),l=-this.zc*m):2===this.Kb&&(h=m-=this.rh,m=Fa(m-fa,0,ga),l=-this.zc*m);c-=this.na*l;e+=this.ea*l}f.fa(c);g.fa(e);w(this.aa,this.Ca,this.oa);f=A(f,this.oa,this.S);w(this.Y,this.va,this.ia);var g=A(g,this.ia,
this.M),m=w(cb(d,g,t),cb(b,f,Sa),P.prototype.X.xv),l=m.Qc(),n=this.ra,p=this.ga,y=this.na,x=this.ea,I=this.Xa;I.C.x=n+p+y*f.y*f.y+x*g.y*g.y;I.C.y=-y*f.x*f.y-x*g.x*g.y;I.J.x=I.C.y;I.J.y=n+p+y*f.x*f.x+x*g.x*g.x;m=I.Re(m.x,m.y,P.prototype.X.Cf).la();b.Ea(n,m);c-=y*v(f,m);d.Z(p,m);e+=x*v(g,m);a.N[this.l].f=c;a.N[this.i].f=e;return.008>=l&&h<=fa};P.prototype.SolvePositionConstraints=P.prototype.X;P.prototype.X.xv=new r;P.prototype.X.Cf=new r;P.prototype.cc=function(a){return this.V.Xb(this.aa,a)};
P.prototype.GetAnchorA=P.prototype.cc;P.prototype.dc=function(a){return this.P.Xb(this.Y,a)};P.prototype.GetAnchorB=P.prototype.dc;P.prototype.jc=function(a,b){return b.U(a*this.e.x,a*this.e.y)};P.prototype.GetReactionForce=P.prototype.jc;P.prototype.lc=function(a){return a*this.e.z};P.prototype.GetReactionTorque=P.prototype.lc;P.prototype.we=function(a){return a.d(this.aa)};P.prototype.GetLocalAnchorA=P.prototype.we;P.prototype.xe=function(a){return a.d(this.Y)};P.prototype.GetLocalAnchorB=P.prototype.xe;
P.prototype.Nj=function(){return this.Vc};P.prototype.GetReferenceAngle=P.prototype.Nj;P.prototype.zs=function(){return this.P.m.f-this.V.m.f-this.Vc};P.prototype.GetJointAngle=P.prototype.zs;P.prototype.Jj=function(){return this.P.eb-this.V.eb};P.prototype.GetJointSpeed=P.prototype.Jj;P.prototype.Pj=function(){return this.cd};P.prototype.IsMotorEnabled=P.prototype.Pj;P.prototype.Hj=function(a){this.cd!==a&&(this.V.ua(!0),this.P.ua(!0),this.cd=a)};P.prototype.EnableMotor=P.prototype.Hj;
P.prototype.ln=function(a){return a*this.Ta};P.prototype.GetMotorTorque=P.prototype.ln;P.prototype.Mj=function(){return this.wd};P.prototype.GetMotorSpeed=P.prototype.Mj;P.prototype.In=function(a){this.uf=a};P.prototype.SetMaxMotorTorque=P.prototype.In;P.prototype.hn=function(){return this.uf};P.prototype.GetMaxMotorTorque=P.prototype.hn;P.prototype.tn=function(){return this.Cd};P.prototype.IsLimitEnabled=P.prototype.tn;
P.prototype.Pm=function(a){a!==this.Cd&&(this.V.ua(!0),this.P.ua(!0),this.Cd=a,this.e.z=0)};P.prototype.EnableLimit=P.prototype.Pm;P.prototype.gn=function(){return this.Gg};P.prototype.GetLowerLimit=P.prototype.gn;P.prototype.pn=function(){return this.rh};P.prototype.GetUpperLimit=P.prototype.pn;P.prototype.Fn=function(a,b){if(a!==this.Gg||b!==this.rh)this.V.ua(!0),this.P.ua(!0),this.e.z=0,this.Gg=a,this.rh=b};P.prototype.SetLimits=P.prototype.Fn;
P.prototype.Vj=function(a){this.wd!==a&&(this.V.ua(!0),this.P.ua(!0),this.wd=a)};P.prototype.SetMotorSpeed=P.prototype.Vj;P.prototype.$a=function(){};P.prototype.Dump=P.prototype.$a;function Jh(){this.type=6}ca(Jh,zh);q("box2d.b2GearJointDef",Jh);Jh.prototype.Ml=null;Jh.prototype.joint1=Jh.prototype.Ml;Jh.prototype.Nl=null;Jh.prototype.joint2=Jh.prototype.Nl;Jh.prototype.tj=1;Jh.prototype.ratio=Jh.prototype.tj;
function R(a){K.call(this,a);this.aj=a.Ml;this.bj=a.Nl;this.aa=new r;this.Y=new r;this.fj=new r;this.gj=new r;this.lh=new r;this.mh=new r;this.bm=new r;this.cm=new r;this.dm=new r;this.em=new r;this.of=new r;this.Qf=new r;this.Ia=new Eb;this.xa=new Eb;this.jm=new Eb;this.km=new Eb;this.oa=new r;this.ia=new r;this.cj=new r;this.dj=new r;this.xk=this.aj.mc();this.yk=this.bj.mc();var b,c;this.ah=this.aj.V;this.V=this.aj.P;b=this.V.ja;var d=this.V.m.f;c=this.ah.ja;var e=this.ah.m.f;1===this.xk?(c=a.Ml,
this.fj.d(c.aa),this.aa.d(c.Y),this.sk=c.Vc,this.lh.R(),b=d-e-this.sk):(e=a.Ml,this.fj.d(e.aa),this.aa.d(e.Y),this.sk=e.Vc,this.lh.d(e.Dd),d=this.fj,b=Hb(c.Q,cb(A(b.Q,this.aa,t),w(b.ca,c.ca,Sa),t),t),b=u(w(b,d,t),this.lh));this.bh=this.bj.V;this.P=this.bj.P;c=this.P.ja;var e=this.P.m.f,d=this.bh.ja,f=this.bh.m.f;1===this.yk?(c=a.Nl,this.gj.d(c.aa),this.Y.d(c.Y),this.tk=c.Vc,this.mh.R(),c=e-f-this.tk):(e=a.Nl,this.gj.d(e.aa),this.Y.d(e.Y),this.tk=e.Vc,this.mh.d(e.Dd),e=this.gj,c=Hb(d.Q,cb(A(c.Q,this.Y,
t),w(c.ca,d.ca,Sa),t),t),c=u(w(c,e,t),this.mh));this.nb=a.tj;this.$h=b+this.nb*c;this.e=0}ca(R,K);q("box2d.b2GearJoint",R);R.prototype.aj=null;R.prototype.m_joint1=R.prototype.aj;R.prototype.bj=null;R.prototype.m_joint2=R.prototype.bj;R.prototype.xk=0;R.prototype.m_typeA=R.prototype.xk;R.prototype.yk=0;R.prototype.m_typeB=R.prototype.yk;R.prototype.ah=null;R.prototype.m_bodyC=R.prototype.ah;R.prototype.bh=null;R.prototype.m_bodyD=R.prototype.bh;R.prototype.aa=null;R.prototype.m_localAnchorA=R.prototype.aa;
R.prototype.Y=null;R.prototype.m_localAnchorB=R.prototype.Y;R.prototype.fj=null;R.prototype.m_localAnchorC=R.prototype.fj;R.prototype.gj=null;R.prototype.m_localAnchorD=R.prototype.gj;R.prototype.lh=null;R.prototype.m_localAxisC=R.prototype.lh;R.prototype.mh=null;R.prototype.m_localAxisD=R.prototype.mh;R.prototype.sk=0;R.prototype.m_referenceAngleA=R.prototype.sk;R.prototype.tk=0;R.prototype.m_referenceAngleB=R.prototype.tk;R.prototype.$h=0;R.prototype.m_constant=R.prototype.$h;R.prototype.nb=0;
R.prototype.m_ratio=R.prototype.nb;R.prototype.e=0;R.prototype.m_impulse=R.prototype.e;R.prototype.l=0;R.prototype.m_indexA=R.prototype.l;R.prototype.i=0;R.prototype.m_indexB=R.prototype.i;R.prototype.Ue=0;R.prototype.m_indexC=R.prototype.Ue;R.prototype.Ve=0;R.prototype.m_indexD=R.prototype.Ve;R.prototype.bm=null;R.prototype.m_lcA=R.prototype.bm;R.prototype.cm=null;R.prototype.m_lcB=R.prototype.cm;R.prototype.dm=null;R.prototype.m_lcC=R.prototype.dm;R.prototype.em=null;R.prototype.m_lcD=R.prototype.em;
R.prototype.ji=0;R.prototype.m_mA=R.prototype.ji;R.prototype.ki=0;R.prototype.m_mB=R.prototype.ki;R.prototype.li=0;R.prototype.m_mC=R.prototype.li;R.prototype.mi=0;R.prototype.m_mD=R.prototype.mi;R.prototype.zg=0;R.prototype.m_iA=R.prototype.zg;R.prototype.Ag=0;R.prototype.m_iB=R.prototype.Ag;R.prototype.Bg=0;R.prototype.m_iC=R.prototype.Bg;R.prototype.Cg=0;R.prototype.m_iD=R.prototype.Cg;R.prototype.of=null;R.prototype.m_JvAC=R.prototype.of;R.prototype.Qf=null;R.prototype.m_JvBD=R.prototype.Qf;
R.prototype.rg=0;R.prototype.m_JwA=R.prototype.rg;R.prototype.Yg=0;R.prototype.m_JwB=R.prototype.Yg;R.prototype.Zg=0;R.prototype.m_JwC=R.prototype.Zg;R.prototype.$g=0;R.prototype.m_JwD=R.prototype.$g;R.prototype.L=0;R.prototype.m_mass=R.prototype.L;R.prototype.Ia=null;R.prototype.m_qA=R.prototype.Ia;R.prototype.xa=null;R.prototype.m_qB=R.prototype.xa;R.prototype.jm=null;R.prototype.m_qC=R.prototype.jm;R.prototype.km=null;R.prototype.m_qD=R.prototype.km;R.prototype.oa=null;R.prototype.m_lalcA=R.prototype.oa;
R.prototype.ia=null;R.prototype.m_lalcB=R.prototype.ia;R.prototype.cj=null;R.prototype.m_lalcC=R.prototype.cj;R.prototype.dj=null;R.prototype.m_lalcD=R.prototype.dj;k=R.prototype;
k.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ue=this.ah.hb;this.Ve=this.bh.hb;this.bm.d(this.V.m.Ba);this.cm.d(this.P.m.Ba);this.dm.d(this.ah.m.Ba);this.em.d(this.bh.m.Ba);this.ji=this.V.Oa;this.ki=this.P.Oa;this.li=this.ah.Oa;this.mi=this.bh.Oa;this.zg=this.V.rb;this.Ag=this.P.rb;this.Bg=this.ah.rb;this.Cg=this.bh.rb;var b=a.j[this.l].W,c=a.j[this.l].k,d=a.N[this.i].f,e=a.j[this.i].W,f=a.j[this.i].k,g=a.N[this.Ue].f,h=a.j[this.Ue].W,l=a.j[this.Ue].k,m=a.N[this.Ve].f,n=a.j[this.Ve].W,p=
a.j[this.Ve].k,y=this.Ia.fa(a.N[this.l].f),d=this.xa.fa(d),x=this.jm.fa(g),g=this.km.fa(m);this.L=0;1===this.xk?(this.of.R(),this.Zg=this.rg=1,this.L+=this.zg+this.Bg):(m=A(x,this.lh,R.prototype.ta.Tk),w(this.fj,this.dm,this.cj),x=A(x,this.cj,R.prototype.ta.ep),w(this.aa,this.bm,this.oa),y=A(y,this.oa,R.prototype.ta.zi),this.of.d(m),this.Zg=v(x,m),this.rg=v(y,m),this.L+=this.li+this.ji+this.Bg*this.Zg*this.Zg+this.zg*this.rg*this.rg);1===this.yk?(this.Qf.R(),this.$g=this.Yg=this.nb,this.L+=this.nb*
this.nb*(this.Ag+this.Cg)):(m=A(g,this.mh,R.prototype.ta.Tk),w(this.gj,this.em,this.dj),y=A(g,this.dj,R.prototype.ta.fp),w(this.Y,this.cm,this.ia),d=A(d,this.ia,R.prototype.ta.Ai),db(this.nb,m,this.Qf),this.$g=this.nb*v(y,m),this.Yg=this.nb*v(d,m),this.L+=this.nb*this.nb*(this.mi+this.ki)+this.Cg*this.$g*this.$g+this.Ag*this.Yg*this.Yg);this.L=0<this.L?1/this.L:0;a.step.pd?(b.Z(this.ji*this.e,this.of),c+=this.zg*this.e*this.rg,e.Z(this.ki*this.e,this.Qf),f+=this.Ag*this.e*this.Yg,h.Ea(this.li*this.e,
this.of),l-=this.Bg*this.e*this.Zg,n.Ea(this.mi*this.e,this.Qf),p-=this.Cg*this.e*this.$g):this.e=0;a.j[this.l].k=c;a.j[this.i].k=f;a.j[this.Ue].k=l;a.j[this.Ve].k=p};k.ta.Tk=new r;k.ta.zi=new r;k.ta.Ai=new r;k.ta.ep=new r;k.ta.fp=new r;
k.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=a.j[this.Ue].W,g=a.j[this.Ue].k,h=a.j[this.Ve].W,l=a.j[this.Ve].k,m=u(this.of,w(b,f,t))+u(this.Qf,w(d,h,t)),m=m+(this.rg*c-this.Zg*g+(this.Yg*e-this.$g*l)),m=-this.L*m;this.e+=m;b.Z(this.ji*m,this.of);c+=this.zg*m*this.rg;d.Z(this.ki*m,this.Qf);e+=this.Ag*m*this.Yg;f.Ea(this.li*m,this.of);g-=this.Bg*m*this.Zg;h.Ea(this.mi*m,this.Qf);l-=this.Cg*m*this.$g;a.j[this.l].k=c;a.j[this.i].k=e;a.j[this.Ue].k=g;a.j[this.Ve].k=
l};
k.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=a.N[this.Ue].o,g=a.N[this.Ue].f,h=a.N[this.Ve].o,l=a.N[this.Ve].f,m=this.Ia.fa(c),n=this.xa.fa(e),p=this.jm.fa(g),y=this.km.fa(l),x=this.of,I=this.Qf,W,S,ja=0;if(1===this.xk)x.R(),m=W=1,ja+=this.zg+this.Bg,p=c-g-this.sk;else{S=A(p,this.lh,R.prototype.X.Tk);W=A(p,this.cj,R.prototype.X.ep);var ra=A(m,this.oa,R.prototype.X.zi);x.d(S);m=v(W,S);W=v(ra,S);ja+=this.li+this.ji+this.Bg*m*m+this.zg*W*W;S=this.cj;p=Hb(p,cb(ra,
w(b,f,t),t),t);p=u(w(p,S,t),this.lh)}if(1===this.yk)I.R(),n=S=this.nb,ja+=this.nb*this.nb*(this.Ag+this.Cg),y=e-l-this.tk;else{S=A(y,this.mh,R.prototype.X.Tk);var ba=A(y,this.dj,R.prototype.X.fp),ra=A(n,this.ia,R.prototype.X.Ai);db(this.nb,S,I);n=this.nb*v(ba,S);S=this.nb*v(ra,S);ja+=this.nb*this.nb*(this.mi+this.ki)+this.Cg*n*n+this.Ag*S*S;ba=this.dj;y=Hb(y,cb(ra,w(d,h,t),t),t);y=u(w(y,ba,t),this.mh)}y=p+this.nb*y-this.$h;p=0;0<ja&&(p=-y/ja);b.Z(this.ji*p,x);c+=this.zg*p*W;d.Z(this.ki*p,I);e+=this.Ag*
p*S;f.Ea(this.li*p,x);g-=this.Bg*p*m;h.Ea(this.mi*p,I);l-=this.Cg*p*n;a.N[this.l].f=c;a.N[this.i].f=e;a.N[this.Ue].f=g;a.N[this.Ve].f=l;return!0};R.prototype.SolvePositionConstraints=R.prototype.X;k=R.prototype;k.X.Tk=new r;k.X.zi=new r;k.X.Ai=new r;k.X.ep=new r;k.X.fp=new r;k.cc=function(a){return this.V.Xb(this.aa,a)};R.prototype.GetAnchorA=R.prototype.cc;R.prototype.dc=function(a){return this.P.Xb(this.Y,a)};R.prototype.GetAnchorB=R.prototype.dc;
R.prototype.jc=function(a,b){return db(a*this.e,this.of,b)};R.prototype.GetReactionForce=R.prototype.jc;R.prototype.lc=function(a){return a*this.e*this.rg};R.prototype.GetReactionTorque=R.prototype.lc;R.prototype.xs=function(){return this.aj};R.prototype.GetJoint1=R.prototype.xs;R.prototype.ys=function(){return this.bj};R.prototype.GetJoint2=R.prototype.ys;R.prototype.mn=function(){return this.nb};R.prototype.GetRatio=R.prototype.mn;R.prototype.Su=function(a){this.nb=a};R.prototype.SetRatio=R.prototype.Su;
R.prototype.$a=function(){};R.prototype.Dump=R.prototype.$a;function Mh(){this.type=10;this.jb=new r(-1,0);this.lb=new r(1,0)}ca(Mh,zh);q("box2d.b2RopeJointDef",Mh);Mh.prototype.jb=null;Mh.prototype.localAnchorA=Mh.prototype.jb;Mh.prototype.lb=null;Mh.prototype.localAnchorB=Mh.prototype.lb;Mh.prototype.maxLength=0;Mh.prototype.maxLength=Mh.prototype.maxLength;
function V(a){K.call(this,a);this.aa=a.jb.ba();this.Y=a.lb.ba();this.nh=a.maxLength;this.Mb=new r;this.S=new r;this.M=new r;this.Ca=new r;this.va=new r;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r}ca(V,K);q("box2d.b2RopeJoint",V);V.prototype.aa=null;V.prototype.m_localAnchorA=V.prototype.aa;V.prototype.Y=null;V.prototype.m_localAnchorB=V.prototype.Y;V.prototype.nh=0;V.prototype.m_maxLength=V.prototype.nh;V.prototype.Je=0;V.prototype.m_length=V.prototype.Je;V.prototype.e=0;
V.prototype.m_impulse=V.prototype.e;V.prototype.l=0;V.prototype.m_indexA=V.prototype.l;V.prototype.i=0;V.prototype.m_indexB=V.prototype.i;V.prototype.Mb=null;V.prototype.m_u=V.prototype.Mb;V.prototype.S=null;V.prototype.m_rA=V.prototype.S;V.prototype.M=null;V.prototype.m_rB=V.prototype.M;V.prototype.Ca=null;V.prototype.m_localCenterA=V.prototype.Ca;V.prototype.va=null;V.prototype.m_localCenterB=V.prototype.va;V.prototype.ra=0;V.prototype.m_invMassA=V.prototype.ra;V.prototype.ga=0;
V.prototype.m_invMassB=V.prototype.ga;V.prototype.na=0;V.prototype.m_invIA=V.prototype.na;V.prototype.ea=0;V.prototype.m_invIB=V.prototype.ea;V.prototype.L=0;V.prototype.m_mass=V.prototype.L;V.prototype.Ho=0;V.prototype.m_state=V.prototype.Ho;V.prototype.Ia=null;V.prototype.m_qA=V.prototype.Ia;V.prototype.xa=null;V.prototype.m_qB=V.prototype.xa;V.prototype.oa=null;V.prototype.m_lalcA=V.prototype.oa;V.prototype.ia=null;V.prototype.m_lalcB=V.prototype.ia;
V.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].o,c=a.j[this.l].W,d=a.j[this.l].k,e=a.N[this.i].o,f=a.N[this.i].f,g=a.j[this.i].W,h=a.j[this.i].k,l=this.Ia.fa(a.N[this.l].f),f=this.xa.fa(f);w(this.aa,this.Ca,this.oa);A(l,this.oa,this.S);w(this.Y,this.va,this.ia);A(f,this.ia,this.M);this.Mb.d(e).Da(this.M).gb(b).gb(this.S);this.Je=this.Mb.Qc();this.Ho=
0<this.Je-this.nh?2:0;.008<this.Je?(this.Mb.cb(1/this.Je),b=v(this.S,this.Mb),e=v(this.M,this.Mb),b=this.ra+this.na*b*b+this.ga+this.ea*e*e,this.L=0!==b?1/b:0,a.step.pd?(this.e*=a.step.xc,b=db(this.e,this.Mb,V.prototype.ta.Ka),c.Ea(this.ra,b),d-=this.na*v(this.S,b),g.Z(this.ga,b),h+=this.ea*v(this.M,b)):this.e=0,a.j[this.l].k=d,a.j[this.i].k=h):(this.Mb.R(),this.e=this.L=0)};V.prototype.InitVelocityConstraints=V.prototype.ta;V.prototype.ta.Ka=new r;
V.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=gb(b,c,this.S,V.prototype.n.Vk),g=gb(d,e,this.M,V.prototype.n.Wk),h=this.Je-this.nh,f=u(this.Mb,w(g,f,t));0>h&&(f+=a.step.Zb*h);h=-this.L*f;f=this.e;this.e=Da(0,this.e+h);h=this.e-f;h=db(h,this.Mb,V.prototype.n.Ka);b.Ea(this.ra,h);c-=this.na*v(this.S,h);d.Z(this.ga,h);e+=this.ea*v(this.M,h);a.j[this.l].k=c;a.j[this.i].k=e};V.prototype.SolveVelocityConstraints=V.prototype.n;V.prototype.n.Vk=new r;
V.prototype.n.Wk=new r;V.prototype.n.Ka=new r;V.prototype.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=this.Ia.fa(c),g=this.xa.fa(e);w(this.aa,this.Ca,this.oa);f=A(f,this.oa,this.S);w(this.Y,this.va,this.ia);var g=A(g,this.ia,this.M),h=this.Mb.d(d).Da(g).gb(b).gb(f),l=h.ec(),m=l-this.nh,m=Fa(m,0,.2),h=db(-this.L*m,h,V.prototype.X.Ka);b.Ea(this.ra,h);c-=this.na*v(f,h);d.Z(this.ga,h);e+=this.ea*v(g,h);a.N[this.l].f=c;a.N[this.i].f=e;return.008>l-this.nh};
V.prototype.SolvePositionConstraints=V.prototype.X;V.prototype.X.Ka=new r;V.prototype.cc=function(a){return this.V.Xb(this.aa,a)};V.prototype.GetAnchorA=V.prototype.cc;V.prototype.dc=function(a){return this.P.Xb(this.Y,a)};V.prototype.GetAnchorB=V.prototype.dc;V.prototype.jc=function(a,b){return db(a*this.e,this.Mb,b)};V.prototype.GetReactionForce=V.prototype.jc;V.prototype.lc=function(){return 0};V.prototype.GetReactionTorque=V.prototype.lc;V.prototype.we=function(a){return a.d(this.aa)};
V.prototype.GetLocalAnchorA=V.prototype.we;V.prototype.xe=function(a){return a.d(this.Y)};V.prototype.GetLocalAnchorB=V.prototype.xe;V.prototype.Lu=function(a){this.nh=a};V.prototype.SetMaxLength=V.prototype.Lu;V.prototype.Ks=function(){return this.nh};V.prototype.GetMaxLength=V.prototype.Ks;V.prototype.Es=function(){return this.Ho};V.prototype.GetLimitState=V.prototype.Es;V.prototype.$a=function(){};V.prototype.Dump=V.prototype.$a;function Lh(){this.type=8;this.jb=new r;this.lb=new r}ca(Lh,zh);q("box2d.b2WeldJointDef",Lh);Lh.prototype.jb=null;Lh.prototype.localAnchorA=Lh.prototype.jb;Lh.prototype.lb=null;Lh.prototype.localAnchorB=Lh.prototype.lb;Lh.prototype.Bf=0;Lh.prototype.referenceAngle=Lh.prototype.Bf;Lh.prototype.Bd=0;Lh.prototype.frequencyHz=Lh.prototype.Bd;Lh.prototype.Ad=0;Lh.prototype.dampingRatio=Lh.prototype.Ad;
Lh.prototype.da=function(a,b,c){this.fc=a;this.vc=b;this.fc.Kd(c,this.jb);this.vc.Kd(c,this.lb);this.Bf=this.vc.Wb()-this.fc.Wb()};Lh.prototype.Initialize=Lh.prototype.da;function U(a){K.call(this,a);this.zb=a.Bd;this.Ub=a.Ad;this.aa=a.jb.ba();this.Y=a.lb.ba();this.Vc=a.Bf;this.e=new z(0,0,0);this.S=new r;this.M=new r;this.Ca=new r;this.va=new r;this.L=new zb;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.Xa=new zb}ca(U,K);q("box2d.b2WeldJoint",U);U.prototype.zb=0;
U.prototype.m_frequencyHz=U.prototype.zb;U.prototype.Ub=0;U.prototype.m_dampingRatio=U.prototype.Ub;U.prototype.pe=0;U.prototype.m_bias=U.prototype.pe;U.prototype.aa=null;U.prototype.m_localAnchorA=U.prototype.aa;U.prototype.Y=null;U.prototype.m_localAnchorB=U.prototype.Y;U.prototype.Vc=0;U.prototype.m_referenceAngle=U.prototype.Vc;U.prototype.fb=0;U.prototype.m_gamma=U.prototype.fb;U.prototype.e=null;U.prototype.m_impulse=U.prototype.e;U.prototype.l=0;U.prototype.m_indexA=U.prototype.l;
U.prototype.i=0;U.prototype.m_indexB=U.prototype.i;U.prototype.S=null;U.prototype.m_rA=U.prototype.S;U.prototype.M=null;U.prototype.m_rB=U.prototype.M;U.prototype.Ca=null;U.prototype.m_localCenterA=U.prototype.Ca;U.prototype.va=null;U.prototype.m_localCenterB=U.prototype.va;U.prototype.ra=0;U.prototype.m_invMassA=U.prototype.ra;U.prototype.ga=0;U.prototype.m_invMassB=U.prototype.ga;U.prototype.na=0;U.prototype.m_invIA=U.prototype.na;U.prototype.ea=0;U.prototype.m_invIB=U.prototype.ea;
U.prototype.L=null;U.prototype.m_mass=U.prototype.L;U.prototype.Ia=null;U.prototype.m_qA=U.prototype.Ia;U.prototype.xa=null;U.prototype.m_qB=U.prototype.xa;U.prototype.oa=null;U.prototype.m_lalcA=U.prototype.oa;U.prototype.ia=null;U.prototype.m_lalcB=U.prototype.ia;U.prototype.Xa=null;U.prototype.m_K=U.prototype.Xa;
U.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=a.N[this.l].f,c=a.j[this.l].W,d=a.j[this.l].k,e=a.N[this.i].f,f=a.j[this.i].W,g=a.j[this.i].k,h=this.Ia.fa(b),l=this.xa.fa(e);w(this.aa,this.Ca,this.oa);A(h,this.oa,this.S);w(this.Y,this.va,this.ia);A(l,this.ia,this.M);var h=this.ra,l=this.ga,m=this.na,n=this.ea,p=this.Xa;p.C.x=h+l+this.S.y*this.S.y*m+this.M.y*this.M.y*
n;p.J.x=-this.S.y*this.S.x*m-this.M.y*this.M.x*n;p.sa.x=-this.S.y*m-this.M.y*n;p.C.y=p.J.x;p.J.y=h+l+this.S.x*this.S.x*m+this.M.x*this.M.x*n;p.sa.y=this.S.x*m+this.M.x*n;p.C.z=p.sa.x;p.J.z=p.sa.y;p.sa.z=m+n;if(0<this.zb){p.dn(this.L);var p=m+n,y=0<p?1/p:0,b=e-b-this.Vc,e=2*ea*this.zb,x=y*e*e,I=a.step.Va;this.fb=I*(2*y*this.Ub*e+I*x);this.fb=0!==this.fb?1/this.fb:0;this.pe=b*I*x*this.fb;p+=this.fb;this.L.sa.z=0!==p?1/p:0}else 0===p.sa.z?p.dn(this.L):p.Vp(this.L),this.pe=this.fb=0;a.step.pd?(this.e.ul(a.step.xc),
p=U.prototype.ta.Ka.U(this.e.x,this.e.y),c.Ea(h,p),d-=m*(v(this.S,p)+this.e.z),f.Z(l,p),g+=n*(v(this.M,p)+this.e.z)):this.e.R();a.j[this.l].k=d;a.j[this.i].k=g};U.prototype.ta.Ka=new r;
U.prototype.n=function(a){var b=a.j[this.l].W,c=a.j[this.l].k,d=a.j[this.i].W,e=a.j[this.i].k,f=this.ra,g=this.ga,h=this.na,l=this.ea;if(0<this.zb){var m=-this.L.sa.z*(e-c+this.pe+this.fb*this.e.z);this.e.z+=m;c-=h*m;e+=l*m;m=w(gb(d,e,this.M,t),gb(b,c,this.S,Sa),U.prototype.n.wm);m=Db(this.L,m.x,m.y,U.prototype.n.Wo).la();this.e.x+=m.x;this.e.y+=m.y;b.Ea(f,m);c-=h*v(this.S,m);d.Z(g,m);e+=l*v(this.M,m)}else{var m=w(gb(d,e,this.M,t),gb(b,c,this.S,Sa),U.prototype.n.wm),n=Bb(this.L,m.x,m.y,e-c,U.prototype.n.Cf).la();
this.e.Da(n);m=U.prototype.n.Ka.U(n.x,n.y);b.Ea(f,m);c-=h*(v(this.S,m)+n.z);d.Z(g,m);e+=l*(v(this.M,m)+n.z)}a.j[this.l].k=c;a.j[this.i].k=e};U.prototype.SolveVelocityConstraints=U.prototype.n;k=U.prototype;k.n.wm=new r;k.n.Wo=new r;k.n.Cf=new z;k.n.Ka=new r;
k.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=this.Ia.fa(c),g=this.xa.fa(e),h=this.ra,l=this.ga,m=this.na,n=this.ea;w(this.aa,this.Ca,this.oa);var p=A(f,this.oa,this.S);w(this.Y,this.va,this.ia);var y=A(g,this.ia,this.M),x=this.Xa;x.C.x=h+l+p.y*p.y*m+y.y*y.y*n;x.J.x=-p.y*p.x*m-y.y*y.x*n;x.sa.x=-p.y*m-y.y*n;x.C.y=x.J.x;x.J.y=h+l+p.x*p.x*m+y.x*y.x*n;x.sa.y=p.x*m+y.x*n;x.C.z=x.sa.x;x.J.z=x.sa.y;x.sa.z=m+n;if(0<this.zb){var I=w(cb(d,y,t),cb(b,p,Sa),U.prototype.X.Vq),
g=I.Qc(),f=0,x=x.Sg(I.x,I.y,U.prototype.X.Ka).la();b.Ea(h,x);c-=m*v(p,x);d.Z(l,x);e+=n*v(y,x)}else I=w(cb(d,y,t),cb(b,p,Sa),U.prototype.X.Vq),y=e-c-this.Vc,g=I.Qc(),f=na(y),p=U.prototype.X.Cf,0<x.sa.z?x.Yj(I.x,I.y,y,p).la():(x=x.Sg(I.x,I.y,U.prototype.X.Xo).la(),p.x=x.x,p.y=x.y,p.z=0),x=U.prototype.X.Ka.U(p.x,p.y),b.Ea(h,x),c-=m*(v(this.S,x)+p.z),d.Z(l,x),e+=n*(v(this.M,x)+p.z);a.N[this.l].f=c;a.N[this.i].f=e;return.008>=g&&f<=fa};U.prototype.SolvePositionConstraints=U.prototype.X;k=U.prototype;
k.X.Vq=new r;k.X.Ka=new r;k.X.Cf=new z;k.X.Xo=new r;k.cc=function(a){return this.V.Xb(this.aa,a)};U.prototype.GetAnchorA=U.prototype.cc;U.prototype.dc=function(a){return this.P.Xb(this.Y,a)};U.prototype.GetAnchorB=U.prototype.dc;U.prototype.jc=function(a,b){return b.U(a*this.e.x,a*this.e.y)};U.prototype.GetReactionForce=U.prototype.jc;U.prototype.lc=function(a){return a*this.e.z};U.prototype.GetReactionTorque=U.prototype.lc;U.prototype.we=function(a){return a.d(this.aa)};
U.prototype.GetLocalAnchorA=U.prototype.we;U.prototype.xe=function(a){return a.d(this.Y)};U.prototype.GetLocalAnchorB=U.prototype.xe;U.prototype.Nj=function(){return this.Vc};U.prototype.GetReferenceAngle=U.prototype.Nj;U.prototype.Kh=function(a){this.zb=a};U.prototype.Hh=function(){return this.zb};U.prototype.GetFrequency=U.prototype.Hh;U.prototype.Jh=function(a){this.Ub=a};U.prototype.Gh=function(){return this.Ub};U.prototype.GetDampingRatio=U.prototype.Gh;U.prototype.$a=function(){};
U.prototype.Dump=U.prototype.$a;function Kh(){this.type=7;this.jb=new r(0,0);this.lb=new r(0,0);this.qg=new r(1,0)}ca(Kh,zh);q("box2d.b2WheelJointDef",Kh);Kh.prototype.jb=null;Kh.prototype.localAnchorA=Kh.prototype.jb;Kh.prototype.lb=null;Kh.prototype.localAnchorB=Kh.prototype.lb;Kh.prototype.qg=null;Kh.prototype.localAxisA=Kh.prototype.qg;Kh.prototype.Vg=!1;Kh.prototype.enableMotor=Kh.prototype.Vg;Kh.prototype.Ck=0;Kh.prototype.maxMotorTorque=Kh.prototype.Ck;Kh.prototype.th=0;Kh.prototype.motorSpeed=Kh.prototype.th;
Kh.prototype.Bd=2;Kh.prototype.frequencyHz=Kh.prototype.Bd;Kh.prototype.Ad=.7;Kh.prototype.dampingRatio=Kh.prototype.Ad;Kh.prototype.da=function(a,b,c,d){this.fc=a;this.vc=b;this.fc.Kd(c,this.jb);this.vc.Kd(c,this.lb);this.fc.nl(d,this.qg)};Kh.prototype.Initialize=Kh.prototype.da;
function T(a){K.call(this,a);this.zb=a.Bd;this.Ub=a.Ad;this.aa=a.jb.ba();this.Y=a.lb.ba();this.Dd=a.qg.ba();this.Fg=bb(1,this.Dd,new r);this.uf=a.Ck;this.wd=a.th;this.cd=a.Vg;this.Ca=new r;this.va=new r;this.Se=new r;this.De=new r;this.Ia=new Eb;this.xa=new Eb;this.oa=new r;this.ia=new r;this.S=new r;this.M=new r;this.Se.R();this.De.R()}ca(T,K);q("box2d.b2WheelJoint",T);T.prototype.zb=0;T.prototype.m_frequencyHz=T.prototype.zb;T.prototype.Ub=0;T.prototype.m_dampingRatio=T.prototype.Ub;
T.prototype.aa=null;T.prototype.m_localAnchorA=T.prototype.aa;T.prototype.Y=null;T.prototype.m_localAnchorB=T.prototype.Y;T.prototype.Dd=null;T.prototype.m_localXAxisA=T.prototype.Dd;T.prototype.Fg=null;T.prototype.m_localYAxisA=T.prototype.Fg;T.prototype.e=0;T.prototype.m_impulse=T.prototype.e;T.prototype.Ta=0;T.prototype.m_motorImpulse=T.prototype.Ta;T.prototype.Ke=0;T.prototype.m_springImpulse=T.prototype.Ke;T.prototype.uf=0;T.prototype.m_maxMotorTorque=T.prototype.uf;T.prototype.wd=0;
T.prototype.m_motorSpeed=T.prototype.wd;T.prototype.cd=!1;T.prototype.m_enableMotor=T.prototype.cd;T.prototype.l=0;T.prototype.m_indexA=T.prototype.l;T.prototype.i=0;T.prototype.m_indexB=T.prototype.i;T.prototype.Ca=null;T.prototype.m_localCenterA=T.prototype.Ca;T.prototype.va=null;T.prototype.m_localCenterB=T.prototype.va;T.prototype.ra=0;T.prototype.m_invMassA=T.prototype.ra;T.prototype.ga=0;T.prototype.m_invMassB=T.prototype.ga;T.prototype.na=0;T.prototype.m_invIA=T.prototype.na;
T.prototype.ea=0;T.prototype.m_invIB=T.prototype.ea;T.prototype.Se=null;T.prototype.m_ax=T.prototype.Se;T.prototype.De=null;T.prototype.m_ay=T.prototype.De;T.prototype.ni=0;T.prototype.m_sAx=T.prototype.ni;T.prototype.oi=0;T.prototype.m_sBx=T.prototype.oi;T.prototype.Ig=0;T.prototype.m_sAy=T.prototype.Ig;T.prototype.Jg=0;T.prototype.m_sBy=T.prototype.Jg;T.prototype.L=0;T.prototype.m_mass=T.prototype.L;T.prototype.zc=0;T.prototype.m_motorMass=T.prototype.zc;T.prototype.Yf=0;
T.prototype.m_springMass=T.prototype.Yf;T.prototype.pe=0;T.prototype.m_bias=T.prototype.pe;T.prototype.fb=0;T.prototype.m_gamma=T.prototype.fb;T.prototype.Ia=null;T.prototype.m_qA=T.prototype.Ia;T.prototype.xa=null;T.prototype.m_qB=T.prototype.xa;T.prototype.oa=null;T.prototype.m_lalcA=T.prototype.oa;T.prototype.ia=null;T.prototype.m_lalcB=T.prototype.ia;T.prototype.S=null;T.prototype.m_rA=T.prototype.S;T.prototype.M=null;T.prototype.m_rB=T.prototype.M;T.prototype.Mj=function(){return this.wd};
T.prototype.GetMotorSpeed=T.prototype.Mj;T.prototype.hn=function(){return this.uf};T.prototype.GetMaxMotorTorque=T.prototype.hn;T.prototype.Wu=function(a){this.zb=a};T.prototype.SetSpringFrequencyHz=T.prototype.Wu;T.prototype.ft=function(){return this.zb};T.prototype.GetSpringFrequencyHz=T.prototype.ft;T.prototype.Vu=function(a){this.Ub=a};T.prototype.SetSpringDampingRatio=T.prototype.Vu;T.prototype.et=function(){return this.Ub};T.prototype.GetSpringDampingRatio=T.prototype.et;
T.prototype.ta=function(a){this.l=this.V.hb;this.i=this.P.hb;this.Ca.d(this.V.m.Ba);this.va.d(this.P.m.Ba);this.ra=this.V.Oa;this.ga=this.P.Oa;this.na=this.V.rb;this.ea=this.P.rb;var b=this.ra,c=this.ga,d=this.na,e=this.ea,f=a.N[this.l].o,g=a.j[this.l].W,h=a.j[this.l].k,l=a.N[this.i].o,m=a.N[this.i].f,n=a.j[this.i].W,p=a.j[this.i].k,y=this.Ia.fa(a.N[this.l].f),x=this.xa.fa(m);w(this.aa,this.Ca,this.oa);m=A(y,this.oa,this.S);w(this.Y,this.va,this.ia);x=A(x,this.ia,this.M);f=w(cb(l,x,t),cb(f,m,Sa),
T.prototype.ta.rc);A(y,this.Fg,this.De);this.Ig=v(cb(f,m,t),this.De);this.Jg=v(x,this.De);this.L=b+c+d*this.Ig*this.Ig+e*this.Jg*this.Jg;0<this.L&&(this.L=1/this.L);this.fb=this.pe=this.Yf=0;0<this.zb?(A(y,this.Dd,this.Se),this.ni=v(cb(f,m,t),this.Se),this.oi=v(x,this.Se),b=b+c+d*this.ni*this.ni+e*this.oi*this.oi,0<b&&(this.Yf=1/b,c=u(f,this.Se),y=2*ea*this.zb,f=this.Yf*y*y,l=a.step.Va,this.fb=l*(2*this.Yf*this.Ub*y+l*f),0<this.fb&&(this.fb=1/this.fb),this.pe=c*l*f*this.fb,this.Yf=b+this.fb,0<this.Yf&&
(this.Yf=1/this.Yf))):this.Ke=0;this.cd?(this.zc=d+e,0<this.zc&&(this.zc=1/this.zc)):this.Ta=this.zc=0;a.step.pd?(this.e*=a.step.xc,this.Ke*=a.step.xc,this.Ta*=a.step.xc,d=cb(db(this.e,this.De,t),db(this.Ke,this.Se,Sa),T.prototype.ta.Ka),e=this.e*this.Ig+this.Ke*this.ni+this.Ta,b=this.e*this.Jg+this.Ke*this.oi+this.Ta,g.Ea(this.ra,d),h-=this.na*e,n.Z(this.ga,d),p+=this.ea*b):this.Ta=this.Ke=this.e=0;a.j[this.l].k=h;a.j[this.i].k=p};T.prototype.InitVelocityConstraints=T.prototype.ta;
T.prototype.ta.rc=new r;T.prototype.ta.Ka=new r;
T.prototype.n=function(a){var b=this.ra,c=this.ga,d=this.na,e=this.ea,f=a.j[this.l].W,g=a.j[this.l].k,h=a.j[this.i].W,l=a.j[this.i].k,m=u(this.Se,w(h,f,t))+this.oi*l-this.ni*g,m=-this.Yf*(m+this.pe+this.fb*this.Ke);this.Ke+=m;var n=db(m,this.Se,T.prototype.n.Ka),p=m*this.ni,m=m*this.oi;f.Ea(b,n);g-=d*p;h.Z(c,n);l+=e*m;m=l-g-this.wd;m*=-this.zc;n=this.Ta;p=a.step.Va*this.uf;this.Ta=Fa(this.Ta+m,-p,p);m=this.Ta-n;g-=d*m;l+=e*m;m=u(this.De,w(h,f,t))+this.Jg*l-this.Ig*g;m*=-this.L;this.e+=m;n=db(m,this.De,
T.prototype.n.Ka);p=m*this.Ig;m*=this.Jg;f.Ea(b,n);g-=d*p;h.Z(c,n);a.j[this.l].k=g;a.j[this.i].k=l+e*m};T.prototype.SolveVelocityConstraints=T.prototype.n;T.prototype.n.Ka=new r;
T.prototype.X=function(a){var b=a.N[this.l].o,c=a.N[this.l].f,d=a.N[this.i].o,e=a.N[this.i].f,f=this.Ia.fa(c),g=this.xa.fa(e);w(this.aa,this.Ca,this.oa);var h=A(f,this.oa,this.S);w(this.Y,this.va,this.ia);var g=A(g,this.ia,this.M),l=cb(w(d,b,t),w(g,h,Sa),T.prototype.X.rc),f=A(f,this.Fg,this.De),h=v(cb(l,h,t),f),g=v(g,f),l=u(l,this.De),m=this.ra+this.ga+this.na*this.Ig*this.Ig+this.ea*this.Jg*this.Jg,m=0!==m?-l/m:0,f=db(m,f,T.prototype.X.Ka),h=m*h,g=m*g;b.Ea(this.ra,f);c-=this.na*h;d.Z(this.ga,f);
e+=this.ea*g;a.N[this.l].f=c;a.N[this.i].f=e;return.008>=na(l)};T.prototype.SolvePositionConstraints=T.prototype.X;T.prototype.X.rc=new r;T.prototype.X.Ka=new r;T.prototype.Ym=function(a){return a};T.prototype.GetDefinition=T.prototype.Ym;T.prototype.cc=function(a){return this.V.Xb(this.aa,a)};T.prototype.GetAnchorA=T.prototype.cc;T.prototype.dc=function(a){return this.P.Xb(this.Y,a)};T.prototype.GetAnchorB=T.prototype.dc;
T.prototype.jc=function(a,b){b.x=a*(this.e*this.De.x+this.Ke*this.Se.x);b.y=a*(this.e*this.De.y+this.Ke*this.Se.y);return b};T.prototype.GetReactionForce=T.prototype.jc;T.prototype.lc=function(a){return a*this.Ta};T.prototype.GetReactionTorque=T.prototype.lc;T.prototype.we=function(a){return a.d(this.aa)};T.prototype.GetLocalAnchorA=T.prototype.we;T.prototype.xe=function(a){return a.d(this.Y)};T.prototype.GetLocalAnchorB=T.prototype.xe;T.prototype.fn=function(a){return a.d(this.Dd)};
T.prototype.GetLocalAxisA=T.prototype.fn;T.prototype.bf=function(){var a=this.V,b=this.P,c=a.Xb(this.aa,new r),b=b.Xb(this.Y,new r),c=w(b,c,new r),a=a.Oj(this.Dd,new r);return u(c,a)};T.prototype.GetJointTranslation=T.prototype.bf;T.prototype.Jj=function(){return this.P.eb-this.V.eb};T.prototype.GetJointSpeed=T.prototype.Jj;T.prototype.Pj=function(){return this.cd};T.prototype.IsMotorEnabled=T.prototype.Pj;T.prototype.Hj=function(a){this.V.ua(!0);this.P.ua(!0);this.cd=a};T.prototype.EnableMotor=T.prototype.Hj;
T.prototype.Vj=function(a){this.V.ua(!0);this.P.ua(!0);this.wd=a};T.prototype.SetMotorSpeed=T.prototype.Vj;T.prototype.In=function(a){this.V.ua(!0);this.P.ua(!0);this.uf=a};T.prototype.SetMaxMotorTorque=T.prototype.In;T.prototype.ln=function(a){return a*this.Ta};T.prototype.GetMotorTorque=T.prototype.ln;T.prototype.$a=function(){};T.prototype.Dump=T.prototype.$a;var Ph={Ix:0,Jx:2,Hx:4,Bx:8,kx:16,Gx:32,vx:64,Ex:128,hx:256,ix:512,fx:1024,Dx:2048,wx:4096,yx:8192,mx:16384,qx:32768,lx:65536,px:131072};q("box2d.b2ParticleFlag",Ph);Ph.b2_waterParticle=0;Ph.b2_zombieParticle=2;Ph.b2_wallParticle=4;Ph.b2_springParticle=8;Ph.b2_elasticParticle=16;Ph.b2_viscousParticle=32;Ph.b2_powderParticle=64;Ph.b2_tensileParticle=128;Ph.b2_colorMixingParticle=256;Ph.b2_destructionListenerParticle=512;Ph.b2_barrierParticle=1024;Ph.b2_staticPressureParticle=2048;
Ph.b2_reactiveParticle=4096;Ph.b2_repulsiveParticle=8192;Ph.b2_fixtureContactListenerParticle=16384;Ph.b2_particleContactListenerParticle=32768;Ph.b2_fixtureContactFilterParticle=65536;Ph.b2_particleContactFilterParticle=131072;function Qh(a,b,c,d){if(0!==arguments.length)if(a instanceof ta)this.Za=0|255*a.Za,this.Wa=0|255*a.Wa,this.Ua=0|255*a.Ua,this.f=0|255*a.f;else if(3<=arguments.length)this.Za=0|a||0,this.Wa=0|b||0,this.Ua=0|c||0,this.f=0|d||0;else throw Error();}q("box2d.b2ParticleColor",Qh);
Qh.prototype.Za=0;Qh.prototype.r=Qh.prototype.Za;Qh.prototype.Wa=0;Qh.prototype.g=Qh.prototype.Wa;Qh.prototype.Ua=0;Qh.prototype.b=Qh.prototype.Ua;Qh.prototype.f=0;Qh.prototype.a=Qh.prototype.f;Qh.prototype.Yp=function(){return 0===this.Za&&0===this.Wa&&0===this.Ua&&0===this.f};Qh.prototype.IsZero=Qh.prototype.Yp;Qh.prototype.es=function(a){a.Za=this.Za/255;a.Wa=this.Wa/255;a.Ua=this.Ua/255;a.f=this.f/255;return a};Qh.prototype.GetColor=Qh.prototype.es;
Qh.prototype.U=function(a,b,c,d){if(a instanceof ta)this.eq(a);else if(3<=arguments.length)this.kq(a||0,b||0,c||0,d);else throw Error();};Qh.prototype.Set=Qh.prototype.U;Qh.prototype.kq=function(a,b,c,d){this.Za=a;this.Wa=b;this.Ua=c;this.f="number"===typeof d?d:255};Qh.prototype.SetRGBA=Qh.prototype.kq;Qh.prototype.eq=function(a){this.Za=255*a.Za;this.Wa=255*a.Wa;this.Ua=255*a.Ua;this.f=255*a.f};Qh.prototype.SetColor=Qh.prototype.eq;
Qh.prototype.d=function(a){this.Za=a.Za;this.Wa=a.Wa;this.Ua=a.Ua;this.f=a.f;return this};Qh.prototype.Copy=Qh.prototype.d;Qh.prototype.ba=function(){return new Qh(this.Za,this.Wa,this.Ua,this.f)};Qh.prototype.bq=function(a){this.Za*=a;this.Wa*=a;this.Ua*=a;this.f*=a;return this};Qh.prototype.SelfMul_0_1=Qh.prototype.bq;Qh.prototype.cq=function(a){a+=1;this.Za=this.Za*a>>Rh;this.Wa=this.Wa*a>>Rh;this.Ua=this.Ua*a>>Rh;this.f=this.f*a>>Rh;return this};Qh.prototype.SelfMul_0_255=Qh.prototype.cq;
Qh.prototype.Lt=function(a,b){return b.d(this).bq(a)};Qh.prototype.Mul_0_1=Qh.prototype.Lt;Qh.prototype.Mt=function(a,b){return b.d(this).cq(a)};Qh.prototype.Mul_0_255=Qh.prototype.Mt;Qh.prototype.Da=function(a){this.Za+=a.Za;this.Wa+=a.Wa;this.Ua+=a.Ua;this.f+=a.f;return this};Qh.prototype.SelfAdd=Qh.prototype.Da;Qh.prototype.fr=function(a,b){b.Za=this.Za+a.Za;b.Wa=this.Wa+a.Wa;b.Ua=this.Ua+a.Ua;b.f=this.f+a.f;return b};Qh.prototype.Add=Qh.prototype.fr;
Qh.prototype.gb=function(a){this.Za-=a.Za;this.Wa-=a.Wa;this.Ua-=a.Ua;this.f-=a.f;return this};Qh.prototype.SelfSub=Qh.prototype.gb;Qh.prototype.jv=function(a,b){b.Za=this.Za-a.Za;b.Wa=this.Wa-a.Wa;b.Ua=this.Ua-a.Ua;b.f=this.f-a.f;return b};Qh.prototype.Sub=Qh.prototype.jv;Qh.prototype.tl=function(a){return this.Za===a.Za&&this.Wa===a.Wa&&this.Ua===a.Ua&&this.f===a.f};Qh.prototype.IsEqual=Qh.prototype.tl;Qh.prototype.Kt=function(a,b){Sh(this,a,b)};Qh.prototype.Mix=Qh.prototype.Kt;
function Sh(a,b,c){var d=c*(b.Za-a.Za)>>Rh,e=c*(b.Wa-a.Wa)>>Rh,f=c*(b.Ua-a.Ua)>>Rh;c=c*(b.f-a.f)>>Rh;a.Za+=d;a.Wa+=e;a.Ua+=f;a.f+=c;b.Za-=d;b.Wa-=e;b.Ua-=f;b.f-=c}Qh.MixColors=Sh;var Rh=8,Th=(1<<Rh)-1;Qh.k_maxValue=+Th;Qh.k_inverseMaxValue=1/+Th;Qh.k_bitsPerComponent=Rh;var Uh=new Qh;function Vh(){this.position=Ra.ba();this.Ng=Ra.ba();this.color=Uh.ba()}q("box2d.b2ParticleDef",Vh);Vh.prototype.yb=0;Vh.prototype.flags=Vh.prototype.yb;Vh.prototype.position=null;Vh.prototype.position=Vh.prototype.position;
Vh.prototype.Ng=null;Vh.prototype.velocity=Vh.prototype.Ng;Vh.prototype.color=null;Vh.prototype.color=Vh.prototype.color;Vh.prototype.Xh=0;Vh.prototype.lifetime=Vh.prototype.Xh;Vh.prototype.ic=null;Vh.prototype.userData=Vh.prototype.ic;Vh.prototype.group=null;Vh.prototype.group=Vh.prototype.group;function Oh(a,b,c){return Fa(Math.ceil(Math.sqrt(a/(.01*b))*c),1,8)}q("box2d.b2CalculateParticleIterations",Oh);function Wh(){}q("box2d.b2ParticleHandle",Wh);Wh.prototype.Dg=-1;Wh.prototype.ts=function(){return this.Dg};
Wh.prototype.GetIndex=Wh.prototype.ts;var Xh={Ax:1,zx:2,rx:4,tx:8,sx:16};q("box2d.b2ParticleGroupFlag",Xh);Xh.b2_solidParticleGroup=1;Xh.b2_rigidParticleGroup=2;Xh.b2_particleGroupCanBeEmpty=4;Xh.b2_particleGroupWillBeDestroyed=8;Xh.b2_particleGroupNeedsUpdateDepth=16;function Yh(){this.position=Ra.ba();this.Xg=Ra.ba();this.color=Uh.ba()}q("box2d.b2ParticleGroupDef",Yh);Yh.prototype.yb=0;Yh.prototype.flags=Yh.prototype.yb;Yh.prototype.eo=0;Yh.prototype.groupFlags=Yh.prototype.eo;Yh.prototype.position=null;Yh.prototype.position=Yh.prototype.position;
Yh.prototype.uc=0;Yh.prototype.angle=Yh.prototype.uc;Yh.prototype.Xg=null;Yh.prototype.linearVelocity=Yh.prototype.Xg;Yh.prototype.Mi=0;Yh.prototype.angularVelocity=Yh.prototype.Mi;Yh.prototype.color=null;Yh.prototype.color=Yh.prototype.color;Yh.prototype.gg=1;Yh.prototype.strength=Yh.prototype.gg;Yh.prototype.shape=null;Yh.prototype.shape=Yh.prototype.shape;Yh.prototype.ip=null;Yh.prototype.shapes=Yh.prototype.ip;Yh.prototype.$q=0;Yh.prototype.shapeCount=Yh.prototype.$q;Yh.prototype.lp=0;
Yh.prototype.stride=Yh.prototype.lp;Yh.prototype.No=0;Yh.prototype.particleCount=Yh.prototype.No;Yh.prototype.Uq=null;Yh.prototype.positionData=Yh.prototype.Uq;Yh.prototype.Xh=0;Yh.prototype.lifetime=Yh.prototype.Xh;Yh.prototype.ic=null;Yh.prototype.userData=Yh.prototype.ic;Yh.prototype.group=null;Yh.prototype.group=Yh.prototype.group;function Zh(){this.tg=new r;this.vb=new r;this.qh=new B;this.qh.lf()}q("box2d.b2ParticleGroup",Zh);k=Zh.prototype;k.Na=null;k.ub=0;k.Jb=0;k.hd=0;k.kj=1;k.Ha=null;
k.H=null;k.ph=-1;k.L=0;k.Zi=0;k.tg=null;k.vb=null;k.eb=0;k.qh=null;k.xd=null;k.Ec=function(){return this.H};Zh.prototype.GetNext=Zh.prototype.Ec;Zh.prototype.Ws=function(){return this.Na};Zh.prototype.GetParticleSystem=Zh.prototype.Ws;Zh.prototype.Ld=function(){return this.Jb-this.ub};Zh.prototype.GetParticleCount=Zh.prototype.Ld;Zh.prototype.as=function(){return this.ub};Zh.prototype.GetBufferIndex=Zh.prototype.as;function $h(a,b){return a.ub<=b&&b<a.Jb}
Zh.prototype.Tm=function(){for(var a=0,b=this.ub;b<this.Jb;b++)a|=this.Na.wa.data[b];return a};Zh.prototype.GetAllParticleFlags=Zh.prototype.Tm;Zh.prototype.ss=function(){return this.hd};Zh.prototype.GetGroupFlags=Zh.prototype.ss;Zh.prototype.ng=function(a){a|=this.hd&24;this.Na.ng(this,a)};Zh.prototype.SetGroupFlags=Zh.prototype.ng;Zh.prototype.ae=function(){this.Tg();return this.L};Zh.prototype.GetMass=Zh.prototype.ae;Zh.prototype.Pg=function(){this.Tg();return this.Zi};
Zh.prototype.GetInertia=Zh.prototype.Pg;Zh.prototype.Dh=function(){this.Tg();return this.tg};Zh.prototype.GetCenter=Zh.prototype.Dh;Zh.prototype.ve=function(){this.Tg();return this.vb};Zh.prototype.GetLinearVelocity=Zh.prototype.ve;Zh.prototype.kl=function(){this.Tg();return this.eb};Zh.prototype.GetAngularVelocity=Zh.prototype.kl;Zh.prototype.Fc=function(){return this.qh};Zh.prototype.GetTransform=Zh.prototype.Fc;Zh.prototype.ff=function(){return this.qh.ca};Zh.prototype.GetPosition=Zh.prototype.ff;
Zh.prototype.Wb=function(){return this.qh.Q.Wb()};Zh.prototype.GetAngle=Zh.prototype.Wb;Zh.prototype.df=function(a,b){var c=new r;this.Tg();return gb(this.vb,this.eb,w(a,this.tg,c),b)};Zh.prototype.GetLinearVelocityFromWorldPoint=Zh.prototype.df;Zh.prototype.$c=function(){return this.xd};Zh.prototype.GetUserData=Zh.prototype.$c;Zh.prototype.Nh=function(a){this.xd=a};Zh.prototype.SetUserData=Zh.prototype.Nh;Zh.prototype.te=function(a){this.Na.te(this.ub,this.Jb,a)};Zh.prototype.ApplyForce=Zh.prototype.te;
Zh.prototype.ue=function(a){this.Na.ue(this.ub,this.Jb,a)};Zh.prototype.ApplyLinearImpulse=Zh.prototype.ue;Zh.prototype.Br=function(a){if(!this.Na.bb.Sc)for(var b=this.ub;b<this.Jb;b++)this.Na.Gi(b,a)};Zh.prototype.DestroyParticles=Zh.prototype.Br;
Zh.prototype.Tg=function(){var a=new r,b=new r;if(this.ph!=this.Na.ph){var c=ai(this.Na);this.L=c*(this.Jb-this.ub);this.tg.R();this.vb.R();for(var d=this.ub;d<this.Jb;d++)this.tg.Z(c,this.Na.wb.data[d]),this.vb.Z(c,this.Na.sb.data[d]);0<this.L&&(d=1/this.L,this.tg.cb(d),this.vb.cb(d));this.eb=this.Zi=0;for(d=this.ub;d<this.Jb;d++)w(this.Na.wb.data[d],this.tg,a),w(this.Na.sb.data[d],this.vb,b),this.Zi+=c*u(a,a),this.eb+=c*v(a,b);0<this.Zi&&(this.eb*=1/this.Zi);this.ph=this.Na.ph}};
Zh.prototype.UpdateStatistics=Zh.prototype.Tg;function bi(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function ci(a,b,c){var d=0;"number"!==typeof d&&(d=0);"number"!==typeof b&&(b=a.length-d);"function"!==typeof c&&(c=function(a,b){return a<b});for(var e=[],f=0;;){for(;d+1<b;b++){var g=a[d+Math.floor(Math.random()*(b-d))];e[f++]=b;for(var h=d-1;;){for(;c(a[++h],g););for(;c(g,a[--b]););if(h>=b)break;bi(a,h,b)}}if(0===f)break;d=b;b=e[--f]}}
function di(a,b,c){"number"!==typeof c&&(c=a.length);for(var d=0,e=0;e<c;++e)b(a[e])||(e===d?++d:bi(a,d++,e));return d}function ei(a,b,c){var d=0,e=fi;"function"!==typeof e&&(e=function(a,b){return a<b});for(b-=d;0<b;){var f=Math.floor(b/2),g=d+f;e(a[g],c)?(d=++g,b-=f+1):b=f}return d}function gi(a,b,c,d){var e=hi;"function"!==typeof e&&(e=function(a,b){return a<b});for(c-=b;0<c;){var f=Math.floor(c/2),g=b+f;e(d,a[g])?c=f:(b=++g,c-=f+1)}return b}
function ii(a,b,c,d){for(var e=c;b!==e;)bi(a,b++,e++),e===d?e=c:b===c&&(c=e)}function ji(a){this.data=[];this.Rh=this.count=0;this.Qh=a}k=ji.prototype;k.data=null;k.count=0;k.Rh=0;k.Qh=function(){return null};function ki(a){if(a.count>=a.Rh){var b=a.Rh?2*a.Rh:256;if(!(a.Rh>=b)){for(var c=a.Rh;c<b;++c)a.data[c]=a.Qh();a.Rh=b}}return a.count++}k.Fh=function(){return this.count};function li(a,b){for(var c=0,d=0;d<a.count;++d)b(a.data[d])||c++;a.count=di(a.data,b,a.count)}
function mi(a,b){var c;c=a.data;var d=a.count,e=0;if(e===d)c=d;else{for(var f=e;++e!==d;)b(c[f],c[e])||bi(c,++f,e);c=++f}a.count=c}function ni(a){this.Na=a}ca(ni,pf);ni.prototype.Na=null;ni.prototype.Rg=function(){return!1};ni.prototype.If=function(a){if(a.vd)return!0;for(var b=a.Ja.Jd(),c=0;c<b;c++)for(var d=oi(this.Na,a.Ip(c)),e;0<=(e=d.Ec());)this.Ki(a,c,e);return!0};q("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture",ni.prototype.If);ni.prototype.Jf=function(){return!1};
q("box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle",ni.prototype.Jf);ni.prototype.Ki=function(){};q("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle",ni.prototype.Ki);function pi(){this.u=new r}q("box2d.b2ParticleContact",pi);pi.prototype.B=0;pi.prototype.indexA=pi.prototype.B;pi.prototype.D=0;pi.prototype.indexB=pi.prototype.D;pi.prototype.weight=0;pi.prototype.weight=pi.prototype.weight;pi.prototype.u=null;pi.prototype.normal=pi.prototype.u;
pi.prototype.yb=0;pi.prototype.flags=pi.prototype.yb;pi.prototype.Hu=function(a,b){this.B=a;this.D=b};pi.prototype.SetIndices=pi.prototype.Hu;pi.prototype.gv=function(a){this.weight=a};pi.prototype.SetWeight=pi.prototype.gv;pi.prototype.Ou=function(a){this.u.d(a)};pi.prototype.SetNormal=pi.prototype.Ou;pi.prototype.Dn=function(a){this.yb=a};pi.prototype.SetFlags=pi.prototype.Dn;pi.prototype.us=function(){return this.B};pi.prototype.GetIndexA=pi.prototype.us;pi.prototype.vs=function(){return this.D};
pi.prototype.GetIndexB=pi.prototype.vs;pi.prototype.ut=function(){return this.weight};pi.prototype.GetWeight=pi.prototype.ut;pi.prototype.Ps=function(){return this.u};pi.prototype.GetNormal=pi.prototype.Ps;pi.prototype.ml=function(){return this.yb};pi.prototype.GetFlags=pi.prototype.ml;pi.prototype.tl=function(a){return this.B===a.B&&this.D===a.D&&this.yb===a.yb&&this.weight===a.weight&&this.u.x===a.u.x&&this.u.y===a.u.y};pi.prototype.IsEqual=pi.prototype.tl;pi.prototype.Ft=function(a){return!this.tl(a)};
pi.prototype.IsNotEqual=pi.prototype.Ft;pi.prototype.kr=function(a){return this.B===a.B&&this.D===a.D&&this.yb===a.yb&&.01>na(this.weight-a.weight)&&1E-4>kb(this.u,a.u)};pi.prototype.ApproximatelyEqual=pi.prototype.kr;function qi(){this.u=new r}q("box2d.b2ParticleBodyContact",qi);qi.prototype.index=0;qi.prototype.index=qi.prototype.index;qi.prototype.body=null;qi.prototype.body=qi.prototype.body;qi.prototype.ne=null;qi.prototype.fixture=qi.prototype.ne;qi.prototype.weight=0;qi.prototype.weight=qi.prototype.weight;
qi.prototype.u=null;qi.prototype.normal=qi.prototype.u;qi.prototype.Xc=0;qi.prototype.mass=qi.prototype.Xc;function ri(){}q("box2d.b2ParticlePair",ri);ri.prototype.B=0;ri.prototype.indexA=ri.prototype.B;ri.prototype.D=0;ri.prototype.indexB=ri.prototype.D;ri.prototype.yb=0;ri.prototype.flags=ri.prototype.yb;ri.prototype.gg=0;ri.prototype.strength=ri.prototype.gg;ri.prototype.ce=0;ri.prototype.distance=ri.prototype.ce;function si(){this.Fk=new r(0,0);this.Gk=new r(0,0);this.Hk=new r(0,0)}
q("box2d.b2ParticleTriad",si);si.prototype.B=0;si.prototype.indexA=si.prototype.B;si.prototype.D=0;si.prototype.indexB=si.prototype.D;si.prototype.oe=0;si.prototype.indexC=si.prototype.oe;si.prototype.yb=0;si.prototype.flags=si.prototype.yb;si.prototype.gg=0;si.prototype.strength=si.prototype.gg;si.prototype.Fk=null;si.prototype.pa=si.prototype.Fk;si.prototype.Gk=null;si.prototype.pb=si.prototype.Gk;si.prototype.Hk=null;si.prototype.pc=si.prototype.Hk;si.prototype.Dq=0;si.prototype.ka=si.prototype.Dq;
si.prototype.Eq=0;si.prototype.kb=si.prototype.Eq;si.prototype.Fq=0;si.prototype.kc=si.prototype.Fq;si.prototype.Sb=0;si.prototype.s=si.prototype.Sb;function ti(){}q("box2d.b2ParticleSystemDef",ti);ti.prototype.Ei=!1;ti.prototype.strictContactCheck=ti.prototype.Ei;ti.prototype.rd=1;ti.prototype.density=ti.prototype.rd;ti.prototype.mf=1;ti.prototype.gravityScale=ti.prototype.mf;ti.prototype.um=1;ti.prototype.radius=ti.prototype.um;ti.prototype.qi=0;ti.prototype.maxCount=ti.prototype.qi;
ti.prototype.tm=.005;ti.prototype.pressureStrength=ti.prototype.tm;ti.prototype.Sh=1;ti.prototype.dampingStrength=ti.prototype.Sh;ti.prototype.Jl=.25;ti.prototype.elasticStrength=ti.prototype.Jl;ti.prototype.Am=.25;ti.prototype.springStrength=ti.prototype.Am;ti.prototype.Gm=.25;ti.prototype.viscousStrength=ti.prototype.Gm;ti.prototype.Em=.2;ti.prototype.surfaceTensionPressureStrength=ti.prototype.Em;ti.prototype.Dm=.2;ti.prototype.surfaceTensionNormalStrength=ti.prototype.Dm;ti.prototype.vm=1;
ti.prototype.repulsiveStrength=ti.prototype.vm;ti.prototype.sm=.5;ti.prototype.powderStrength=ti.prototype.sm;ti.prototype.Il=.5;ti.prototype.ejectionStrength=ti.prototype.Il;ti.prototype.Cm=.2;ti.prototype.staticPressureStrength=ti.prototype.Cm;ti.prototype.Bm=.2;ti.prototype.staticPressureRelaxation=ti.prototype.Bm;ti.prototype.yj=8;ti.prototype.staticPressureIterations=ti.prototype.yj;ti.prototype.El=.5;ti.prototype.colorMixingStrength=ti.prototype.El;ti.prototype.Th=!0;
ti.prototype.destroyByAge=ti.prototype.Th;ti.prototype.Oi=1/60;ti.prototype.lifetimeGranularity=ti.prototype.Oi;ti.prototype.d=function(a){this.Ei=a.Ei;this.rd=a.rd;this.mf=a.mf;this.um=a.um;this.qi=a.qi;this.tm=a.tm;this.Sh=a.Sh;this.Jl=a.Jl;this.Am=a.Am;this.Gm=a.Gm;this.Em=a.Em;this.Dm=a.Dm;this.vm=a.vm;this.sm=a.sm;this.Il=a.Il;this.Cm=a.Cm;this.Bm=a.Bm;this.yj=a.yj;this.El=a.El;this.Th=a.Th;this.Oi=a.Oi;return this};ti.prototype.ba=function(){return(new ti).d(this)};
function Z(a,b){ui(this,a,b)}q("box2d.b2ParticleSystem",Z);k=Z.prototype;k.Fo=!1;k.ph=0;k.Ob=0;k.gm=!1;k.qf=0;k.Ao=!1;k.hi=!1;k.am=0;k.Mq=0;k.Nc=0;k.He=0;k.mm=0;k.h=0;k.$i=0;k.Mc=null;k.wa=null;k.wb=null;k.sb=null;k.Fe=null;k.Wd=null;k.jd=null;k.Jc=null;k.pf=null;k.$b=null;k.yc=null;k.Pb=null;k.md=null;k.om=0;k.he=null;k.Nd=null;k.Pd=null;k.lj=null;k.Ab=null;k.Ga=null;k.Hb=null;k.Rb=null;k.Hd=null;k.Lc=null;k.ud=null;k.pj=0;k.qo=!1;k.to=0;k.Ge=null;k.Ra=null;k.bb=null;k.Ha=null;k.H=null;
function vi(a,b){return(b+2048>>>0<<20)+(256*a+524288>>>0)>>>0}function wi(){}function xi(){}ca(xi,wi);xi.prototype.da=function(){};function yi(){}ca(yi,wi);yi.prototype.da=function(){};function zi(){}zi.prototype.Qj=function(){return!0};zi.prototype.oq=function(){return!0};zi.prototype.pq=function(){return!0};
function ui(a,b,c){a.Mc=new Ai;a.wa=new Ai;a.wb=new Ai;a.sb=new Ai;a.Fe=[];a.Wd=[];a.jd=[];a.Jc=[];a.pf=[];a.$b=[];a.yc=new Ai;a.Pb=[];a.md=new Ai;a.he=new Ai;a.Nd=new Ai;a.Pd=new Ai;a.lj=new ji(function(){return 0});a.Ab=new ji(function(){return new Bi});a.Ga=new ji(function(){return new pi});a.Hb=new ji(function(){return new qi});a.Rb=new ji(function(){return new ri});a.Hd=new ji(function(){return new si});a.Lc=new Ai;a.ud=new Ai;a.Ra=new ti;a.nq(b.Ei);a.wl(b.rd);a.xl(b.mf);a.lq(b.um);a.hq(b.qi);
a.Ra=b.ba();a.bb=c;a.fq(a.Ra.Th)}
Z.prototype.Lm=function(a){if(this.bb.Sc)return 0;this.h>=this.$i&&Ci(this,this.h?2*this.h:256);if(this.h>=this.$i)if(this.Ra.Th){var b=this.ud.data[this.Ld()-1],c=this.ud.data[0];this.Gi(0<this.Lc.data[b]?b:c,!1);Di(this)}else return-1;b=this.h++;this.wa.data[b]=0;this.he.data&&(this.he.data[b]=0);this.Nd.data&&(this.Nd.data[b]=0);this.Pd.data&&(this.Pd.data[b]=0);this.wb.data[b]=a.position.ba();this.sb.data[b]=a.Ng.ba();this.Wd[b]=0;this.Fe[b]=Ra.ba();this.jd&&(this.jd[b]=0);this.$b&&(this.$b[b]=
0);if(this.yc.data||!a.color.Yp())this.yc.data=ek(this,this.yc.data),this.yc.data[b]=a.color.ba();if(this.md.data||a.ic)this.md.data=ek(this,this.md.data),this.md.data[b]=a.ic;this.Mc.data&&(this.Mc.data[b]=null);var c=this.Ab.data[ki(this.Ab)],d=0<a.Xh;if(this.Lc.data||d)this.Ln(b,d?a.Xh:this.Qm(-(this.pj>>32>>0))),this.ud.data[b]=b;c.index=b;c=a.group;if(this.Pb[b]=c)c.ub<c.Jb?fk(this,c.ub,c.Jb,b):c.ub=b,c.Jb=b+1;this.Kn(b,a.yb);return b};Z.prototype.CreateParticle=Z.prototype.Lm;
Z.prototype.Vs=function(a){this.Mc.data=ek(this,this.Mc.data);var b=this.Mc.data[a];if(b)return b;b=new Wh;b.Dg=a;return this.Mc.data[a]=b};Z.prototype.GetParticleHandleFromIndex=Z.prototype.Vs;Z.prototype.Gi=function(a,b){var c=2;b&&(c|=512);this.Kn(a,this.wa.data[a]|c)};Z.prototype.DestroyParticle=Z.prototype.Gi;function gk(a,b,c,d){this.Na=a;this.Ja=b;this.ja=c;this.Jq=d;this.oo=0}ca(gk,pf);k=gk.prototype;k.Na=null;k.Ja=null;k.ja=null;k.Jq=!1;k.oo=0;k.If=function(){return!1};
k.Jf=function(a,b){if(a!==this.Na)return!1;this.Ja.nc(this.ja,this.Na.wb.data[b])&&(this.Na.Gi(b,this.Jq),this.oo++);return!0};Z.prototype.Dr=function(a,b,c){if(this.bb.Sc)return 0;c=new gk(this,a,b,c);var d=new xc;a.ib(d,b,0);this.bb.jf(c,d);return c.oo};Z.prototype.DestroyParticlesInShape=Z.prototype.Dr;
Z.prototype.Ap=function(a){if(this.bb.Sc)return null;var b=new B;b.U(a.position,a.uc);var c=this.h;a.shape&&this.Cp(a.shape,a,b);a.ip&&this.Dp(a.ip,a.$q,a,b);if(a.No)for(var d=0;d<a.No;d++)this.fl(a,b,a.Uq[d]);var e=this.h,f=new Zh;f.Na=this;f.ub=c;f.Jb=e;f.kj=a.gg;f.xd=a.ic;f.qh.d(b);f.Ha=null;if(f.H=this.Ge)this.Ge.Ha=f;this.Ge=f;++this.to;for(d=c;d<e;d++)this.Pb[d]=f;this.ng(f,a.eo);b=new zi;hk(this,!0);ik(this,c,e,b);a.group&&(this.Zp(a.group,f),f=a.group);return f};
Z.prototype.CreateParticleGroup=Z.prototype.Ap;function jk(a){this.yf=a}ca(jk,zi);jk.prototype.yf=0;jk.prototype.oq=function(a,b){return a<this.yf&&this.yf<=b||b<this.yf&&this.yf<=a};jk.prototype.pq=function(a,b,c){return(a<this.yf||b<this.yf||c<this.yf)&&(this.yf<=a||this.yf<=b||this.yf<=c)};
Z.prototype.Zp=function(a,b){if(!this.bb.Sc){fk(this,b.ub,b.Jb,this.h);fk(this,a.ub,a.Jb,b.ub);var c=new jk(b.ub);hk(this,!0);ik(this,a.ub,b.Jb,c);for(c=b.ub;c<b.Jb;c++)this.Pb[c]=a;this.ng(a,a.hd|b.hd);a.Jb=b.Jb;b.ub=b.Jb;this.Om(b)}};Z.prototype.JoinParticleGroups=Z.prototype.Zp;Z.prototype.iv=function(a){hk(this,!0);var b=oa(a.Ld(),function(){return new kk});lk(a,b);mk(this,a,b);var c=nk(a,b);ok(this,a,b,c);pk(this,a,b,c);qk(this,a,b)};Z.prototype.SplitParticleGroup=Z.prototype.iv;
Z.prototype.Us=function(){return this.Ge};Z.prototype.GetParticleGroupList=Z.prototype.Us;Z.prototype.Ts=function(){return this.to};Z.prototype.GetParticleGroupCount=Z.prototype.Ts;Z.prototype.Ld=function(){return this.h};Z.prototype.GetParticleCount=Z.prototype.Ld;Z.prototype.Ms=function(){return this.Ra.qi};Z.prototype.GetMaxParticleCount=Z.prototype.Ms;Z.prototype.hq=function(a){this.Ra.qi=a};Z.prototype.SetMaxParticleCount=Z.prototype.hq;Z.prototype.Tm=function(){return this.Ob};
Z.prototype.GetAllParticleFlags=Z.prototype.Tm;Z.prototype.Qr=function(){return this.qf};Z.prototype.GetAllGroupFlags=Z.prototype.Qr;Z.prototype.Pu=function(a){this.Fo=a};Z.prototype.SetPaused=Z.prototype.Pu;Z.prototype.Ys=function(){return this.Fo};Z.prototype.GetPaused=Z.prototype.Ys;Z.prototype.wl=function(a){this.Ra.rd=a;this.Mq=1/this.Ra.rd};Z.prototype.SetDensity=Z.prototype.wl;Z.prototype.ll=function(){return this.Ra.rd};Z.prototype.GetDensity=Z.prototype.ll;
Z.prototype.xl=function(a){this.Ra.mf=a};Z.prototype.SetGravityScale=Z.prototype.xl;Z.prototype.cn=function(){return this.Ra.mf};Z.prototype.GetGravityScale=Z.prototype.cn;Z.prototype.Au=function(a){this.Ra.Sh=a};Z.prototype.SetDamping=Z.prototype.Au;Z.prototype.ls=function(){return this.Ra.Sh};Z.prototype.GetDamping=Z.prototype.ls;Z.prototype.Xu=function(a){this.Ra.yj=a};Z.prototype.SetStaticPressureIterations=Z.prototype.Xu;Z.prototype.gt=function(){return this.Ra.yj};
Z.prototype.GetStaticPressureIterations=Z.prototype.gt;Z.prototype.lq=function(a){this.Nc=2*a;this.mm=this.Nc*this.Nc;this.He=1/this.Nc};Z.prototype.SetRadius=Z.prototype.lq;Z.prototype.Tp=function(){return this.Nc/2};Z.prototype.GetRadius=Z.prototype.Tp;Z.prototype.Zs=function(){return this.wb.data};Z.prototype.GetPositionBuffer=Z.prototype.Zs;Z.prototype.rt=function(){return this.sb.data};Z.prototype.GetVelocityBuffer=Z.prototype.rt;Z.prototype.Lp=function(){this.yc.data=ek(this,this.yc.data);return this.yc.data};
Z.prototype.GetColorBuffer=Z.prototype.Lp;Z.prototype.rs=function(){return this.Pb};Z.prototype.GetGroupBuffer=Z.prototype.rs;Z.prototype.vt=function(){return this.Wd};Z.prototype.GetWeightBuffer=Z.prototype.vt;Z.prototype.qt=function(){this.md.data=ek(this,this.md.data);return this.md.data};Z.prototype.GetUserDataBuffer=Z.prototype.qt;Z.prototype.qs=function(){return this.wa.data};Z.prototype.GetFlagsBuffer=Z.prototype.qs;
Z.prototype.Kn=function(a,b){this.wa.data[a]&~b&&(this.gm=!0);~this.Ob&b&&(b&128&&(this.pf=ek(this,this.pf)),b&256&&(this.yc.data=ek(this,this.yc.data)),this.Ob|=b);this.wa.data[a]=b};Z.prototype.SetParticleFlags=Z.prototype.Kn;Z.prototype.Ss=function(a){return this.wa.data[a]};Z.prototype.GetParticleFlags=Z.prototype.Ss;Z.prototype.Fu=function(a,b){var c=this.wa;c.data=a;c.Ef=b};Z.prototype.SetFlagsBuffer=Z.prototype.Fu;Z.prototype.Qu=function(a,b){var c=this.wb;c.data=a;c.Ef=b};
Z.prototype.SetPositionBuffer=Z.prototype.Qu;Z.prototype.ev=function(a,b){var c=this.sb;c.data=a;c.Ef=b};Z.prototype.SetVelocityBuffer=Z.prototype.ev;Z.prototype.wu=function(a,b){var c=this.yc;c.data=a;c.Ef=b};Z.prototype.SetColorBuffer=Z.prototype.wu;Z.prototype.dv=function(a,b){var c=this.md;c.data=a;c.Ef=b};Z.prototype.SetUserDataBuffer=Z.prototype.dv;Z.prototype.gs=function(){return this.Ga.data};Z.prototype.GetContacts=Z.prototype.gs;Z.prototype.Vm=function(){return this.Ga.count};
Z.prototype.GetContactCount=Z.prototype.Vm;Z.prototype.Zr=function(){return this.Hb.data};Z.prototype.GetBodyContacts=Z.prototype.Zr;Z.prototype.Yr=function(){return this.Hb.count};Z.prototype.GetBodyContactCount=Z.prototype.Yr;Z.prototype.Rs=function(){return this.Rb.data};Z.prototype.GetPairs=Z.prototype.Rs;Z.prototype.Qs=function(){return this.Rb.count};Z.prototype.GetPairCount=Z.prototype.Qs;Z.prototype.pt=function(){return this.Hd.data};Z.prototype.GetTriads=Z.prototype.pt;Z.prototype.ot=function(){return this.Hd.count};
Z.prototype.GetTriadCount=Z.prototype.ot;Z.prototype.jt=function(){return this.lj.data};Z.prototype.GetStuckCandidates=Z.prototype.jt;Z.prototype.it=function(){return this.lj.Fh()};Z.prototype.GetStuckCandidateCount=Z.prototype.it;Z.prototype.qr=function(){for(var a=new r,b=this.sb.data,c=0,d=0;d<this.Ga.count;d++){var e=this.Ga.data[d],f=e.u,e=w(b[e.D],b[e.B],a),f=u(e,f);0>f&&(c+=f*f)}return.5*ai(this)*c};Z.prototype.ComputeCollisionEnergy=Z.prototype.qr;Z.prototype.nq=function(a){this.Ra.Ei=a};
Z.prototype.SetStrictContactCheck=Z.prototype.nq;Z.prototype.ht=function(){return this.Ra.Ei};Z.prototype.GetStrictContactCheck=Z.prototype.ht;Z.prototype.Ln=function(a,b){var c=null===this.ud.data;this.Lc.data=ek(this,this.Lc.data);this.ud.data=ek(this,this.ud.data);if(c)for(var c=this.Ld(),d=0;d<c;++d)this.ud.data[d]=d;c=0|b/this.Ra.Oi;c=0<c?(this.pj>>32>>0)+c:c;c!==this.Lc.data[a]&&(this.Lc.data[a]=c,this.qo=!0)};Z.prototype.SetParticleLifetime=Z.prototype.Ln;Z.prototype.Sp=function(a){return this.Qm(this.Zm()[a])};
Z.prototype.GetParticleLifetime=Z.prototype.Sp;Z.prototype.fq=function(a){a&&this.Zm();this.Ra.Th=a};Z.prototype.SetDestructionByAge=Z.prototype.fq;Z.prototype.ms=function(){return this.Ra.Th};Z.prototype.GetDestructionByAge=Z.prototype.ms;Z.prototype.Zm=function(){this.Lc.data=ek(this,this.Lc.data);return this.Lc.data};Z.prototype.GetExpirationTimeBuffer=Z.prototype.Zm;Z.prototype.Qm=function(a){return(0<a?a-(this.pj>>32>>0):a)*this.Ra.Oi};Z.prototype.ExpirationTimeToLifetime=Z.prototype.Qm;
Z.prototype.ws=function(){this.Ld()?this.Ln(0,this.Sp(0)):this.ud.data=ek(this,this.ud.data);return this.ud.data};Z.prototype.GetIndexByExpirationTimeBuffer=Z.prototype.ws;Z.prototype.Nt=function(a,b){this.ue(a,a+1,b)};Z.prototype.ParticleApplyLinearImpulse=Z.prototype.Nt;Z.prototype.ue=function(a,b,c){var d=this.sb.data,e=(b-a)*ai(this);for(c=c.ba().cb(1/e);a<b;a++)d[a].Da(c)};Z.prototype.ApplyLinearImpulse=Z.prototype.ue;
Z.prototype.un=function(a,b){0===b.x&&0===b.y||this.wa.data[a]&4||(rk(this),this.Fe[a].Da(b))};Z.prototype.ParticleApplyForce=Z.prototype.un;Z.prototype.te=function(a,b,c){for(var d=a;d<b;d++);c=c.ba().cb(1/(b-a));if(0!==c.x||0!==c.y)for(rk(this),d=a;d<b;d++)this.Fe[d].Da(c)};Z.prototype.ApplyForce=Z.prototype.te;Z.prototype.Ec=function(){return this.H};Z.prototype.GetNext=Z.prototype.Ec;
Z.prototype.jf=function(a,b){if(0!==this.Ab.count)for(var c=this.Ab.count,d=ei(this.Ab.data,c,vi(this.He*b.lowerBound.x,this.He*b.lowerBound.y)),c=gi(this.Ab.data,d,c,vi(this.He*b.upperBound.x,this.He*b.upperBound.y)),e=this.wb.data;d<c;++d){var f=this.Ab.data[d].index,g=e[f];if(b.lowerBound.x<g.x&&g.x<b.upperBound.x&&b.lowerBound.y<g.y&&g.y<b.upperBound.y&&!a.Jf(this,f))break}};Z.prototype.QueryAABB=Z.prototype.jf;Z.prototype.Tt=function(a,b,c,d){var e=new xc;b.ib(e,c,d||0);this.jf(a,e)};
Z.prototype.QueryShapeAABB=Z.prototype.Tt;Z.prototype.St=function(a,b,c){var d=new xc;c="number"===typeof c?c:.008;d.lowerBound.U(b.x-c,b.y-c);d.upperBound.U(b.x+c,b.y+c);this.jf(a,d)};Z.prototype.QueryPointAABB=Z.prototype.St;
Z.prototype.ha=function(a,b,c){var d=new xc,e=new r,f=new r,g=new r,h=new r;if(0!==this.Ab.count){var l=this.wb.data;Za(b,c,d.lowerBound);$a(b,c,d.upperBound);var m=1;c=w(c,b,f);for(var f=u(c,c),d=oi(this,d),n;0<=(n=d.Ec());){var p=w(b,l[n],e),y=u(p,c),x=y*y-f*(u(p,p)-this.mm);if(0<=x){var I=Na(x),x=(-y-I)/f;if(!(x>m)){if(0>x&&(x=(-y+I)/f,0>x||x>m))continue;p=eb(p,x,c,g);p.ec();n=a.Jf(this,n,eb(b,x,c,h),p,x);m=Da(m,n);if(0>=m)break}}}}};Z.prototype.RayCast=Z.prototype.ha;
Z.prototype.ib=function(a){var b=this.Ld();a.lowerBound.x=1E37;a.lowerBound.y=1E37;a.upperBound.x=-1E37;a.upperBound.y=-1E37;for(var c=this.wb.data,d=0;d<b;d++){var e=c[d];Za(a.lowerBound,e,a.lowerBound);$a(a.upperBound,e,a.upperBound)}a.lowerBound.x-=this.Nc;a.lowerBound.y-=this.Nc;a.upperBound.x+=this.Nc;a.upperBound.y+=this.Nc};Z.prototype.ComputeAABB=Z.prototype.ib;function Ai(){}Ai.prototype.data=null;Ai.prototype.Ef=0;function Bi(){}Bi.prototype.index=-1;Bi.prototype.tag=0;
function sk(a,b){return a.tag<b.tag}function hi(a,b){return a<b.tag}function fi(a,b){return a.tag<b}function tk(a,b,c,d,e){this.Na=a;this.uv=(b&1048575)>>>0;this.vv=(c&1048575)>>>0;this.Wl=d;this.rv=e}tk.prototype.Ec=function(){for(;this.Wl<this.rv;){var a=(this.Na.Ab.data[this.Wl].tag&1048575)>>>0;if(a>=this.uv&&a<=this.vv)return this.Na.Ab.data[this.Wl++].index;this.Wl++}return-1};function kk(){}kk.prototype.list=null;kk.prototype.next=null;kk.prototype.count=0;kk.prototype.index=0;
function uk(a,b,c,d){d&&!a||b||(a=a?a.slice():[],a.length=c);return a}function vk(a,b,c){return uk(a.data,a.Ef,b,c)}function ek(a,b){b||(0===a.$i&&Ci(a,256),b=[],b.length=a.$i);return b}
function Ci(a,b){function c(a,b){return b&&a>b?b:a}b=c(b,a.Ra.qi);b=c(b,a.wa.Ef);b=c(b,a.wb.Ef);b=c(b,a.sb.Ef);b=c(b,a.yc.Ef);b=c(b,a.md.Ef);if(a.$i<b){a.Mc.data=vk(a.Mc,b,!0);a.wa.data=vk(a.wa,b,!1);var d=0<a.om;a.he.data=vk(a.he,b,d);a.Nd.data=vk(a.Nd,b,d);a.Pd.data=vk(a.Pd,b,d);a.wb.data=vk(a.wb,b,!1);a.sb.data=vk(a.sb,b,!1);a.Fe=uk(a.Fe,0,b,!1);a.Wd=uk(a.Wd,0,b,!1);a.jd=uk(a.jd,0,b,!0);a.Jc=uk(a.Jc,0,b,!1);a.pf=uk(a.pf,0,b,!0);a.$b=uk(a.$b,0,b,!0);a.yc.data=vk(a.yc,b,!0);a.Pb=uk(a.Pb,0,b,!1);
a.md.data=vk(a.md,b,!0);a.Lc.data=vk(a.Lc,b,!0);a.ud.data=vk(a.ud,b,!1);a.$i=b}}Z.prototype.fl=function(a,b,c){var d=new Vh;d.yb=a.yb;Kb(b,c,d.position);cb(a.Xg,bb(a.Mi,w(d.position,a.position,t),t),d.Ng);d.color.d(a.color);d.Xh=a.Xh;d.ic=a.ic;this.Lm(d)};Z.prototype.CreateParticleForGroup=Z.prototype.fl;
Z.prototype.Bp=function(a,b,c){var d=new Jd,e=new r,f=new r,g=b.lp;0===g&&(g=.75*this.Nc);for(var h=0,l=a.Jd(),m=0;m<l;m++){var n=null;1===a.mc()?n=a:(n=d,a.Ij(n,m));for(var p=w(n.Id,n.yd,e),y=p.Qc();h<y;){var x=eb(n.yd,h/y,p,f);this.fl(b,c,x);h+=g}h-=y}};Z.prototype.CreateParticlesStrokeShapeForGroup=Z.prototype.Bp;
Z.prototype.Mm=function(a,b,c){var d=new xc,e=new r,f=b.lp;0===f&&(f=.75*this.Nc);a.ib(d,Ib,0);for(var g=Math.floor(d.lowerBound.y/f)*f;g<d.upperBound.y;g+=f)for(var h=Math.floor(d.lowerBound.x/f)*f;h<d.upperBound.x;h+=f){var l=e.U(h,g);a.nc(Ib,l)&&this.fl(b,c,l)}};Z.prototype.CreateParticlesFillShapeForGroup=Z.prototype.Mm;Z.prototype.Cp=function(a,b,c){switch(a.mc()){case 1:case 3:this.Bp(a,b,c);break;case 2:case 0:this.Mm(a,b,c)}};Z.prototype.CreateParticlesWithShapeForGroup=Z.prototype.Cp;
function wk(a,b){this.lm=a;this.Go=b}ca(wk,Hd);k=wk.prototype;k.lm=null;k.Go=0;k.ba=function(){return null};k.Jd=function(){return 1};k.nc=function(a,b){for(var c=0;c<this.Go;c++)if(this.lm[c].nc(a,b))return!0;return!1};q("box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint",wk.prototype.nc);wk.prototype.ob=function(){};q("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance",wk.prototype.ob);wk.prototype.ha=function(){return!1};
q("box2d.b2ParticleSystem.CompositeShape.prototype.RayCast",wk.prototype.ha);wk.prototype.ib=function(a,b){var c=new xc;a.lowerBound.x=1E37;a.lowerBound.y=1E37;a.upperBound.x=-1E37;a.upperBound.y=-1E37;for(var d=0;d<this.Go;d++)for(var e=this.lm[d].Jd(),f=0;f<e;f++){var g=c;this.lm[d].ib(g,b,f);a.up(g)}};q("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB",wk.prototype.ib);wk.prototype.Pc=function(){};q("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass",wk.prototype.Pc);
Z.prototype.Dp=function(a,b,c,d){this.Mm(new wk(a,b),c,d)};Z.prototype.CreateParticlesWithShapesForGroup=Z.prototype.Dp;
Z.prototype.tp=function(a,b){var c=new Vh;c.yb=this.wa.data[a];c.position.d(this.wb.data[a]);c.Ng.d(this.sb.data[a]);this.yc.data&&c.color.d(this.yc.data[a]);this.md.data&&(c.ic=this.md.data[a]);c.group=b;c=this.Lm(c);if(this.Mc.data){var d=this.Mc.data[a];d&&(d.Dg=c);this.Mc.data[c]=d;this.Mc.data[a]=null}this.he.data&&(this.he.data[c]=this.he.data[a]);this.Nd.data&&(this.Nd.data[c]=this.Nd.data[a]);this.Pd.data&&(this.Pd.data[c]=this.Pd.data[a]);this.hi&&(this.Fe[c]=this.Fe[a]);this.jd&&(this.jd[c]=
this.jd[a]);this.$b&&(this.$b[c]=this.$b[a]);this.Lc.data&&(this.Lc.data[c]=this.Lc.data[a]);return c};Z.prototype.CloneParticle=Z.prototype.tp;Z.prototype.Cr=function(a,b){for(var c=a.ub;c<a.Jb;c++)this.Gi(c,b)};Z.prototype.DestroyParticlesInGroup=Z.prototype.Cr;Z.prototype.Om=function(a){this.ng(a,0);for(var b=a.ub;b<a.Jb;b++)this.Pb[b]=null;a.Ha&&(a.Ha.H=a.H);a.H&&(a.H.Ha=a.Ha);a===this.Ge&&(this.Ge=a.H);--this.to};Z.prototype.DestroyParticleGroup=Z.prototype.Om;
function xk(a,b){return 0!==(a&28)||null!==b&&0!==(b.hd&2)}
function ik(a,b,c,d){for(var e=new r,f=new r,g=new r,h=a.wb.data,l=0,m=b;m<c;m++)l|=a.wa.data[m];if(l&8)for(m=0;m<a.Ga.count;m++){var n=a.Ga.data[m],p=n.B,y=n.D,x=a.wa.data[p],I=a.wa.data[y],W=a.Pb[p],S=a.Pb[y];p>=b&&p<c&&y>=b&&y<c&&!((x|I)&2)&&(x|I)&8&&(d.Qj(p)||d.Qj(y))&&xk(x,W)&&xk(I,S)&&d.oq(p,y)&&(x=a.Rb.data[ki(a.Rb)],x.B=p,x.D=y,x.yb=n.yb,x.gg=Da(W?W.kj:1,S?S.kj:1),x.ce=jb(h[p],h[y]));ci(a.Rb.data,a.Rb.count,yk);mi(a.Rb,zk)}if(l&16){l=new Ak(c-b);n=0;for(m=b;m<c;m++)p=a.wa.data[m],y=a.Pb[m],
p&2||!xk(p,y)||(d.Qj(m)&&++n,l.op(h[m],m,d.Qj(m)));if(0===n)for(m=b;m<c;m++);b=.75*a.Nc;l.Hp(b/2,2*b);l.Rp(function(b,c,l){var m=a.wa.data[b],n=a.wa.data[c],p=a.wa.data[l];if((m|n|p)&16&&d.pq(b,c,l)){var x=h[b],y=h[c],I=h[l],S=w(x,y,e),W=w(y,I,f),Ma=w(I,x,g),Ka=4*a.mm;if(!(u(S,S)>Ka||u(W,W)>Ka||u(Ma,Ma)>Ka)){var wb=a.Pb[b],xb=a.Pb[c],Ub=a.Pb[l],Ka=a.Hd.data[ki(a.Hd)];Ka.B=b;Ka.D=c;Ka.oe=l;Ka.yb=m|n|p;Ka.gg=Da(Da(wb?wb.kj:1,xb?xb.kj:1),Ub?Ub.kj:1);b=(x.x+y.x+I.x)/3;c=(x.y+y.y+I.y)/3;Ka.Fk.x=x.x-b;
Ka.Fk.y=x.y-c;Ka.Gk.x=y.x-b;Ka.Gk.y=y.y-c;Ka.Hk.x=I.x-b;Ka.Hk.y=I.y-c;Ka.Dq=-u(Ma,S);Ka.Eq=-u(S,W);Ka.Fq=-u(W,Ma);Ka.Sb=v(x,y)+v(y,I)+v(I,x)}}});ci(a.Hd.data,a.Hd.count,Bk);mi(a.Hd,Ck)}}function Dk(a){this.wa=a}ca(Dk,zi);Dk.prototype.wa=null;Dk.prototype.Qj=function(a){return 0!==(this.wa[a]&4096)};function yk(a,b){var c=a.B-b.B;return 0!==c?0>c:a.D<b.D}function zk(a,b){return a.B===b.B&&a.D===b.D}function Bk(a,b){var c=a.B-b.B;if(0!==c)return 0>c;c=a.D-b.D;return 0!==c?0>c:a.oe<b.oe}
function Ck(a,b){return a.B===b.B&&a.D===b.D&&a.oe===b.oe}function lk(a,b){for(var c=a.ub,d=a.Ld(),e=0;e<d;e++){var f=b[e];f.list=f;f.next=null;f.count=1;f.index=e+c}}function mk(a,b,c){for(var d=b.ub,e=0;e<a.Ga.count;e++){var f=a.Ga.data[e],g=f.B,f=f.D;if($h(b,g)&&$h(b,f)&&(g=c[g-d].list,f=c[f-d].list,g!==f)){if(g.count<f.count)var h=g,g=f,f=h;for(h=f;;){h.list=g;var l=h.next;if(l)h=l;else{h.next=g.next;break}}g.next=f;g.count+=f.count;f.count=0}}}
function nk(a,b){for(var c=a.Ld(),d=b[0],e=0;e<c;e++){var f=b[e];d.count<f.count&&(d=f)}return d}function ok(a,b,c,d){b=b.Ld();for(var e=0;e<b;e++){var f=c[e];if(f!==d&&a.wa.data[f.index]&2){var g=d;f.list=g;f.next=g.next;g.next=f;g.count++;f.count=0}}}function pk(a,b,c,d){var e=b.Ld(),f=new Yh;f.eo=b.hd;f.ic=b.$c();for(b=0;b<e;b++){var g=c[b];if(g.count&&g!==d)for(var h=a.Ap(f);g;g=g.next){var l=g.index,m=a.tp(l,h);a.wa.data[l]|=2;g.index=m}}}
function qk(a,b,c){for(var d=b.ub,e=0;e<a.Rb.count;e++){var f=a.Rb.data[e],g=f.B,h=f.D;$h(b,g)&&(f.B=c[g-d].index);$h(b,h)&&(f.D=c[h-d].index)}for(e=0;e<a.Hd.count;e++){var f=a.Hd.data[e],g=f.B,h=f.D,l=f.oe;$h(b,g)&&(f.B=c[g-d].index);$h(b,h)&&(f.D=c[h-d].index);$h(b,l)&&(f.oe=c[l-d].index)}}function oi(a,b){var c=vi(a.He*b.lowerBound.x-1,a.He*b.lowerBound.y-1),d=vi(a.He*b.upperBound.x+1,a.He*b.upperBound.y+1),e=a.Ab.count,f=ei(a.Ab.data,e,c),e=gi(a.Ab.data,0,e,d);return new tk(a,c,d,f,e)}
Z.prototype.Ah=function(a,b){var c=this.wb.data,c=w(c[b],c[a],new r),d=u(c,c);if(d<this.mm){var e=La(d);isFinite(e)||(e=1.9817753699999998E19);var f=this.Ga.data[ki(this.Ga)];f.B=a;f.D=b;f.yb=this.wa.data[a]|this.wa.data[b];f.weight=1-d*e*this.He;db(e,c,f.u)}};function Ek(a){null!==(a.Ob&131072?a.bb.La.rf:null)&&li(a.Ga,function(a){return a.yb&131072&&!1})}function Fk(a){return 2===(a.yb&2)}
function hk(a,b){for(var c=a.wb.data,d=a.He,e=0;e<a.Ab.count;++e){var f=a.Ab.data[e],g=c[f.index];f.tag=vi(d*g.x,d*g.y)}ci(a.Ab.data,a.Ab.count,sk);c=new yi;if(null!==(a.Ob&32768?a.bb.La.Wi:null)){debugger;c.da(a.Ga,a.wa)}c=a.Ab.count;for(e=d=a.Ga.count=0;d<c;d++){g=a.Ab.data[d].tag+0+256>>>0;for(f=d+1;f<c&&!(g<a.Ab.data[f].tag);f++)a.Ah(a.Ab.data[d].index,a.Ab.data[f].index,a.Ga);for(f=a.Ab.data[d].tag+1048576+-256>>>0;e<c&&!(f<=a.Ab.data[e].tag);e++);g=a.Ab.data[d].tag+1048576+256>>>0;for(f=e;f<
c&&!(g<a.Ab.data[f].tag);f++)a.Ah(a.Ab.data[d].index,a.Ab.data[f].index,a.Ga)}Ek(a);b&&li(a.Ga,Fk)}function Gk(a,b){this.Na=a;this.rf=b}ca(Gk,ni);Gk.prototype.Xj=function(a,b,c){return this.rf&&this.Na.wa.data[c]&65536?this.rf.Xj(a,this.Na,c):!0};q("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle",Gk.prototype.Xj);
Gk.prototype.Ki=function(a,b,c){var d=new r,e=this.Na.wb.data[c],f=new r;b=a.ob(e,f,b);if(b<this.Na.Nc&&this.Xj(a,this.Na,c)){var g=a.tb,h=g.gf(),l=g.ae(),m=g.Pg()-l*g.Kj().Md(),l=0<l?1/l:0,m=0<m?1/m:0,n=this.Na.wa.data[c]&4?0:Hk(this.Na),d=w(e,h,d),d=v(d,f),d=n+l+m*d*d,e=this.Na.Hb.data[ki(this.Na.Hb)];e.index=c;e.body=g;e.ne=a;e.weight=1-b*this.Na.He;e.u.d(f.la());e.Xc=0<d?1/d:0;a=this.Na;0>=a.om||(++a.Nd.data[c],2===a.Nd.data[c]&&(++a.Pd.data[c],a.Pd.data[c]>a.om&&(a.lj.data[ki(a.lj)]=c)),a.he.data[c]=
a.ph)}};q("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle",Gk.prototype.Ki);
Z.prototype.Re=function(a){var b=new De;if(0!==this.h){this.Lc.data&&Ik(this,a);this.Ob&2&&Di(this);if(this.gm){for(var c=this.Ob=0;c<this.h;c++)this.Ob|=this.wa.data[c];this.gm=!1}if(this.Ao){this.qf=0;for(var d=this.Ge;d;d=d.Ec())this.qf|=d.hd;this.Ao=!1}if(!this.Fo)for(this.am=0;this.am<a.Kg;this.am++){++this.ph;var e=b.d(a);e.Va/=a.Kg;e.Zb*=a.Kg;hk(this,!1);var f=new xc,g=new xi;if(null!==(this.Ob&16384?this.bb.La.Wi:null)){debugger;g.da(this.Hb,this.wa)}if(0<this.om)for(var h=this.Ld(),l=0;l<
h;l++)this.Nd.data[l]=0,this.ph>this.he.data[l]+1&&(this.Pd.data[l]=0);this.Hb.count=0;this.lj.count=0;this.ib(f);this.bb.jf(new Gk(this,this.Ob&65536?this.bb.La.rf:null),f);this.Ra.Ei&&Jk(this);for(var m=0;m<this.h;m++)this.Wd[m]=0;for(m=0;m<this.Hb.count;m++){var n=this.Hb.data[m],p=n.index,y=n.weight;this.Wd[p]+=y}for(m=0;m<this.Ga.count;m++){var n=this.Ga.data[m],p=n.B,x=n.D,y=n.weight;this.Wd[p]+=y;this.Wd[x]+=y}if(this.qf&16){for(var I=[],W=0,S=0;S<this.Ga.count;S++){var ja=this.Ga.data[S],
ra=ja.B,ba=ja.D,Ua=this.Pb[ra],Ia=this.Pb[ba];Ua&&Ua===Ia&&Ua.hd&16&&(I[W++]=ja)}for(var Ja=[],Va=0,Aa=this.Ge;Aa;Aa=Aa.Ec())if(Aa.hd&16){Ja[Va++]=Aa;this.ng(Aa,Aa.hd&-17);for(var Ba=Aa.ub;Ba<Aa.Jb;Ba++)this.Jc[Ba]=0}for(S=0;S<W;S++){var ja=I[S],ra=ja.B,ba=ja.D,lb=ja.weight;this.Jc[ra]+=lb;this.Jc[ba]+=lb}for(Ba=0;Ba<Va;Ba++)for(Aa=Ja[Ba],Ba=Aa.ub;Ba<Aa.Jb;Ba++)lb=this.Jc[Ba],this.$b[Ba]=.8>lb?0:1E37;for(var Jb=Na(this.h)>>0,Ma=0;Ma<Jb;Ma++){for(var Ka=!1,S=0;S<W;S++){var ja=I[S],ra=ja.B,ba=ja.D,
wb=1-ja.weight,xb=this.$b[ra],Ub=this.$b[ba],Ei=Ub+wb,Fi=xb+wb;xb>Ei&&(this.$b[ra]=Ei,Ka=!0);Ub>Fi&&(this.$b[ba]=Fi,Ka=!0)}if(!Ka)break}for(Ba=0;Ba<Va;Ba++)for(Aa=Ja[Ba],Ba=Aa.ub;Ba<Aa.Jb;Ba++)this.$b[Ba]=1E37>this.$b[Ba]?this.$b[Ba]*this.Nc:0}if(this.Ob&4096){ik(this,0,this.h,new Dk(this.wa));for(var vf=0;vf<this.h;vf++)this.wa.data[vf]&=-4097;this.Ob&=-4097}if(this.hi){for(var Vk=this.sb.data,Wk=e.Va*Hk(this),wf=0;wf<this.h;wf++)Vk[wf].Z(Wk,this.Fe[wf]);this.hi=!1}if(this.Ob&32){for(var Gi=new r,
Hi=new r,Xk=this.wb.data,ge=this.sb.data,Ii=this.Ra.Gm,Yk=Hk(this),Qd=0;Qd<this.Hb.count;Qd++){var rd=this.Hb.data[Qd],Rd=rd.index;if(this.wa.data[Rd]&32){var Ke=rd.body,xg=rd.weight,Zk=rd.Xc,Ji=Xk[Rd],yg=w(Ke.df(Ji,t),ge[Rd],Gi),Le=db(Ii*Zk*xg,yg,Hi);ge[Rd].Z(Yk,Le);Ke.ue(Le.la(),Ji,!0)}}for(Qd=0;Qd<this.Ga.count;Qd++)rd=this.Ga.data[Qd],rd.yb&32&&(Rd=rd.B,Ke=rd.D,xg=rd.weight,yg=w(ge[Ke],ge[Rd],Gi),Le=db(Ii*xg,yg,Hi),ge[Rd].Da(Le),ge[Ke].gb(Le))}if(this.Ob&8192)for(var $k=new r,Ki=this.sb.data,
al=this.Ra.vm*this.Nc*e.Zb,zg=0;zg<this.Ga.count;zg++){var Me=this.Ga.data[zg];if(Me.yb&8192){var Li=Me.B,Mi=Me.D;if(this.Pb[Li]!==this.Pb[Mi]){var Ni=db(al*Me.weight,Me.u,$k);Ki[Li].gb(Ni);Ki[Mi].Da(Ni)}}}if(this.Ob&64){for(var Oi=new r,bl=this.wb.data,Ag=this.sb.data,Pi=this.Ra.sm*this.Nc*e.Zb,cl=Hk(this),Sd=0;Sd<this.Hb.count;Sd++){var Rc=this.Hb.data[Sd],Ne=Rc.index;if(this.wa.data[Ne]&64){var Oe=Rc.weight;if(.25<Oe){var Bg=Rc.body,dl=bl[Ne],Cg=Rc.u,Pe=db(Pi*Rc.Xc*(Oe-.25),Cg,Oi);Ag[Ne].Ea(cl,
Pe);Bg.ue(Pe,dl,!0)}}}for(Sd=0;Sd<this.Ga.count;Sd++)Rc=this.Ga.data[Sd],Rc.yb&64&&(Oe=Rc.weight,.25<Oe&&(Ne=Rc.B,Bg=Rc.D,Cg=Rc.u,Pe=db(Pi*(Oe-.25),Cg,Oi),Ag[Ne].gb(Pe),Ag[Bg].Da(Pe)))}if(this.Ob&128){for(var el=e,fl=new r,gl=new r,hl=new r,Qi=this.sb.data,xf=0;xf<this.h;xf++)this.pf[xf]=Ra.ba(),this.pf[xf].R();for(var Td=0;Td<this.Ga.count;Td++){var Sc=this.Ga.data[Td];if(Sc.yb&128){var Qe=Sc.B,Re=Sc.D,yf=Sc.weight,zf=Sc.u,Ri=db((1-yf)*yf,zf,fl);this.pf[Qe].gb(Ri);this.pf[Re].Da(Ri)}}for(var Dg=
this.Nc*el.Zb,il=this.Ra.Em*Dg,jl=this.Ra.Dm*Dg,kl=.5*Dg,Td=0;Td<this.Ga.count;Td++)if(Sc=this.Ga.data[Td],Sc.yb&128){var Qe=Sc.B,Re=Sc.D,yf=Sc.weight,zf=Sc.u,ll=this.Wd[Qe]+this.Wd[Re],ml=w(this.pf[Re],this.pf[Qe],gl),nl=Da(il*(ll-2)+jl*u(ml,zf),kl)*yf,Si=db(nl,zf,hl);Qi[Qe].gb(Si);Qi[Re].Da(Si)}}if(this.qf&1){var ol=e,pl=new r,Ti=this.sb.data;this.$b=ek(this,this.$b);for(var ql=ol.Zb*this.Ra.Il,Eg=0;Eg<this.Ga.count;Eg++){var Af=this.Ga.data[Eg],Fg=Af.B,Gg=Af.D;if(this.Pb[Fg]!==this.Pb[Gg]){var Ui=
db(ql*(this.$b[Fg]+this.$b[Gg])*Af.weight,Af.u,pl);Ti[Fg].gb(Ui);Ti[Gg].Da(Ui)}}}if(this.Ob&256){var Vi=Math.floor(128*this.Ra.El);if(Vi)for(var Hg=0;Hg<this.Ga.count;Hg++){var Wi=this.Ga.data[Hg],Xi=Wi.B,Yi=Wi.D;this.wa.data[Xi]&this.wa.data[Yi]&256&&Sh(this.yc.data[Xi],this.yc.data[Yi],Vi)}}for(var rl=new r,sl=this.sb.data,tl=db(e.Va*this.Ra.mf,this.bb.bn(),rl),Ig=0;Ig<this.h;Ig++)sl[Ig].Da(tl);if(this.Ob&2048){var ul=e;this.jd=ek(this,this.jd);for(var Zi=this.Ra.rd*Kk(this,ul),vl=this.Ra.Cm*Zi,
wl=.25*Zi,xl=this.Ra.Bm,$i=0;$i<this.Ra.yj;$i++){for(var bd=0;bd<this.h;bd++)this.Jc[bd]=0;for(var Kg=0;Kg<this.Ga.count;Kg++){var Bf=this.Ga.data[Kg];if(Bf.yb&2048){var Lg=Bf.B,Mg=Bf.D,Se=Bf.weight;this.Jc[Lg]+=Se*this.jd[Mg];this.Jc[Mg]+=Se*this.jd[Lg]}}for(bd=0;bd<this.h;bd++)Se=this.Wd[bd],this.jd[bd]=this.wa.data[bd]&2048?Fa((this.Jc[bd]+vl*(Se-1))/(Se+xl),0,wl):0}}for(var aj=e,bj=new r,yl=this.wb.data,Ng=this.sb.data,cj=this.Ra.rd*Kk(this,aj),dj=this.Ra.tm*cj,zl=.25*cj,gc=0;gc<this.h;gc++){var he=
this.Wd[gc],Te=dj*Ea(0,he-1);this.Jc[gc]=Da(Te,zl)}if(this.Ob&192)for(gc=0;gc<this.h;gc++)this.wa.data[gc]&192&&(this.Jc[gc]=0);if(this.Ob&2048)for(gc=0;gc<this.h;gc++)this.wa.data[gc]&2048&&(this.Jc[gc]+=this.jd[gc]);for(var ej=aj.Va/(this.Ra.rd*this.Nc),Al=Hk(this),Ud=0;Ud<this.Hb.count;Ud++){var cd=this.Hb.data[Ud],ie=cd.index,Cf=cd.body,he=cd.weight,Bl=cd.Xc,Og=cd.u,Cl=yl[ie],Te=this.Jc[ie]+dj*he,Ue=db(ej*he*Bl*Te,Og,bj);Ng[ie].Ea(Al,Ue);Cf.ue(Ue,Cl,!0)}for(Ud=0;Ud<this.Ga.count;Ud++)cd=this.Ga.data[Ud],
ie=cd.B,Cf=cd.D,he=cd.weight,Og=cd.u,Te=this.Jc[ie]+this.Jc[Cf],Ue=db(ej*he*Te,Og,bj),Ng[ie].gb(Ue),Ng[Cf].Da(Ue);for(var fj=new r,gj=new r,Dl=this.wb.data,je=this.sb.data,hj=this.Ra.Sh,ij=1/(this.Nc*e.Zb),El=Hk(this),Vd=0;Vd<this.Hb.count;Vd++){var dd=this.Hb.data[Vd],ke=dd.index,Ve=dd.body,Pg=dd.weight,Fl=dd.Xc,We=dd.u,jj=Dl[ke],Qg=w(Ve.df(jj,t),je[ke],fj),Wd=u(Qg,We);if(0>Wd){var Rg=Ea(hj*Pg,Da(-ij*Wd,.5)),Xe=db(Rg*Fl*Wd,We,gj);je[ke].Z(El,Xe);Ve.ue(Xe.la(),jj,!0)}}for(Vd=0;Vd<this.Ga.count;Vd++)dd=
this.Ga.data[Vd],ke=dd.B,Ve=dd.D,Pg=dd.weight,We=dd.u,Qg=w(je[Ve],je[ke],fj),Wd=u(Qg,We),0>Wd&&(Rg=Ea(hj*Pg,Da(-ij*Wd,.5)),Xe=db(Rg*Wd,We,gj),je[ke].Da(Xe),je[Ve].gb(Xe));if(this.Ob&2048)for(var Gl=new r,Hl=new r,kj=this.sb.data,Il=this.wb.data,Jl=Hk(this),Sg=0;Sg<this.Hb.count;Sg++){var Df=this.Hb.data[Sg],Ef=Df.index;if(this.wa.data[Ef]&2048){var lj=Df.body,Kl=Df.Xc,mj=Df.u,nj=Il[Ef],Ll=w(lj.df(nj,t),kj[Ef],Gl),oj=u(Ll,mj);if(0>oj){var pj=db(.5*Kl*oj,mj,Hl);kj[Ef].Z(Jl,pj);lj.ue(pj.la(),nj,!0)}}}if(this.Ob&
16)for(var Ff=e,Ml=new r,Nl=new r,Ol=new r,Pl=new Eb,Yb=new r,Tg=this.wb.data,Ug=this.sb.data,Ql=Ff.Zb*this.Ra.Jl,Vg=0;Vg<this.Hd.count;Vg++){var Fd=this.Hd.data[Vg];if(Fd.yb&16){var qj=Fd.B,rj=Fd.D,sj=Fd.oe,Wg=Fd.Fk,Xg=Fd.Gk,Yg=Fd.Hk,ed=Ml.d(Tg[qj]),fd=Nl.d(Tg[rj]),gd=Ol.d(Tg[sj]),tj=Ug[qj],uj=Ug[rj],vj=Ug[sj];ed.Z(Ff.Va,tj);fd.Z(Ff.Va,uj);gd.Z(Ff.Va,vj);var Zg=(ed.x+fd.x+gd.x)/3,$g=(ed.y+fd.y+gd.y)/3;ed.x-=Zg;ed.y-=$g;fd.x-=Zg;fd.y-=$g;gd.x-=Zg;gd.y-=$g;var hc=Pl;hc.Sb=v(Wg,ed)+v(Xg,fd)+v(Yg,gd);
hc.o=u(Wg,ed)+u(Xg,fd)+u(Yg,gd);var Gf=La(hc.Sb*hc.Sb+hc.o*hc.o);isFinite(Gf)||(Gf=1.9817753699999998E19);hc.Sb*=Gf;hc.o*=Gf;hc.uc=Math.atan2(hc.Sb,hc.o);var ah=Ql*Fd.gg;A(hc,Wg,Yb);w(Yb,ed,Yb);db(ah,Yb,Yb);tj.Da(Yb);A(hc,Xg,Yb);w(Yb,fd,Yb);db(ah,Yb,Yb);uj.Da(Yb);A(hc,Yg,Yb);w(Yb,gd,Yb);db(ah,Yb,Yb);vj.Da(Yb)}}if(this.Ob&8)for(var bh=e,Rl=new r,Sl=new r,Tl=new r,Ul=new r,wj=this.wb.data,xj=this.sb.data,Vl=bh.Zb*this.Ra.Am,ch=0;ch<this.Rb.count;ch++){var Ye=this.Rb.data[ch];if(Ye.yb&8){var yj=Ye.B,
zj=Ye.D,Aj=Rl.d(wj[yj]),Bj=Sl.d(wj[zj]),Cj=xj[yj],Dj=xj[zj];Aj.Z(bh.Va,Cj);Bj.Z(bh.Va,Dj);var Ej=w(Bj,Aj,Tl),Fj=Ej.Qc(),Gj=db(Vl*Ye.gg*(Ye.ce-Fj)/Fj,Ej,Ul);Cj.gb(Gj);Dj.Da(Gj)}}for(var Wl=this.sb.data,Hj=Kk(this,e),dh=0;dh<this.h;dh++){var eh=Wl[dh],Ij=u(eh,eh);Ij>Hj&&eh.cb(Na(Hj/Ij))}if(this.qf&2){for(var Jj=new r,Kj=new r,Xl=new r,Lj=new r,le=[0],me=[0],ne=[0],Ze=[0],$e=[0],af=[0],fh=this.wb.data,Mj=this.Ra.Sh,Xd=0;Xd<this.Hb.count;Xd++){var sd=this.Hb.data[Xd],hd=sd.index,id=this.Pb[hd];if(Lk(id)){var yc=
sd.body,Tc=sd.u,gh=sd.weight,jd=fh[hd],hh=w(yc.df(jd,Jj),id.df(jd,Kj),Lj),cf=u(hh,Tc);if(0>cf){Mk(this,le,me,ne,!0,id,hd,jd,Tc);Nk(Ze,$e,af,yc.ae(),yc.Pg()-yc.ae()*yc.Kj().Md(),yc.gf(),jd,Tc);var Yl=Mj*Da(gh,1),Nj=ne[0],Oj=af[0],Pj=le[0]+me[0]*Nj*Nj+Ze[0]+$e[0]*Oj*Oj,df=Yl*(0<Pj?cf/Pj:0);Ok(this,le[0],me[0],ne[0],!0,id,hd,df,Tc);yc.ue(db(-df,Tc,t),jd,!0)}}}for(Xd=0;Xd<this.Ga.count;Xd++){var sd=this.Ga.data[Xd],hd=sd.B,yc=sd.D,Tc=sd.u,gh=sd.weight,id=this.Pb[hd],ef=this.Pb[yc],lh=Lk(id),mh=Lk(ef);
if(id!==ef&&(lh||mh)&&(jd=hb(fh[hd],fh[yc],Xl),hh=w(this.ve(ef,yc,jd,Jj),this.ve(id,hd,jd,Kj),Lj),cf=u(hh,Tc),0>cf)){Mk(this,le,me,ne,lh,id,hd,jd,Tc);Mk(this,Ze,$e,af,mh,ef,yc,jd,Tc);var Qj=ne[0],Rj=af[0],Sj=le[0]+me[0]*Qj*Qj+Ze[0]+$e[0]*Rj*Rj,df=Mj*gh*(0<Sj?cf/Sj:0);Ok(this,le[0],me[0],ne[0],lh,id,hd,df,Tc);Ok(this,Ze[0],$e[0],af[0],mh,ef,yc,-df,Tc)}}}if(this.Ob&1024){for(var Tj=e,Zl=new xc,$l=new r,am=new r,bm=new r,cm=new r,dm=new r,em=new r,fm=new r,gm=new r,hm=new r,im=new r,jm=new r,nh=this.wb.data,
Uj=this.sb.data,Hf=0;Hf<this.h;Hf++)0!==(this.wa.data[Hf]&1028)&&Uj[Hf].R();for(var oh=2.5*Tj.Va,If=ai(this),ph=0;ph<this.Rb.count;ph++){var qh=this.Rb.data[ph];if(qh.yb&1024){var rh=qh.B,sh=qh.D,ff=nh[rh],Jf=nh[sh],th=Zl;Za(ff,Jf,th.lowerBound);$a(ff,Jf,th.upperBound);for(var Vj=this.Pb[rh],Wj=this.Pb[sh],Kf=this.ve(Vj,rh,ff,$l),km=this.ve(Wj,sh,Jf,am),gf=w(Jf,ff,bm),Yd=w(km,Kf,cm),lm=oi(this,th),oe;0<=(oe=lm.Ec());){var uh=nh[oe],kd=this.Pb[oe];if(Vj!==kd&&Wj!==kd){var vh=this.ve(kd,oe,uh,dm),hf=
w(uh,ff,em),jf=w(vh,Kf,fm),Lf=v(Yd,jf),pe=v(gf,jf)-v(hf,Yd),Xj=v(gf,hf),Uc,oc,Jc=gm,qe=hm;if(0===Lf){if(0===pe)continue;oc=-Xj/pe;if(!(0<=oc&&oc<oh))continue;eb(gf,oc,Yd,Jc);eb(hf,oc,jf,qe);Uc=u(Jc,qe)/u(Jc,Jc);if(!(0<=Uc&&1>=Uc))continue}else{var Yj=pe*pe-4*Xj*Lf;if(0>Yj)continue;var Zj=Na(Yj),Mf=(-pe-Zj)/(2*Lf),Nf=(-pe+Zj)/(2*Lf);if(Mf>Nf)var mm=Mf,Mf=Nf,Nf=mm;oc=Mf;eb(gf,oc,Yd,Jc);eb(hf,oc,jf,qe);Uc=u(Jc,qe)/u(Jc,Jc);if(!(0<=oc&&oc<oh&&0<=Uc&&1>=Uc)){oc=Nf;if(!(0<=oc&&oc<oh))continue;eb(gf,oc,
Yd,Jc);eb(hf,oc,jf,qe);Uc=u(Jc,qe)/u(Jc,Jc);if(!(0<=Uc&&1>=Uc))continue}}var Of=im;Of.x=Kf.x+Uc*Yd.x-vh.x;Of.y=Kf.y+Uc*Yd.y-vh.y;var wh=db(If,Of,jm);if(Lk(kd)){var If=kd.ae(),ak=kd.Pg();0<If&&kd.vb.Z(1/If,wh);0<ak&&(kd.eb+=v(w(uh,kd.Dh(),t),wh)/ak)}else Uj[oe].Da(Of);this.un(oe,wh.cb(-Tj.Zb))}}}}}var xh=e,nm=this.wb.data,om=this.sb.data,zc=new xc;zc.lowerBound.x=1E37;zc.lowerBound.y=1E37;zc.upperBound.x=-1E37;zc.upperBound.y=-1E37;for(var Pf=0;Pf<this.h;Pf++){var bk=om[Pf],re=nm[Pf],ck=re.x+xh.Va*
bk.x,dk=re.y+xh.Va*bk.y;zc.lowerBound.x=Da(zc.lowerBound.x,Da(re.x,ck));zc.lowerBound.y=Da(zc.lowerBound.y,Da(re.y,dk));zc.upperBound.x=Ea(zc.upperBound.x,Ea(re.x,ck));zc.upperBound.y=Ea(zc.upperBound.y,Ea(re.y,dk))}this.bb.jf(new Pk(this,xh),zc);if(this.qf&2)for(var te=e,pm=new r,qm=new Eb,rm=new B,sm=new B,tm=this.wb.data,um=this.sb.data,Ac=this.Ge;Ac;Ac=Ac.Ec())if(Ac.hd&2){Ac.Tg();var yh=qm;yh.fa(te.Va*Ac.eb);var vm=cb(Ac.tg,w(db(te.Va,Ac.vb,t),A(yh,Ac.tg,Sa),t),pm),ue=rm;ue.iq(vm,yh);Mb(ue,Ac.qh,
Ac.qh);var kf=sm;kf.ca.x=te.Zb*ue.ca.x;kf.ca.y=te.Zb*ue.ca.y;kf.Q.Sb=te.Zb*ue.Q.Sb;kf.Q.o=te.Zb*(ue.Q.o-1);for(var Qf=Ac.ub;Qf<Ac.Jb;Qf++)Kb(kf,tm[Qf],um[Qf])}if(this.Ob&4)for(var wm=this.sb.data,Rf=0;Rf<this.h;Rf++)this.wa.data[Rf]&4&&wm[Rf].R();for(var Sf=0;Sf<this.h;Sf++)this.wb.data[Sf].Z(e.Va,this.sb.data[Sf])}}};Z.prototype.Solve=Z.prototype.Re;function Pk(a,b){this.Na=a;this.$e=b}ca(Pk,ni);
Pk.prototype.Ki=function(a,b,c){var d=new r,e=new r,f=new r,g=new r,h=a.tb,l=this.Na.wb.data[c],m=this.Na.sb.data[c],n=new wc,p=new vc;0===this.Na.am?(d=Lb(h.pi,l,d),0===a.Ja.mc()&&(d.gb(h.Kj()),A(h.pi.Q,d,d),Hb(h.ja.Q,d,d),d.Da(h.Kj())),Kb(h.ja,d,p.gd)):p.gd.d(l);eb(l,this.$e.Va,m,p.Zd);p.Me=1;a.ha(n,p,b)&&(a=n.u,e.x=(1-n.ze)*p.gd.x+n.ze*p.Zd.x+.008*a.x,e.y=(1-n.ze)*p.gd.y+n.ze*p.Zd.y+.008*a.y,f.x=this.$e.Zb*(e.x-l.x),f.y=this.$e.Zb*(e.y-l.y),this.Na.sb.data[c].d(f),g.x=this.$e.Zb*ai(this.Na)*(m.x-
f.x),g.y=this.$e.Zb*ai(this.Na)*(m.y-f.y),this.Na.un(c,g))};q("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle",Pk.prototype.Ki);Pk.prototype.Jf=function(){return!1};q("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle",Pk.prototype.Jf);
function Di(a){for(var b=0,c=[],d=0;d<a.h;d++)c[d]=-1;for(var e=0,d=0;d<a.h;d++){var f=a.wa.data[d];if(f&2){if(a.Mc.data){var g=a.Mc.data[d];g&&(g.Dg=-1,a.Mc.data[d]=null)}c[d]=-1}else{c[d]=b;if(d!==b){if(a.Mc.data){if(g=a.Mc.data[d])g.Dg=b;a.Mc.data[b]=g}a.wa.data[b]=a.wa.data[d];a.he.data&&(a.he.data[b]=a.he.data[d]);a.Nd.data&&(a.Nd.data[b]=a.Nd.data[d]);a.Pd.data&&(a.Pd.data[b]=a.Pd.data[d]);a.wb.data[b].d(a.wb.data[d]);a.sb.data[b].d(a.sb.data[d]);a.Pb[b]=a.Pb[d];a.hi&&a.Fe[b].d(a.Fe[d]);a.jd&&
(a.jd[b]=a.jd[d]);a.$b&&(a.$b[b]=a.$b[d]);a.yc.data&&a.yc.data[b].d(a.yc.data[d]);a.md.data&&(a.md.data[b]=a.md.data[d]);a.Lc.data&&(a.Lc.data[b]=a.Lc.data[d])}b++;e|=f}}for(d=0;d<a.Ab.count;d++)f=a.Ab.data[d],f.index=c[f.index];li(a.Ab,function(a){return 0>a.index});for(d=0;d<a.Ga.count;d++)f=a.Ga.data[d],f.B=c[f.B],f.D=c[f.D];li(a.Ga,function(a){return 0>a.B||0>a.D});for(d=0;d<a.Hb.count;d++)f=a.Hb.data[d],f.index=c[f.index];li(a.Hb,function(a){return 0>a.index});for(d=0;d<a.Rb.count;d++)f=a.Rb.data[d],
f.B=c[f.B],f.D=c[f.D];li(a.Rb,function(a){return 0>a.B||0>a.D});for(d=0;d<a.Hd.count;d++)f=a.Hd.data[d],f.B=c[f.B],f.D=c[f.D],f.oe=c[f.oe];li(a.Hd,function(a){return 0>a.B||0>a.D||0>a.oe});if(a.ud.data)for(f=d=0;f<a.h;f++)g=c[a.ud.data[f]],-1!==g&&(a.ud.data[d++]=g);for(f=a.Ge;f;f=f.Ec()){for(var g=b,h=0,l=!1,d=f.ub;d<f.Jb;d++){var m=c[d];0<=m?(g=Da(g,m),h=Ea(h,m+1)):l=!0}g<h?(f.ub=g,f.Jb=h,l&&f.hd&1&&a.ng(f,f.hd|16)):(f.ub=0,f.Jb=0,f.hd&4||a.ng(f,f.hd|8))}a.h=b;a.Ob=e;a.gm=!1;for(f=a.Ge;f;)b=f.Ec(),
f.hd&8&&a.Om(f),f=b}function Ik(a,b){a.pj=a.pj+b.Va/a.Ra.Oi*Math.pow(2,32)>>0;var c=a.pj>>32>>0,d=a.Lc.data,e=a.ud.data,f=a.Ld();a.qo&&(ci(e,f,function(a,b){var c=d[a],e=d[b],f=0>=c;return f===0>=e?c>e:f}),a.qo=!1);for(--f;0<=f;--f){var g=e[f],h=d[g];if(c<h||0>=h)break;a.Gi(g)}}
function fk(a,b,c,d){function e(a){return a<b?a:a<c?a+d-c:a<d?a+b-c:a}if(b!==c&&c!==d){ii(a.wa.data,b,c,d);a.he.data&&ii(a.he.data,b,c,d);a.Nd.data&&ii(a.Nd.data,b,c,d);a.Pd.data&&ii(a.Pd.data,b,c,d);ii(a.wb.data,b,c,d);ii(a.sb.data,b,c,d);ii(a.Pb,b,c,d);a.hi&&ii(a.Fe,b,c,d);a.jd&&ii(a.jd,b,c,d);a.$b&&ii(a.$b,b,c,d);a.yc.data&&ii(a.yc.data,b,c,d);a.md.data&&ii(a.md.data,b,c,d);if(a.Mc.data){ii(a.Mc.data,b,c,d);for(var f=b;f<d;++f){var g=a.Mc.data[f];g&&(g.Dg=e(g.Dg))}}if(a.Lc.data){ii(a.Lc.data,b,
c,d);for(var g=a.Ld(),h=a.ud.data,f=0;f<g;++f)h[f]=e(h[f])}for(f=0;f<a.Ab.count;f++)g=a.Ab.data[f],g.index=e(g.index);for(f=0;f<a.Ga.count;f++)g=a.Ga.data[f],g.B=e(g.B),g.D=e(g.D);for(f=0;f<a.Hb.count;f++)g=a.Hb.data[f],g.index=e(g.index);for(f=0;f<a.Rb.count;f++)g=a.Rb.data[f],g.B=e(g.B),g.D=e(g.D);for(f=0;f<a.Hd.count;f++)g=a.Hd.data[f],g.B=e(g.B),g.D=e(g.D),g.oe=e(g.oe);for(a=a.Ge;a;a=a.Ec())a.ub=e(a.ub),a.Jb=e(a.Jb-1)+1}}function Kk(a,b){var c=a.Nc*b.Zb;return c*c}
function ai(a){var b=.75*a.Nc;return a.Ra.rd*b*b}function Hk(a){var b=1/.75*a.He;return a.Mq*b*b}Z.prototype.ng=function(a,b){var c=a.hd;(c^b)&1&&(b|=16);c&~b&&(this.Ao=!0);~this.qf&b&&(b&1&&(this.$b=ek(this,this.$b)),this.qf|=b);a.hd=b};
function Jk(a){ci(a.Hb.data,a.Hb.count,Qk);var b=new r,c=new r,d=new r,e=-1,f=0,g=0;a.Hb.count=di(a.Hb.data,function(h){h.index!==e&&(f=0,e=h.index);if(3<f++)return++g,!0;var l=b.d(h.u);l.cb(a.Nc*(1-h.weight));l=cb(a.wb.data[h.index],l,c);if(!h.ne.nc(l)){for(var m=h.ne.Ja.Jd(),n=0;n<m;n++)if(.008>h.ne.ob(l,d,n))return!1;++g;return!0}return!1},a.Hb.count)}function Qk(a,b){return a.index===b.index?a.weight>b.weight:a.index<b.index}
function rk(a){if(!a.hi){for(var b=0;b<a.h;b++)a.Fe[b].R();a.hi=!0}}function Lk(a){return null!==a&&0!==(a.hd&2)}Z.prototype.ve=function(a,b,c,d){return Lk(a)?a.df(c,d):d.d(this.sb.data[b])};function Nk(a,b,c,d,e,f,g,h){a[0]=0<d?1/d:0;b[0]=0<e?1/e:0;c[0]=v(w(g,f,t),h)}function Mk(a,b,c,d,e,f,g,h,l){e?Nk(b,c,d,f.ae(),f.Pg(),f.Dh(),h,l):Nk(b,c,d,a.wa.data[g]&4?0:ai(a),0,h,h,l)}function Ok(a,b,c,d,e,f,g,h,l){e?(f.vb.Z(h*b,l),f.eb+=h*d*c):a.sb.data[g].Z(h*b,l)};function Rk(a){this.Od=oa(a)}k=Rk.prototype;k.Od=null;k.Cb=0;k.sg=0;k.Zh=0;k.Rc=function(a){if(this.sg>=this.Zh){for(var b=this.Cb;b<this.sg;b++)this.Od[b-this.Cb]=this.Od[b];this.sg-=this.Cb;this.Cb=0;this.sg>=this.Zh&&(0<this.Zh?(oa(this.Zh),this.Zh*=2):(oa(1),this.Zh=1))}this.Od[this.sg]=a;this.sg++};k.Ji=function(){this.Od[this.Cb]=null;this.Cb++};function Ak(a){this.mk=oa(a,function(){return new Sk})}q("box2d.b2VoronoiDiagram",Ak);Ak.prototype.mk=null;Ak.prototype.m_generatorBuffer=Ak.prototype.mk;Ak.prototype.so=0;Ak.prototype.Kc=0;Ak.prototype.Rf=0;Ak.prototype.Ee=null;function Sk(){this.Yb=new r}Sk.prototype.Yb=null;Sk.prototype.tag=0;function Tk(a,b,c,d){this.Io=a;this.Jo=b;this.uo=c;this.ro=d}Tk.prototype.Io=0;Tk.prototype.Jo=0;Tk.prototype.uo=0;Tk.prototype.ro=null;
Ak.prototype.op=function(a,b,c){var d=this.mk[this.so++];d.Yb.d(a);d.tag=b;d.ri=c};Ak.prototype.AddGenerator=Ak.prototype.op;
Ak.prototype.Hp=function(a,b){for(var c=1/a,d=new r(1E37,1E37),e=new r(-1E37,-1E37),f=0,g=0;g<this.so;g++){var h=this.mk[g];h.ri&&(Za(d,h.Yb,d),$a(e,h.Yb,e),++f)}if(0===f)this.Rf=this.Kc=0;else{d.x-=b;d.y-=b;e.x+=b;e.y+=b;this.Kc=1+Math.floor(c*(e.x-d.x));this.Rf=1+Math.floor(c*(e.y-d.y));this.Ee=oa(this.Kc*this.Rf);e=new Rk(4*this.Kc*this.Rf);for(g=0;g<this.so;g++){h=this.mk[g];h.Yb.gb(d).cb(c);var f=Math.floor(h.Yb.x),l=Math.floor(h.Yb.y);0<=f&&0<=l&&f<this.Kc&&l<this.Rf&&e.Rc(new Tk(f,l,f+l*this.Kc,
h))}for(;e.Cb!==e.sg;)g=e.Od[e.Cb],f=g.Io,l=g.Jo,c=g.uo,h=g.ro,e.Ji(),this.Ee[c]||(this.Ee[c]=h,0<f&&e.Rc(new Tk(f-1,l,c-1,h)),0<l&&e.Rc(new Tk(f,l-1,c-this.Kc,h)),f<this.Kc-1&&e.Rc(new Tk(f+1,l,c+1,h)),l<this.Rf-1&&e.Rc(new Tk(f,l+1,c+this.Kc,h)));for(l=0;l<this.Rf;l++)for(f=0;f<this.Kc-1;f++)c=f+l*this.Kc,d=this.Ee[c],g=this.Ee[c+1],d!==g&&(e.Rc(new Tk(f,l,c,g)),e.Rc(new Tk(f+1,l,c+1,d)));for(l=0;l<this.Rf-1;l++)for(f=0;f<this.Kc;f++)c=f+l*this.Kc,d=this.Ee[c],g=this.Ee[c+this.Kc],d!==g&&(e.Rc(new Tk(f,
l,c,g)),e.Rc(new Tk(f,l+1,c+this.Kc,d)));for(;e.Cb!==e.sg;)if(g=e.Od[e.Cb],f=g.Io,l=g.Jo,c=g.uo,g=g.ro,e.Ji(),d=this.Ee[c],d!==g){var h=d.Yb.x-f,d=d.Yb.y-l,m=g.Yb.x-f,n=g.Yb.y-l;h*h+d*d>m*m+n*n&&(this.Ee[c]=g,0<f&&e.Rc(new Tk(f-1,l,c-1,g)),0<l&&e.Rc(new Tk(f,l-1,c-this.Kc,g)),f<this.Kc-1&&e.Rc(new Tk(f+1,l,c+1,g)),l<this.Rf-1&&e.Rc(new Tk(f,l+1,c+this.Kc,g)))}}};Ak.prototype.Generate=Ak.prototype.Hp;
Ak.prototype.Rp=function(a){for(var b=0;b<this.Rf-1;b++)for(var c=0;c<this.Kc-1;c++){var d=c+b*this.Kc,e=this.Ee[d],f=this.Ee[d+1],g=this.Ee[d+this.Kc],d=this.Ee[d+1+this.Kc];f!==g&&(e!==f&&e!==g&&(e.ri||f.ri||g.ri)&&a(e.tag,f.tag,g.tag),d!==f&&d!==g&&(e.ri||f.ri||g.ri)&&a(f.tag,d.tag,g.tag))}};Ak.prototype.GetNodes=Ak.prototype.Rp;function Uk(){this.se=[];this.Sq=[];this.Uh=new r}q("box2d.b2RopeDef",Uk);k=Uk.prototype;k.se=null;k.count=0;k.Sq=null;k.Uh=null;k.lv=.1;k.ov=.9;k.pv=.1;function xm(){this.Te=new r}q("box2d.b2Rope",xm);k=xm.prototype;k.h=0;k.Vd=null;k.im=null;k.qj=null;k.kh=null;k.Sl=null;k.Ui=null;k.Te=null;k.Kq=0;k.wo=1;k.Oq=.1;k.qn=function(){return this.h};xm.prototype.GetVertexCount=xm.prototype.qn;xm.prototype.st=function(){return this.Vd};xm.prototype.GetVertices=xm.prototype.st;
xm.prototype.da=function(a){this.h=a.count;this.Vd=Xa(this.h);this.im=Xa(this.h);this.qj=Xa(this.h);this.kh=pa(this.h);for(var b=0;b<this.h;++b){this.Vd[b].d(a.se[b]);this.im[b].d(a.se[b]);this.qj[b].R();var c=a.Sq[b];this.kh[b]=0<c?1/c:0}var d=this.h-1,c=this.h-2;this.Sl=pa(d);this.Ui=pa(c);for(b=0;b<d;++b){var e=this.Vd[b],f=this.Vd[b+1];this.Sl[b]=jb(e,f)}for(b=0;b<c;++b)e=this.Vd[b],f=this.Vd[b+1],d=this.Vd[b+2],e=w(f,e,t),f=w(d,f,Sa),this.Ui[b]=Qa(v(e,f),u(e,f));this.Te.d(a.Uh);this.Kq=a.lv;
this.wo=a.ov;this.Oq=a.pv};xm.prototype.Initialize=xm.prototype.da;xm.prototype.tc=function(a,b){if(0!==a){for(var c=Math.exp(-a*this.Kq),d=0;d<this.h;++d)this.im[d].d(this.Vd[d]),0<this.kh[d]&&this.qj[d].Z(a,this.Te),this.qj[d].cb(c),this.Vd[d].Z(a,this.qj[d]);for(d=0;d<b;++d)this.Pn(),this.sq(),this.Pn();c=1/a;for(d=0;d<this.h;++d)db(c,w(this.Vd[d],this.im[d],t),this.qj[d])}};xm.prototype.Step=xm.prototype.tc;
xm.prototype.Pn=function(){for(var a=this.h-1,b=0;b<a;++b){var c=this.Vd[b],d=this.Vd[b+1],e=w(d,c,ym),f=e.ec(),g=this.kh[b],h=this.kh[b+1];if(0!==g+h){var l=h/(g+h);c.Ea(g/(g+h)*this.wo*(this.Sl[b]-f),e);d.Z(this.wo*l*(this.Sl[b]-f),e)}}};xm.prototype.SolveC2=xm.prototype.Pn;var ym=new r;xm.prototype.fa=function(a){for(var b=this.h-2,c=0;c<b;++c)this.Ui[c]=a};xm.prototype.SetAngle=xm.prototype.fa;
xm.prototype.sq=function(){for(var a=this.h-2,b=0;b<a;++b){var c=this.Vd[b],d=this.Vd[b+1],e=this.Vd[b+2],f=this.kh[b],g=this.kh[b+1],h=this.kh[b+2],l=w(d,c,zm),m=w(e,d,Am),n=l.Md(),p=m.Md();if(0!==n*p){var y=Qa(v(l,m),u(l,m)),l=db(-1/n,l.Bn(),Bm),n=db(1/p,m.Bn(),Cm),m=Dm.d(l).la(),p=w(l,n,Em),l=n,n=f*u(m,m)+g*u(p,p)+h*u(l,l);if(0!==n){for(var n=1/n,x=y-this.Ui[b];x>ea;)y-=2*ea,x=y-this.Ui[b];for(;x<-ea;)y+=2*ea,x=y-this.Ui[b];y=-this.Oq*n*x;c.Z(f*y,m);d.Z(g*y,p);e.Z(h*y,l)}}}};
xm.prototype.SolveC3=xm.prototype.sq;var zm=new r,Am=new r,Bm=new r,Cm=new r,Dm=new r,Em=new r;xm.prototype.Hi=function(){for(var a=0;a<this.h-1;++a);};xm.prototype.Draw=xm.prototype.Hi;

//# sourceMappingURL=box2d-html5.map.json
